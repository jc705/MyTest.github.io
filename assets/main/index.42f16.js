window.__require=function e(t,i,n){function o(r,s){if(!i[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({"21D_ZhanJi_Item":[function(e,t){"use strict";cc._RF.push(t,"076bfLnELJJLLQSCtc998hA","21D_ZhanJi_Item");cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,cards:cc.Node,bankerView:cc.Node},getPokerRes:function(){},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.bankerView.active=e.isBanker;var n=this.getCardType(e.cardShape);n&&(this.ruleLabel.string=""+n);for(var o=0;o<e.handCards.length;o++)if(255!=e.handCards[o]){this.cards.children[o].active=!0;var a=tools.decimalToHex(e.handCards[o]);setTexture(this.cards.children[o].getComponent(cc.Sprite).getComponent(cc.Sprite),tools.stringFormat("21D/Poker/0x{0}",a))}else this.cards.children[o].active=!1},getCardType:function(e){var t="";return 0==e?t="\u666e\u901a\u724c":1==e?t="\u7206\u70b9":2==e?t="\u4e94\u5c0f\u9f99":3==e||(4==e?t="\u6770\u514b":5==e?t="\u53cc\u6770\u514b":6==e?t="\u8c79\u5b50":7==e&&(t="\u8c79\u4e03")),t}}),cc._RF.pop()},{}],AllResultLayer:[function(e,t){"use strict";cc._RF.push(t,"f96d1DMzFtN44fgR/ENhzAU","AllResultLayer"),cc.Class({extends:e("BaseLayer"),properties:{listViewResult:cc.ScrollView,prefabResult:cc.Node,person0:cc.Node,person1:cc.Node,person2:cc.Node,person3:cc.Node,winAni:cc.Node,img_lose:cc.Node},onLoad:function(){this._super()},start:function(){},init:function(e,t){this.callback_1=t,this.initScrollView(e)},initLabel:function(){},initScrollView:function(e){for(var t=0,i=0,n=0;n<DD_MACROS_DEF.PLAY_COUNT;n++){var o=e[n].totalWinMoney;o>=t&&(t=o),o<=i&&(i=o)}var a,r={};this.shareText="",this.shareData=[];for(var s=0;s<DD_MACROS_DEF.PLAY_COUNT;s++){var c=!1,l=!1,u=!1,h=!1;if(e.userID[s]){a=this["person"+s],r.winCount=e[s].winCount,r.twoWin=e[s].twoWin,r.duWin=e[s].duWin,r.zhadan=e[s].zhadan,r.zhanji=e[s].totalWinMoney,r.userID=e.userID[s],r.userName=e.userName[s],r.usersHeadUrl=e.usersHeadUrl[s];var d={};d.roomID=window.deskPasswd+"",d.nickname=r.userName,d.userID=r.userID,d.headerURL=AvatarManager.getHeadURL(r.usersHeadUrl).replace("?bb=bb.jpg",""),d.score=r.zhanji+"",this.shareData.push(d),c=r.userID==e.roomMasterID,e[s].totalWinMoney>0?(l=!0,this.shareText+=r.userName+"\u8d62"):e[s].totalWinMoney<0&&(this.shareText+=r.userName+"\u8f93"),e[s].totalWinMoney==t&&(u=!0),e[s].totalWinMoney==i&&(h=!0),this.shareText+=" "+r.userName+"\u6218\u7ee9"+r.zhanji,r.userID==LobbySocket.getMyInfo().userID&&(l?this.winAni.active=!0:0!=e[s].totalWinMoney&&(this.img_lose.active=!0)),r.isMaster=c,r.isWinner=l,r.isBigWin=u,r.isBigLose=h,a.getComponent("BaseLayer").init(r)}}},onBtnBackLobby:function(e,t){this.callback_1&&this.callback_1(t)},onBtnShareWx:function(){var e={title:"\u7ecf\u5178\u73a9\u6cd5 \u623f\u95f4\u53f7\u3010"+window.deskPasswd+"\u3011\u6218\u7ee9 \u70b9\u51fb\u67e5\u770b\u8be6\u60c5",desc:this.shareText+"",imgUrl:wxShareAdvIMG,gameLink:wxShareURL};e.link=wxShareURL+"share/zhanji/index.php?title="+encodeURIComponent(e.title)+"&gameLink="+encodeURIComponent(e.gameLink)+"&desc="+encodeURIComponent(e.desc)+"&imgUrl="+encodeURIComponent(e.imgUrl)+"&tableData="+encodeURIComponent(JSON.stringify(this.shareData)),wx.onMenuShareAppMessage({title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareTimeline({title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),this.node.parent.getComponent("BaseLayer").simpleAddLayer("prefab/LayerLeadShare")}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ArenaLayer:[function(e,t){"use strict";cc._RF.push(t,"f465eVYpANJso0ynq3yPCEX","ArenaLayer");var i=["\u8840\u6218\u9ebb\u5c06","\u725b\u725b","\u70b8\u91d1\u82b1","\u5e7f\u4e1c\u63a8\u5012\u80e1","\u5c71\u897f\u63a8\u5012\u80e1","\u7ea2\u4e2d\u9ebb\u5c06","\u6597\u5730\u4e3b","21\u70b9","\u8dd1\u5f97\u5feb","\u63a8\u7b52\u5b50"];cc.Class({extends:e("BaseLayer"),properties:{gamelist_scroll:cc.ScrollView,gamelist_node:cc.Node,scroll_day:cc.ScrollView,scorll_chuangguan:cc.ScrollView,scroll_content_day:cc.Node,scorll_content_chuangguan:cc.Node,scorll_content_game:cc.Node,img_avata:cc.Sprite,label_id:cc.Label,label_name:cc.Label,label_gold:cc.Label,day_panel:cc.Prefab,buttonNodeLabels:[cc.Label]},onEnable:function(){this.setView()},onDisable:function(){},requestInfo:function(e){MatchManager.requestCurMatchInfo(function(t){this.MatchInfo=t,e(t)}.bind(this))},onLoad:function(){var e=this;this.DAY_SELECTED=!0,this.CG_SELECTED=!1,this.gamelist=this.gamelist_scroll.content.children;var t=!1;cc.game.on(cc.game.EVENT_HIDE,function(){t||(t=!0)}),cc.game.on(cc.game.EVENT_SHOW,function(){t&&(t=!1,e.onEnable())})},setView:function(){this.selectedDayOrCG(!0)},init:function(t){this.LobbyLogic=new(e("LobbyLogic")),this.lobbyComponent=t,this.btnLabelStr=["\u6392\u884c\u699c","\u4ecb\u7ecd","\u5956\u91d1\u8bb0\u5f55"],this.curSelectGame=0,this.curMatchType="\u6bcf\u65e5\u8d5b"},selectedDayOrCG:function(){var e=this;if(1==this.DAY_SELECTED){if(this.scroll_day){this.scroll_day.node.active=!0,this.scorll_chuangguan.node.active=!1,LobbySocket.sendMatchJoinInfo(),this.refreshMatchLayer(),this.curMatchType="\u6bcf\u65e5\u8d5b";for(var t=0;t<this.gamelist.length;t++)0==t?(this.gamelist[t].active=!0,this.gamelist[t].children[0].active=!0):(this.gamelist[t].active=!1,this.gamelist[t].children[0].active=!1)}}else{if(this.scroll_day){this.scroll_day.node.active=!1,this.scorll_chuangguan.node.active=!0;for(var i=0;i<this.gamelist.length;i++)this.gamelist[i].active=!0,i==this.curSelectGame?this.gamelist[i].children[0].active=!0:this.gamelist[i].children[0].active=!1}this.curMatchType="\u95ef\u5173\u8d5b"}this.scheduleOnce(function(){e.buttonNodeLabels&&e.buttonNodeLabels.length>0&&e.buttonNodeLabels.forEach(function(t,i){t.string=e.curMatchType+e.btnLabelStr[i]})},.1)},onClickGameMenu:function(e,t){"\u6bcf\u65e5\u8d5b"!=this.curMatchType&&(this.curSelectGame=parseInt(t+""))},refreshMatchLayer:function(){this.scroll_day.content.removeAllChildren();var e=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=cc.instantiate(this.day_panel);n.getComponent("DayPanel").init(i,t),this.scroll_day.content.addChild(n)}}.bind(this);this.requestInfo(e)},onBtnClicked:function(e,t){if(t){var n="";"rank"==t?(n="prefab/Match/MatchRankLayer",this.simpleAddLayer(n)):"award_record"==t?(n="\u6bcf\u65e5\u8d5b"==this.curMatchType?"prefab/Arena/DayAwardRecord":"prefab/Arena/CgAwardRecord",this.simpleAddLayer(n)):"intro"==t?(n="\u6bcf\u65e5\u8d5b"==this.curMatchType?"prefab/Match/MatchReward":"prefab/Match/MatchCheckPointIntroLayer",this.simpleAddLayer(n)):"cg_award"==t?(n="prefab/Arena/ChuangguanAward",this.simpleAddLayer(n,GameManager.getGameIDByGameName(i[this.curSelectGame]),i[this.curSelectGame])):"arena_day"!=t&&"arena_cg"!=t||this.show_scroll_panel(t,!1)}},show_scroll_panel:function(e,t){if(void 0===t&&(t=!1),"arena_day"==e){if(1==this.DAY_SELECTED)return;this.DAY_SELECTED=!0,this.CG_SELECTED=!1}else if("arena_cg"==e){if(1==this.CG_SELECTED)return;this.DAY_SELECTED=!1,this.CG_SELECTED=!0}this.selectedDayOrCG(t)},start:function(){},exit:function(){GameListManager.isBiSaiGame(GameManager.getGameIDByGameName(i[0]))&&LobbySocket.sendMatchLeftInfo(),this.onCloseBtn()},onEnterCheckPointMatch:function(e){var t=this.LobbyLogic.getWalletMoney();return t<e.minPoint?createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u4e0d\u6ee1\u8db3\u8fdb\u5165\u623f\u95f4\u4e0b\u9650:{0}",F_GetMoneyDisplay(e.minPoint))):0!=e.maxPoint&&t>e.maxPoint?createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u8d85\u8fc7\u8fdb\u5165\u623f\u95f4\u4e0a\u9650:{0}",F_GetMoneyDisplay(e.maxPoint))):void(this.lobbyComponent&&this.lobbyComponent.enterGameByRoomID(e.roomID))},enterChuangGuan:function(e,t){var n=this;this.LobbyLogic.requestAllRoomList(function(e){for(var o=[],a=0;a<e.length;a++)e[a].sort==E_ROOM_SORT.CHECKPOINTMATCH&&o.push(e[a]);for(var r=0;r<o.length;r++)if(o[r].level==parseInt(t+"")&&o[r].gameID==GameManager.getGameIDByGameName(i[n.curSelectGame])){n.onEnterCheckPointMatch(o[r]);break}})}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],ArrangePackNode:[function(e,t){"use strict";var i;function n(e,t,i){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=o(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}})(e,t,i||e)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}cc._RF.push(t,"dd373yRSkpPcJXKJrmEPFTZ","ArrangePackNode");var r=cc.Class(i={extends:e("BaseLayer"),properties:{Vertical:1,Horizontal:2},init:function(e,t,i,n){this.direction_=e,this.offset_=n||10,this.menuButton_=void 0,this.smallLen_=0,this.runing_=!1,this.enable_=!1,this.contentNode_=new cc.Node,this.addChild(this.contentNode_),t&&this.setMenuButton(t),i&&this.addButton(i)},setMenuButton:function(e){this.menuButton_&&this.menuButton_.removeFromParent(),this.menuButton_=e;var t=cc.p(this.menuButton_.getPosition()),i=this.menuButton_.getParent();this.menuButton_.removeFromParent(),this.menuButton_.setPosition(0,0),this.contentNode_.addChild(this.menuButton_,100),this.removeFromParent(),i.addChild(this,G_PLAYERUI_ZORDER_TAG-1),this.setPosition(i.convertToNodeSpace(cc.p(0,0))),this.contentNode_.setPosition(this.convertToNodeSpace(i.convertToWorldSpace(t)))},addButton:function(e){for(var t in e){var i=e[t];this.contentNode_.getChildByTag(t)||(i.getParent()&&i.removeFromParent(),i.setTag(t),i.setVisible(!1),this.contentNode_.addChild(i,e.length-t))}this.smallLen_=e.length},addTouchEvent:function(e){if(e)for(var t in this.menuButton_.setTouchEnabled(!0),this.menuButton_.addTouchEventListener(e),this.getNodesByTag())this.getNodesByTag()[t].addTouchEventListener(e)},doButtonMenu:function(){this.onShowEnabled(!this.enable_)},onTouchEnded:function(e,t){n(a(i),"onTouchEnded",this).call(this,this,e,t),this.onShowEnabled(!1)},onShowEnabled:function(e,t){if(!this.runing_){var i=this.getNodesByTag(),n=i.length;if(0!=n)if(this.runing_=!0,this.enable_=e,e){var o=this.getAimPoints(t),a=function(){s=o[r];var e=i[r];e&&(e.stopAllActions(),e.setTouchEnabled(!1),e.setOpacity(0),e.runAction(cc.Sequence.create(cc.Show.create(),cc.EaseSineOut.create(cc.Spawn.create(cc.FadeIn.create(.1),cc.MoveTo.create(.1,s))),cc.CallFunc.create(function(){e.setTouchEnabled(!0),r==n&&(this.runing_=!1)}))))};for(var r in o)a()}else for(var r in i){var s;(s=i[r]).stopAllActions(),s.setTouchEnabled(!1),s.runAction(cc.Sequence.create(cc.Spawn.create(cc.FadeOut.create(.1),cc.MoveTo.create(.1,cc.p(0,0))),cc.Hide.create(),cc.CallFunc.create(function(){r==n&&(this.runing_=!1)})))}}},getNodesByTag:function(){for(var e={},t=1;t<this.smallLen_;t++){var i=this.contentNode_.getChildByTag(t);i&&table.insert(e,i)}return e},getAimPoints:function(e){e=e||this.offset_;var t=this.getNodesByTag(),i={},n=e>=0?1:-1,o=cc.p(this.menuButton_.getPosition()),a=this.menuButton_.getContentSize();if(this.direction_==this.Vertical){var r=a.height/2*n;for(var s in t){var c=t[s].getContentSize().width/2*n;r=r+c+e,table.insert(i,cc.p(o.x,o.y+r)),r+=c}}else if(this.direction_==this.Horizontal){var l=a.width/2*n;for(var s in t){var u=t[s].getContentSize().width/2*n;l=l+u+e,table.insert(i,cc.p(o.x+l,o.y)),l+=u}}return i},start:function(){}});t.exports=r,cc._RF.pop()},{BaseLayer:"BaseLayer"}],AvatarManager:[function(e,t){"use strict";cc._RF.push(t,"796d90dyX5IVKnFudf8P1Rc","AvatarManager"),t.exports=cc.Class({ctor:function(){this.avata_map=new Map},getHeadURL:function(e){return e},requestHeadRes:function(e,t,i,n,o){void 0===o&&(o=!0),cc.log("url = ",e);var a=i,r=t,s=this.avata_map;e=this.getHeadURL(e);var c=s.get(t),l=function(e,t){cc.loader.load({url:e,type:"png"},function(e,i){if(e)console.log(e),o&&(cc.log(c,"strstrstr"),c=0==r?"GameCommon/common/img_avata_banker":"GameCommon/common/img_avata_null",cc.loader.loadRes(c,cc.SpriteFrame,function(e,t){e?cc.log(e,"errerrerrerrerr"):(0!=r&&s.set(r,t),a(t))}));else{var n=new cc.SpriteFrame(i);0!=t&&s.set(r,n),a(n)}var c})};if(!c||c&&t!=UserInfoManager.getMyInfo().userID){if("aa"==e&&0!=t)return void UserInfoManager.requestUserInfo(t,function(e){l(e.headURL,t)});if((!e||"aa"==e)&&0==t)return void cc.loader.loadRes("GameCommon/common/img_avata_banker",cc.SpriteFrame,function(e,i){e?cc.log(e,"\u7a7a\u5934\u50cf\u94fe\u63a5errerrerrerrerr"):(0==t&&s.set(r,i),a(i))});l(e,t)}else a(c)},getAvataMap:function(){return this.avata_map},getUrlWeb:function(e){if(cc.log(e),"aa"!=e&&""!=e){var t=e.split("//"),i=t[1].indexOf("/");return t[1].substring(0,i)}},GetUrlRelativePath:function(e){if(cc.log(e),"aa"!=e&&""!=e){var t=e.split("//");cc.log(t);var i=t[1].indexOf("/");cc.log(t[1].substring(0,i));var n=t[1].substring(i);return-1!=n.indexOf("?")&&(n=n.split("?")[0]),n}}}),cc._RF.pop()},{}],BankerLayer:[function(e,t){"use strict";cc._RF.push(t,"e5cac5sWkNC/aiJY6mLe8r+","BankerLayer"),cc.Class({extends:e("BaseLayer"),properties:{Text_Time:cc.Label},init:function(e,t){this.time=t+3,this._delagete=e,this.showDaoJiShi()},showDaoJiShi:function(){var e=this,t=this.time||15;this.Text_Time.string=t,this.schedule(function i(){(t-=1)<=0&&(t=0,e.unschedule(i),e.doButton_CancelClick()),e.Text_Time.string=t},1)},doButton_ContinueClick:function(){this._delagete.tableLogic.setAppIsContinue(1),this.onCloseBtn()},doButton_CancelClick:function(){this._delagete.tableLogic.setAppIsContinue(0),this.onCloseBtn()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],BaseLayer:[function(e,t){"use strict";cc._RF.push(t,"e5d4dRJXxdFrZ1BK1+Aavq8","BaseLayer"),cc.Class({extends:cc.Component,properties:{isCanEndGame:!1},ctor:function(){},onLoad:function(e){e&&this.addTouchBeganListener(),this.playBackgroundMusic&&this.playBackgroundMusic()},addTouchBeganListener:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){this.touchEventCallback(),this.onTouchBegan(e)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(e){this.touchEventCallback(),this.onTouchEnded(e)},this)},onTouchBegan:function(){},onTouchEnded:function(){},touchEventCallback:function(){},controllPrefab:function(e,t,i,n){if(e instanceof cc.Prefab){removeLoading();var o=cc.instantiate(e),a=o.getComponent("BaseLayer")||o.getComponent(cc.Component);null!=a&&a.init&&a.init.apply(a,t),i&&o?i.addChild(o):(o.zIndex=G_ALL_RESULT_ZORDER_TAG,this.node.addChild(o)),o.active=!0,n&&n(o)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")},simpleAddLayer:function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);createLoading("\u6b63\u5728\u52a0\u8f7d\u4e2d",8,!1);var n=window.prefabMap.get(e);n?this.controllPrefab(n,t):cc.loader.loadRes(e,function(i,n){i?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+i):(window.prefabMap.set(e,n),this.controllPrefab(n,t))}.bind(this))},addLayer:function(e,t,i){null==e&&(e=this.node);for(var n=[],o=3;o<arguments.length;o++)n.push(arguments[o]);if(t instanceof cc.Prefab){var a=(r=cc.instantiate(t)).getComponent("BaseLayer")||r.getComponent(cc.Component);return null!=a&&a.init&&a.init.apply(a,n),e.addChild(r),void(i&&i(r))}t="prefab/"+t;var r=null,s=window.prefabMap.get(t);s?this.controllPrefab(s,n,e,i):cc.loader.loadRes(t,function(o,a){o?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+o):(window.prefabMap.set(t,a),this.controllPrefab(a,n,e,i))}.bind(this))},isLobbyScene:function(){var e=cc.director.getScene().getChildByName("Canvas").getChildByName("Hall_Node"),t=null;return e&&(t=e.getComponent("LobbyScene")),null!=t},onResize:function(e){cc.visibleRect,180!=cc.find("Canvas").angle&&90!=window.orientation&&-90!=window.orientation&&cc.sys.isMobile?(cc.find("Canvas").angle=180,cc.find("Canvas").scaleX=-1,cc.find("Canvas").scaleY=-1,e&&e(180)):(cc.find("Canvas").angle=0,cc.find("Canvas").scaleX=1,cc.find("Canvas").scaleY=1,e&&e(0))},checkSysIsWechat:function(){cc.sys.isNative||cc.sys.browserType!=cc.sys.MOBILE_BROWSER&&cc.sys.browserType!=cc.sys.DESKTOP_BROWSER&&cc.sys.browserType!=cc.sys.BROWSER_TYPE_CHROME&&cc.sys.browserType!=cc.sys.BROWSER_TYPE_WECHAT&&cc.sys.browserType!=cc.sys.BROWSER_TYPE_MOBILE_QQ||(cc.view.setResizeCallback(function(){}),this.onResize())},checkIsFrontStage:function(){var e=this,t=!1;console.log(">>\u5224\u65ad\u524d\u540e\u53f0"),this.hiddenTime=0,this.visibleTime=0,cc.game.on(cc.game.EVENT_HIDE,function(){G_SHOW_GAME_VOICE?console.log(">>\u5f55\u97f3\u64ad\u653e\u4e2d,\u7981\u6b62\u5207\u6362\u540e\u53f0"):t||(t=!0,console.log(">>\u5207\u6362\u540e\u53f0"),MYAudioEngine.pauseMusic(),e.hiddenTime=(new Date).getTime())}),cc.game.on(cc.game.EVENT_SHOW,function(){G_SHOW_GAME_VOICE?console.log(">>\u5f55\u97f3\u64ad\u653e\u4e2d,\u7981\u6b62\u5207\u6362\u524d\u53f0"):t&&(t=!1,console.log(">>\u5207\u6362\u524d\u53f0\u5207\u6362\u524d\u53f0\u5207\u6362\u524d\u53f0"),MYAudioEngine.resumeMusic(),e.visibleTime=(new Date).getTime(),"mLogin"!=cc.director.getScene()._name?e.scheduleOnce(function(){e.isLobbyScene()||cc.log(">>>>>GameSocketGameSocketonEnterForeground")},isIphone()?.15:.012):cc.sys.isMobile?window.location.replace(wxShareURL):cc.director.loadScene("mLogin"))})},offCheckFrontStage:function(){},playClickEffect:function(){MYAudioEngine.playClickSound()},onDestroy:function(){this.node.stopAllActions()},onCloseBtn:function(e,t){var i=this;void 0===t&&(t=.85),this.node&&(this.node.active=!1,t+"".length>0&&(t=Number(t+"")),this.scheduleOnce(function(){i.node.destroy()},t))},checkPreLoadScence:function(e,t){cc.director.preloadScene("HZMJ",null,function(){t&&t()})},releaseCaches:function(){}}),cc._RF.pop()},{}],ButtonSafe:[function(e,t){"use strict";cc._RF.push(t,"a9ca3Q0Os9O9JfMqaO1siVg","ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:1,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4, \u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},start:function(){var e=this,t=this.getComponent(cc.Button);if(t){this.clickEvents=t.clickEvents;var i=!1;this.node.on("click",function(){t.clickEvents=[],0==i&&(i=!0,e.scheduleOnce(function(){i=!1,t.clickEvents=e.clickEvents},e.safeTime))},this)}},onLoad:function(){}}),cc._RF.pop()},{}],ButtonScale:[function(e,t){"use strict";cc._RF.push(t,"7aecc/1AU9IN5XxxFBQMT+H","ButtonScale"),cc.Class({extends:cc.Component,properties:{safeTime:{default:1,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4, \u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},start:function(){var e=this,t=this.getComponent(cc.Button);if(t){var i=t.node.scaleX,n=t.node.scaleY;this.clickEvents=t.clickEvents;var o=!1;this.node.on("click",function(){t.clickEvents=[],0==o&&(o=!0,e.scheduleOnce(function(){o=!1,t.clickEvents=e.clickEvents},e.safeTime))},this),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.node.runAction(cc.scaleBy(.1,1.1))}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){t.node.runAction(cc.scaleTo(.1,i,n))}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(){t.node.runAction(cc.scaleTo(.1,i,n))}.bind(this))}},onLoad:function(){}}),cc._RF.pop()},{}],1:[function(e,t){var i=e("util/"),n=Array.prototype.slice,o=Object.prototype.hasOwnProperty,a=t.exports=u;function r(e,t){return i.isUndefined(t)?""+t:i.isNumber(t)&&!isFinite(t)?t.toString():i.isFunction(t)||i.isRegExp(t)?t.toString():t}function s(e,t){return i.isString(e)?e.length<t?e:e.slice(0,t):e}function c(e){return s(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+s(JSON.stringify(e.expected,r),128)}function l(e,t,i,n,o){throw new a.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:o})}function u(e,t){e||l(e,!0,t,"==",a.ok)}function h(e,t){if(e===t)return!0;if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return i.isDate(e)&&i.isDate(t)?e.getTime()===t.getTime():i.isRegExp(e)&&i.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:i.isObject(e)||i.isObject(t)?f(e,t):e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;var o=d(e),a=d(t);if(o&&!a||!o&&a)return!1;if(o)return h(e=n.call(e),t=n.call(t));var r,s,c=m(e),l=m(t);if(c.length!=l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!=l[s])return!1;for(s=c.length-1;s>=0;s--)if(!h(e[r=c[s]],t[r]))return!1;return!0}function p(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function g(e,t,n,o){var a;i.isString(n)&&(o=n,n=null);try{t()}catch(r){a=r}if(o=(n&&n.name?" ("+n.name+").":".")+(o?" "+o:"."),e&&!a&&l(a,n,"Missing expected exception"+o),!e&&p(a,n)&&l(a,n,"Got unwanted exception"+o),e&&a&&n&&!p(a,n)||!e&&a)throw a}a.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,o=t.name,a=n.indexOf("\n"+o);if(a>=0){var r=n.indexOf("\n",a+1);n=n.substring(r+1)}this.stack=n}}},i.inherits(a.AssertionError,Error),a.fail=l,a.ok=u,a.equal=function(e,t,i){e!=t&&l(e,t,i,"==",a.equal)},a.notEqual=function(e,t,i){e==t&&l(e,t,i,"!=",a.notEqual)},a.deepEqual=function(e,t,i){h(e,t)||l(e,t,i,"deepEqual",a.deepEqual)},a.notDeepEqual=function(e,t,i){h(e,t)&&l(e,t,i,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(e,t,i){e!==t&&l(e,t,i,"===",a.strictEqual)},a.notStrictEqual=function(e,t,i){e===t&&l(e,t,i,"!==",a.notStrictEqual)},a.throws=function(e,t,i){g.apply(this,[!0].concat(n.call(arguments)))},a.doesNotThrow=function(e,t){g.apply(this,[!1].concat(n.call(arguments)))},a.ifError=function(e){if(e)throw e};var m=Object.keys||function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t}},{"util/":4}],2:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],3:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,i){(function(t,n){var o=/%[sdj%]/g;i.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(s(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,a=n.length,r=String(e).replace(o,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),c=n[i];i<a;c=n[++i])v(c)||!I(c)?r+=" "+c:r+=" "+s(c);return r},i.deprecate=function(e,o){if(S(n.process))return function(){return i.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return function(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}};var a,r={};function s(e,t){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&i._extend(n,t),S(n.showHidden)&&(n.showHidden=!1),S(n.depth)&&(n.depth=2),S(n.colors)&&(n.colors=!1),S(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),h(n,e,n.depth)}function c(e,t){var i=s.styles[t];return i?"\x1b["+s.colors[i][0]+"m"+e+"\x1b["+s.colors[i][1]+"m":e}function l(e){return e}function u(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function h(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return b(o)||(o=h(e,o,n)),o}var a=d(e,t);if(a)return a;var r=Object.keys(t),s=u(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),N(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return f(t);if(0===r.length){if(T(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(L(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(R(t))return e.stylize(Date.prototype.toString.call(t),"date");if(N(t))return f(t)}var l,y="",v=!1,C=["{","}"];return _(t)&&(v=!0,C=["[","]"]),T(t)&&(y=" [Function"+(t.name?": "+t.name:"")+"]"),L(t)&&(y=" "+RegExp.prototype.toString.call(t)),R(t)&&(y=" "+Date.prototype.toUTCString.call(t)),N(t)&&(y=" "+f(t)),0!==r.length||v&&0!=t.length?n<0?L(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=v?p(e,t,n,s,r):r.map(function(i){return g(e,t,n,s,i,v)}),e.seen.pop(),m(l,y,C)):C[0]+y+C[1]}function d(e,t){if(S(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return C(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,n,o){for(var a=[],r=0,s=t.length;r<s;++r)w(t,String(r))?a.push(g(e,t,i,n,String(r),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(g(e,t,i,n,o,!0))}),a}function g(e,t,i,n,o,a){var r,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),w(n,o)||(r="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(i)?h(e,c.value,null):h(e,c.value,i-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),S(r)){if(a&&o.match(/^\d+$/))return s;(r=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+s}function m(e,t,i){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function _(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function C(e){return"number"==typeof e}function b(e){return"string"==typeof e}function S(e){return void 0===e}function L(e){return I(e)&&"[object RegExp]"===E(e)}function I(e){return"object"==typeof e&&null!==e}function R(e){return I(e)&&"[object Date]"===E(e)}function N(e){return I(e)&&("[object Error]"===E(e)||e instanceof Error)}function T(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}i.debuglog=function(e){if(S(a)&&(a=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!r[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=t.pid;r[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,n,t)}}else r[e]=function(){};return r[e]},i.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=_,i.isBoolean=y,i.isNull=v,i.isNullOrUndefined=function(e){return null==e},i.isNumber=C,i.isString=b,i.isSymbol=function(e){return"symbol"==typeof e},i.isUndefined=S,i.isRegExp=L,i.isObject=I,i.isDate=R,i.isError=N,i.isFunction=T,i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},i.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.log=function(){console.log("%s - %s",A(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!I(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:11,inherits:2}],5:[function(e,t,i){"use strict";i.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return 3*(i+n)/4-n},i.toByteArray=function(e){var t,i,n=l(e),r=n[0],s=n[1],c=new a(u(0,r,s)),h=0,d=s>0?r-4:r;for(i=0;i<d;i+=4)t=o[e.charCodeAt(i)]<<18|o[e.charCodeAt(i+1)]<<12|o[e.charCodeAt(i+2)]<<6|o[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===s&&(t=o[e.charCodeAt(i)]<<2|o[e.charCodeAt(i+1)]>>4,c[h++]=255&t),1===s&&(t=o[e.charCodeAt(i)]<<10|o[e.charCodeAt(i+1)]<<4|o[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c},i.fromByteArray=function(e){for(var t,i=e.length,o=i%3,a=[],r=0,s=i-o;r<s;r+=16383)a.push(h(e,r,r+16383>s?s:r+16383));return 1===o?(t=e[i-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[i-2]<<8)+e[i-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=r.length;s<c;++s)n[s]=r[s],o[r.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function u(e,t,i){return 3*(t+i)/4-i}function h(e,t,i){for(var o,a,r=[],s=t;s<i;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),r.push(n[(a=o)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return r.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],6:[function(e,t,i){(function(t){"use strict";var n=e("base64-js"),o=e("ieee754"),a=e("isarray");function r(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,i)}function l(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,i,n):"string"==typeof t?f(e,t,i):m(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,i,n){return u(t),t<=0?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}function d(e,t){if(u(t),e=s(e,t<0?0:0|_(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function f(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(t,i),o=(e=s(e,n)).write(t,i);return o!==n&&(e=e.slice(0,o)),e}function p(e,t){var i=t.length<0?0:0|_(t.length);e=s(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function g(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}function m(e,t){if(c.isBuffer(t)){var i=0|_(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,i);case"utf8":case"utf-8":return D(this,t,i);case"ascii":return O(this,t,i);case"latin1":case"binary":return G(this,t,i);case"base64":return M(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function b(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:S(e,t,i,n,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):S(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function S(e,t,i,n,o){var a,r=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;r=2,s/=2,c/=2,i/=2}function l(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(o){var u=-1;for(a=i;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*r}else-1!==u&&(a-=a-u),u=-1}else for(i+c>s&&(i=s-c),a=i;a>=0;a--){for(var h=!0,d=0;d<c;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function L(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var r=0;r<n;++r){var s=parseInt(t.substr(2*r,2),16);if(isNaN(s))return r;e[i+r]=s}return r}function I(e,t,i,n){return X(W(t,e.length-i),e,i,n)}function R(e,t,i,n){return X(K(t),e,i,n)}function N(e,t,i,n){return R(e,t,i,n)}function T(e,t,i,n){return X(Z(t),e,i,n)}function E(e,t,i,n){return X(z(t,e.length-i),e,i,n)}function M(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function D(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var a,r,s,c,l=e[o],u=null,h=l>239?4:l>223?3:l>191?2:1;if(o+h<=i)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[o+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[o+1],r=e[o+2],128==(192&a)&&128==(192&r)&&(c=(15&l)<<12|(63&a)<<6|63&r)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[o+1],r=e[o+2],s=e[o+3],128==(192&a)&&128==(192&r)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&r)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=h}return w(n)}i.Buffer=c,i.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},i.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),i.kMaxLength=r(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return l(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return h(null,e,t,i)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,o=0,a=Math.min(i,n);o<a;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var r=e[i];if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,o),o+=r.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,n,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(n>>>=0),r=(i>>>=0)-(t>>>=0),s=Math.min(a,r),l=this.slice(n,o),u=e.slice(t,i),h=0;h<s;++h)if(l[h]!==u[h]){a=l[h],r=u[h];break}return a<r?-1:r<a?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return L(this,e,t,i);case"utf8":case"utf-8":return I(this,e,t,i);case"ascii":return R(this,e,t,i);case"latin1":case"binary":return N(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function w(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=A));return i}function O(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function G(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function B(e,t,i){var n,o=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>o)&&(i=o);for(var a="",r=t;r<i;++r)a+=(n=e[r])<16?"0"+n.toString(16):n.toString(16);return a}function k(e,t,i){for(var n=e.slice(t,i),o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function P(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,i,n,o,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function U(e,t,i,n){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-i,2);o<a;++o)e[i+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function x(e,t,i,n){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-i,4);o<a;++o)e[i+o]=t>>>8*(n?o:3-o)&255}function H(e,t,i,n){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function V(e,t,i,n,a){return a||H(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function j(e,t,i,n,a){return a||H(e,0,i,8),o.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;i=new c(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||F(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,a=0;for(this[t]=255&e;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||F(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*i-1);F(this,e,t,i,o-1,-o)}var a=0,r=1,s=0;for(this[t]=255&e;++a<i&&(r*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/r>>0)-s&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*i-1);F(this,e,t,i,o-1,-o)}var a=i-1,r=1,s=0;for(this[t+a]=255&e;--a>=0&&(r*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/r>>0)-s&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return V(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return V(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return j(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return j(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o,a=n-i;if(this===e&&i<t&&t<n)for(o=a-1;o>=0;--o)e[o+t]=this[o+i];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},c.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var r=c.isBuffer(e)?e:W(new c(e,n).toString()),s=r.length;for(a=0;a<i-t;++a)this[a+t]=r[a%s]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function Y(e){if((e=q(e).replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e,t){var i;t=t||1/0;for(var n=e.length,o=null,a=[],r=0;r<n;++r){if((i=e.charCodeAt(r))>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(r+1===n){(t-=3)>-1&&a.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function K(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function z(e,t){for(var i,n,o,a=[],r=0;r<e.length&&!((t-=2)<0);++r)n=(i=e.charCodeAt(r))>>8,o=i%256,a.push(o),a.push(n);return a}function Z(e){return n.toByteArray(Y(e))}function X(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":5,ieee754:9,isarray:7}],7:[function(e,t){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],8:[function(e,t){(function(i){var n=e("util"),o=e("assert");function a(){return(new Date).getTime()}var r,s=Array.prototype.slice,c={};r=void 0!==i&&i.console?i.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){r.log.apply(r,arguments)},"info"],[function(){r.log.apply(r,arguments)},"warn"],[function(){r.warn.apply(r,arguments)},"error"],[function(e){c[e]=a()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var i=a()-t;r.log(e+": "+i+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),r.error(e.stack)},"trace"],[function(e){r.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);o.ok(!1,n.format.apply(null,t))}},"assert"]],u=0;u<l.length;u++){var h=l[u],d=h[0],f=h[1];r[f]||(r[f]=d)}t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:1,util:14}],9:[function(e,t,i){i.read=function(e,t,i,n,o){var a,r,s=8*o-n-1,c=(1<<s)-1,l=c>>1,u=-7,h=i?o-1:0,d=i?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(r=a&(1<<-u)-1,a>>=-u,u+=n;u>0;r=256*r+e[t+h],h+=d,u-=8);if(0===a)a=1-l;else{if(a===c)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,n),a-=l}return(f?-1:1)*r*Math.pow(2,a-n)},i.write=function(e,t,i,n,o,a){var r,s,c,l=8*a-o-1,u=(1<<l)-1,h=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-r))<1&&(r--,c*=2),(t+=r+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(r++,c/=2),r+h>=u?(s=0,r=u):r+h>=1?(s=(t*c-1)*Math.pow(2,o),r+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),r=0));o>=8;e[i+f]=255&s,f+=p,s/=256,o-=8);for(r=r<<o|s,l+=o;l>0;e[i+f]=255&r,f+=p,r/=256,l-=8);e[i+f-p]|=128*g}},{}],10:[function(e,t,i){i.endianness=function(){return"LE"},i.hostname=function(){return"undefined"!=typeof location?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL="\n"},{}],11:[function(e,t){var i,n,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function c(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}})();var l,u=[],h=!1,d=-1;function f(){h&&l&&(h=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!h){var e=s(f);h=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,h=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new g(e,t)),1!==u.length||h||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],12:[function(e,t,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],13:[function(e,t,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],14:[function(e,t,i){arguments[4][4][0].apply(i,arguments)},{"./support/isBuffer":13,_process:11,dup:4,inherits:12}],CGMatchPanel:[function(e,t,i){"use strict";cc._RF.push(t,"fc186dzv+dEu5PQGB9pXuAq","CGMatchPanel");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=e("../../../framework/PoolMgr"),s=e("../../ui/SpriteArray"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.matchlistNode=null,i.newHandNode=null,i.listNode=null,i.matchItemNode=null,i.annimetions=null,i.LobbyLogic=new(e("LobbyLogic")),i}return o(i,t),i.prototype.onEnable=function(){this._refreshMatchList()},i.prototype.onDisable=function(){this.recyle()},i.prototype.onToggleContainerClick=function(e){switch(e.node.name){case"toggle1":this.doButton_MatchList();break;case"toggle2":this.doButton_NewHand()}},i.prototype.doButton_MatchList=function(){this.matchlistNode.active=!0,this.newHandNode.active=!1,this._refreshMatchList()},i.prototype.doButton_NewHand=function(){this.matchlistNode.active=!1,this.newHandNode.active=!0},i.prototype._refreshMatchList=function(){this.recyle();var e=this;globalThis.MatchManager.requestCheckPointMatchInfo(function(t){console.log("#### checkPointMatch list",t);for(var i=0;i<t.config.length;i++){var n=t.config[i],o=r.PoolMgr.instance.getNode(e.matchItemNode,e.listNode);e._initItemUI(o,t.passNum,n,i)}})},i.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},i.prototype.onFreeBMBtnClick=function(e,t){var i=this;this.LobbyLogic.requestLoaderCheckLogon(function(){var e=parseInt(t,10);i.LobbyLogic.enterGame(18,e,0)})},i.prototype.onBMBtnClick=function(e,t){var i=this,n=parseInt(t,10),o=globalThis.MatchManager.getCurCheckPointInfo().config[n-1];null!=o&&(this.LobbyLogic.getMyInfo().money<o.cost?globalThis.createTips("\u91d1\u5e01\u4e0d\u8db3"):this.LobbyLogic.requestLoaderCheckLogon(function(){i.LobbyLogic.enterGame(18,n,1)}))},i.prototype.onReviveBMBtnClick=function(e,t){var i=this,n=parseInt(t,10),o=globalThis.MatchManager.getCurCheckPointInfo().config[n-1];null!=o&&(this.LobbyLogic.getMyInfo().money<o.cost?globalThis.createTips("\u91d1\u5e01\u4e0d\u8db3"):this.LobbyLogic.requestLoaderCheckLogon(function(){i.LobbyLogic.enterGame(18,n,1)}))},i.prototype._initItemUI=function(e,t,i,n){e.getChildByName("bg").getComponent(s.default).index=n,e.getChildByName("left").getChildByName("levelName").getComponent(cc.Label).string="\u7b2c"+i.levelID+"\u5173",e.getChildByName("center").getChildByName("status").getComponent(cc.Label).string=t>=i.levelID?"\u83b7\u5f97\u5956\u52b1":"\u901a\u5173\u5956\u52b1",e.getChildByName("center").getChildByName("num").getComponent(cc.Label).string=i.award+" \u793c\u5238";var o=e.getChildByName("right").getChildByName("first"),a=e.getChildByName("right").getChildByName("sucess"),r=e.getChildByName("right").getChildByName("revive"),c=e.getChildByName("right").getChildByName("text");if(1==i.levelID){o.active=!0,a.active=!1,r.active=!1,c.active=!1;var l=o.getChildByName("free_baoming").getComponent(cc.Button);l.node.active=!1,(h=new cc.Component.EventHandler).target=this.node,h.component="CGMatchPanel",h.handler="onFreeBMBtnClick",h.customEventData=i.levelID.toString(),l.clickEvents=[],l.clickEvents.push(h),o.getChildByName("cost_baoming").getChildByName("costbg").getChildByName("num").getComponent(cc.Label).string=(i.cost/100).toString()+"\u91d1\u8c46";var u=o.getChildByName("cost_baoming").getComponent(cc.Button);(h=new cc.Component.EventHandler).target=this.node,h.component="CGMatchPanel",h.handler="onBMBtnClick",h.customEventData=i.levelID.toString(),u.clickEvents=[],u.clickEvents.push(h)}else if(e.getChildByName("right").getChildByName("first"),t>i.levelID)o.active=!1,a.active=!0,r.active=!1,c.active=!1;else if(t==i.levelID){r.getChildByName("costbg").getChildByName("num").getComponent(cc.Label).string=(i.cost/100).toString()+"\u91d1\u8c46",o.active=!1,a.active=!1,r.active=!0,c.active=!1;var h,d=r.getComponent(cc.Button);(h=new cc.Component.EventHandler).target=this.node,h.component="CGMatchPanel",h.handler="onReviveBMBtnClick",h.customEventData=i.levelID.toString(),d.clickEvents=[],d.clickEvents.push(h)}else o.active=!1,a.active=!1,r.active=!1,c.active=!0},i.prototype.recyle=function(){for(var e=0,t=this.listNode.children;e<t.length;e++){var i=t[e];r.PoolMgr.instance.putNode(i)}this.listNode.removeAllChildren()},a([u(cc.Node)],i.prototype,"matchlistNode",void 0),a([u(cc.Node)],i.prototype,"newHandNode",void 0),a([u(cc.Node)],i.prototype,"listNode",void 0),a([u(cc.Node)],i.prototype,"matchItemNode",void 0),a([u(cc.Node)],i.prototype,"annimetions",void 0),a([l],i)}(cc.Component);i.default=h,cc._RF.pop()},{"../../../framework/PoolMgr":"PoolMgr","../../ui/SpriteArray":"SpriteArray",LobbyLogic:"LobbyLogic"}],CanvasVideo:[function(e,t,i){"use strict";cc._RF.push(t,"c010fjtBbhGNbE2h5/9FLB7","CanvasVideo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var c=e("./DropDownBox"),l=e("./EventManager"),u=e("./GlobelContext"),h=e("./txySdk"),d=cc._decorator.ccclass,f=["\u5f00\u542f","\u5173\u95ed"],p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInited=!1,t.liveBroadcastBtn=null,t.livePresetCameraSwitchBtn=null,t.livePresetMicrophoneSwitchBtn=null,t.livePresetQuitLabel=null,t.livePresetDropDownBox=null,t.inLiveBroadcastCameraSwitchBtn=null,t.inLiveBroadcastMicrophoneSwitchBtn=null,t.inLiveBroadcastQuitBtn=null,t.inLiveBroadcastDropDownBox=null,t.livePresetPanel=null,t.inLiveBroadcastPanel=null,t.spriteFrameCache=[],t.index=0,t.roomId="",t._livePresetCameraSwitch=0,t._livePresetMicrophoneSwitch=0,t.lastUpdateTime=-1,t._Timer=0,t}return o(t,e),Object.defineProperty(t.prototype,"isActiveVideo",{set:function(e){null!=this._sprite&&(this._sprite.node.active=e)},enumerable:!1,configurable:!0}),t.prototype.ShowUI=function(e){var t=this;!this.isInited&&this.init(),this.isActiveVideo=!1,this.unschedule(this.updateTexture),this.clearSprite(),this.roomId=e.roomId,e.identity==u.IdentityType.ANCHOR?(this._livePresetCameraSwitch=1,this._livePresetMicrophoneSwitch=1,this.onClickChangeCameraSwitch(),this.onClickChangeMicrophoneSwitch(),this.refreshUI(u.LIVE_BROADCAST_STATUS.ANCHOR_ENTRY)):this.refreshUI(u.LIVE_BROADCAST_STATUS.USER_ENTRY),l.default.inst.on(u.EventType.FAILED_TO_OPEN_THE_CAMERA,function(){t._livePresetCameraSwitch=1}),l.default.inst.on(u.EventType.FAILED_TO_OPEN_THE_MICROPHONE,function(){t._livePresetMicrophoneSwitch=1})},t.prototype.refreshUI=function(e){switch(e){case u.LIVE_BROADCAST_STATUS.ANCHOR_ENTRY:this.livePresetPanel.active=!0,this.inLiveBroadcastPanel.active=!1,this.livePresetDropDownBox.allPanel.active=!1;break;case u.LIVE_BROADCAST_STATUS.USER_ENTRY:break;case u.LIVE_BROADCAST_STATUS.IN_LIVE_BROADCAST:this.livePresetPanel.active=!1,this.inLiveBroadcastPanel.active=!0,this.inLiveBroadcastDropDownBox.allPanel.active=!1;break;case u.LIVE_BROADCAST_STATUS.END_OF_LIVE_BROADCAST:}},t.prototype.onClickChangeCameraSwitch=function(){this._livePresetCameraSwitch=1^this._livePresetCameraSwitch,this.livePresetCameraSwitchBtn.getComponentInChildren(cc.Label).string=f[this._livePresetCameraSwitch],this.inLiveBroadcastCameraSwitchBtn.getComponentInChildren(cc.Label).string=f[this._livePresetCameraSwitch]},t.prototype.onClickChangeMicrophoneSwitch=function(){this._livePresetMicrophoneSwitch=1^this._livePresetMicrophoneSwitch,this.livePresetMicrophoneSwitchBtn.getComponentInChildren(cc.Label).string=f[this._livePresetMicrophoneSwitch],this.inLiveBroadcastMicrophoneSwitchBtn.getComponentInChildren(cc.Label).string=f[this._livePresetMicrophoneSwitch]},t.prototype.onClickLiveBroadcastBtn=function(){var e=this;this.bindLiveVideo(),h.default.inst.openLiveBroadcast(this._livePresetCameraSwitch,this._livePresetMicrophoneSwitch,this.livePresetDropDownBox.displayText.string,function(){e.refreshUI(u.LIVE_BROADCAST_STATUS.IN_LIVE_BROADCAST),e.isActiveVideo=!0,e.schedule(e.updateTexture,.04,cc.macro.REPEAT_FOREVER)},function(){e.isActiveVideo=!1,console.log("\u5f00\u542f\u76f4\u64ad\u5931\u8d25")})},t.prototype.onClickLiveBroadcastQuitBtn=function(){this.isActiveVideo=!1,this.unschedule(this.updateTexture),this.clearSprite(),h.default.inst.stoplive(),this.refreshUI(u.LIVE_BROADCAST_STATUS.ANCHOR_ENTRY)},t.prototype.onClickLiveBtn=function(){var e=this;this.bindLiveVideo(),h.default.inst.livePush(function(){e.isActiveVideo=!0,e.schedule(e.updateTexture,.04,cc.macro.REPEAT_FOREVER)},function(){console.log("\u5f00\u542f\u76f4\u64ad\u5931\u8d25")})},t.prototype.onClickQuitBtn=function(){h.default.inst.stoplive(),window.LobbyCanvas.hideLiveView()},t.prototype.onClickOpenBtn=function(){h.default.inst.SwitchCamera(!0)},t.prototype.onClickCloseBtn=function(){h.default.inst.SwitchCamera(!1)},t.prototype.onClickPullBtn=function(){var e=this;this.bindPlayerVideo(),h.default.inst.pullLive(function(){e.isActiveVideo=!0,e.schedule(e.updateTexture,.04,cc.macro.REPEAT_FOREVER)},function(){console.log("\u62c9\u53d6\u76f4\u64ad\u5931\u8d25")})},t.prototype.onClickPlayBtn=function(){h.default.inst.SwitchPlayLive(!0)},t.prototype.onClickPauseBtn=function(){h.default.inst.SwitchPlayLive(!1)},t.prototype.initCanvas=function(){var e=document.createElement("canvas");e.width=this.node.width,e.height=this.node.height,this._canvas=e,this._canvasCtx=e.getContext("2d"),this._sprite=this.node.getChildByName("Video").getComponent(cc.Sprite),this._texture=new cc.Texture2D;for(var t=0;t<2;t++)this.spriteFrameCache.push(new cc.SpriteFrame)},t.prototype.updateTexture=function(){return r(this,void 0,Promise,function(){var e;return s(this,function(){if(null==this._video)return[2];if(this._video.paused||this._video.currentTime===this.lastUpdateTime){if(!(this._Timer<3))return this.unschedule(this.updateTexture),this.clearSprite(),this.isActiveVideo=!1,[2];this._Timer+=.04}else this.lastUpdateTime=this._video.currentTime;return console.log("lastUpdateTime:"),console.log(this.lastUpdateTime),this._canvasCtx.drawImage(this._video,0,0,this.visSize.width,this.visSize.height),this._texture.initWithElement(this._canvas),(e=this.spriteFrameCache[this.index]).setTexture(this._texture),this._sprite.spriteFrame=e,this.index=1^this.index,[2]})})},t.prototype.bindLiveVideo=function(){this._video=document.querySelector("#local_video").children[0]},t.prototype.bindPlayerVideo=function(){this._video=document.querySelector("#player-container-id")},t.prototype.clearSprite=function(){null!=this._sprite&&(this._sprite.spriteFrame=null)},t.prototype.HideUI=function(){window.LobbyCanvas.hideLiveView()},t.prototype.init=function(){var e=this;this.isInited=!0,this.visSize=new cc.Size(this.node.width,this.node.height),this.initCanvas(),this.livePresetPanel=cc.find("content/LivePreset",this.node),this.inLiveBroadcastPanel=cc.find("content/InLiveBroadcast",this.node),this.livePresetDropDownBox=cc.find("CameraQuality/drop-down-box",this.livePresetPanel).getComponent(c.default),this.liveBroadcastBtn=cc.find("LiveBroadcastBtn",this.livePresetPanel),this.livePresetCameraSwitchBtn=cc.find("camera/Switch",this.livePresetPanel),this.livePresetMicrophoneSwitchBtn=cc.find("microphone/Switch",this.livePresetPanel),this.livePresetQuitLabel=cc.find("QuitDesc",this.livePresetPanel),this.inLiveBroadcastDropDownBox=cc.find("CameraQuality/drop-down-box",this.inLiveBroadcastPanel).getComponent(c.default),this.inLiveBroadcastCameraSwitchBtn=cc.find("camera/Switch",this.inLiveBroadcastPanel),this.inLiveBroadcastMicrophoneSwitchBtn=cc.find("microphone/Switch",this.inLiveBroadcastPanel),this.inLiveBroadcastQuitBtn=cc.find("QuitLiveBroadcastBtn",this.inLiveBroadcastPanel),this.liveBroadcastBtn.on("click",this.onClickLiveBroadcastBtn.bind(this)),this.livePresetCameraSwitchBtn.on("click",this.onClickChangeCameraSwitch.bind(this)),this.livePresetMicrophoneSwitchBtn.on("click",this.onClickChangeMicrophoneSwitch.bind(this)),this.livePresetQuitLabel.on(cc.Node.EventType.TOUCH_END,this.HideUI.bind(this)),this.inLiveBroadcastCameraSwitchBtn.on("click",this.onClickChangeCameraSwitch.bind(this)),this.inLiveBroadcastMicrophoneSwitchBtn.on("click",this.onClickChangeMicrophoneSwitch.bind(this)),this.inLiveBroadcastQuitBtn.on("click",this.onClickLiveBroadcastQuitBtn.bind(this)),this.livePresetDropDownBox.init(Object.keys(u.VideoQuality)),this.inLiveBroadcastDropDownBox.init(Object.keys(u.VideoQuality)),cc.find("bg",this.livePresetPanel).on(cc.Node.EventType.TOUCH_END,function(){e.livePresetDropDownBox.allPanel.active=!1}),cc.find("Video",this.node).on(cc.Node.EventType.TOUCH_END,function(){e.inLiveBroadcastDropDownBox.allPanel.active=!1})},t.prototype.onDisable=function(){var e=this;this.isActiveVideo=!1,this.unschedule(this.updateTexture),this.clearSprite(),l.default.inst.off(u.EventType.FAILED_TO_OPEN_THE_CAMERA,function(){e._livePresetCameraSwitch=1}),l.default.inst.off(u.EventType.FAILED_TO_OPEN_THE_MICROPHONE,function(){e._livePresetMicrophoneSwitch=1})},a([d],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./DropDownBox":"DropDownBox","./EventManager":"EventManager","./GlobelContext":"GlobelContext","./txySdk":"txySdk"}],CgAwardRecord:[function(e,t){"use strict";cc._RF.push(t,"27941/3lUxETq9ARyiugZjU","CgAwardRecord"),cc.Class({extends:e("BaseLayer"),properties:{ListView_Reward:cc.ScrollView,Panel_Reward:cc.Node,page_text:cc.Label,buttonPre:cc.Button,buttonNext:cc.Button},init:function(){this.PAGE_COUNT_Record=8,this.curPage_Record=0,this.maxPage_Record=0,this.setPageInfo()},setPageInfo:function(){var e=this.page_text,t=this.buttonPre,i=this.buttonNext,n=this.curPage_Record,o=this.maxPage_Record;e.string=n+" / "+o,t.interactable=!(n<=1),i.interactable=!(n>=o)},onButtonPre:function(){this.curPage_Record=this.curPage_Record-1,this.curPage_Record<=0&&(this.curPage_Record=1),this.requestInfo()},onButtonNext:function(){this.curPage_Record=this.curPage_Record+1,this.curPage_Record>this.maxPage_Record&&(this.curPage_Record=this.maxPage_Record),this.requestInfo()},createTime:function(e){var t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),c=i+"-";return n<10&&(c+="0"),c+=n+"-",o<10&&(c+="0"),c+=o+" ",a<10&&(c+="0"),c+=a+":",r<10&&(c+="0"),c+=r+":",s<10&&(c+="0"),c+s},initRewardListView:function(e){var t=function(e,t,i){var n=t.getChildByName("Text_Date").getComponent(cc.Label),o=t.getChildByName("Text_GX").getComponent(cc.Label),a=t.getChildByName("Text_JJ").getComponent(cc.Label),r=t.getChildByName("Text_PF").getComponent(cc.Label);n.string=i.name+"",o.string="\u7b2c"+i.checkpointNumber+"\u5173",a.string=i.money+"",r.string=i.time+""}.bind(this);F_InitListView(e,t,this.ListView_Reward,this.Panel_Reward,1)},requestInfo:function(){var e=this;MatchManager.requestCheckPointRewardRecordList(function(t){var i=t.data;null==t.page?(e.buttonPre.active=!1,e.buttonNext.active=!1,e.page_text.active=!1):(e.buttonPre.active=!0,e.buttonNext.active=!0,e.page_text.active=!0,e.curPage_Record=Number(t.page||1),e.maxPage_Record=Number(t.totalPage||1),0==t.totalPage&&(t.page=0,e.curPage_Record=0,e.maxPage_Record=0),e.setPageInfo()),e.initRewardListView(i)},this.curPage_Record,10)},onEnable:function(){this.requestInfo()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ChaYanZhuShouLayer:[function(e,t){"use strict";cc._RF.push(t,"e7efbl8y4dEzpRGzzD+HVCn","ChaYanZhuShouLayer"),cc.Class({extends:e("BaseLayer"),properties:{zhongxin:cc.Node,myjilu:cc.Node,roomjilu:cc.Node,yanzheng:cc.Node,zhongxinBtn:cc.Node,myjiluBtn:cc.Node,roomjiluBtn:cc.Node,yanzhengBtn:cc.Node,chayanPre:cc.Prefab},onLoad:function(){},start:function(){},doButton_zhongxin:function(){this.zhongxin.active=!0,this.myjilu.active=!1,this.roomjilu.active=!1,this.yanzheng.active=!1,this.zhongxinBtn.active=!0,this.myjiluBtn.active=!1,this.roomjiluBtn.active=!1,this.yanzhengBtn.active=!1},doButton_myjilu:function(){this.zhongxin.active=!1,this.myjilu.active=!0,this.roomjilu.active=!1,this.yanzheng.active=!1,this.zhongxinBtn.active=!1,this.myjiluBtn.active=!0,this.roomjiluBtn.active=!1,this.yanzhengBtn.active=!1},doButton_roomjilu:function(){this.zhongxin.active=!1,this.myjilu.active=!1,this.roomjilu.active=!0,this.yanzheng.active=!1,this.zhongxinBtn.active=!1,this.myjiluBtn.active=!1,this.roomjiluBtn.active=!0,this.yanzhengBtn.active=!1},doButton_yanzheng:function(){this.zhongxin.active=!1,this.myjilu.active=!1,this.roomjilu.active=!1,this.yanzheng.active=!0,this.zhongxinBtn.active=!1,this.myjiluBtn.active=!1,this.roomjiluBtn.active=!1,this.yanzhengBtn.active=!0}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ChatLayer:[function(e,t){"use strict";cc._RF.push(t,"8cc26JxVONNq7q4RNGYGE7m","ChatLayer"),cc.Class({extends:e("BaseLayer"),properties:{chatToggle:cc.Toggle,faceToggle:cc.Toggle,chatScrollView:cc.ScrollView,faceScrollView:cc.ScrollView},onLoad:function(){this._super()},start:function(){},init:function(){this.chatToggle.isChecked=!0,this.chatScrollView.node.active=!0,this.faceToggle.isChecked=!1,this.faceScrollView.node.active=!1},onTouchToggle:function(){this.chatToggle.isChecked?(this.chatScrollView.node.active=!0,this.faceScrollView.node.active=!1):(this.chatScrollView.node.active=!1,this.faceScrollView.node.active=!0)},onTouchNode:function(e,t){GameManager.getGameUI().forbidEmoticon?createTips("\u5f53\u524d\u6e38\u620f\u7981\u7528\u8868\u60c5"):GameSocket.requestTalk(t),this.onCloseBtn()},onTouchImg:function(e,t){GameSocket.requestTalkImg(t),this.onCloseBtn()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ChatMessageManager:[function(e,t){"use strict";cc._RF.push(t,"3613a48ZzJN5qHaTzBoUupO","ChatMessageManager");var n=cc.Class({ctor:function(){this.commonMessageList=[],this.chatMessageList=[],this.specialMessage={}},push:function(e){e&&this.chatMessageList.push(e)},pushCommonMsg:function(e){e&&this.commonMessageList.push(e)},delCommonMsg:function(e){for(k in this.commonMessageList)this.commonMessageList[k].content==e&&this.commonMessageList.remove(k)},delCommonMsgEX:function(e){for(k in this.commonMessageList)tonumber(commonMessageList[k].id)==tonumber(e)&&this.commonMessageList.remove(k)},pushSpecialMsg:function(e){this.specialMessage=e},getAllChatMessage:function(){return this.chatMessageList},getAllCommonMessage:function(){return this.commonMessageList},getSpecialMessage:function(){return this.specialMessage},requestSystemNotice:function(e){var t=this,n={};n.url="http://"+NetConfig.getHttpDomain()+"/API/index.php",n.params={action:"GetNotice",num:G_CHAT_COMMON_MAX_NUM},n.sCallback=function(n){if(n.status==G_JSON_DATA_STATUS_OK){for(i in n.GetNotice)t.pushCommonMsg(n.GetNotice[i]);e(!0)}else e(!1),createTips(n.msg)},n.fCallback=function(){printInfo("\u83b7\u53d6\u7cfb\u7edf\u516c\u544a\u8d85\u65f6"),e(!1)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MYHttpRequest.doRequest(n)},requestSpecialNotice:function(e){var t={};t.url="http://"+NetConfig.getHttpDomain()+"/API/index.php",t.params={action:"get_new_special_notice"},t.sCallback=function(t){this.specialMessage=t,t.status==G_JSON_DATA_STATUS_OK?(this.pushSpecialMsg(t.get_new_special_notice),e(!0)):(e(!1),createTips(t.msg))},t.fCallback=function(){printInfo("\u83b7\u53d6\u7279\u6b8a\u516c\u544a\u8d85\u65f6"),e(!1)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MYHttpRequest.doRequest(t)},clear:function(){this.chatMessageList={},this.commonMessageList={},this.specialMessage={}}});t.exports=n,cc._RF.pop()},{}],ChuangguanAward:[function(e,t){"use strict";cc._RF.push(t,"e3f83OOfX9P5onRtKyG9JeS","ChuangguanAward"),cc.Class({extends:e("BaseLayer"),properties:{panel_award:cc.ScrollView,prefab_award:cc.Prefab,title_label:cc.Label},init:function(e,t){this.panleAwardContent=this.panel_award.content,this.gameID=e,this.title_label.string=t+"\u95ef\u5173\u5956\u52b1"},onAwardRecord:function(){this.simpleAddLayer("prefab/Arena/CgAwardRecord")},onEnable:function(){var e=this;this.gameID&&MatchManager.getChuangGuanAwardList(this.gameID,function(t){e.panleAwardContent.children.forEach(function(e){e.destroy()});for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++){var o=cc.instantiate(e.prefab_award);e.panleAwardContent.addChild(o),o.getComponent("Item_ChuangGuan_Award").setData(t[i][n])}})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],CityListManager:[function(e,t){"use strict";cc._RF.push(t,"bcdc7IHTexHvb3S7BFEBbwh","CityListManager"),t.exports=cc.Class({ctor:function(){this.createLocalData()},createLocalData:function(){this.cityList=G_CITY_LIST},getNameByCityID:function(e){return this.cityList[e]?this.cityList[e].name:""},getGameListByCityID:function(e){return this.cityList[e]?this.cityList[e].gameList:[]}}),cc._RF.pop()},{}],CiveVideoLayer:[function(e,t){"use strict";cc._RF.push(t,"500917CN6tI7rhLcxnIUBKg","CiveVideoLayer");var i=e("VideoManager");cc.Class({extends:cc.Component,properties:{videoNode:cc.VideoPlayer,pauseImg:cc.Node,nameLabel:cc.Label,descLabel:cc.Label,starNode:cc.Node,starLabel:cc.Label,headNode:cc.Node,head:cc.Sprite,sp1:cc.SpriteFrame,sp2:cc.SpriteFrame,shareBtn:cc.Node},onLoad:function(){},onDisable:function(){},start:function(){this.pauseImg.active=!0,cc.director.setClearColor(new cc.Color(0,0,0,0)),document.getElementsByClassName("cocosVideo")[0].style.zIndex=2;var e=document.getElementsByClassName("gameCanvas")[0];e.style.position="relative",e.style.zIndex=4},init:function(e,t){var i=this;this.index=e,this.videoData=t,this.isFirst=!0,console.log("\u89c6\u9891\u64ad\u653e>>>\uff1a",t),this.videoNode.remoteURL=decodeURIComponent(atob(this.videoData.mediaUrl)),this.nameLabel.string=""+this.videoData.upLoadName,this.descLabel.string=""+this.videoData.desc,this.starLabel.string=""+this.videoData.star,this.loadRemoteAvatar(this.videoData.upLoadPic,function(e,t){t&&(i.head.spriteFrame=t)})},getIndex:function(){return this.index},getVideoData:function(){return this.videoData},stopPlay:function(){this.videoNode.isPlaying()&&(console.log("\u505c\u6b62\u64ad\u653e\uff1a",this.node.name),this.videoNode.stop(),this.pauseImg.active=!0)},loadRemoteAvatar:function(e,t){cc.assetManager.loadRemote(e,function(i,n){if(i)return console.error("load remote spriteframe res failed url:"+e,i.message||i),void(t&&t(i,null));var o=new cc.SpriteFrame(n);t&&t(null,o)})},onBtnPlay:function(){console.log("\u5f53\u524d\u63a7\u5236\u64ad\u653e\uff1a",this.node.name),this.videoNode.isPlaying()?(this.videoNode.pause(),this.pauseImg.active=!0):(this.isFirst?this.videoNode.play():this.videoNode.resume(),this.pauseImg.active=!1),this.isFirst=!1},onBtnStar:function(){var e=this;console.log("\u70b9\u8d5e\uff1a",this.node.name),i.instance.requestVideoStarList(this.videoData.fileID,this.videoData.upLoadID,function(t){console.log(t),1==t.optType?e.starNode.getComponent(cc.Sprite).spriteFrame=e.sp2:e.starNode.getComponent(cc.Sprite).spriteFrame=e.sp1,e.starLabel.string=""+t.totalNum})},myVideoCallback:function(e,t){console.log("\u64ad\u653e\u72b6\u6001\uff1a",this.node.name,t),t==cc.VideoPlayer.EventType.READY_TO_PLAY||t==cc.VideoPlayer.EventType.META_LOADED||(t==cc.VideoPlayer.EventType.COMPLETED?(this.videoNode.stop(),this.pauseImg.active=!0):cc.VideoPlayer.EventType.PLAYING)}}),cc._RF.pop()},{VideoManager:"VideoManager"}],ClockObj:[function(e,t){"use strict";cc._RF.push(t,"1aaf2Ig66NEeoDFnFP+OXbV","ClockObj");var i=cc.Class({extends:e("BaseLayer"),properties:{a_label:cc.Label},onLoad:function(){this._bMOvethis=!0,this._time=0,this._callbackTime=0,this.callbackFun=void 0,this._callbackTime1=0,this.callbackFun1=void 0,this._bUseLongTimeType=!1,this.node.active=!1},getCurTime:function(){return this._time},setTimeOverCallback:function(e,t){this.callbackFun=e,this._callbackTime=t||0},setTimeCallback:function(e,t){this.callbackFun1=e,this._callbackTime1=t||0},updateLabel:function(){if(this.a_label)if(this._bUseLongTimeType){var e=Math.floor(this._time/3600),t=this._time%3600,i=t/60,n=t%60;Number.toFix(2),this.a_label.string=tools.stringFormat("{0}.{1}.{2}",tools.fillZero(e,2),tools.fillZero(i,2),tools.fillZero(n,2))}else this.a_label.string=this._time},startC:function(e,t){this._bUseLongTimeType=t,this.unschedule(this.timer),e>=1&&(this._time=e,this.schedule(this.timer,1),this.node.active=!0,this.updateLabel())},setStartCallback:function(e){e&&(this._startCallback=e)},stop:function(e){e=e||!1,this.unschedule(this.timer),this.node.active=e,this._bMOvethis&&this.node.removeFromParent()},unFuntion:function(){this._callbackTime1&&(this._callbackTime=0),this.callbackFun1&&(this.callbackFun1=void 0)},timer:function(){this._time=this._time-1,this.updateLabel(),this._callbackTime==this._time&&this.callbackFun&&(this.callbackFun(),this.callbackFun=void 0),this._callbackTime1&&this._time<=this._callbackTime1&&this._time>=1&&this.callbackFun1&&this.callbackFun1(),this._startCallback&&this._startCallback(this._time),1==this._time&&this.unFuntion(),0==this._time&&this.stop()},start:function(){}});t.exports=i,cc._RF.pop()},{BaseLayer:"BaseLayer"}],CommandConst:[function(e,t){"use strict";cc._RF.push(t,"180c3W3Tm1OjLb7zKmK4wyG","CommandConst"),t.exports={},cc._RF.pop()},{}],CommonCheckRadioBoxCtrlUI:[function(e,t){"use strict";cc._RF.push(t,"240c6/No/xE2ZPyfqBPx1PG","CommonCheckRadioBoxCtrlUI"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},setCheckBoxValue:function(e){var t=e.target.getChildByName("checkmark");t.active=!t.active},getCheckBoxValue:function(e){return e.target.getChildByName("checkmark").active},setRadioBoxValue:function(e,t){for(var i=0;i<e.target.parent.childrenCount;i++)i==parseInt(t)?e.target.parent.children[i].getChildByName("checkmark").active=!0:e.target.parent.children[i].getChildByName("checkmark").active=!1}}),cc._RF.pop()},{}],CommonEvent:[function(e,t){"use strict";cc._RF.push(t,"448665VxlBDcqHRyoZeCzM9","CommonEvent"),t.exports={WebSocketEvent:{OPEN:"onOpen",CLOSE:"onClose",ERROR:"onError",OPENROOM:"onOpenRoom",CLOSEROOM:"onCloseRoom",ERRORROOM:"onErrorRoom"},LoginEvent:{SUCCESS:"loginSuccess"}},cc._RF.pop()},{}],CommonSlider:[function(e,t){"use strict";cc._RF.push(t,"947db7KTmBNo5ojrpu2lmgS","CommonSlider"),cc.Class({extends:cc.Component,properties:{Backgroud:{default:null,type:cc.Sprite},Progress:{default:null,type:cc.Sprite},Slider:{default:null,type:cc.Slider}},callback:function(e){var t=e.progress,i=this.Backgroud.node.width*t;this.Progress.node.width=i,this.callBackValue&&this.callBackValue(t)},onLoad:function(){this.Slider.node.on("slide",this.callback,this)},init:function(e){this.callBackValue=e},updateProgressImg:function(e){void 0===e&&(e=0);var t={progress:e};this.callback(t)}}),cc._RF.pop()},{}],ConfigDataManager:[function(e,t){"use strict";cc._RF.push(t,"f24b8rWEmlJSrymp5tCwxDt","ConfigDataManager");var i=e("DataManager"),n=cc.Class({extends:cc.Component,ctor:function(){this.configData={},this.UserIpData="",this.UserCName="",i.instance.addManager("FriendManager",this)},onLoad:function(){},getConfigData:function(){var e=this,t={};t.url=NetConfig.getPHPUrl(),t.params={api:"config",action:"config"},t.sCallback=function(t){0==t.status?e.configData=t.data:createTips(t.msg)},t.fCallback=function(){cc.log("\u8bf7\u6c42config\u8d85\u65f6")},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},getUserIpData:function(){var e=this,t={};t.url=NetConfig.getPHPUrl(),t.params={api:"lobby",action:"getUserIp"},t.sCallback=function(t){0==t.status?e.UserIpData=t.data.IP:createTips(t.msg)},t.fCallback=function(){cc.log("\u8bf7\u6c42getUserIp\u8d85\u65f6")},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},GetPlayCitySN:function(){var e=cc.loader.getXMLHttpRequest();e.open("GET","http://pv.sohu.com/cityjson?ie=utf-8"),e.timeout=5e3;var t=this;e.onreadystatechange=function(){if(4==e.readyState&&e.status>=200&&e.status<=207&&e.responseText){var i=e.responseText.match(/\{(.+?)\}/gi);i=i[0];var n=JSON.parse(i);t.UserIpData=n.cip,t.UserCName=n.cname,console.log("UserIpData......:",t.UserIpData),console.log("UserCName........:",t.UserCName)}},e.ontimeout=function(){},e.onerror=function(){},e.send()},getServerStatus:function(e,t){var i={};i.url=NetConfig.getPHPUrl(),i.params={api:"Server",action:"newGetServerStatus"},i.sCallback=function(i){0==i.status?e&&e():t&&t(i.msg)},i.fCallback=function(){cc.log("\u8bf7\u6c42newGetServerStatus\u8d85\u65f6")},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)},saveUserAddress:function(e,t,i){var n={};n.url="https://"+NetConfig.getPHP_IP()+"/api/v1/user/saveUserAddress",n.params={userID:i,longitude:e,latitude:t,address:"\u672a\u77e5"},n.fCallback=function(){cc.log("\u4fdd\u5b58\u5730\u5740\u5931\u8d25")},n.sCallback=function(e){0==e.status?callback&&callback():createTips(e.msg)},MyHttpRequest.doRequest(n)},getWXjsapi_ticket:function(e,t){var i={};i.url="https://"+NetConfig.getPHP_IP()+"/api/v1/user/getJsapiTicket",i.params={userID:e},i.sCallback=function(e){0==e.status?t&&t(e.data):createTips(e.msg)},i.fCallback=function(){cc.log("\u8bf7\u6c42\u8d85\u65f6")},MyHttpRequest.doRequest(i)},getWxUserInfo:function(e,t,i){var n={};n.url="https://"+NetConfig.getPHP_IP()+"/api/v1/user/getWxUserInfo",n.params={code:e},n.sCallback=function(e){0==e.status?t&&t(e.data):i&&i()},n.fCallback=function(){console.warn()},MyHttpRequest.doRequest(n)},getConfigDataByKey:function(e,t){return this.configData[e]||t},getUserIpDataByKey:function(){return this.UserIpData||""},getUserCNameDataByKey:function(){return this.UserCName||""},clear:function(){this.configData={},this.UserIpData="",this.UserCName=""}});t.exports=n,cc._RF.pop()},{DataManager:"DataManager"}],ConfigManager:[function(e,t){"use strict";cc._RF.push(t,"822baN4VHRI/JvABjmdmvCf","ConfigManager"),t.exports=cc.Class({extends:e("LogicBasis"),properties:{},ctor:function(){this.configList=[]},requestConfig:function(){var e=this,t={};t.params={api:"config",action:"config",userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){cc.log("\u8bf7\u6c42%s\u8d85\u65f6config")},t.sCallback=function(t){0==t.status?e.configList=t.data:createTips(t.msg)},MyHttpRequest.doRequest(t)},addConfiglsit:function(e){for(var t in e){var i=e[t];this.addConfig(i)}},addConfig:function(e){e&&(this.configList[e.keyConfig]=e.valueConfig)},getConfigIntegerValue:function(e,t){var i=this.configList[e];return i?(cc.log("getConfigIntegerValue value = %s",Number(i)),Number(i)):t},getConfigStringValue:function(e,t){var i=this.configList[e];return i?(cc.log("getConfigStringValue value = %s",i),i):t},clear:function(){self.configList=[]}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],Config:[function(e,t){"use strict";cc._RF.push(t,"4d424WKB+JJHqNSLvGDRIY9","Config"),window.isDebug=!0,window.trace=function(){if(window.isDebug&&"undefined"!=typeof console&&void 0!==console.log){for(var e,t=[],i=arguments.length,n=0;n<i;n++)e=void 0===arguments[n]?"undefined":null===arguments[n]?"null":arguments[n].toString(),t.push(e);for(var o=0;o<t.length;o++)cc.log(t[o])}},window.Package=e("Package"),window.UserInfoManager=new(e("UserInfoManager")),window.RoomListManager=new(e("RoomListManager")),window.GameListManager=new(e("GameListManager")),window.NetResManager=new(e("NetResManager")),window.MyHttpRequest=e("MyHttpRequest"),window.tools=e("Tools"),window.g_autoLoginIn=!1,cc.sys.isNative||(window.testModule=e("test")),cc._RF.pop()},{GameListManager:"GameListManager",MyHttpRequest:"MyHttpRequest",NetResManager:"NetResManager",Package:"Package",RoomListManager:"RoomListManager",Tools:"Tools",UserInfoManager:"UserInfoManager",test:"test"}],CreatGameTypePrefab:[function(e,t){"use strict";cc._RF.push(t,"3da34UlMGJH9IAgs+J/0JOO","CreatGameTypePrefab"),cc.Class({extends:e("BaseLayer"),properties:{_callBack:null,_gametype:null,namenormal:cc.Label,namelight:cc.Label,checkMark:cc.Node,playTypeName:cc.Label,playTypeView:cc.Node,sanjiaoNode:cc.Node},updateContent:function(e,t,i){this.gameID=e,this._callBack=i,this.tabIdx=t;var n=GameManager.getRegistGameNameByGameID(e);this.namenormal.string=n,this.namelight.string=n;var o=GameManager.getGameTypeByPlayMode(e,null);this.playTypeName&&(this.playTypeName.string=o+"")},resetGameTypeNodeHeight:function(e){e&&(e.length>1?this.node.height=90+62*e.length:this.node.height=156)},onClickBtn:function(){this.node.parent.children.forEach(function(e){if(e!=this.node){var t=e.getComponent("CreatGameTypePrefab");t.checkMark.active=!1,t.playTypeView.active=!1,t.node.height=90,t.sanjiaoNode.active=!1}}.bind(this)),this._callBack(this.gameID,this.tabIdx,this),this.checkMark.active=!0,this.playTypeView.active=!0,this.sanjiaoNode.active=!0}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],CreatPlayTypePrefab:[function(e,t){"use strict";cc._RF.push(t,"6a73cXAiVhAUIIsV0O9kOms","CreatPlayTypePrefab"),cc.Class({extends:cc.Component,properties:{namenormal:cc.Label,namelight:cc.Label},start:function(){},updateContent:function(e,t,i,n){this.gameID=e,this.gameConfig=t,this.wanfaIdx=i,this.callback=n,this.namelight.getComponent(cc.Label).string=t.desc,this.namenormal.getComponent(cc.Label).string=t.desc},setPlayTypeNodeCheckMark:function(e){for(var t=e.getChildByName("checkmark"),i=0;i<e.parent.childrenCount;i++)e.parent.children[i].getChildByName("checkmark")==t?(e.parent.children[i].getChildByName("background").active=!1,t.active=!0):(e.parent.children[i].getChildByName("checkmark").active=!1,e.parent.children[i].getChildByName("background").active=!0)},onClick:function(e){this.setPlayTypeNodeCheckMark(e.target),this.callback(this.wanfaIdx)}}),cc._RF.pop()},{}],CreateCardGameBase:[function(e,t){"use strict";cc._RF.push(t,"e399f84cClOkalm2MUKvkSb","CreateCardGameBase"),t.exports=cc.Class({extends:e("BaseLayer"),init:function(e,t,i){cc.log(i)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],CreateRoomCheckBox:[function(e,t){"use strict";cc._RF.push(t,"92f24BWCEFI1Y9XXS5GlLl/","CreateRoomCheckBox");var i=new cc.Color(203,44,27,255),n=new cc.Color(61,23,1,255);cc.Class({extends:e("BaseLayer"),properties:{text:cc.Label,index:cc.Integer,selectType:cc.Integer,backImg:{type:cc.SpriteFrame,default:[]},checkmarkImg:{type:cc.SpriteFrame,default:[]},disableBtnNode:cc.Node},setInteractableBtn:function(e){this.disableBtnNode&&(this.disableBtnNode.active=e,this.disableBtnNode.getComponent(cc.Sprite).spriteFrame=this.backImg[this.toggleContainer?0:1]),this.toggle.interactable=!e},setSelectedInteractableState:function(e){this.toggle.isChecked=e,this.setInteractableBtn(!e)},setSelectedState:function(e){this.toggle.isChecked=e},onLoad:function(){this.toggle=this.node.getComponent(cc.Toggle),this.setText(this.data),this.defaultAllUnselected?this.defaultAllDisabled?(this.toggle.isChecked=!1,this.setInteractableBtn(!0)):(this.setInteractableBtn(!1),this.toggle.isChecked=!1):(this.setInteractableBtn(!1),this.defaultAllSelected?this.toggleContainer?0===this.index?this.toggle.isChecked=!0:this.toggle.isChecked=!1:this.defaultAllSelected&&(this.toggle.isChecked=!0):0===this.index?this.toggle.isChecked=!0:this.toggle.isChecked=!1),this.setCheckboxImg()},init:function(e,t,i,n,o,a){var r=this;this.index=e,this.data=t,this.selectType=i,this.callback=n,this.defaultAllSelected=o.defaultAllSelected,this.defaultAllUnselected=o.defaultAllUnselected,this.defaultAllDisabled=o.defaultAllDisabled,this.specialUnSelectedCallBack=o.specialUnSelectedCallBack,this.defaultSelectIndex=o.defaultSelectIndex,this.toggleContainer=a,this.isInitView=!0,void 0===this.defaultSelectIndex&&null==this.defaultSelectIndex||e==this.defaultSelectIndex&&this.scheduleOnce(function(){r.setSelectedState(!0)},.04)},setCheckboxImg:function(){var e=1===this.selectType?0:1,t=this.toggle.node.getChildByName("Background"),i=this.toggle.node.getChildByName("checkmark");t.getComponent(cc.Sprite).spriteFrame=this.backImg[e],i.getComponent(cc.Sprite).spriteFrame=this.checkmarkImg[e]},setText:function(e){this.text.string=e},getText:function(){return this.text.string},onChecked:function(e){var t=e.isChecked;t||!this.specialUnSelectedCallBack||this.isInitView||this.specialUnSelectedCallBack(this.getText()+"",this.index),this.isInitView=!1,this.selectType===SELECT_TYPE_ONE&&!1===t||this.setChecked(t)},setChecked:function(e){this.setTextDescColor(e),1==e?this.callback(e,this.index):console.log("ujuuuuuu")},setTextDescColor:function(e){this.text.node.color=e?i:n},getChecked:function(){return this.toggle.isChecked}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],CreateRoomDaikai:[function(e,t){"use strict";cc._RF.push(t,"93a71GNRBlLIZfRvZkuANrc","CreateRoomDaikai"),cc.Class({extends:cc.Component,properties:{roomId:cc.Label},initDataView:function(e,t,i){this.roomIdStr=e,this.roomId.string="\u4ee3\u5f00\u623f\u95f4\u6210\u529f!\u623f\u95f4\u53f7\u4e3a:"+e,t&&(this.node.active=!0,t.active=!1),this.target=i},onClickCancel:function(){this.target.removeFromParent()},onClickJoinRoom:function(){this.LobbyRoomLogic=new(e("LobbyRoomLogic")),this.LobbyRoomLogic.joinRoom(this.roomIdStr),this.target.removeFromParent()}}),cc._RF.pop()},{LobbyRoomLogic:"LobbyRoomLogic"}],CreateRoomInput:[function(e,t){"use strict";cc._RF.push(t,"b6db8bviUFP/o1AFzlI3sej","CreateRoomInput"),cc.Class({extends:e("BaseLayer"),properties:{text:cc.Label,input:cc.EditBox},init:function(e,t,i,n){this.key=e,this.textDesc=t,this.inputRange=i,this.idx=n,this.inputRange.length>0&&(this.input.placeholder="\u8303\u56f4"+this.inputRange[0]+"-"+this.inputRange[1])},onLoad:function(){this.text.string=this.textDesc,this.calculatePosX(this.idx)},onEditDidEnd:function(){var e=this,t=this.inputRange[0],i=this.inputRange[1],n=this.input.string;n<t&&(createTips("\u8f93\u5165\u503c\u4e0d\u80fd\u4f4e\u4e8e"+t),this.scheduleOnce(function(){e.input.string=t+""},.3)),n>i&&(createTips("\u8f93\u5165\u503c\u4e0d\u80fd\u5927\u4e8e"+i),this.scheduleOnce(function(){e.input.string=i+""},.3))},getInput:function(){return this.input.string},calculatePosX:function(e){1==e&&(e=2),this.node.y=-32;var t=903/(CELL_NUM+1)*(e+1)+115-469-cc.winSize.width/1280*100;this.node.x=t}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],CreateRoomLayer:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"05b6ehMEeNIs4ljuF6YcGWC","CreateRoomLayer");var a=e("LobbyRoomLogic"),r=e("CreateRoomSelectData");cc.Class({extends:e("BaseLayer"),properties:{gameTabPrefab:cc.Prefab,panelSelectPrefab:cc.Prefab,gameTab:{type:cc.ScrollView,default:null},panelView:{default:null,type:cc.ScrollView},playTypePrefab:cc.Prefab,titleSpriteNode:[cc.Node],type:null,playTypeList:null,panelMap:null,scaleBox:cc.Node,createRoomBtn:cc.Button,daikaiRoomBtn:cc.Button,createPanelNode:cc.Node,daiKaiNode:cc.Node,text_tips:cc.Label},init:function(e,t,i,n,o,s,c){cc.winSize.width/1280<1&&this.scaleBox.setScale(cc.winSize.width/1280,cc.winSize.width/1280),this.rolling=!1,this.lobbyRoomLogic=new a,this.initRoomType=e,e==E_ROOM_TYPE.MATCH?(this.selectedGameList=t,console.log(">>>gameIDgameID"+i),console.log(t+">>>>>>>>>gameList[0]"+t[0]),this.selectedGameID=i||t[0]):(this.selectedGameList=t[0],console.log(">>>gameIDgameID"+i),console.log(t+">>>>>>>>>gameList[0]"+t[0][0]),this.selectedGameID=i||t[0][0]),this.friendsGroupID=n||0,this.deskID=o||0,this.parentNode=c,this.roomSelectData=new r,this.roomSelectData.gameID=this.selectedGameID,this.roomSelectData.roomType=e;for(var l=0;l<this.selectedGameList.length;l++)if(this.selectedGameID==this.selectedGameList[l]){this.selectedGameIndex=l;break}this.selectedGameIndex=this.selectedGameIndex?this.selectedGameIndex:0,this.selectedCreateGame=null,this.selectedCreateGameList={},null!=n?(this.createRoomBtn.node.active=!1,this.daikaiRoomBtn.node.x=505,this.isClub=!0):this.isClub=!1},onLoad:function(){this.initUIData()},initUIData:function(){this.initGameListView(),this.initRoomType==E_ROOM_TYPE.MATCH?(this.createRoomBtn.node.active=!1,this.daikaiRoomBtn.node.active=!0,this.text_tips.string=tools.stringFormat("\u6ce8: \u9996\u5c40\u7ed3\u7b97\u524d\u5c06\u8fd4\u8fd8\u6263\u9664{0}\n\u4ff1\u4e50\u90e8\u4ee3\u5f00\u623f\u95f4\u7edf\u4e00\u6d88\u8017\u7fa4\u4e3b\u7684{0}","\u94bb\u77f3","\u94bb\u77f3")):this.isClub?this.text_tips.string=tools.stringFormat("\u6ce8: \u9996\u5c40\u7ed3\u7b97\u524d\u5c06\u8fd4\u8fd8\u6263\u9664{0}\n\u4ff1\u4e50\u90e8\u4ee3\u5f00\u623f\u95f4\u7edf\u4e00\u6d88\u8017\u7fa4\u4e3b\u7684{0}","\u94bb\u77f3","\u94bb\u77f3"):this.text_tips.string=tools.stringFormat("\u6ce8: \u9996\u5c40\u7ed3\u7b97\u524d\u5c06\n\u8fd4\u8fd8\u6263\u9664{0}","\u94bb\u77f3")},initGameListView:function(){for(var e,t=0;t<this.selectedGameList.length;t++){var i=this.selectedGameList[t];(e=cc.instantiate(this.gameTabPrefab)).getComponent("CreatGameTypePrefab").updateContent(i,t,this.gameTabClick.bind(this)),this.gameTab.content.addChild(e)}this.initTab(this.selectedGameID,0)},onResourceChanged:function(){},initTab:function(e,t){this.selectedGameIndex=t,this.selectedGameID=e,this.roomSelectData.gameID=this.selectedGameID,this.gameTab.content.children.forEach(function(t){t.getComponent("CreatGameTypePrefab").gameID==e&&t.getComponent("CreatGameTypePrefab").onClickBtn()})},gameTabClick:function(e,t,i){this.selectedGameIndex=t,this.selectedGameID=e,this.roomSelectData.gameID=this.selectedGameID,console.log(e+"\u70b9\u51fb\u4e86\u6e38\u620f tab \u70b9\u51fb"+t),this.playTab=i.playTypeView,this.gameTypePrefabComponent=i,this.doGetBuyConfig()},doGetBuyConfig:function(){var e=E_ROOM_TYPE.PRIVATE,t=function(e){this.roomSelectData.setGameBuyConfig(e),this.setSelectedCreateGameUI()}.bind(this),i="";for(var n in G_REGIST_GAME_LIST){var o=G_REGIST_GAME_LIST[n];o.id&&(i+=o.id+",")}i.lastIndexOf(",")==i.length-1&&(i=i.substring(0,i.lastIndexOf(","))),this.lobbyRoomLogic.getBuyConfig(this.selectedGameID,e,t,i)},setJSONDataToView:function(e,t,i){this.panelView.stopAutoScroll(),this.panelView.scrollToTop(0),this.roomSelectData.setGameConfig(e,t,i||null,this),this.initTypeListView()},setSelectedCreateGameUI:function(){var e;this.initRoomType==E_ROOM_TYPE.NORMAL?(this.titleSpriteNode.forEach(function(e,t){e.active=0==t}),e=tools.stringFormat("json/{0}/CardRoomConfig",this.selectedGameID)):this.initRoomType==E_ROOM_TYPE.MATCH&&(this.titleSpriteNode.forEach(function(e,t){e.active=1==t}),e=tools.stringFormat("json/{0}/MatchRoomConfig",this.selectedGameID)),cc.loader.loadRes(e,function(t,i){t?cc.log(t):this.initRoomType==E_ROOM_TYPE.NORMAL?(this.roomType=E_ROOM_TYPE.PRIVATE,e=tools.stringFormat("json/{0}/PrivateRoomConfig",this.selectedGameID),cc.loader.loadRes(e,function(e,t){e?cc.log(e):this.setJSONDataToView(i,this.roomType,t)}.bind(this))):this.setJSONDataToView(i,this.initRoomType)}.bind(this))},initTypeListView:function(){var e=this;this.playTab&&this.playTab.removeAllChildren();var t=this.roomSelectData.getGameConfig();for(var i in t){var n=t[i],o=cc.instantiate(this.playTypePrefab);o.getComponent("CreatPlayTypePrefab").updateContent(this.selectedGameID,n,i,this.onTouchTypeCallback.bind(this)),this.playTab&&this.playTab.addChild(o)}this.gameTypePrefabComponent.resetGameTypeNodeHeight(t),this.onTouchTypeCallback(0),this.scheduleOnce(function(){e.playTab&&e.playTab.children[0].getComponent("CreatPlayTypePrefab").setPlayTypeNodeCheckMark(e.playTab.children[0])},.032)},onTouchTypeCallback:function(e){this.roomSelectData.setWanfa(e),this.setSelectListView()},setSelectListView:function(){var e=this;this.panelView.content.removeAllChildren();for(var t,n=i(this.roomSelectData.getShowList());!(t=n()).done;){var o=t.value,a=cc.instantiate(this.panelSelectPrefab),r=a.getComponent("PanelSelect");r.updateContent(o,this.roomSelectData.registerCheckBox.bind(this.roomSelectData),this.roomType),r.setRefreshRoomTypeFun(function(){e.refreshRoomTypeData()}),r.setRefreshCSLFun(function(){e.refreshCSLData()}),r.setRefreshPayFun(function(){e.refreshPayData()}),r.setRefreshHuChiQiangGangFun(function(t,i){e.refreshHuChiDataQiangGang(t,i)}),r.setRefreshHuChiJokerFun(function(){e.refreshHuChiDataJoker()}),r.setRefreshHuChiJokerTuoFun(function(t,i){e.refreshHuChiDataJokerTuo(t,i)}),r.setRefreshHuChiJokerTuoSiGuiFun(function(){e.refreshHuChiJokerTuoSiGui()}),r.setRefreshHuChiMaPaiFun(function(){e.refreshHuChiDataMaPai()}),this.panelView.content.addChild(a)}},refreshRoomTypeData:function(){this.roomSelectData.refreshRoomTypeData()},refreshCSLData:function(){this.roomSelectData.refreshCSLData()},refreshPayData:function(){this.roomSelectData.refreshPayData()},refreshHuChiDataQiangGang:function(e,t){this.roomSelectData.refreshHuChiQiangGangData(e,t)},refreshHuChiDataJoker:function(){this.roomSelectData.refreshHuChiJokerData()},refreshHuChiDataJokerTuo:function(e,t){this.roomSelectData.refreshHuChiJokerTuoData(e,t)},refreshHuChiJokerTuoSiGui:function(){this.roomSelectData.refreshHuChiJokerTuoSiGuiData()},refreshHuChiDataMaPai:function(){this.roomSelectData.refreshHuChiMaPaiData()},refreshHuChiDataQiDui:function(e){this.roomSelectData.refreshHuChiQiDuiData(e)},doBuyDesk:function(e){var t=this.roomSelectData.getSelectedData(),i=t[0],n=t[1],o=t[2],a=t[3],r=JSON.parse(a);if(this.roomType==E_ROOM_TYPE.MATCH){var s=GameManager.getLPointByJsonRule(a),c=GameManager.getMPointByJsonRule(a);if(0==c)return createTips("\u8bf7\u8f93\u5165\u706b\u5e01\u51c6\u5165\u9650\u5236");if(void 0!==s&&0==s)return createTips("\u8bf7\u8f93\u5165\u706b\u5e01\u4e0a\u9650\u9650\u5236");cc.log(">>>>>>>>>>>>>>>>>>>>>>>>>>json.mPointjson.mPoint"+r.mPoint),cc.log(">>>>>>>>>>>>>>>>>>>>>>>>>>json.mPointjson.mPoint"+c)}else if(this.roomType==E_ROOM_TYPE.PRIVATE){var l=GameManager.getLPointByJsonRule(a),u=GameManager.getMPointByJsonRule(a);if(console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>json.lPoint.lPoint"+u),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>json.lPoint.lPoint"+l),0==u)return createTips("\u8bf7\u8f93\u5165\u91d1\u5e01\u51c6\u5165\u9650\u5236");if(void 0!==l&&0==l)return createTips("\u8bf7\u8f93\u5165\u91d1\u5e01\u4e0b\u9650\u9650\u5236");if(l>u)return createTips(tools.stringFormat("{0}\u4e0d\u80fd\u5927\u4e8e{1}","\u4e0b\u9650\u91d1\u5e01","\u51c6\u5165\u91d1\u5e01"))}var h=function(t){e?(this.daiKaiNode.active=!0,this.daiKaiNode.getComponent("CreateRoomDaikai").initDataView(t,this.createPanelNode,this.node,this.parentNode)):loadsceneRes("Texture",function(){})}.bind(this);if(this.roomType==E_ROOM_TYPE.PRIVATE&&(r.lPoint=F_GetMoneyInput(r.lPoint),r.mPoint=F_GetMoneyInput(r.mPoint),r.bPoint=F_GetMoneyInput(r.bPoint),r.cCSFS=2,r.cCSL=5),this.roomType==E_ROOM_TYPE.MATCH&&(r.lPoint=1),20161010==i){console.log(">>>>>>ddddddd"+JSON.stringify(r)),r.wanfa=[],r.wanfa.push(r.wanfa_1),delete r.wanfa_1,r.wanfa.push(r.wanfa_2),delete r.wanfa_2,r.wanfa.push(r.wanfa_3),delete r.wanfa_3,r.tuoz=[],r.tuoz.push(0),r.tuoz.push(r.tuoz_1),delete r.tuoz_1,r.tuoz.push(r.tuoz_2),delete r.tuoz_2,r.tuoz.push(r.tuoz_3),delete r.tuoz_3,r.tuoz.push(r.tuoz_4),delete r.tuoz_4,r.tuoz.push(r.tuoz_5),delete r.tuoz_5,r.tuoz.push(r.tuoz_6),delete r.tuoz_6;var d=r.joker;r.joker=[];for(var f=0;f<4;f++)f==d?r.joker.push(1):r.joker.push(0);r.joker.push(r.jokerTuo_1),delete r.jokerTuo_1,r.joker.push(r.jokerTuo_2),delete r.jokerTuo_2,r.joker.push(r.jokerTuo_3),delete r.jokerTuo_3,r.joker.push(r.jokerTuo_4),delete r.jokerTuo_4,d=r.mapai,r.mapai=[],r.mapai.push(d),r.mapai.push(r.magen_1),delete r.magen_1}30000606==i&&(r.gameIdx>=3&&(r.rs=5),2!=r.gameIdx&&4!=r.gameIdx||(r.Stopjoin=0),r.wfIdx=r.gameIdx,6==r.rs&&(r.duHong=0,r.yaRuan=0)),a=JSON.stringify(r),this.lobbyRoomLogic.buyDesk(i,n,o,a,e,this.friendsGroupID,this.deskID,h)},onCreateRoom:function(e,t){switch(t){case"daikai":this.doBuyDesk(!0);break;case"create":this.doBuyDesk(!1)}}}),cc._RF.pop()},{BaseLayer:"BaseLayer",CreateRoomSelectData:"CreateRoomSelectData",LobbyRoomLogic:"LobbyRoomLogic"}],CreateRoomMsgDialog:[function(e,t){"use strict";cc._RF.push(t,"b2235Z4/BFIYqGIuDL/4aUC","CreateRoomMsgDialog");var i=e("LobbyRoomLogic");cc.Class({extends:e("BaseLayer"),properties:{Text_Name:cc.Label,Text_MonenyTip:cc.Label,toggleOne:cc.Toggle,toggleTwo:cc.Toggle,toggleThree:cc.Toggle,Text_toggleOneColor:cc.Label,Text_toggleTwoColor:cc.Label,annimetions:cc.Node},onLoad:function(){this.MagicGold=ConfigDataManager.getConfigDataByKey("useMagicExpressCostMoney",0)/G_MULTI_NUM||0,this.MagicGold=parseInt(this.MagicGold+""),this.lobbyRoomLogic=new i,this.configList=[],this.count=15,this.rs=4,this.wf=0,this.gameID=20161004},start:function(){var e=this;setTimeout(function(){e.annimetions&&cc.isValid(e.annimetions)&&(e.annimetions.active=!0)},2500)},init:function(t,i){this.gameID=0,this.model=0,this.m_callback=i,this.LobbyLogic=new(e("LobbyLogic")),this.Text_Name.string=this.getGameNameconfig(t),this.Text_MonenyTip.string="\u514d\u8d39",this.toggleTwo.interactable=!1,this.toggleThree.interactable=!1,this.Text_toggleOneColor.node.color=new cc.Color(146,146,146),this.Text_toggleTwoColor.node.color=new cc.Color(146,146,146)},onClickSports:function(e,t){if(e.isChecked)switch(t){case"count_1":this.count=15,this.Text_MonenyTip.string="\u514d\u8d39";break;case"count_2":this.count=24,this.Text_MonenyTip.string="\u514d\u8d39";break;case"count_3":this.count=30,this.Text_MonenyTip.string="\u514d\u8d39";break;case"count_4":this.count=60,this.Text_MonenyTip.string="\u514d\u8d39";break;case"count_5":this.count=8,this.Text_MonenyTip.string="\u514d\u8d39";break;case"count_6":this.count=16,this.Text_MonenyTip.string="\u514d\u8d39";break;case"rs_1":this.rs=4,this.toggleTwo.interactable=!1,this.toggleThree.interactable=!1,this.Text_toggleOneColor.node.color=new cc.Color(146,146,146),this.Text_toggleTwoColor.node.color=new cc.Color(146,146,146),this.toggleOne.getComponent(cc.Toggle).check();break;case"rs_2":this.rs=3,this.toggleTwo.interactable=!0,this.toggleThree.interactable=!1,this.Text_toggleOneColor.node.color=new cc.Color(0,255,227),this.Text_toggleTwoColor.node.color=new cc.Color(146,146,146),this.toggleOne.getComponent(cc.Toggle).check();break;case"rs_3":this.rs=2,this.toggleTwo.interactable=!0,this.toggleThree.interactable=!0,this.Text_toggleOneColor.node.color=new cc.Color(0,255,227),this.Text_toggleTwoColor.node.color=new cc.Color(0,255,227);break;case"wf_1":this.wf=0;break;case"wf_2":this.wf=1;break;case"wf_3":this.wf=2}else cc.log(">>>>>roomInforoomInfo"+t)},doBuyDesk:function(){var e={};e.count=this.count,e.rs=this.rs,e.wf=this.wf,e.model=this.model,e.pay=2;var t=function(e){if(e&&GlobalError.ERROR_NOT_ENOUGH_JEWELS==e){var t=function(e){"\u786e  \u5b9a"==e&&(this.m_callback&&this.m_callback(),this.node&&this.node.removeFromParent())}.bind(this),i={msg:"\u94bb\u77f3\u4e0d\u8db3",btn1:"\u786e  \u5b9a"};i.callbackFun=t,createMsgBox(i)}}.bind(this),i=JSON.stringify(e);this.lobbyRoomLogic.buyDesk(this.gameID,this.count,i,t)},onCreateRoom:function(e,t){switch(t){case"create":this.doBuyDesk(!1)}},getGameNameconfig:function(e){var t="";return"game_1"==e?(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=1):"game_2"==e?(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=2):"game_3"==e?(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=3):"game_4"==e?(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=4):"game_5"==e?(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=5):"game_6"==e&&(t="\u5168\u5357\u9ebb\u5c06",this.gameID=20161004,this.model=6),console.log(t),t},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic",LobbyRoomLogic:"LobbyRoomLogic"}],CreateRoomSelectData:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"fa7e1tR+GhAArcej0bcuur/","CreateRoomSelectData"),cc.Class({ctor:function(){this.gameID=null,this.gameConfig=null,this.FUN_NAME_TAB=null,this.checkboxMap=new Map,this.saveJSONConfigData=null,this.saveJSONPrivateConfigData=null,this.saveCreateRoomLayerComponent=null},setGameConfig:function(e,t,n,o){this.saveJSONConfigData=e,this.saveJSONPrivateConfigData=n,this.saveCreateRoomLayerComponent=o;var a=this.gameBuyConfig;e=e.json,console.log(">>>>>>>>>>>>>gameBuyConfiggameBuyConfig"+JSON.stringify(a)),t==E_ROOM_TYPE.NORMAL&&(t=E_ROOM_TYPE.PRIVATE),t==E_ROOM_TYPE.PRIVATE&&(e=n.json);for(var r,s=i(e);!(r=s()).done;)for(var c,l=i(r.value.tab);!(c=l()).done;){var u=c.value;if("Count"===u.name)for(var h=0;h<u.textDescList.length;h++)a[h]&&a[h].count?u.textDescList[h]=a[h].count+"\u5c40":cc.log("\u5f53\u524d php \u83b7\u53d6\u7684\u6570\u636e\u662f\u5426\u5b58\u5728\u8be5\u73a9\u6cd5\u7684\u5c40\u6570\u914d\u7f6e \u4e0d\u5b58\u5728\uff0c\u5e94\u7528\u672c\u5730json\u5c40\u6570");if("pay"===u.name)for(var d=this.getCostByCount(this.getCountByIdx(0)),f=0;f<u.textDescList.length;f++)"\u623f\u4e3b\u652f\u4ed8"==u.textDescList[f]&&(u.textDescList[f]+="(\u91d1\u5e01x"+F_GetMoneyDisplay(d.costNums)+")"),"AA\u652f\u4ed8"==u.textDescList[f]&&(u.textDescList[f]+="(\u6bcf\u4eba\u91d1\u5e01x"+F_GetMoneyDisplay(d.AAcostNums)+")")}this.gameConfig=e,this.roomType=t},getCostByCount:function(e){for(var t,n=i(this.gameBuyConfig);!(t=n()).done;){var o=t.value;if(o.count==e)return{costNums:o.costNums,AAcostNums:o.AAcostNums}}},getCountByIdx:function(e){return this.gameBuyConfig[e].count},getGameConfig:function(){return this.gameConfig},setWanfa:function(e){this.selectedTypeIndex=e,cc.log(">>>this.gameConfig",this.gameConfig),this.FUN_NAME_TAB=this.gameConfig[e].tab,this._CHECKBOX_KEY=[],this._CHECKBOX_TAG={};for(var t,n=i(this.FUN_NAME_TAB);!(t=n()).done;)for(var o=t.value,a=1;a<=o.num;a++)if(o.selectType<=SELECT_TYPE_OTHER){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a);this._CHECKBOX_KEY.push(r)}for(var s=1;s<this._CHECKBOX_KEY.length;s++){var c=this._CHECKBOX_KEY[s];this._CHECKBOX_TAG[c]=200+s}for(var l,u=[],h=i(this.FUN_NAME_TAB);!(l=h()).done;){var d=l.value,f=CELL_NUM;void 0!==d.customerCELL_NUM&&(f=d.customerCELL_NUM);var p=Math.ceil(d.num/f);if(1===p)d.cellIndex=1,u.push(d);else for(var g=1;g<=p;g++){var m=cloneObject(d);m.num=f,p==g&&(m.num=d.num-(g-1)*f),m.textDescList={};for(var _=0;_<m.num;_++)m.textDescList[_]=d.textDescList[(g-1)*f+_];1!==g&&(m.desc=""),m.cellIndex=g,u.push(m)}}this.showList=u},getSelectedData:function(){cc.log(this.roomType+"\u8fdb\u6765\u9009\u62e9\u623f\u7c7b\u578b getSelectedDatagetSelectedDatagetSelectedDatagetSelectedData");var e,t,i,n=this.gameID,o=0;return e=this.getSelectedGameCount(),t=this.getSelectedJsonStr(),this.roomType==E_ROOM_TYPE.CARD?i=RoomListManager.getCardRoomByGameID(n):this.roomType==E_ROOM_TYPE.MATCH?i=RoomListManager.getMatchRoomByGameID(n):this.roomType==E_ROOM_TYPE.PRIVATE&&(i=RoomListManager.getPrivateRoomByGameID(n)),cc.log(">>>>>roomInforoomInfo"+JSON.stringify(i)),i&&(o=i.roomID),[n,o,e,t]},refreshHuChiQiangGangData:function(e,t){for(var n,o=[],a=i(this.FUN_NAME_TAB);!(n=a()).done;){var r=n.value;if(("\u73a9\u6cd5"==r.desc||"wanfa"==r.name||3==r.num)&&"\u73a9\u6cd5"==r.desc&&"wanfa"==r.name&&3==r.num)for(var s=0;s<r.num;s++){var c=tools.stringFormat(CHECKBOX_NAME,r.name,s),l=this.checkboxMap.get(c).getComponent("BaseLayer");o.push(l)}}o.length>0&&3==o.length&&("selected"==e?2==t&&o[1].setSelectedState(!0):"unSelected"==e&&o[2].setSelectedState(!1))},refreshHuChiJokerData:function(){for(var e,t={},n=[],o=i(this.FUN_NAME_TAB);!(e=o()).done;){var a=e.value;if("\u9b3c\u724c"==a.desc||"joker"==a.name||"jokerTuo"==a.name)if("joker"==a.name)for(var r=0;r<a.num;r++){var s=tools.stringFormat(CHECKBOX_NAME,a.name,r);if(this.checkboxMap.get(s).getComponent("BaseLayer").getChecked()){t[a.name]=r;break}}else if("jokerTuo"==a.name)for(var c=0;c<a.num;c++){var l=tools.stringFormat(CHECKBOX_NAME,a.name,c),u=this.checkboxMap.get(l).getComponent("BaseLayer");n.push(u)}}if(t&&0==t.joker)for(var h=0;h<n.length;h++)n[h].setSelectedInteractableState(!1);else{for(var d=0;d<n.length;d++)n[d].setInteractableBtn(!1);1!=t.joker&&2!=t.joker||n.length>0&&n[0].setSelectedState(!1)}},refreshHuChiJokerTuoData:function(e,t){for(var n,o=[],a=[],r=[],s=i(this.FUN_NAME_TAB);!(n=s()).done;){var c=n.value;if("\u9b3c\u724c"==c.desc||"joker"==c.name||"jokerTuo"==c.name)if("jokerTuo"==c.name){for(var l=0;l<c.num;l++){var u=tools.stringFormat(CHECKBOX_NAME,c.name,l),h=this.checkboxMap.get(u).getComponent("BaseLayer").getChecked();o.push(h)}for(var d=0;d<c.num;d++){var f=tools.stringFormat(CHECKBOX_NAME,c.name,d),p=this.checkboxMap.get(f).getComponent("BaseLayer");r.push(p)}}else if("joker"==c.name)for(var g=0;g<c.num;g++){var m=tools.stringFormat(CHECKBOX_NAME,c.name,g),_=this.checkboxMap.get(m).getComponent("BaseLayer");a.push(_)}}"selected"==e&&(o&&o[0]&&0==t&&a[a.length-1].setSelectedState(!0),o&&o[3]&&3==t&&r[2].setSelectedState(!0))},refreshHuChiJokerTuoSiGuiData:function(){for(var e,t=[],n=i(this.FUN_NAME_TAB);!(e=n()).done;){var o=e.value;if("jokerTuo"==o.name&&"jokerTuo"==o.name)for(var a=0;a<o.num;a++){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a),s=this.checkboxMap.get(r).getComponent("BaseLayer");t.push(s)}}t[t.length-1].setSelectedState(!1)},refreshHuChiMaPaiData:function(){for(var e,t={},n=[],o=i(this.FUN_NAME_TAB);!(e=o()).done;){var a=e.value;if("\u9a6c\u724c"==a.desc||"mapai"==a.name||"magen"==a.name){if("mapai"==a.name)for(var r=0;r<a.num;r++){var s=tools.stringFormat(CHECKBOX_NAME,a.name,r);if(this.checkboxMap.get(s).getComponent("BaseLayer").getChecked()){t[a.name]=r;break}}if("magen"==a.name)for(var c=0;c<a.num;c++){var l=tools.stringFormat(CHECKBOX_NAME,a.name,c),u=this.checkboxMap.get(l).getComponent("BaseLayer");n.push(u)}}}if(t&&0==t.mapai)for(var h=0;h<n.length;h++)n[h].setSelectedInteractableState(!1);else for(var d=0;d<n.length;d++)n[d].setInteractableBtn(!1)},refreshHuChiQiDuiData:function(e){for(var t,n={},o=[],a=i(this.FUN_NAME_TAB);!(t=a()).done;){var r=t.value;if("\u62d3\u5c55"==r.desc||"tuoz"==r.name){for(var s=0;s<2;s++){var c=tools.stringFormat(CHECKBOX_NAME,r.name,s);if(this.checkboxMap.get(c).getComponent("BaseLayer").getChecked()){n[r.name]=s;break}}for(var l=0;l<2;l++){var u=tools.stringFormat(CHECKBOX_NAME,r.name,l),h=this.checkboxMap.get(u);o.push(h)}}}if(2==o.length)for(var d=0;d<2;d++)e!=d&&(o[d].getComponent("BaseLayer").toggle.isChecked=!1,o[d].getComponent("BaseLayer").setChecked(!1))},refreshRoomTypeData:function(){for(var e,t={},n=i(this.FUN_NAME_TAB);!(e=n()).done;){var o=e.value;if("RoomType"==o.name)for(var a=0;a<o.num;a++){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a);if(this.checkboxMap.get(r).getComponent("BaseLayer").getChecked()){t[o.name]=o.valueList[a];break}}}t.RoomType==E_ROOM_TYPE.CARD?this.roomType!=E_ROOM_TYPE.CARD&&(this.roomType=E_ROOM_TYPE.CARD,this.saveCreateRoomLayerComponent&&this.saveCreateRoomLayerComponent.setJSONDataToView(this.saveJSONConfigData,this.roomType,this.saveJSONPrivateConfigData)):t.RoomType==E_ROOM_TYPE.PRIVATE&&this.roomType!=E_ROOM_TYPE.PRIVATE&&(this.roomType=E_ROOM_TYPE.PRIVATE,this.saveCreateRoomLayerComponent&&this.saveCreateRoomLayerComponent.setJSONDataToView(this.saveJSONConfigData,this.roomType,this.saveJSONPrivateConfigData))},refreshCSLData:function(){for(var e,t={},n=[],o=i(this.FUN_NAME_TAB);!(e=o()).done;){var a=e.value;if("\u62bd\u6c34\u65b9\u5f0f"==a.desc||"cCSFS"==a.name||"cCSL"==a.name){if("cCSFS"==a.name)for(var r=0;r<a.num;r++){var s=tools.stringFormat(CHECKBOX_NAME,a.name,r);if(this.checkboxMap.get(s).getComponent("BaseLayer").getChecked()){t[a.name]=a.valueList[r];break}}else if("cCSL"==a.name)for(var c=0;c<a.num;c++){var l=tools.stringFormat(CHECKBOX_NAME,a.name,c),u=this.checkboxMap.get(l).getComponent("BaseLayer");n.push(u)}if(t&&0==t.cCSFS)for(var h=0;h<n.length;h++)n[h].setSelectedInteractableState(!1);else for(var d=0;d<n.length;d++)n[d].setInteractableBtn(!1)}}},refreshPayData:function(){for(var e,t={},n=i(this.FUN_NAME_TAB);!(e=n()).done;){var o=e.value;if("Count"==o.name||"rs"==o.name)for(var a=0;a<o.num;a++){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a);if(this.checkboxMap.get(r).getComponent("BaseLayer").getChecked()){t[o.name]=a;break}}}for(var s,c=i(this.FUN_NAME_TAB);!(s=c()).done;){var l=s.value;if("pay"==l.name){cc.log("refreshPayData"),cc.log(l);for(var u=0;u<l.num;u++){var h=tools.stringFormat(CHECKBOX_NAME,l.name,u),d=this.checkboxMap.get(h).getComponent("BaseLayer"),f=d.getText();f=f.substr(0,4);var p=this.getCostByCount(this.getCountByIdx(t.Count));"\u623f\u4e3b\u652f\u4ed8"==f?d.setText(f+"(\u91d1\u5e01x"+F_GetMoneyDisplay(p.costNums)+")"):"AA\u652f\u4ed8"==f&&d.setText(f+"(\u6bcf\u4eba\u91d1\u5e01x"+F_GetMoneyDisplay(p.AAcostNums)+")")}}}},getSelectedJsonStr:function(){var e=this.getSelectedJsonObject();return 30100008==this.gameID&&(e.Qiangzhuan=4),JSON.stringify(e)},getSelectedJsonObject:function(){for(var e,t={},n=i(this.FUN_NAME_TAB);!(e=n()).done;){var o=e.value;if("Count"!==o.name)if(o.selectType===SELECT_TYPE_ONE)for(var a=0;a<o.num;a++){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a);if(this.checkboxMap.get(r).getComponent("BaseLayer").getChecked()){var s=o.name;o.keyList&&o.keyList[a]&&(s=o.keyList[a]),t[s]=a+1,o.valueList&&(t[s]=o.valueList[a]);break}}else if(o.selectType===SELECT_TYPE_MORE)for(var c=0;c<o.num;c++){var l=tools.stringFormat(CHECKBOX_NAME,o.name,c),u=this.checkboxMap.get(l).getComponent("BaseLayer").getChecked(),h=tools.stringFormat("{0}_{1}",o.name,c+1);o.keyList&&o.keyList[c]&&(h=o.keyList[c]),t[h]=u?1:0}else if(o.selectType===SELECT_TYPE_INPUT)for(var d=0;d<o.num;d++){var f=tools.stringFormat(INPUTBOX_NAME,o.name,d),p=this.checkboxMap.get(f).getComponent("BaseLayer").getInput();t[o.keyList[d]]=Number(p)||0}}return void 0!==this.gameConfig[this.selectedTypeIndex].gameIdx&&(t.gameIdx=this.gameConfig[this.selectedTypeIndex].gameIdx),0==t.cCSFS?(t.cCSL&&(t.cCSL=null),t.cCSL2&&(t.cCSL2=null)):1==t.cCSFS&&t.cCSL2&&(t.cCSL2=null),t},getSelectedGameCount:function(){for(var e,t=0,n=i(this.FUN_NAME_TAB);!(e=n()).done;){var o=e.value;if("Count"===o.name)for(var a=0;a<o.num;a++){var r=tools.stringFormat(CHECKBOX_NAME,o.name,a);if(this.checkboxMap.get(r).getComponent("BaseLayer").getChecked()){this.gameBuyConfig[a]&&(t=this.gameBuyConfig[a].count);break}}}return t},registerCheckBox:function(e){this.checkboxMap.set(e.name,e)},getShowList:function(){return this.showList},setGameBuyConfig:function(e){this.gameBuyConfig=e},getGameBuyConfig:function(){return this.gameBuyConfig}}),cc._RF.pop()},{}],DDZ_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"3ecb03AieFHyY5xxMNJfM2W","DDZ_ZhanJi_Item"),cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,cards:cc.Node,cardItem:cc.Node,bankerView:cc.Node},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.bankerView.active=e.isBanker;for(var n=0;n<e.handCards.length;n++)if(255!=e.handCards[n]){var o=cc.instantiate(this.cardItem);o.setContentSize(cc.size(75,90)),o.active=!0,setTexture(o.getComponent(cc.Sprite),tools.stringFormat("CSDDZ/card/{0}",e.handCards[n])),this.cards.addChild(o)}else this.cards.children[n].active=!1}}),cc._RF.pop()},{}],DataManager:[function(e,t){"use strict";cc._RF.push(t,"f54bfLPixhLGLqWLyW9yPCH","DataManager");var i=cc.Class({statics:{instance:null},ctor:function(){this.dataManagerList={}},addManager:function(e,t){for(var i in this.dataManagerList)if(i==e){this.dataManagerList[e]=t;break}this.dataManagerList[e]=t},removeManager:function(e){for(var t in this.dataManagerList)if(t==e){this.dataManagerList[e]=null;break}},clear:function(){for(var e in this.dataManagerList){var t=this.dataManagerList[e];t&&t.clear&&(t.clear(),this.dataManagerList[e]=null)}}});i.instance=new i,t.exports=i,cc._RF.pop()},{}],DataNotify:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"049cdrJ4IJLr4Ca/sZHWbar","DataNotify"),t.exports=cc.Class({ctor:function(){this.uiList=[]},addListener:function(e){for(var t=0;t<this.uiList.length;t++)if(e==this.uiList[t])return;this.uiList.push(e)},removeListener:function(e){for(var t=0;t<this.uiList.length;t++)e==this.uiList[t]&&this.uiList.splice(t,1)},onDiamondChanged:function(e){UserInfoManager.getMyInfo().jewels=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onDiamondChanged&&o.onDiamondChanged(e)}},onMoneyChanged:function(e){UserInfoManager.getMyInfo().money=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onMoneyChanged&&o.onMoneyChanged(e)}},onGiftCardChanged:function(e){UserInfoManager.getMyInfo().giftCard=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onGiftCardChanged&&o.onGiftCardChanged(e)}},onTransfernumChanged:function(e){UserInfoManager.getMyInfo().transferNum=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onTransfernumChanged&&o.onTransfernumChanged(e)}},onLogonGamePeoplecountChange:function(e){UserInfoManager.getMyInfo().peopleCount=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onLogonGamePeoplecountChange&&o.onLogonGamePeoplecountChange(e)}},onLogonNewMsgComing1:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onLogonNewMsgComing1&&o.onLogonNewMsgComing1(e)}},onLogonNewMsgComing2:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onLogonNewMsgComing2&&o.onLogonNewMsgComing2(e)}},onScoreChanged:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onScoreChanged&&o.onScoreChanged(e)}},onPointChanged:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onPointChanged&&o.onPointChanged(e)}},onBgChanged:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onBgChanged&&o.onBgChanged(e)}},onMapChanged:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onMapChanged&&o.onMapChanged(e)}},onOpenRoomChanged:function(){for(var e,t=i(this.uiList);!(e=t()).done;){var n=e.value;n.onOpenRoomChanged&&n.onOpenRoomChanged()}},onLobbyLayoutTypeChanged:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onLobbyLayoutTypeChanged&&o.onLobbyLayoutTypeChanged(e)}},onBankMoneyChanged:function(e){UserInfoManager.getMyInfo().bankMoney=e;for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onBankMoneyChanged&&o.onBankMoneyChanged(e)}},onMailRedSpot:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onMailRedSpot&&o.onMailRedSpot(e)}},onFriendNotifyAdd:function(e){FriendManager.addFriendNotify(e),FriendManager.addFriendInvitePlayNotify(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendNotifyAdd&&o.onFriendNotifyAdd(e)}},onFriendNotifyDel:function(e){FriendManager.delFriendNotify(e),FriendManager.delFriendInvitePlayNotify(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendNotifyDel&&o.onFriendNotifyDel(e)}},onFriendAdd:function(e){FriendManager.addFriend(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendAdd&&o.onFriendAdd(e)}},onFriendDel:function(e){FriendManager.delFriend(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendDel&&o.onFriendDel(e)}},onBuyDeskInfoDel:function(e){cc.log("\u5f00\u623f\u5217\u8868\u4fe1\u606f\u66f4\u65b0 \u6682\u672a\u5904\u7406"),RoomRecordManager.delRoomRecord(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onBuyDeskInfoDel&&o.onBuyDeskInfoDel(e)}},onBuyDeskInfoUpdate:function(e){cc.log("\u5f00\u623f\u684c\u5b50\u4fe1\u606f\u66f4\u65b0 \u6682\u672a\u5904\u7406"),RoomRecordManager.updateRoomRecord(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onBuyDeskInfoUpdate&&o.onBuyDeskInfoUpdate(e)}},onFriendOnlineStatusChange:function(e){FriendManager.setFriendOnlineStatus(e.friendID,e.onlineStatus);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendOnlineStatusChange&&o.onFriendOnlineStatusChange(e.friendID,e.onlineStatus)}},onDeskUserSit:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onDeskUserSit&&o.onDeskUserSit(e)}},onDeskUserUp:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onDeskUserUp&&o.onDeskUserUp(e)}},onFriendRedSpotChange:function(e){FriendManager.setFriendListRedSpotCount(e.friendListRedSpotCount),FriendManager.setNotifyListRedSpotCount(e.notifyListRedSpotCount);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendRedSpotChange&&o.onFriendRedSpotChange(e)}},onFriendsGroupAdd:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendsGroupAdd&&o.onFriendsGroupAdd(e)}},onFriendsGroupDel:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendsGroupDel&&o.onFriendsGroupDel(e)}},onFriendsGroupNotifyAdd:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendsGroupNotifyAdd&&o.onFriendsGroupNotifyAdd(e)}},onFriendsGroupNotifyDel:function(e){FriendsGroupManager.delNotify(e);for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendsGroupNotifyDel&&o.onFriendsGroupNotifyDel(e)}},onFriendsGroupMemberAdd:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupMemberAdd&&a.onFriendsGroupMemberAdd(e,t)}},onFriendsGroupMemberDel:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupMemberDel&&a.onFriendsGroupMemberDel(e,t)}},onFriendsGroupRoomMsgAdd:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupRoomMsgAdd&&a.onFriendsGroupRoomMsgAdd(e,t)}},onFriendsGroupRoomMsgDel:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupRoomMsgDel&&a.onFriendsGroupRoomMsgDel(e,t)}},onFriendsGroupRoomMsgUpdate:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupRoomMsgUpdate&&a.onFriendsGroupRoomMsgUpdate(e,t)}},onFriendsGroupAccoMsgAdd:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupAccoMsgAdd&&a.onFriendsGroupAccoMsgAdd(e,t)}},onFriendsGroupAccoMsgDel:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupAccoMsgDel&&a.onFriendsGroupAccoMsgDel(e,t)}},onFriendsGroupNameChange:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupNameChange&&a.onFriendsGroupNameChange(e,t)}},onFriendsGroupRedSpotChange:function(e){for(var t,n=i(this.uiList);!(t=n()).done;){var o=t.value;o.onFriendsGroupRedSpotChange&&o.onFriendsGroupRedSpotChange(e)}},onFriendsGroupNoticeChange:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupNoticeChange&&a.onFriendsGroupNoticeChange(e,t)}},onFriendsGroupWechatChange:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupWechatChange&&a.onFriendsGroupWechatChange(e,t)}},onFriendsGroupScoreChange:function(e,t,n){for(var o,a=i(this.uiList);!(o=a()).done;){var r=o.value;r.onFriendsGroupScoreChange&&r.onFriendsGroupScoreChange(e,t,n)}},onFriendsGroupDeskAdd:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupDeskAdd&&a.onFriendsGroupDeskAdd(e,t)}},onFriendsGroupDeskChange:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupDeskChange&&a.onFriendsGroupDeskChange(e,t)}},onFriendsGroupDeskDel:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupDeskDel&&a.onFriendsGroupDeskDel(e,t)}},onFriendsGroupVIPDeskAdd:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupVIPDeskAdd&&a.onFriendsGroupVIPDeskAdd(e,t)}},onFriendsGroupVIPDeskChange:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupVIPDeskChange&&a.onFriendsGroupVIPDeskChange(e,t)}},onFriendsGroupVIPDeskDel:function(e,t){for(var n,o=i(this.uiList);!(n=o()).done;){var a=n.value;a.onFriendsGroupVIPDeskDel&&a.onFriendsGroupVIPDeskDel(e,t)}},onFriendsGroupStatusChange:function(e,t,n){console.log(this.uiList.length+"?length>>>>>"+n+">>>>"+t+">>>>>>>>>>>>>>onFriendsGroupStatusChange"+e);for(var o,a=i(this.uiList);!(o=a()).done;){var r=o.value;r.onFriendsGroupStatusChange&&r.onFriendsGroupStatusChange(e,t,n)}},onFriendsGroupPowerChange:function(e,t,n){console.log(n+">>>>"+t+">>>>>>>>>>>>>>onFriendsGroupPowerChange"+e);for(var o,a=i(this.uiList);!(o=a()).done;){var r=o.value;r.onFriendsGroupPowerChange&&r.onFriendsGroupPowerChange(e,t,n)}},onFriendsGroupMemberFireCoinChange:function(e,t,n){for(var o,a=i(this.uiList);!(o=a()).done;){var r=o.value;r.onFriendsGroupMemberFireCoinChange&&r.onFriendsGroupMemberFireCoinChange(e,t,n)}},onCurMatchStart:function(e){for(var t in this.uiList){var i=this.uiList[t];i.onCurMatchStart&&i.onCurMatchStart(e)}},onCurMatchChange:function(e){for(var t in cc.error("onCurMatchChangeonCurMatchChangeonCurMatchChangeonCurMatchChange"),this.uiList){var i=this.uiList[t];i.onCurMatchChange&&i.onCurMatchChange(e)}},onCurMatchFail:function(e){for(var t in this.uiList){var i=this.uiList[t];i.onCurMatchFail&&i.onCurMatchFail(e)}},onCurMatchComeSoon:function(e,t){for(var i in this.uiList){var n=this.uiList[i];cc.log(this.uiList),n.onCurMatchComeSoon&&n.onCurMatchComeSoon(e,t)}},onCurMatchResult:function(e){for(var t in this.uiList){var i=this.uiList[t];i.onCurMatchResult&&i.onCurMatchResult(e)}},showMatchGameDeskInfo:function(){for(var e in cc.log(this.uiList,"this.uiList++++"),this.uiList){var t=this.uiList[e];t.showMatchGameDeskInfo&&t.showMatchGameDeskInfo()}}}),cc._RF.pop()},{}],DayAwardRecord:[function(e,t){"use strict";cc._RF.push(t,"1e715XllN5Dab86xpM5hE9p","DayAwardRecord"),cc.Class({extends:e("BaseLayer"),properties:{ListView_Reward:cc.ScrollView,Panel_Reward:cc.Node,page_text:cc.Label,buttonPre:cc.Button,buttonNext:cc.Button},init:function(){this.PAGE_COUNT_Record=8,this.curPage_Record=0,this.maxPage_Record=0,this.setPageInfo()},setPageInfo:function(){var e=this.page_text,t=this.buttonPre,i=this.buttonNext,n=this.curPage_Record,o=this.maxPage_Record;e.string=n+" / "+o,t.interactable=!(n<=1),i.interactable=!(n>=o)},onButtonPre:function(){this.curPage_Record=this.curPage_Record-1,this.curPage_Record<=0&&(this.curPage_Record=1),this.requestInfo()},onButtonNext:function(){this.curPage_Record=this.curPage_Record+1,this.curPage_Record>this.maxPage_Record&&(this.curPage_Record=this.maxPage_Record),this.requestInfo()},createTime:function(e){var t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),c=i+"-";return n<10&&(c+="0"),c+=n+"-",o<10&&(c+="0"),c+=o+" ",a<10&&(c+="0"),c+=a+":",r<10&&(c+="0"),c+=r+":",s<10&&(c+="0"),c+s},initRewardListView:function(e){var t=function(e,t,i){var n=t.getChildByName("Text_Rank").getComponent(cc.Label),o=t.getChildByName("Text_Start").getComponent(cc.Label),a=t.getChildByName("Text_Money").getComponent(cc.Label),r=t.getChildByName("Text_LQ").getComponent(cc.Label);n.string=i.ranking+"",o.string=this.createTime(1e3*i.time_start)+"",a.string=i.gold+"",r.string=this.createTime(1e3*i.create_time)+""}.bind(this);F_InitListView(e,t,this.ListView_Reward,this.Panel_Reward,1)},requestInfo:function(){var e=this;MatchManager.requestMatchRewardRecordList(function(t){var i=t.data;null==t.page?(e.buttonPre.active=!1,e.buttonNext.active=!1,e.page_text.active=!1):(e.buttonPre.active=!0,e.buttonNext.active=!0,e.page_text.active=!0,e.curPage_Record=Number(t.page||1),e.maxPage_Record=Number(t.totalPage||1),0==t.totalPage&&(t.page=0,e.curPage_Record=0,e.maxPage_Record=0),e.setPageInfo()),e.initRewardListView(i)},this.curPage_Record,10)},onEnable:function(){this.requestInfo()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],DayPanel:[function(e,t){"use strict";cc._RF.push(t,"c88c3FkL4xFyZq1rOrB+84w","DayPanel"),cc.Class({extends:e("LobbyBaseLayer"),properties:{AtlasLabel_Enroll_Cost:cc.Label,Text_Time:cc.Label,Enroll_Cost_Node:cc.Node,Button_Enroll:cc.Node,Image_Free:cc.Node,Enrolled:cc.Node,Enroll_Stop:cc.Button,AtlasLabel_Time_1:cc.Label,AtlasLabel_Time_2:cc.Label,AtlasLabel_Time_3:cc.Label,AtlasLabel_Time_4:cc.Label,AtlasLabel_Time_5:cc.Label,AtlasLabel_Time_6:cc.Label,text_chouma:cc.Label,text_fee:cc.Label,text_title:cc.Label},init:function(e,t){void 0!==t&&this.refresh_panel(e,t)},getChineseText:function(e){var t=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],i="";e=""+e;for(var n=0;n<e.length;n++)i+=t[parseInt(e.charAt(n))];return i},refresh_panel:function(e,t){if(this.matchId=e.id,this.EndTimeStamp=parseInt(new Date(e.match_date+" "+e.people_end).getTime()/1e3),this.text_title.string="\u6bcf\u65e5\u8d5b"+this.getChineseText(t+1),this.Text_Time.string="\u6bd4\u8d5b\u65f6\u95f4"+e.start_time+"~"+e.end_time,this.text_chouma.string=e.game_money+"",this.text_fee.string=e.fee+"",this.AtlasLabel_Enroll_Cost.string=tools.stringFormat("X{0}",e.game_money+e.fee),0==e.status?(this.Enrolled.active=!1,this.Button_Enroll.active=!0,parseInt(e.enroll_cost_gold)<=0&&(this.AtlasLabel_Enroll_Cost.string="\u514d\u8d39")):(this.Enrolled.active=!0,this.Button_Enroll.active=!1),this.currentTime=e.current_time,this.leftTime=e.match_time-this.currentTime,this.leftTime>1){this.EndTimeStamp-this.currentTime<=0&&(this.Enrolled.active=!1,this.Button_Enroll.active=!1,this.Enroll_Stop.node.active=!0),this.matchBeginTimeSchedule&&(this.unschedule(this.matchBeginTimeSchedule),this.matchBeginTimeSchedule=null);var i=function(){if(this.leftTime=this.leftTime-1,this.currentTime=this.currentTime+1,this.leftTime<=300||this.EndTimeStamp-this.currentTime<=0?(this.Enrolled.active=!1,this.Button_Enroll.active=!1,this.Enroll_Stop.node.active=!0):this.Enroll_Stop.node.active=!1,this.leftTime<=0)return this.unschedule(this.matchBeginTimeSchedule),void(this.matchBeginTimeSchedule=null);var e=parseInt(this.leftTime),t=(Math.floor(e/3600),Math.floor(e/3600)),i=(Math.floor(e/60%60),Math.floor(e/60%60)),n=(Math.floor(e%60),Math.floor(e%60)),o=[];o.push((tools.fillZero2(t,1)+"").substr(0,1)),o.push((tools.fillZero2(t,1)+"").substr(1,1)),o.push((tools.fillZero2(i,1)+"").substr(0,1)),o.push((tools.fillZero2(i,1)+"").substr(1,1)),o.push((tools.fillZero2(n,1)+"").substr(0,1)),o.push((tools.fillZero2(n,1)+"").substr(1,1));for(var a=1;a<=6;a++)this[tools.stringFormat("AtlasLabel_Time_{0}",a)].string=o[a-1]}.bind(this);this.matchBeginTimeSchedule=i,this.schedule(this.matchBeginTimeSchedule,1,cc.macro.REPEAT_FOREVER)}else{for(var n=1;n<=6;n++)this[tools.stringFormat("AtlasLabel_Time_{0}",n)].string="0";this.Enrolled.active=!1,this.Button_Enroll.active=!1,this.Enroll_Stop.node.active=!0}},enroll_btn_clicked:function(){var e=this;0!=this.Button_Enroll.active?createMsgBox({msg:"\u5c06\u8f6c\u6362\u4f59\u989d\u4e3a\u6bd4\u8d5b\u7b79\u7801?",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(t){if("\u786e\u5b9a"==t){var i=function(){createTips("\u62a5\u540d\u6210\u529f"),this.Button_Enroll.active,this.Enrolled.active=!0}.bind(e);void 0!==e.matchId&&MatchManager.requestMatchEnroll(e.matchId,i)}}}):createTips("\u672c\u573a\u6bd4\u8d5b\u5df2\u7ecf\u62a5\u540d")},matchEnrollCancelClick:function(){var e=this;createMsgBox({msg:"\u53d6\u6d88\u6bd4\u8d5b\u7b79\u7801\u5c06\u9000\u56de\uff0c\u4f46\u62a5\u540d\u8d39\u4e0d\u9000\u56de?",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(t){if("\u786e\u5b9a"==t){var i=function(){createTips("\u53d6\u6d88\u62a5\u540d\u6210\u529f"),this.Enrolled.active=!1,this.Button_Enroll.active=!0}.bind(e);void 0!==e.matchId&&MatchManager.requestMatchEnrollCancel(e.matchId,i)}}})},doButton_Enroll_StopClick:function(){this.leftTime<=0?createTips("\u5df2\u7ecf\u8fc7\u4e86\u62a5\u540d\u65f6\u95f4"):createTips("\u8ddd\u79bb\u5f00\u8d5b5\u5206\u949f\u5185\u4e0d\u80fd\u62a5\u540d")},requestCurMatchInfo:function(){MatchManager.requestCurMatchInfo(function(e){this.refresh_panel(e)}.bind(this))},onCurMatchChange:function(e){dump("onCurMatchChange",e)},start:function(){}}),cc._RF.pop()},{LobbyBaseLayer:"LobbyBaseLayer"}],DealTingLayer:[function(e,t){"use strict";cc._RF.push(t,"0196clolllB+qdPlueZvqqN","DealTingLayer"),cc.Class({extends:e("BaseLayer"),properties:{moneyLabel:cc.Label,editBox:cc.EditBox,moneySlider:cc.Slider,zhuangScrollView:cc.ScrollView,zhuangItemPrefab:cc.Prefab,Text_tips:cc.Label,Button_apply:cc.Node,Button_ApplyDown:cc.Node,disableSliderMoney:cc.Node,Text_MinMoney:cc.Label,Text_MaxMoney:cc.Label},init:function(e){e&&(this._delegete=e)},showData:function(e,t,i,n){var o=this;if(e){if(this._money=e.tableLogic.getMinShangZhuangMoney(),this.Text_MinMoney.getComponent("mlabel").setString(this._money,!1),void 0!==n?this.moneyLabel.getComponent("mlabel").setString(n,!1):this.moneyLabel.getComponent("mlabel").setString(Number(e.tableLogic.getMyMoney()),!1),this.moneySliderComponent=this.moneySlider.getComponent("CommonSlider"),this.isLoadedData)this.scheduleOnce(function(){o.moneySlider.progress=o._percent||0,o.moneySliderComponent.updateProgressImg(o._percent||0)},.05);else{this.isLoadedData=!0,this.editBox.getComponent("mlabel").setString(this._money,!1),this.scheduleOnce(function(){o.moneySlider.node.getComponent("CommonSlider").init(function(e){o._percent=e,o._money=Math.floor(o._percent*(o._delegete.tableLogic.getMyMoney()-o._delegete.tableLogic.getMinShangZhuangMoney()))+o._delegete.tableLogic.getMinShangZhuangMoney(),o.editBox.getComponent("mlabel").setString(o._money,!1)})},.05);var a=this.Text_MinMoney.string;this.Text_tips.string="\u6ce8\uff1a\u4e0a\u5e84\u91d1\u989d\u4e0d\u5c11\u4e8e "+a+" ,\u6309\u4e0a\u5e84\u91d1\u5e01\u591a\u5c11\u6392\u5e8f,\n\u5f53\u4e0a\u5e84\u91d1\u989d\u4f4e\u4e8e "+a+" \u65f6\u5c06\u81ea\u52a8\u4e0b\u5e84"}this.refreshShangzhaunList(t,i),i&&this.refreshShangZhuangMoney()}},refreshShangzhaunList:function(e,t){this.refreshApplyBtn(t);for(var i=[],n=0;n<5;n++)""==e[n].name&&0==e[n].userID||(i[i.length]=e[n]);this.zhuangScrollView.content.children.forEach(function(e){e.destroy()});var o=i.sort(function(e,t){var i=e.shangzhuangMoney,n=t.shangzhuangMoney;return i<n?1:i>n?-1:0});i=o;for(var a=0;a<i.length;a++){var r=cc.instantiate(this.zhuangItemPrefab);this.zhuangScrollView.content.addChild(r),i[a].ranking="\u7b2c"+String(a+1)+"\u540d",r.x=0,r.getComponent("item_deal_ting").setData(i[a]),i[a].userID==this._delegete.tableLogic.getMyID()&&(this.editBox.getComponent("mlabel").setString(i[a].shangzhuangMoney,!0),this._money=i[a].shangzhuangMoney,this._percent=(i[a].shangzhuangMoney-this._delegete.tableLogic.getMinShangZhuangMoney())/(this._delegete.tableLogic.getMyMoney()-this._delegete.tableLogic.getMinShangZhuangMoney()),this.moneySlider.getComponent("CommonSlider").updateProgressImg(this._percent),this.moneySlider.progress=this._percent)}var s=this._delegete.tableLogic.getBanekrInfo();if(s&&s.userID==this._delegete.tableLogic.getMyID()){var c=s.shangzhuangMoney;this.editBox.getComponent("mlabel").setString(c,!0),this._money=c,this._percent=(c-this._delegete.tableLogic.getMinShangZhuangMoney())/(this._delegete.tableLogic.getMyMoney()-this._delegete.tableLogic.getMinShangZhuangMoney()),this.moneySlider.getComponent("CommonSlider").updateProgressImg(this._percent),this.moneySlider.progress=this._percent}},refreshApplyBtn:function(e){this._delegete&&(e?(this.Button_apply.active=!0,this.Button_apply.getComponent(cc.Button).interactable=!0,this.Button_ApplyDown.active=!1,this.Button_ApplyDown.getComponent(cc.Button).interactable=!0,this.moneySlider.node.getChildByName("Handle").getComponent(cc.Button).interactable=!0,this.disableSliderMoney.active=!1):(this.Button_ApplyDown.active=!0,this.Button_apply.active=!1,this.Button_apply.getComponent(cc.Button).interactable=!1,this.moneySlider.node.getChildByName("Handle").getComponent(cc.Button).interactable=!1,this.disableSliderMoney.active=!0),this._money<this._delegete.tableLogic.getMinShangZhuangMoney()||(this._money,this._delegete.tableLogic.getMyMoney(),this._delegete.tableLogic.getMinShangZhuangMoney()),this._delegete.tableLogic.getMyMoney()<this._delegete.tableLogic.getMinShangZhuangMoney()&&(this.moneySlider.node.getChildByName("Handle").getComponent(cc.Button).interactable=!1,this.disableSliderMoney.active=!0,this.Button_apply.active=!0,this.Button_apply.getComponent(cc.Button).interactable=!0,this.Button_ApplyDown.getComponent(cc.Button).interactable=!1))},refreshShangZhuangMoney:function(){this._delegete&&(this._delegete.tableLogic.getMyMoney()<this._delegete.tableLogic.getMinShangZhuangMoney()?this.disableSliderMoney.active=!0:(this.disableSliderMoney.active=!1,this._money=this._delegete.tableLogic.getMinShangZhuangMoney(),this.editBox.getComponent("mlabel").setString(this._money,!1),this.moneySlider.progress=0))},refreshButtonXiaZhuang:function(e){this.Button_ApplyDown.getComponent(cc.Button).interactable=e},doButtonApplyCilck:function(){if(this._delegete)if(this._money<this._delegete.tableLogic.getMinShangZhuangMoney()){var e="\u4e0a\u5e84\u91d1\u5e01\u5fc5\u987b\u5927\u4e8e"+this._delegete.tableLogic.getMinShangZhuangMoney()+"\uff01";createTips(e)}else this._money>this._delegete.tableLogic.getMyMoney()?createTips("\u4e0a\u5e84\u91d1\u5e01\u4e0d\u80fd\u5927\u4e8e\u6211\u7684\u91d1\u5e01"):this._delegete&&this._delegete.sendApplyorLeaveDate(this._money)},doButtonApplyDownClick:function(){this._delegete&&this._delegete.sendApplyorLeaveDate(0)},refreshApplyBtnState:function(e,t){e||e||t||this.refreshApplyBtn(!1)},onUpdateDeskUser:function(){},onHideView:function(){this.node.active=!1},onLoad:function(){this.isLoadedData=!1}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],DemoTest:[function(e,t,i){"use strict";cc._RF.push(t,"9ff091S2PJHIbBldLOmPntO","DemoTest");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e["\u5c0f\u7ed3\u7b97"]=0]="\u5c0f\u7ed3\u7b97",e[e["\u95ef\u5173\u7ed3\u7b97"]=1]="\u95ef\u5173\u7ed3\u7b97"})(r||(r={})),cc.Enum(r);var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.mjSpriteAlt=null,t._testType=r.\u5c0f\u7ed3\u7b97,t}return o(t,e),Object.defineProperty(t.prototype,"testType",{get:function(){return this._testType},set:function(){},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){globalThis.GameEvent||(globalThis.GameEvent=new cc.EventTarget)},t.prototype.resetSize=function(){var e=cc.Canvas.instance,t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();t.width/t.height>i.width/i.height?(e.fitHeight=!0,e.fitWidth=!1,console.log("TableUI \u9002\u914d \u957f\u5c4f \u56fa\u5b9a\u9ad8\u5ea6",i.width,i.height,t.width,t.height)):(e.fitWidth=!0,e.fitHeight=!1,console.log("TableUI \u9002\u914d \u77ed\u5c4f \u56fa\u5b9a\u5bbd\u5ea6",i.width,i.height,t.width,t.height))},t.prototype.start=function(){var e;e="https://ouwan.hmzb.top/head/man/test.png";var t=this.node.getChildByName("icon");cc.loader.load({url:e,type:"png"},function(i,n){if(i)console.error("load remote spriteframe res failed url:"+e,i.message,i.stack);else{var o=new cc.SpriteFrame(n);t&&cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=o)}}),this.resetSize(this.node),this.testGameEndResult()},t.prototype.testCheckPointResult=function(){var e=JSON.parse('{"userID":123127,"checkPointNum":3,"bAgain":0,"score":8}'),t=JSON.parse('{"isReplay":false,"mySeatNo":0,"resultType":1,"isGoldRoom":true,"isBarrierMatchRoom":true,"byMJCardType":0,"playsData":[{"userID":123127,"name":"jzt006","avatar":"https://ouwan.hmzb.top/head/man/1413.jpg","score":0.01,"isBanker":false,"byHuMode":255,"resultType":1,"handCards":[2,2,3,3,3,4,4,4,5,6,7,8,32,32],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":14,"byPs":3,"byHuDouble":[3,255,255,255],"iFanCount":2,"iHuFen":2,"bycountGangFen":-1,"iJiZhuangTimes":1,"byMJCardType":0},{"userID":120719,"name":"\u62b9\u4e0d\u6389\u7684\u75d5\u8ff9","avatar":"https://ouwan.hmzb.top/head/man/1146.jpg","score":-0.01,"isBanker":true,"byHuMode":255,"resultType":2,"handCards":[5,6,7,7,8,9,9],"ChiCards":[],"pengCards":[31],"gangCards":[34],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":7,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":-2,"bycountGangFen":1,"iJiZhuangTimes":255,"byMJCardType":0},{"userID":0,"name":"","score":0,"isBanker":false,"byHuMode":255,"resultType":2,"handCards":[],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":0,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":0,"bycountGangFen":0,"iJiZhuangTimes":255,"byMJCardType":0},{"userID":0,"name":"","score":0,"isBanker":false,"byHuMode":255,"resultType":2,"handCards":[],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":0,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":0,"bycountGangFen":0,"iJiZhuangTimes":255,"byMJCardType":0}]}'),i=JSON.parse('{"passNum":"3","config":[{"levelID":1,"score":32,"cost":10000,"award":0},{"levelID":2,"score":32,"cost":20000,"award":0},{"levelID":3,"score":32,"cost":30000,"award":0},{"levelID":4,"score":32,"cost":40000,"award":0},{"levelID":5,"score":32,"cost":50000,"award":0},{"levelID":6,"score":32,"cost":60000,"award":0},{"levelID":7,"score":32,"cost":70000,"award":300}]}'),n=this.node.getChildByName("MatchCheckPointResultLayer");n.active=!0,n.getComponent("MatchCheckPointResultLayer").init("",e,t,i)},t.prototype.testGameEndResult=function(){globalThis.UserInfoManager.setMyInfo({userID:123127});var e=JSON.parse('{"isReplay":false,"mySeatNo":0,"resultType":1,"rewardGiftCard":10,"isGoldRoom":true,"isBarrierMatchRoom":true,"byMJCardType":0,"playsData":[{"userID":123127,"name":"jzt006","avatar":"https://ouwan.hmzb.top/head/man/1413.jpg","score":0.01,"isBanker":false,"byHuMode":255,"resultType":1,"handCards":[2,2,3,3,3,4,4,4,5,6,7,8,32,32],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":14,"byPs":3,"byHuDouble":[3,255,255,255],"iFanCount":2,"iHuFen":2,"bycountGangFen":-1,"iJiZhuangTimes":1,"byMJCardType":0},{"userID":120719,"name":"\u62b9\u4e0d\u6389\u7684\u75d5\u8ff9","avatar":"https://ouwan.hmzb.top/head/man/1146.jpg","score":-0.01,"isBanker":true,"byHuMode":255,"resultType":2,"handCards":[5,6,7,7,8,9,9],"ChiCards":[],"pengCards":[31],"gangCards":[34],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":7,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":-2,"bycountGangFen":1,"iJiZhuangTimes":255,"byMJCardType":0},{"userID":0,"name":"","score":0,"isBanker":false,"byHuMode":255,"resultType":2,"handCards":[],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":0,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":0,"bycountGangFen":0,"iJiZhuangTimes":255,"byMJCardType":0},{"userID":0,"name":"","score":0,"isBanker":false,"byHuMode":255,"resultType":2,"handCards":[],"ChiCards":[],"pengCards":[],"gangCards":[],"anGangCards":[],"gangCount":0,"buGangCount":0,"anGangCount":0,"handCardCount":0,"byPs":255,"byHuDouble":[255,255,255,255],"iFanCount":0,"iHuFen":0,"bycountGangFen":0,"iJiZhuangTimes":255,"byMJCardType":0}]}'),t=this.node.getChildByName("gameOver");t.active=!0,t.getComponent("HZMJ_GameOver").show(e)},a([l(cc.Label)],t.prototype,"label",void 0),a([l],t.prototype,"text",void 0),a([l(cc.SpriteAtlas)],t.prototype,"mjSpriteAlt",void 0),a([l({type:r})],t.prototype,"testType",null),a([c],t)}(cc.Component);i.default=u,cc._RF.pop()},{}],DismissRoomLayer:[function(e,t){"use strict";cc._RF.push(t,"635b7ikrHZMN7/GWT72u5lk","DismissRoomLayer");var i=null;cc.Class({extends:e("BaseLayer"),properties:{Image_Bg_Main:cc.Node,AtlasLabel_Time:cc.Node,Button_Agree:cc.Node,Button_Refuse:cc.Node,ListView_User:cc.Node,Panel_User:cc.Node},init:function(e,t){cc.winSize.width/1280<1&&this.node.setScale(cc.winSize.width/1280),this.info=e,i=t,this.initUI()},initUI:function(){this.initUIVisible(),this.initUIData(),this.initUIEventListener()},initUIVisible:function(){this.Button_Agree.active=!1,this.Button_Refuse.active=!1},initUIData:function(){this.initCountTime(),this.initTips(),this.initUserListView()},initTips:function(){},initCountTime:function(){var e=this.info.time||this.info.cfgTime;this.AtlasLabel_Time.getComponent(cc.Label).string="";var t=function(){(e-=1)<=0&&(e=0,this.unschedule(t),this.removeLayer());var i=Math.floor(e/60),n=e%60;if(i<=0)var o="\u5728"+n+"\u79d2\u540e\u5c06\u81ea\u52a8\u540c\u610f";else o="\u5728"+i+"\u5206"+n+"\u79d2\u540e\u5c06\u81ea\u52a8\u540c\u610f";this.AtlasLabel_Time.getComponent(cc.Label).string=o}.bind(this);this.schedule(t,1)},initUserListView:function(){var e=function(e,t){return e.deskStation==this.info.myDeskStation?1:e.dismissType<t.dismissType?1:-1}.bind(this),t=cloneObject(this.info.userList),i=objectGetArr(t);i=i.sort(e);var n=function(e,t,i){t.active=!0;var n=t.getChildByName("Text_Name"),o=t.getChildByName("Image_Status");n.getComponent(cc.Label).string=i.name,1==i.dismissType?(i.deskStation==this.info.deskStation?o.loadTexture("lobby/ui/DismissRoom/img_apply"):o.loadTexture("lobby/ui/DismissRoom/img_agree"),this.Button_Agree.active=!1,this.Button_Refuse.active=!1):0==i.dismissType?(o.loadTexture("lobby/ui/DismissRoom/img_wait"),i.deskStation==this.info.myDeskStation&&(this.Button_Agree.active=!0,this.Button_Refuse.active=!0)):o.loadTexture("lobby/ui/DismissRoom/img_wait")}.bind(this);Object.keys(this.info.userList).length,F_InitListView(i,n,this.ListView_User,this.Panel_User,1)},initUIEventListener:function(){this.Button_Agree.on(cc.Node.EventType.TOUCH_END,this.doButtonAgreeClick.bind(this)),this.Button_Refuse.on(cc.Node.EventType.TOUCH_END,this.doButtonRefuseClick.bind(this))},doButtonAgreeClick:function(){this.doCallback(!0)},doButtonRefuseClick:function(){this.doCallback(!1)},doCallback:function(e){this.info&&this.info.callback&&this.info.callback(e)},updateLayer:function(e){this.info=e,this.initUserListView()},removeLayer:function(){this.node.destroy(),this.node.parent=null},removeLayerEx:function(){this.removeFromParent()},onDestroy:function(){i&&(i(),i=null)},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],DropDownBox:[function(e,t,i){"use strict";cc._RF.push(t,"e9683YJ8B5CCLpLhEg0aDlg","DropDownBox");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayText=null,t.allPanel=null,t.bg=null,t.selectEvents=[],t}return o(t,e),t.prototype.init=function(e){e.length>0?(this.allPanel.active=!1,this.allPanel.children[0].getComponent(cc.Label).string=e[0],this.allPanel.children[0].off(cc.Node.EventType.TOUCH_END),this.allPanel.children[0].on(cc.Node.EventType.TOUCH_END,this.onTouchEndText.bind(this)),this.bg.off(cc.Node.EventType.TOUCH_END),this.bg.on(cc.Node.EventType.TOUCH_END,this.onTouchEndAllPanel.bind(this))):this.allPanel.off(cc.Node.EventType.TOUCH_END);for(var t=1;t<e.length;t++)if(this.allPanel.children.length<=t){var i=cc.instantiate(this.allPanel.children[t-1]);i.getComponent(cc.Label).string=e[t],this.allPanel.addChild(i),this.allPanel.children[t].on(cc.Node.EventType.TOUCH_END,this.onTouchEndText.bind(this))}else this.allPanel.children[t].getComponent(cc.Label).string=e[t];var n=this.allPanel.children.length-e.length;for(t=0;t<n;t++)this.allPanel.children[e.length].destroy()},t.prototype.onTouchEndText=function(e){var t=e.target;this.displayText.string=t.getComponent(cc.Label).string,this.allPanel.active=!1,this.selectEvents.forEach(function(e){e.emit([e.customEventData])})},t.prototype.onTouchEndAllPanel=function(){this.allPanel.active=!this.allPanel.active},a([c(cc.Label)],t.prototype,"displayText",void 0),a([c(cc.Node)],t.prototype,"allPanel",void 0),a([c(cc.Node)],t.prototype,"bg",void 0),a([c(cc.Component.EventHandler)],t.prototype,"selectEvents",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],DuanWeiAward:[function(e,t){"use strict";cc._RF.push(t,"1d29dQfv1NPUIfN1Xs8tjKW","DuanWeiAward"),cc.Class({extends:e("BaseLayer"),properties:{panel_award:cc.ScrollView,prefab_award:cc.Prefab},init:function(){this.panleAwardContent=this.panel_award.content},onAwardRecord:function(){this.simpleAddLayer("prefab/Qualifying/HisRecord",null,null,null,null,this.node)},onEnable:function(){var e=this;MatchManager.getDuanWeiAwardList(function(t){e.panleAwardContent.children.forEach(function(e){e.destroy()});for(var i=0;i<t.length;i++){var n=cc.instantiate(e.prefab_award);e.panleAwardContent.addChild(n),n.getComponent("Item_DuanWei_Award").setData(t[i])}})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],DuanWeiRank:[function(e,t){"use strict";cc._RF.push(t,"2a58bqa+o1Gsp0smbdqNUOJ","DuanWeiRank"),cc.Class({extends:e("BaseLayer"),properties:{panel_rank:cc.ScrollView,prefab_rank:cc.Prefab},init:function(){this.panleRankContent=this.panel_rank.content},start:function(){},onEnable:function(){var e=this;MatchManager.requestMatchRankRankList(function(t){e.panleRankContent.children.forEach(function(e){e.destroy()});for(var i=0;i<t.length;i++){var n=cc.instantiate(e.prefab_rank);e.panleRankContent.addChild(n),n.getComponent("Item_DuanWei_Rank").setData(t[i],i+1)}})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],DuanWeiRewardLayer:[function(e,t){"use strict";cc._RF.push(t,"8bb44iq8sRAfYIFR01p0uU3","DuanWeiRewardLayer"),cc.Class({extends:e("BaseLayer"),properties:{rewardImages:[cc.SpriteFrame],Button_Rule:cc.Button,Button_Detail:cc.Button,Image_Rule:cc.Node,Panel_Detail:cc.Node,ListView_Reward:cc.ScrollView,Panel_Reward:cc.Node},init:function(){this.selectedButtonType=1;for(var e=1;e<=7;e++)this[tools.stringFormat("Text_{0}",e)]=this.Panel_Detail.getChildByName(tools.stringFormat("Text_{0}",e)).getComponent(cc.Label),this[tools.stringFormat("Text_{0}",e)].node.active=!1;this.Panel_Reward.active=!1,this.Panel_Detail.active=!1,this.Image_Rule.active=!1,this.initSelectedButton(),this.requestRewardInfo()},initSelectedButton:function(){if(cc.log(1==this.selectedButtonType),cc.log(2==this.selectedButtonType),this.Button_Rule.interactable=!(2==this.selectedButtonType),this.Button_Detail.interactable=!(1==this.selectedButtonType),this.Image_Rule.active=2==this.selectedButtonType,this.Panel_Detail.active=1==this.selectedButtonType,1==this.selectedButtonType){for(var e=1;e<=7;e++)this[tools.stringFormat("Text_{0}",e)].node.active=!0;this[tools.stringFormat("Text_{0}",2)].string=tools.stringFormat("\u6bd4\u8d5b\u7c7b\u578b\uff1a{0}","\u6392\u4f4d\u8d5b"),""==window.rankInfoData.startTime?this[tools.stringFormat("Text_{0}",3)].string="\u6bd4\u8d5b\u65f6\u95f4\uff1a\u65e0":this[tools.stringFormat("Text_{0}",3)].string=tools.stringFormat("\n \u5f00\u59cb\u65f6\u95f4\uff1a{0}\n \u7ed3\u675f\u65f6\u95f4\uff1a{1}",window.rankInfoData.startTime,window.rankInfoData.endTime),this[tools.stringFormat("Text_{0}",7)].node.active=!1}},initRewardListView:function(e){var t=function(e,t,i){var n=t.getChildByName("Image_Rank"),o=t.getChildByName("Text_Rank").getComponent(cc.Label),a=t.getChildByName("AtlasLabel_Gold").getComponent(cc.Label);n.getComponent(cc.Sprite).spriteFrame=this.rewardImages[parseInt(i.level/5)],a.string=i.award,o.string=i.remark+""}.bind(this);F_InitListView(e,t,this.ListView_Reward,this.Panel_Reward,1)},requestRewardInfo:function(){var e=function(e){this.initRewardListView(e)}.bind(this);MatchManager.getDuanWeiAwardList(e)},doButton_DetailClick:function(){1!=this.selectedButtonType&&(this.selectedButtonType=1,this.initSelectedButton())},doButton_RuleClick:function(){2!=this.selectedButtonType&&(this.selectedButtonType=2,this.initSelectedButton())}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],EmailFujian:[function(e,t){"use strict";cc._RF.push(t,"239b6jTnS5DyZjMOObj7Yw5","EmailFujian"),cc.Class({extends:cc.Component,properties:{numLabel:cc.Label,gold:cc.Node,zuan:cc.Node,lingqu:cc.Node},init:function(e,t){cc.log(e),2==e.goodsType?(this.numLabel.string="\u94bb\u77f3x"+e.goodsNums,this.zuan.active=!0,this.gold.active=!1):1==e.goodsType&&(this.numLabel.string="\u91d1\u5e01x"+e.goodsNums,this.gold.active=!0,this.zuan.active=!1),0==t?this.lingqu.active=!1:1==t&&(this.lingqu.active=!0)},start:function(){}}),cc._RF.pop()},{}],EmailItem:[function(e,t){"use strict";cc._RF.push(t,"d80cf8aW/lB37bbl3/owq7g","EmailItem"),cc.Class({extends:cc.Component,properties:{WeiDuSprite:cc.Node,YiDuSprite:cc.Node,nameLabel:cc.Label,fromLabel:cc.Label,timeLabel:cc.Label,GouSprite:cc.Node,EmailMsgLayer:cc.Prefab},onLoad:function(){},start:function(){},init:function(e,t){cc.log(e),this.data=e,this.layer=t,0==e.isRead||0==e.isReceived?(this.WeiDuSprite.active=!0,this.YiDuSprite.active=!1):(this.WeiDuSprite.active=!1,this.YiDuSprite.active=!0),this.nameLabel.string=e.title,e.mailType&&1014==e.mailType&&(this.fromLabel.string="\u6765\u6e90\uff1a\u4e2a\u4eba\u90ae\u4ef6");var i=new Date(1e3*e.sendtime),n=i.getFullYear()+"",o=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"",a=(i.getDate()<10?"0"+i.getDate():i.getDate())+"";this.timeLabel.string=n+"/"+o+"/"+a},onButton:function(){var e=this.layer.getChildByName("Panel_Bottom").getChildByName("XuanLabel").getChildByName("GouSprite");if(cc.log(this.data),0==this.data.isRead)createTips("\u8be5\u90ae\u4ef6\u672a\u8bfb\u6216\u6709\u9644\u4ef6\u672a\u9886\u53d6"),this.GouSprite.active=!1;else if(1==this.GouSprite.active)this.GouSprite.active=!1,e.active=!1;else{this.GouSprite.active=!0;for(var t=this.layer.getChildByName("New ScrollView").getChildByName("view").getChildByName("content").children,i=0;i<t.length;i++){if(0==t[i].getChildByName("GouSprite").active){e.active=!1;break}e.active=!0}}},onButton_xuanze:function(e){0==e?0==this.data.isRead?this.GouSprite.active=!1:this.GouSprite.active=!0:this.GouSprite.active=!1},onEmailID:function(){return this.data.emailID},onZhanKai:function(){var t=this;this.WeiDuSprite.active=!1,this.YiDuSprite.active=!0,this.data.isRead=1,this.MailLogic=new(e("MailLogic")),this.MailLogic.requestMailInfo(this.data.mailID,function(e){var i=cc.instantiate(t.EmailMsgLayer);i.getComponent("EmailMsgLayer").init(e,t.data.title,t.data.isReceived),t.layer.addChild(i)})}}),cc._RF.pop()},{MailLogic:"MailLogic"}],EmailLayer:[function(e,t){"use strict";cc._RF.push(t,"18e9ekq+xZNOIT3Ds84ja0D","EmailLayer"),cc.Class({extends:e("BaseLayer"),properties:{EmailView:cc.Node,EmailItem:cc.Prefab,noSprite:cc.Node,Panel_Buttom:cc.Node,GouSprite:cc.Node,Panel_Top:cc.Node,Panel_NeiRong:cc.Node},onLoad:function(){cc.winSize.width/1280<1&&(this.Panel_Top.setScale(cc.winSize.width/1280),this.Panel_Buttom.setScale(cc.winSize.width/1280),this.Panel_NeiRong.setScale(cc.winSize.width/1280)),this.MailManager=new(e("MailManager")),this.MailLogic=new(e("MailLogic")),this.initUIData(),this.AllmailList=[]},start:function(){},initUIData:function(){var e=this;this.MailLogic.requestMailList(function(t){if(t.length>0)for(var i=0;i<t.length;i++){var n=cc.instantiate(e.EmailItem);n.getComponent("EmailItem").init(t[i],e.node),e.EmailView.addChild(n)}else e.noSprite.active=!0,e.Panel_Buttom.active=!1})},doButton_All:function(){for(var e=0;e<this.EmailView.children.length;e++)1==this.GouSprite.active?this.EmailView.children[e].getComponent("EmailItem").onButton_xuanze(1):this.EmailView.children[e].getComponent("EmailItem").onButton_xuanze(0);1==this.GouSprite.active?(this.GouSprite.active=!1,this.AllmailList=[]):this.GouSprite.active=!0},doButton_DelClick:function(){for(var e=0;e<this.EmailView.children.length;e++)1==this.EmailView.children[e].getChildByName("GouSprite").active&&(this.AllmailList.push(this.EmailView.children[e].getComponent("EmailItem").onEmailID()),this.EmailView.children[e].destroy(),cc.log(this.EmailView.children));for(var t=!1,i=0;i<this.AllmailList.length;i++)t=!0,this.MailLogic.requestDelMail(this.AllmailList[i],function(){createTips("\u5220\u9664\u6210\u529f")});0==t&&createTips("\u6ca1\u6709\u53ef\u4ee5\u5220\u9664\u7684\u90ae\u4ef6")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",MailLogic:"MailLogic",MailManager:"MailManager"}],EmailMsgLayer:[function(e,t){"use strict";cc._RF.push(t,"178c5KChHBC5KkKFZaE1S9a","EmailMsgLayer"),cc.Class({extends:e("BaseLayer"),properties:{titleLabel:cc.Label,neirongLabel:cc.Label,buttonLabel:cc.Label,item:cc.Node,EmailFujian:cc.Prefab,EmailReward:cc.Prefab,RewardCeng:cc.Node},start:function(){},init:function(e,t,i){cc.log(e),this.mailID=e.mailID,this.titleLabel.string=t,this.neirongLabel.string=e.content,this.buttonLabel.string=0==i?"\u4e00\u952e\u9886\u53d6":"\u786e  \u5b9a",this.Emailfujian(e.goodsList,i)},Emailfujian:function(e,t){cc.log(e),this.data=e;for(var i=0;i<e.length;i++){var n=cc.instantiate(this.EmailFujian);n.getComponent("EmailFujian").init(e[i],t),this.item.addChild(n);var o=cc.instantiate(this.EmailReward);this.Reward=o,this.Reward.getComponent("RewardNode").init(e[i]),this.RewardCeng.addChild(this.Reward)}},doButtonSure:function(){var t=this;"\u4e00\u952e\u9886\u53d6"==this.buttonLabel.string?(this.MailLogic=new(e("MailLogic")),this.MailLogic.requestTakeReward(this.mailID,function(e){if(e){t.item.removeAllChildren(),t.RewardCeng.active=!0;for(var i=0;i<t.RewardCeng.children.length;i++)t.RewardCeng.children[i].active=!0;t.buttonLabel.string="\u4e00\u952e\u9886\u53d6";for(var n=0;n<t.data.length;n++){var o=cc.instantiate(t.EmailFujian);o.getComponent("EmailFujian").init(t.data[n],1),t.item.addChild(o)}}})):"\u786e  \u5b9a"==this.buttonLabel.string&&this.onCloseBtn()}}),cc._RF.pop()},{BaseLayer:"BaseLayer",MailLogic:"MailLogic"}],EventEmiter:[function(e,t,i){"use strict";cc._RF.push(t,"187aekQhyVKz4QDnssX7rvU","EventEmiter");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.GameEvent=i.GlobalEvent=i.EventEmitter=void 0;var a=function(){function e(){this._handlers={}}return e.prototype.on=function(e,t,i){var n={handler:t,target:i},o=this._handlers[e];if(o||(o=[],this._handlers[e]=o),!(o.findIndex(function(e){return e.handler===t&&(!i||i===e.target)})>=0)){for(var a=0;a<o.length;a++)if(!o[a])return o[a]=n,a;return o.push(n),o.length}console.warn("EventEmitter repeate on EventName:"+e+" ",t,i)},e.prototype.off=function(e,t,i){var n=this._handlers[e];if(n)for(var o=0;o<n.length;o++){var a=n[o];if(a.handler===t&&(!i||i===a.target)){n.splice(o,1);break}}},e.prototype.remove=function(e){this._handlers[e]&&(this._handlers[e]=[])},e.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n,o=this._handlers[e],a=[];for(n=1;n<arguments.length;n++)a.push(arguments[n]);if(o)for(n=0;n<o.length;n++){var r=o[n];r.handler&&r.handler.apply(r.target,a)}},e}();i.EventEmitter=a;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t}(a);i.GlobalEvent=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t}(a);i.GameEvent=s,cc._RF.pop()},{}],EventManager:[function(e,t,i){"use strict";cc._RF.push(t,"367555ISN5MObcKRdEEEb/n","EventManager"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){this.eventCache=null}return e.getInst=function(){return this._inst||(this._inst=new e,this._inst.eventCache=new Map),this._inst},Object.defineProperty(e,"inst",{get:function(){return this.getInst()},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,i){var n;this.eventCache.has(e)?n=this.eventCache.get(e):(n=new Array,this.eventCache.set(e,n)),i&&t.bind(i),n.push(t)},e.prototype.off=function(e,t){this.eventCache.has(e)&&this.eventCache.get(e).filter(function(e){return e!==t})},e.prototype.clear=function(e){this.eventCache.has(e)&&this.eventCache.delete(e)},e.prototype.trigger=function(e,t){this.eventCache.has(e)&&this.eventCache.get(e).forEach(function(e){return e(t)})},e._inst=null,e}();i.default=n,cc._RF.pop()},{}],FeedKeFuNode:[function(e,t){"use strict";cc._RF.push(t,"f1a0aQ0ozdLOIsXDHxxSpuT","FeedKeFuNode"),cc.Class({extends:e("BaseLayer"),properties:{annimetions:cc.Node},onLoad:function(){},start:function(){},doButton_Feed:function(){},doButton_Dragonex:function(){cc.sys.openURL("https://dragonex.co/zh-hans/open")},doButton_download:function(){cc.sys.openURL("https://dragonex.co/zh-hans/open")}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],FeedLayer_width:[function(e,t){"use strict";cc._RF.push(t,"0eeecSleGpJeaC7jU9TAaR7","FeedLayer_width"),cc.Class({extends:e("BaseLayer"),properties:{Panel_Lift:cc.Node,kefuNode:cc.Node,lishiNode:cc.Node,lishiBtn:cc.Node,fankuiBtn:cc.Node,TipLabel:cc.Label,EditBox:cc.EditBox,itemScrl:cc.Node,item_1:cc.Prefab},onLoad:function(){var t=this;this.FeedbackLogic=new(e("FeedbackLogic")),this.FeedbackManager=new(e("FeedbackManager")),this.FeedbackLogic.getMyFeedback(function(e){for(var i=0;i<e.length;i++)if(3!=e[i].read_type){t.doButton_LiShi();break}})},init:function(){},start:function(){this.Feedback_Type=1},doButton_LiShi:function(){var e=this;this.lishiNode.active=!0,this.kefuNode.active=!1,this.lishiBtn.active=!0,this.fankuiBtn.active=!1;for(var t=0;t<this.itemScrl.children.length;t++)this.itemScrl.removeChild(this.itemScrl.children[t]),t--;this.FeedbackLogic.getMyFeedback(function(t){for(var i=0,n=0;n<t.length;n++)if(""!=t[n].id){var o=cc.instantiate(e.item_1);o.children[0].children[2]._components[0].string=t[n].content,o.children[0].children[3]._components[0].string=F_GetDateStringByTime(t[n].f_time),t[n].read_type>1&&(o.children[2].active=!0,o.children[3].active=!0,o.children[0].children[1].active=!1),e.itemScrl.addChild(o),o.children[0]._components[0].clickEvents[0].customEventData=t[n].id,i=o.children[0]._components[0].clickEvents[0].customEventData,o.getComponent("KeFuItem").init(i,t[n].read_type,e.node.parent)}})},doButton_FanKui:function(){this.lishiBtn.active=!1,this.fankuiBtn.active=!0,this.kefuNode.active=!0,this.lishiNode.active=!1},onMenuButton:function(e,t){this.Feedback_Type=t},FeedbackEditChanged:function(){var e=90-this.EditBox.string.length;this.TipLabel.string="\u6ce8:\u4f60\u8fd8\u53ef\u4ee5\u8f93\u5165"+e+"\u5b57"},doButtonFinishClick:function(){var t=this,i=new(e("FeedbackLogic"));if(""==this.EditBox.string)return createTips("\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u4f60\u9047\u5230\u7684\u95ee\u9898\uff0c\u5305\u62ec\u4f60\u7684\u7528\u6237ID\u548c\u65f6\u95f4\u3002\u6700\u591a90\u5b57\u3002");i.sendFeedback(this.Feedback_Type,this.EditBox.string,function(e){e&&(t.EditBox.string="",createTips("\u63d0\u4ea4\u53cd\u9988\u6210\u529f"))})}}),cc._RF.pop()},{BaseLayer:"BaseLayer",FeedbackLogic:"FeedbackLogic",FeedbackManager:"FeedbackManager"}],FeedLayer:[function(e,t){"use strict";cc._RF.push(t,"cf4ddPdHBhHBIAFP2RL3RAl","FeedLayer"),cc.Class({extends:e("BaseLayer"),properties:{Panel_Lift:cc.Node,kefuNode:cc.Node,lishiNode:cc.Node,lishiBtn:cc.Node,fankuiBtn:cc.Node,TipLabel:cc.Label,EditBox:cc.EditBox,itemScrl:cc.Node,item:cc.Prefab},onLoad:function(){var t=this;this.FeedbackLogic=new(e("FeedbackLogic")),this.FeedbackManager=new(e("FeedbackManager")),this.FeedbackLogic.getMyFeedback(function(e){for(var i=0;i<e.length;i++)if(3!=e[i].read_type){t.doButton_LiShi();break}})},init:function(){},start:function(){this.Feedback_Type=1},doButton_LiShi:function(){var e=this;this.lishiNode.active=!0,this.kefuNode.active=!1,this.lishiBtn.active=!0,this.fankuiBtn.active=!1;for(var t=0;t<this.itemScrl.children.length;t++)this.itemScrl.removeChild(this.itemScrl.children[t]),t--;this.FeedbackLogic.getMyFeedback(function(t){for(var i=0,n=0;n<t.length;n++)if(""!=t[n].id){var o=cc.instantiate(e.item);o.children[0].children[2]._components[0].string=t[n].content,o.children[0].children[3]._components[0].string=F_GetDateStringByTime(t[n].f_time),t[n].read_type>1&&(o.children[2].active=!0,o.children[3].active=!0,o.children[0].children[1].active=!1),e.itemScrl.addChild(o),o.children[0]._components[0].clickEvents[0].customEventData=t[n].id,i=o.children[0]._components[0].clickEvents[0].customEventData,o.getComponent("KeFuItem").init(i,t[n].read_type,e.node.parent)}})},doButton_FanKui:function(){this.lishiBtn.active=!1,this.fankuiBtn.active=!0,this.kefuNode.active=!0,this.lishiNode.active=!1},onMenuButton:function(e,t){this.Feedback_Type=t},FeedbackEditChanged:function(){var e=90-this.EditBox.string.length;this.TipLabel.string="\u6ce8:\u4f60\u8fd8\u53ef\u4ee5\u8f93\u5165"+e+"\u5b57"},doButtonFinishClick:function(){var t=this,i=new(e("FeedbackLogic"));if(""==this.EditBox.string)return createTips("\u8bf7\u8be6\u7ec6\u63cf\u8ff0\u4f60\u9047\u5230\u7684\u95ee\u9898\uff0c\u5305\u62ec\u4f60\u7684\u7528\u6237ID\u548c\u65f6\u95f4\u3002\u6700\u591a90\u5b57\u3002");i.sendFeedback(this.Feedback_Type,this.EditBox.string,function(e){e&&(t.EditBox.string="",createTips("\u63d0\u4ea4\u53cd\u9988\u6210\u529f"))})}}),cc._RF.pop()},{BaseLayer:"BaseLayer",FeedbackLogic:"FeedbackLogic",FeedbackManager:"FeedbackManager"}],FeedbackLogic:[function(e,t){"use strict";cc._RF.push(t,"0a8b5cB4pZD8KNL9mYxLJQ7","FeedbackLogic"),t.exports=cc.Class({extends:e("LogicBasis"),ctor:function(){},sendFeedback:function(e,t,i){FeedbackManager.sendFeedback(e,t,i)},getMyFeedback:function(e){FeedbackManager.getMyFeedback(e)},getFeedbackDetails:function(e,t){FeedbackManager.getFeedbackDetails(e,t)},sendFeedbackCallback:function(e,t,i){FeedbackManager.sendFeedbackCallback(e,t,i)},deleteFeedback:function(e,t){FeedbackManager.deleteFeedback(e,t)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],FeedbackManager:[function(e,t){"use strict";cc._RF.push(t,"a092dDQt4FD/75XpXRwGKjv","FeedbackManager"),e("DataManager");var i="feedback",n=cc.Class({statics:{instance:null},ctor:function(){this.feedbackList=[],this.liebiaoData=[]},getMyFeedback:function(e){var t=this,i=[];i.params={userID:UserInfoManager.getMyInfo().userID},i.url="https://"+NetConfig.getPHP_IP()+"/api/v1/feedback/feedbackList",i.sCallback=function(i){0==i.status?(t.feedbackList=i.data,t.liebiaoData=t.feedbackList,e(t.feedbackList)):createTips(i.msg)},i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},MyHttpRequest.doRequest(i)},sendFeedbackCallback:function(e,t,n){var o=[];o.params={api:i,action:"replyFeedback",userID:UserInfoManager.getMyInfo().userID,feedbackID:e,content:t},o.sCallback=function(e){0==e.status?n(!0):(createTips(e.msg),n(!1))},o.fCallback=function(){console.log("\u8bf7\u6c42replyFeedback\u8d85\u65f6")},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},sendFeedback:function(e,t,i){var n=[];n.params={feedbackType:e,userID:UserInfoManager.getMyInfo().userID,content:t},n.url="http://"+NetConfig.getPHP_IP()+"/api/v1/feedback/commitFeedback",n.sCallback=function(e){e.status==G_HANDLE_CODE_OK?(e.data,i(!0)):(createTips(e.msg),i(!1))},n.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},MyHttpRequest.doRequest(n)},getFeedbackDetails:function(e,t){var n=[];n.params={api:i,action:"feedbackInfo",userID:UserInfoManager.getMyInfo().userID,feedbackID:e},n.sCallback=function(e){0==e.status?t(e.data):createTips(e.msg)},n.fCallback=function(){console.log("\u8bf7\u6c42feedbackInfo\u8d85\u65f6")},MyHttpRequest.doRequest(n)},deleteFeedback:function(e,t){var n=this,o=[];o.url=NetConfig.getPHPUrl(),o.params={api:i,action:"delFeedback",userID:UserInfoManager.getMyInfo().userID,feedbackID:e},o.sCallback=function(i){0==i.status?(n.delFeedbackByID(e),t(!0)):(createTips(i.msg),t(!1))},o.fCallback=function(){console.log("\u8bf7\u6c42delFeedback\u8d85\u65f6")},MyHttpRequest.doRequest(o)},getFeedbackList:function(){return this.liebiaoData},updateFeedbackReadTypeByID:function(e){for(var t in this.feedbackList){var i=this.feedbackList[t];if(i.id==e){i.reed_type==E_FeedbackStatus.NO_READ&&(this.feedbackList[t].reed_type=E_FeedbackStatus.READ);break}}},addFeedbackByID:function(e){for(var t in this.feedbackList)this.feedbackList[this.feedbackList.length]=this.feedbackList[e]},delFeedbackByID:function(e){for(var t in this.feedbackList)if(this.feedbackList[t].id==e){this.feedbackList.splice(t,1);break}},clear:function(){this.feedbackList=[],instance=null}});t.exports=n,cc._RF.pop()},{DataManager:"DataManager"}],FriendManager:[function(e,t){"use strict";cc._RF.push(t,"3a5dfNYZWVBvbjEyRilNvb3","FriendManager");var i=e("DataManager"),n=cc.Class({statics:{instance:null},ctor:function(){this.friendList={},this.friendNotifyList=[],this.friendInvitePlayNotifyList=[],i.instance.addManager("FriendManager",this)},_Resolve_OneFriendInfo:function(e){var t={};return t.userID=e.popINT(),t.onlineStatus=e.popBYTE(),t.rewardStatus=e.popBYTE(),t},_Resolve_OneFriendNotify:function(e){var t={};return t.notifyID=e.popINT(),t.type=e.popINT(),t.targetID=e.popINT(),t.time=e.popINT(),t.param1=e.popINT(),t.param2=e.popINT(),t},setFriendList:function(e){for(var t in this.friendList={},e)this.addFriend(e[t])},addFriend:function(e){this.friendList[e.userID]=e},delFriend:function(e){this.friendList[e]=null},getFriendList:function(){var e=[];for(var t in this.friendList)e[e.length]=this.friendList[t];for(var i=0;i<e.length;i++)null==e[i]&&(e.splice(i,1),i--);return e.sort(function(e,t){return e.onlineStatus==t.onlineStatus?e.userID<t.userID:e.onlineStatus>t.onlineStatus}),e},getFriend:function(e){return this.friendList[e]},isMyFriend:function(e){return!!this.getFriend(e)},setFriendRewardStatus:function(e,t){var i=this.getFriend(e);i&&(i.rewardStatus=t)},setFriendOnlineStatus:function(e,t){var i=this.getFriend(e);i&&(i.onlineStatus=t)},getOnlineFriendList:function(){var e=[];for(var t in this.friendList)t.onlineStatus==E_FriendOnlineStatus.ON&&table.insert(e,t);return e.srot(function(e,t){return e.userID<t.userID}),e},setFriendNotifyList:function(e){for(var t in this.friendNotifyList={},e)this.addFriendNotify(e[t])},addFriendNotify:function(e){this.friendNotifyList[e.notifyID]=e},delFriendNotify:function(e){delete this.friendNotifyList[e]},getFriendNotifyList:function(){var e=[];for(var t in this.friendNotifyList)e.push(this.friendNotifyList[t]);return e},setFriendListRedSpotCount:function(e){this.friendListRedSpotCount=e},getFriendListRedSpotCount:function(){return this.friendListRedSpotCount},setNotifyListRedSpotCount:function(e){this.notifyListRedSpotCount=e},getNotifyListRedSpotCount:function(){return this.notifyListRedSpotCount},getFriendInvitePlayNotifyList:function(){var e=[];for(var t in this.friendInvitePlayNotifyList)table.insert(e,t);return e.srot(function(e,t){return e.time==t.time?e.notifyID<t.notifyID:e.time>t.time}),e},addFriendInvitePlayNotify:function(e){e.type===E_FriendNotifyType.INVITE_PLAYGAME&&(this.friendInvitePlayNotifyList[e.notifyID]=e)},delFriendInvitePlayNotify:function(e){this.friendInvitePlayNotifyList[e]=null},clear:function(){this.friendList={},this.friendNotifyList={},this.friendListRedSpotCount=0,this.notifyListRedSpotCount=0}});t.exports=n,cc._RF.pop()},{DataManager:"DataManager"}],FriendsGroupManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"c0b63lePllCco51byO1pWAn","FriendsGroupManager");var a=e("DataManager"),r=(e("GlobalEnum"),[]);r[E_FriendsGroupMemberStatus.NORMAL]=0,r[E_FriendsGroupMemberStatus.MANAGER]=2,r[E_FriendsGroupMemberStatus.KING]=4;var s=cc.Class({statics:{instance:null},ctor:function(){this.friendsGroupList={},this.notifyList={},this.notifyRedSpotCount=0,this.selectFriendsGroupID=0,this.msgRedSpotList={},a.instance.addManager("FriendsGroupManager",this)},getWeightByStatus:function(e){return r[e]||-1},isUserHasManagerStatus:function(e,t){var i=E_FriendsGroupMemberStatus.NORMAL,n=this.getFriendsGroup(e);if(n)if(t)for(var o=0,a=Object.values(n.memberList);o<a.length;o++){var s=a[o];if(t==s.userID){i=s.status;break}}else i=n.status;return r[i]>=r[E_FriendsGroupMemberStatus.MANAGER]},isUserHasKingStatus:function(e,t){var i=E_FriendsGroupMemberStatus.NORMAL,n=this.getFriendsGroup(e);if(n)if(t){for(var o in n.memberList)if(t==n.memberList[o].userID){i=n.memberList[o].status;break}}else i=n.status;return r[i]>=r[E_FriendsGroupMemberStatus.KING]},isUserHasFuncPower:function(e,t,i){if(this.isUserHasKingStatus(e,i))return!0;if(objIsEmpty(E_FriendsGroupPowerType.hasOwnProperty(t)))return!1;if(this.isUserHasManagerStatus(e,i)){var n=E_FriendsGroupPowerType.NO,o=this.getFriendsGroup(e);if(o)if(objIsEmpty(i))n=o.power;else for(var a=0,r=Object.values(o.memberList);a<r.length;a++){var s=r[a];if(i==s.userID){n=s.power;break}}return(n&t)==t}return!1},_Resolve_OneFriendsGroupInfo:function(e){var t={};t.friendsGroupID=e.popINT(),t.status=e.popBYTE(),t.currOnlineCount=e.popINT(),t.peopleCount=e.popINT(),t.deskCount=e.popINT(),t.VIPRoomCount=e.popINT(),t.frontMember=[];for(var i=1;i<=9;++i){var n=e.popINT();n>0&&t.frontMember.push(n)}return t.createTime=e.popINT(),t.masterID=e.popINT(),t.name=e.popNCHAR(24),t.notice=e.popNCHAR(128),t.wechat=e.popNCHAR(48),t.power=e.popBYTE(),t.fireCoin=e.popINT(),t},_Resolve_OneFriendsGroupUserInfo:function(e){var t={};return t.userID=e.popINT(),t.joinTime=e.popINT(),t.onlineStatus=e.popBYTE(),t.score=e.popINT(),t.money=e.popLONGLONG(),t.fireCoin=e.popINT(),t.status=e.popBYTE(),t.carryFireCoin=e.popINT(),t.power=e.popBYTE(),t},_Resolve_OneFriendsGroupNotify:function(e){var t={};return t.notifyID=e.popINT(),t.userID=e.popINT(),t.targetFriendsGroupID=e.popINT(),t.name=e.popNCHAR(24),t.type=e.popBYTE(),t.time=e.popINT(),t.param1=e.popINT(),t.param2=e.popINT(),t.alreadyOper=e.popBYTE(),t},_Resolve_OneFriendsGroupRoomMsg:function(e){var t={};return t.friendsGroupID=e.popINT(),t.userID=e.popINT(),t.roomMsgID=e.popINT(),t.time=e.popINT(),t.roomID=e.popINT(),t.roomCount=e.popINT(),t.curPeopleCount=e.popINT(),t.allPeopleCount=e.popINT(),t.playCount=e.popINT(),t.passwd=e.popNCHAR(20),t.gameRules=e.popNCHAR(256),t},_Resolve_OneFriendsGroupAccoMsg:function(e){var t={};return t.friendsGroupID=e.popINT(),t.userID=e.popINT(),t.time=e.popINT(),t.roomID=e.popINT(),t.realPlayCount=e.popINT(),t.playCount=e.popINT(),t.playMode=e.popBYTE(),t.passwd=e.popNCHAR(20),t.userInfoListStr=e.popNCHAR(192),t.roomType=e.popBYTE(),t.deskID=e.popBYTE(),t.userInfoList=tools.getSplitData(t.userInfoListStr,["userID","score"]),t},_Resolve_OneFriendsGroupMsgRedSpot:function(e){var t=[];return t.friendsGroupID=e.popINT(),t.deskMsgRedSpotCount=e.popINT(),t.VIPRoomMsgRedSpotCount=e.popINT(),cc.log("\u5355\u4e2a\u4ff1\u4e50\u90e8\u5c0f\u7ea2\u70b9\u7ed3\u6784\u4f53_Resolve_OneFriendsGroupMsgRedSpot",t),t},_Resolve_OneFriendsGroupDeskInfo:function(e){var t={};t.friendsGroupID=e.popINT(),t.deskID=e.popINT(),t.time=e.popINT(),t.roomID=e.popINT(),t.gameID=e.popINT(),t.roomType=e.popINT(),t.curPeopleCount=e.popINT(),t.allPeopleCount=e.popINT(),t.playCount=e.popINT(),t.gameStatus=e.popBYTE(),t.passwd=e.popNCHAR(20),t.gameRules=e.popNCHAR(256),t.userIDList=[];for(var i=1;i<=G_WAR_RECORD_PLAYER_NUM;i++){var n=e.popINT();n>0&&t.userIDList.push(n)}return t},_Resolve_OneSimlpeFriendsGroupAcco:function(e){var t={};return t.userID=e.popINT(),t.score=e.popINT(),t.money=e.popLONGLONG(),t.fireCoin=e.popINT(),t},_Resolve_OneSimlpeFriendsGroupDeskAcco:function(e){var t={};return t.costMoney=e.popLONGLONG()/G_MULTI_NUM,t.costJewels=e.popINT(),t.fireCoinRecharge=e.popLONGLONG(),t.fireCoinExchange=e.popLONGLONG(),t.moneyPump=e.popLONGLONG()/G_MULTI_NUM,t.fireCoinPump=e.popLONGLONG(),t},_Resolve_StatusChangeStruct:function(e){var t={};return t.userID=e.popINT(),t.status=e.popBYTE(),t.power=e.popBYTE(),t},setFriendsGroupList:function(e){this.friendsGroupList={};for(var t=0,i=Object.values(e);t<i.length;t++){var n=i[t];this.addFriendsGroup(n)}this.initSelectFriendsGroup()},initSelectFriendsGroup:function(){var e=this.getFriendsGroupList()[0];if(!objIsEmpty(e)){var t=this.getZhiDingFriendsGroupID();0==t?(t=e.friendsGroupID,this.setZhiDingFriendsGroupID(t)):objIsEmpty(this.getFriendsGroup(t))&&(t=e.friendsGroupID,this.setZhiDingFriendsGroupID(t)),0==this.selectFriendsGroupID&&this.setSelectFriendsGroupID(t)}},addFriendsGroup:function(e){this.friendsGroupList[parseInt(e.friendsGroupID)]=e,this.friendsGroupList[parseInt(e.friendsGroupID)].memberList=[],this.friendsGroupList[parseInt(e.friendsGroupID)].roomMsgList=[],this.friendsGroupList[parseInt(e.friendsGroupID)].accoMsgList=[],this.friendsGroupList[e.friendsGroupID].deskList=[];for(var t=1;t<=G_CLUB_DESK_LEN;++t){var i=this.createDeskInfo(e.friendsGroupID,t);this.friendsGroupList[e.friendsGroupID].deskList.push(i)}this.friendsGroupList[e.friendsGroupID].vipDeskList=[];for(var n=1;n<=G_CLUB_DESK_LEN;++n){var o=this.createVIPDeskInfo(e.friendsGroupID,n+G_CLUB_DESK_LEN);this.friendsGroupList[e.friendsGroupID].vipDeskList.push(o)}},delFriendsGroup:function(e){this.friendsGroupList[e]=null,delete this.friendsGroupList[e]},getFriendsGroupList:function(){var e=[];for(var t in this.friendsGroupList)e.push(this.friendsGroupList[t]);var i=function(e,t){if(objIsEmpty(e)||objIsEmpty(t))return 1;if(e==t)return 1;var i=this.getZhiDingFriendsGroupID();return e.friendsGroupID==i?-1:t.friendsGroupID==i?1:this.getWeightByStatus(e.status)==this.getWeightByStatus(t.status)?e.createTime==t.createTime?e.friendsGroupID<t.friendsGroupID?-1:1:e.createTime<t.createTime?-1:1:this.getWeightByStatus(e.status)>this.getWeightByStatus(t.status)?1:-1}.bind(this);return e.sort(i),e},getFriendsGroup:function(e){return this.friendsGroupList[e]},getAllFriendsGroupNum:function(){var e=0;for(var t in this.friendsGroupList)(t=this.friendsGroupList[t])&&t.masterID&&(e+=1);return e},getCreateFriendsGroupNum:function(){for(var e=0,t=UserInfoManager.getMyInfo().userID,i=0,n=Object.values(this.friendsGroupList);i<n.length;i++){var o=n[i];o&&o.masterID==t&&(e+=1)}return e},changeFriendsGroupName:function(e,t){for(var i in this.friendsGroupList)if(this.friendsGroupList[i].friendsGroupID==e){this.friendsGroupList[i].name=t;break}},changeFriendsGroupNotice:function(e,t){for(var i in this.friendsGroupList)if(this.friendsGroupList[i].friendsGroupID==e){this.friendsGroupList[i].notice=t;break}},changeFriendsGroupWechat:function(e,t){for(var i in this.friendsGroupList)if(this.friendsGroupList[i].friendsGroupID==e){this.friendsGroupList[i].wechat=t;break}},getFriendsGroupName:function(e){var t=this.getFriendsGroup(e);return t?t.name:""},changeFriendsGroupPeopleCount:function(e,t){var i=this.getFriendsGroup(e);i&&(i.peopleCount=i.peopleCount+t)},changeFriendsGroupRoomCount:function(e,t){var i=this.getFriendsGroup(e);i&&(i.roomCount=i.roomCount+t)},changeFriendsGroupDeskCount:function(e,t){var i=this.getFriendsGroup(e);i&&(i.deskCount=i.deskCount+t)},changeFriendsGroupVIPRoomCount:function(e,t){var i=this.getFriendsGroup(e);i&&(i.VIPRoomCount=i.VIPRoomCount+t)},changeFriendsGroupScore:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.memberList)for(var o=0,a=Object.values(t.userInfoList);o<a.length;o++){var r=a[o];if(Number(r.userID)==member.userID){i.memberList[n].score=i.memberList[n].score+Number(r.score),DataNotify.onFriendsGroupScoreChange(e,member.userID,i.memberList[n].score);break}}},isJoinFriendsGroup:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n=0,o=Object.values(i.memberList);n<o.length;n++)if(o[n].userID==t)return!0;return!1},setFriendsGroupMemberList:function(e,t){var i=this.getFriendsGroup(e);for(var n in i&&(i.memberList={}),t){var o=t[n];this.addFriendsGroupMember(e,o)}},addFriendsGroupMember:function(e,t){var i=this.getFriendsGroup(e);i&&(i.memberList[t.userID]=t)},addFriendsGroupFrontMember:function(e,t){var i=this.getFriendsGroup(e);if(i){if(i.frontMember.length>=9)return;for(var n in i.frontMember)if(t.userID==n)return;i.frontMember.push(t.userID)}},delFriendsGroupMember:function(e,t){var i=this.getFriendsGroup(e);i&&(i.memberList[t]=null,delete i.memberList[t])},delFriendsGroupFrontMember:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.frontMember)if(t==i.frontMember[n]){i.frontMember.splice(n,1);break}},getFriendsGroupMemberList:function(e){var t=this.getFriendsGroup(e),i=[];if(null!=t||null!=t)for(var n in t.memberList)n=t.memberList[n],i.push(n);var o=function(e,t){return this.getWeightByStatus(e.status)==this.getWeightByStatus(t.status)?e.onlineStatus==t.onlineStatus?e.joinTime<t.joinTime?-1:1:e.onlineStatus>t.onlineStatus?-1:1:this.getWeightByStatus(e.status)>this.getWeightByStatus(t.status)?-1:1}.bind(this);return i.sort(o),i},getFriendsGroupMemberManagerList:function(e){for(var t=this.getFriendsGroupMemberList(e),i=[],n=0,o=Object.values(t);n<o.length;n++){var a=o[n];a.status==E_FriendsGroupMemberStatus.MANAGER&&i.push(a)}return i},findFriendsGroupMemberList:function(e,t){var i=this.getFriendsGroupMemberList(e),n=[];for(var o in i){var a=i[o];String(a.userID).charAt(String(t))&&n.push(a)}return n},getFriendsGroupMember:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.memberList){var o=i.memberList[n];if(t==o.userID)return o}return null},changeFriendsGroupMemberStatus:function(e,t,i){var n=this.getFriendsGroup(e);if(n){var o=UserInfoManager.getMyInfo();for(var a in o&&o.userID==t&&(n.status=i),i==E_FriendsGroupMemberStatus.KING&&(n.masterID=t),n.memberList)if(t==n.memberList[a].userID){n.memberList[a].status=i;break}}},changeFriendsGroupMemberPower:function(e,t,i){var n=this.getFriendsGroup(e);if(n){var o=UserInfoManager.getMyInfo();for(var a in o&&o.userID==t&&(n.power=i),n.memberList)if(t==n.memberList[a].userID){n.memberList[a].power=i;break}}},changeFriendsGroupMemberFireCoin:function(e,t,i){var n=this.getFriendsGroup(e);if(n){var o=UserInfoManager.getMyInfo();for(var a in o&&o.userID==t&&(n.fireCoin=i),n.memberList)if(t==n.memberList[a].userID){n.memberList[a].carryFireCoin=i;break}}},setFriendsGroupRoomMsgList:function(e,t){var i=this.getFriendsGroup(e);i&&(i.roomMsgList={});for(var n=0,o=Object.values(t);n<o.length;n++){var a=o[n];this.addFriendsGroupRoomMsg(e,a)}},addFriendsGroupRoomMsg:function(e,t){var i=this.getFriendsGroup(e);i&&(i.roomMsgList[t.roomMsgID]=t)},delFriendsGroupRoomMsg:function(e,t){var i=this.getFriendsGroup(e);i&&(i.roomMsgList[t]=null,delete i.roomMsgList[t])},updateFriendsGroupRoomMsg:function(e,t,i){var n=this.getFriendsGroup(e);n&&n.roomMsgList&&n.roomMsgList[t]&&(n.roomMsgList[t].curPeopleCount=i)},getFriendsGroupRoomMsg:function(e,t){var i=this.getFriendsGroup(e);if(i)return i.roomMsgList[t]},getFriendsGroupRoomMsgList:function(e){var t=this.getFriendsGroup(e),i=[];for(var n in t.roomMsgList){var o=t.roomMsgList[n];i.push(o)}var a=function(e,t){return e.time==t.time?e.roomMsgID<t.roomMsgID?-1:1:e.time>t.time?-1:1}.bind(this);return i.sort(a),i},setFriendsGroupAccoMsgList:function(e,t){var i=this.getFriendsGroup(e);i&&(i.accoMsgList={});for(var n=0,o=Object.values(t);n<o.length;n++){var a=o[n];this.addFriendsGroupAccoMsg(e,a)}},addFriendsGroupAccoMsg:function(e,t){var i=this.getFriendsGroup(e);i&&(i.accoMsgList[t.accoMsgID]=t)},delFriendsGroupAccoMsg:function(e,t){var i=this.getFriendsGroup(e);i&&(i.accoMsgList[t]=null,delete i.accoMsgList[t])},getFriendsGroupAccoMsgList:function(e){var t=this.getFriendsGroup(e),i=[];for(var n in t.accoMsgList){var o=t.accoMsgList[n];i.push(o)}var a=function(e,t){return e.time==t.time?e.accoMsgID<t.accoMsgID?-1:1:e.time>t.time?-1:1}.bind(this);return i.sort(a),i},setNotifyList:function(e){for(var t in this.notifyList={},e)t=e[t],this.addNotify(t)},addNotify:function(e){this.notifyList[e.notifyID]=e},delNotify:function(e){this.notifyList[e]=null,delete this.notifyList[e]},getNotifyList:function(){var e=[];for(var t in this.notifyList)t=this.notifyList[t],e.push(t);var i=function(e,t){return e.time==t.time?e.notifyID<t.notifyID?1:-1:e.time>t.time?-1:1}.bind(this);return e.sort(i),e},setNotifyRedSpotCount:function(e){this.notifyRedSpotCount=e},getNotifyRedSpotCount:function(){return this.notifyRedSpotCount||0},clearFriendsGroupMsgRedSpotList:function(){this.msgRedSpotList={}},getFriendsGroupMsgRedSpotList:function(){return this.msgRedSpotList},setFriendsGroupMsgRedSpot:function(e,t){this.msgRedSpotList[e]=t},getFriendsGroupMsgRedSpot:function(e){return this.msgRedSpotList[e]},getFriendsGroupDeskMsgRedSpotCount:function(e){var t=this.getFriendsGroupMsgRedSpot(e);return t?t.deskMsgRedSpotCount:0},getFriendsGroupVIPRoomMsgRedSpotCount:function(e){var t=this.getFriendsGroupMsgRedSpot(e);return t?t.VIPRoomMsgRedSpotCount:0},getFriendsGroupTotalRedSpotCount:function(){for(var e=this.getNotifyRedSpotCount(),t=0,i=0,n=Object.values(this.msgRedSpotList);i<n.length;i++){var o=n[i];t=this.getFriendsGroupDeskMsgRedSpotCount(o.friendsGroupID)+this.getFriendsGroupVIPRoomMsgRedSpotCount(o.friendsGroupID)}return e+t},getFriendsGroupRedSpotInfo:function(){var e=[];return e.notifyRedSpotCount=this.getNotifyRedSpotCount(),e.msgRedSpotList=this.getFriendsGroupMsgRedSpotList(),cc.log("\u83b7\u53d6\u4ff1\u4e50\u90e8\u6218\u7ee9\u6d88\u606f\u5c0f\u7ea2\u70b9\u6570\u91cfgetFriendsGroupRedSpotInfo",e),e},createDeskInfo:function(e,t){var i={};return i.friendsGroupID=e,i.deskID=t,i.roomID=0,i.gameID=0,i.count=0,i.curPeopleCount=0,i.allPeopleCount=0,i.playCount=0,i.gameStatus=-1,i.passwd="",i.gameRules="{}",i.userIDList=[],i},createVIPDeskInfo:function(e,t){var i={};return i.friendsGroupID=e,i.deskID=t,i.roomID=0,i.gameID=0,i.count=0,i.curPeopleCount=0,i.allPeopleCount=0,i.playCount=0,i.gameStatus=-1,i.passwd="",i.gameRules="{}",i.userIDList=[],i},addDeskList:function(e,t){for(var i in t)i=t[i],this.addDeskInfo(e,i)},addDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.deskList)if(i.deskList[n].deskID==t.deskID){i.deskList[n]=t;break}},getDeskList:function(e){var t=this.getFriendsGroup(e);return t?t.deskList:[]},addVIPDeskList:function(e,t){for(var n,o=i(t);!(n=o()).done;){var a=n.value;console.log(">>>>>>>deskListdeskList"+JSON.stringify(a)),this.addVIPDeskInfo(e,a)}},addVIPDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n=0;n<i.vipDeskList.length;n++)if(i.vipDeskList[n].deskID==t.deskID){i.vipDeskList[n]=t;break}},getVIPDeskList:function(e){var t=this.getFriendsGroup(e);return t?t.vipDeskList:[]},changeDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.deskList)if(i.deskList[n].deskID==t.deskID){if(i.deskList[n].gameStatus=t.gameStatus,i.deskList[n].curPeopleCount=t.curPeopleCount,t.userID>0)if(0==t.updateType)i.deskList[n].userIDList.push(t.userID);else if(1==t.updateType)for(var o in i.deskList[n].userIDList)if(i.deskList[n].userIDList[o]==t.userID){i.deskList[n].userIDList.splice(o,1);break}return i.deskList[n]}return t},changeVIPDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i&&i.vipDeskList[t.deskID]){if(i.vipDeskList[t.deskID].gameStatus=t.gameStatus,i.vipDeskList[t.deskID].curPeopleCount=t.curPeopleCount,t.userID>0)if(0==t.updateType)i.vipDeskList[t.deskID].userIDList.push(t.userID);else if(1==t.updateType)for(var n in i.vipDeskList[t.deskID].userIDList)if(i.vipDeskList[t.deskID].userIDList[n]==t.userID){i.vipDeskList[t.deskID].userIDList.splice(n,1);break}return i.vipDeskList[t.deskID]}return t},delDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.deskList)if((n=i.deskList[n]).deskID==t){var o=this.createDeskInfo(e,t);this.addDeskInfo(e,o);break}},delVIPDeskInfo:function(e,t){var i=this.getFriendsGroup(e);if(i)for(var n in i.vipDeskList)if((n=i.vipDeskList[n]).deskID==t){var o=this.createVIPDeskInfo(e,t);this.addVIPDeskInfo(e,o);break}},onFriendsGroupNotifyMessage:function(e){MSG_NTF_LOGON_FRIENDSGROUP_NOTIFY_MSG==e.bAssistantID?this.dealFriendsGroupNotifyMsg(e):MSG_NTF_LOGON_FRIENDSGROUP_ROOM_MSG==e.bAssistantID?this.dealFriendsGroupRoomMsg(e):MSG_NTF_LOGON_FRIENDSGROUP_ACCO_MSG==e.bAssistantID?this.dealFriendsGroupAccoMsg(e):MSG_NTF_LOGON_FRIENDSGROUP_REDSPOT==e.bAssistantID?this.dealFriendsGroupRedSpot(e):MSG_NTF_LOGON_FRIENDSGROUP_MSG_HAVE_CHANGE==e.bAssistantID?this.dealFriendsGroupMsgHaveChange(e):MSG_NTF_LOGON_FRIENDSGROUP_CREATE_FG==e.bAssistantID?this.dealFriendsGroupCreateFG(e):MSG_NTF_LOGON_FRIENDSGROUP_NAME_CHANGE==e.bAssistantID?this.dealFriendsGroupNameChange(e):MSG_NTF_LOGON_FRIENDSGROUP_PEOPLE_CHANGE==e.bAssistantID?this.dealFriendsGroupPeopleChange(e):MSG_NTF_LOGON_FRIENDSGROUP_DISMISS==e.bAssistantID?this.dealFriendsGroupDismiss(e):MSG_NTF_LOGON_FRIENDSGROUP_NOTICE_CHANGE==e.bAssistantID?this.dealFriendsGroupNoticeChange(e):MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_MSG==e.bAssistantID?this.dealFriendsGroupDeskInfoMsg(e):MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_CHANGE==e.bAssistantID?this.dealFriendsGroupDeskInfoChange(e):MSG_NTF_LOGON_FRIENDSGROUP_STATUS_CHANGE==e.bAssistantID?this.dealFriendsGroupStatusChange(e):MSG_NTF_LOGON_FRIENDSGROUP_WECHAT_CHANGE==e.bAssistantID?this.dealFriendsGroupWechatChange(e):MSG_NTF_LOGON_FRIENDSGROUP_POWER_CHANGE==e.bAssistantID?this.dealFriendsGroupPowerChange(e):MSG_NTF_LOGON_FRIENDSGROUP_NEW_VIPROOM_MSG==e.bAssistantID?this.dealFriendsGroupDeskInfoMsg(e):MSG_NTF_LOGON_FRIENDSGROUP_VIPROOM_CHANGE==e.bAssistantID?this.dealFriendsGroupDeskInfoChange(e):MSG_NTF_LOGON_FRIENDSGROUP_FIRECOIN_CHANGE==e.bAssistantID&&this.dealFriendsGroupFireCoinChange(e)},dealFriendsGroupNotifyMsg:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.notify=this._Resolve_OneFriendsGroupNotify(e),t}.bind(this)(e);this.addNotify(t.notify),DataNotify.onFriendsGroupNotifyAdd(t.notify)}},dealFriendsGroupRoomMsg:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.roomMsg=this._Resolve_OneFriendsGroupRoomMsg(e),t}.bind(this)(e);this.changeFriendsGroupRoomCount(t.roomMsg.friendsGroupID,1),this.addFriendsGroupRoomMsg(t.roomMsg.friendsGroupID,t.roomMsg),DataNotify.onFriendsGroupRoomMsgAdd(t.roomMsg.friendsGroupID,t.roomMsg)}},dealFriendsGroupAccoMsg:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.accoMsg=this._Resolve_OneFriendsGroupAccoMsg(e),t}.bind(this)(e);this.changeFriendsGroupScore(t.accoMsg.friendsGroupID,t.accoMsg),this.addFriendsGroupAccoMsg(t.accoMsg.friendsGroupID,t.accoMsg),DataNotify.onFriendsGroupAccoMsgAdd(t.accoMsg.friendsGroupID,t.accoMsg)}},dealFriendsGroupRedSpot:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t=[];t.notifyRedSpotCount=e.popINT(),t.friendsGroupCount=e.popINT(),t.msgRedSpotList=[];for(var i=1;i<=t.friendsGroupCount;++i)t.msgRedSpotList.push(this._Resolve_OneFriendsGroupMsgRedSpot(e));return cc.log("\u670d\u52a1\u5668\u63a8\u9001\u7684\u5c0f\u7ea2\u70b9\u6570\u91cfdealFriendsGroupRedSpot",t),t}.bind(this)(e);for(var i in this.setNotifyRedSpotCount(t.notifyRedSpotCount),this.clearFriendsGroupMsgRedSpotList(),t.msgRedSpotList)i=t.msgRedSpotList[i],this.setFriendsGroupMsgRedSpot(i.friendsGroupID,i);cc.log("dealFriendsGroupRedSpot_info",t),DataNotify.onFriendsGroupRedSpotChange(t)}},dealFriendsGroupMsgHaveChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t.operType=e.popBYTE(),t.msgType=e.popBYTE(),t.ID=e.popINT(),t.roomCount=e.popINT(),t.curPeopleCount=e.popINT(),t}.bind(this)(e);0==t.operType?0==t.msgType&&(this.updateFriendsGroupRoomMsg(t.friendsGroupID,t.ID,t.curPeopleCount),DataNotify.onFriendsGroupRoomMsgUpdate(t.friendsGroupID,t.ID,t.curPeopleCount)):1==t.operType&&(0==t.msgType?(this.changeFriendsGroupRoomCount(t.friendsGroupID,-1),this.delFriendsGroupRoomMsg(t.friendsGroupID,t.ID),DataNotify.onFriendsGroupRoomMsgDel(t.friendsGroupID,t.ID)):1==t.msgType&&DataNotify.onFriendsGroupAccoMsgDel(t.friendsGroupID,t.ID))}},dealFriendsGroupCreateFG:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroup=this._Resolve_OneFriendsGroupInfo(e),t}.bind(this)(e);this.addFriendsGroup(t.friendsGroup),cc.log("dealFriendsGroupCreateFGdealFriendsGroupCreateFG"),DataNotify.onFriendsGroupAdd(t.friendsGroup)}},dealFriendsGroupNameChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t.name=e.popNCHAR(24),t}.bind(this)(e);this.changeFriendsGroupName(t.friendsGroupID,t.name),cc.log("dealFriendsGroupNameChangedealFriendsGroupNameChange"),DataNotify.onFriendsGroupNameChange(t.friendsGroupID,t.name)}},dealFriendsGroupPeopleChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t.type=e.popBYTE(),t.member=this._Resolve_OneFriendsGroupUserInfo(e),t}.bind(this)(e);0==t.type||(1==t.type?(this.changeFriendsGroupPeopleCount(t.friendsGroupID,1),this.addFriendsGroupMember(t.friendsGroupID,t.member),this.addFriendsGroupFrontMember(t.friendsGroupID,t.member),cc.log("dealFriendsGroupPeopleChangedealFriendsGroupPeopleChange"),DataNotify.onFriendsGroupMemberAdd(t.friendsGroupID,t.member)):2==t.type&&(this.changeFriendsGroupPeopleCount(t.friendsGroupID,-1),this.delFriendsGroupMember(t.friendsGroupID,t.member.userID),this.delFriendsGroupFrontMember(t.friendsGroupID,t.member.userID),cc.log("dealFriendsGroupPeopleChangedealFriendsGroupPeopleChange"),DataNotify.onFriendsGroupMemberDel(t.friendsGroupID,t.member.userID)))}},dealFriendsGroupDismiss:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t}.bind(this)(e);this.delFriendsGroup(t.friendsGroupID),cc.log("dealFriendsGroupDismissdealFriendsGroupDismiss"),DataNotify.onFriendsGroupDel(t.friendsGroupID)}},dealFriendsGroupNoticeChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t.notice=e.popNCHAR(128),t}.bind(this)(e);this.changeFriendsGroupNotice(t.friendsGroupID,t.notice),DataNotify.onFriendsGroupNoticeChange(t.friendsGroupID,t.notice)}},dealFriendsGroupDeskInfoMsg:function(t){if(this.ClubLayer=new(e("ClubLayer")),G_HANDLE_CODE_OK==t.bHandleCode){var i=function(e){var t=[];return t.desk=this._Resolve_OneFriendsGroupDeskInfo(e),t}.bind(this)(t);MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_MSG==t.bAssistantID?(cc.log("\u5b9e\u65f6\u589e\u52a0\u684c\u5b50\u5728\u8fd9\u91cc++++++++++++++++++++++++++++++++"),this.addDeskInfo(i.desk.friendsGroupID,i.desk),this.changeFriendsGroupDeskCount(i.desk.friendsGroupID,1),DataNotify.onFriendsGroupDeskAdd(i.desk.friendsGroupID,i.desk)):MSG_NTF_LOGON_FRIENDSGROUP_NEW_VIPROOM_MSG==t.bAssistantID&&(this.addVIPDeskInfo(i.desk.friendsGroupID,i.desk)||(cc.log("\u5b9e\u65f6\u589e\u52a0VIP\u684c\u5b50\u5728\u8fd9\u91cc++++++++++++++++++++++++++++++++"),this.addVIPDeskInfo(i.desk.friendsGroupID,i.desk),this.changeFriendsGroupVIPRoomCount(i.desk.friendsGroupID,1),DataNotify.onFriendsGroupVIPDeskAdd(i.desk.friendsGroupID,i.desk)))}},dealFriendsGroupDeskInfoChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t=[];return t.friendsGroupID=e.popINT(),t.operType=e.popBYTE(),t.deskID=e.popINT(),t.curPeopleCount=e.popINT(),t.gameStatus=e.popBYTE(),t.updateType=e.popBYTE(),t.userID=e.popINT(),t}.bind(this)(e);if(0==t.operType){if(MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_CHANGE==e.bAssistantID){var i=this.changeDeskInfo(t.friendsGroupID,t);DataNotify.onFriendsGroupDeskChange(i.friendsGroupID,i)}else if(MSG_NTF_LOGON_FRIENDSGROUP_VIPROOM_CHANGE==e.bAssistantID){var n=this.changeVIPDeskInfo(t.friendsGroupID,t);DataNotify.onFriendsGroupVIPDeskChange(n.friendsGroupID,n)}}else if(1==t.operType)if(MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_CHANGE==e.bAssistantID){this.delDeskInfo(t.friendsGroupID,t.deskID),this.changeFriendsGroupDeskCount(t.friendsGroupID,-1);var o=this.createDeskInfo(t.friendsGroupID,t.deskID);DataNotify.onFriendsGroupDeskDel(o.friendsGroupID,o)}else if(MSG_NTF_LOGON_FRIENDSGROUP_VIPROOM_CHANGE==e.bAssistantID){this.delVIPDeskInfo(t.friendsGroupID,t.deskID),this.changeFriendsGroupVIPRoomCount(t.friendsGroupID,-1);var a=this.createVIPDeskInfo(t.friendsGroupID,t.deskID);DataNotify.onFriendsGroupVIPDeskDel(a.friendsGroupID,a)}}},dealFriendsGroupStatusChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.friendsGroupID=e.popINT(),t.count=e.popINT(),t.userList={};for(var i=1;i<=t.count;++i)t.userList[i]=this._Resolve_StatusChangeStruct(e);return t}.bind(this)(e);for(var i in t.userList)i=t.userList[i],this.changeFriendsGroupMemberStatus(t.friendsGroupID,i.userID,i.status),DataNotify.onFriendsGroupStatusChange(t.friendsGroupID,i.userID,i.status)}},dealFriendsGroupWechatChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendsGroupID=e.popINT(),t.wechat=e.popNCHAR(48),t}.bind(this)(e);window.index=0,window.QMBH=t.wechat,window.BH=!0,this.changeFriendsGroupWechat(t.friendsGroupID,t.wechat),DataNotify.onFriendsGroupWechatChange(t.friendsGroupID,t.wechat)}},dealFriendsGroupPowerChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.friendsGroupID=e.popINT(),t.power=e.popBYTE(),t}.bind(this)(e);this.changeFriendsGroupMemberPower(t.friendsGroupID,t.userID,t.power),DataNotify.onFriendsGroupPowerChange(t.friendsGroupID,t.userID,t.power)}},dealFriendsGroupFireCoinChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.friendsGroupID=e.popINT(),t.changInfoList=[];for(var i=1;i<=G_WAR_RECORD_PLAYER_NUM;++i){var n={};n.userID=e.popINT(),n.fireCoin=e.popINT(),n.userID>0&&t.changInfoList.push(n)}return t}.bind(this)(e);for(var i in t.changInfoList)i=t.changInfoList[i],this.changeFriendsGroupMemberFireCoin(t.friendsGroupID,i.userID,i.fireCoin),DataNotify.onFriendsGroupMemberFireCoinChange(t.friendsGroupID,i.userID,i.fireCoin)}},getSelectFriendsGroup:function(){return this.getFriendsGroup(this.selectFriendsGroupID)},setSelectFriendsGroupID:function(e){this.selectFriendsGroupID=e},getSelectFriendsGroupID:function(){return this.selectFriendsGroupID},setZhiDingFriendsGroupID:function(e){var t=UserInfoManager.getMyInfo().userID;cc.sys.localStorage.setItem(tools.stringFormat(G_ZHIDING_CLUB_ID,t),e)},getZhiDingFriendsGroupID:function(){var e=UserInfoManager.getMyInfo().userID;return Number(cc.sys.localStorage.getItem(tools.stringFormat(G_ZHIDING_CLUB_ID,e)))},setJoinRoomScene:function(e){var t=UserInfoManager.getMyInfo().userID;cc.sys.localStorage.setItem(tools.stringFormat(G_JOIN_ROOM_SCENE,t),e)},getJoinRoomScene:function(){var e=UserInfoManager.getMyInfo().userID;return cc.sys.localStorage.getItem(tools.stringFormat(G_JOIN_ROOM_SCENE,e))},requestTuiJianClub:function(e){var t=UserInfoManager.getMyInfo().userID,i=function(){cc.log("\u8bf7\u6c42\u83b7\u53d6\u63a8\u8350\u4ff1\u4e50\u90e8\u4fe1\u606f\u8d85\u65f6")}.bind(this),n=function(t){t.status==G_JSON_DATA_STATUS_OK?e(t.clubRecommend):createTips(t.msg)}.bind(this),o={};o.url=tools.stringFormat("http://"+G_PHP_IP+"/API/index.php"),o.params={action:"clubRecommend",userID:t},o.sCallback=n,o.fCallback=i,o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},clear:function(){this.friendGroupsList={},this.notifyList={},this.notifyRedSpotCount=0,this.msgRedSpotList={},this.instance=null}});t.exports=s,cc._RF.pop()},{ClubLayer:void 0,DataManager:"DataManager",GlobalEnum:"GlobalEnum"}],15:[function(e,t,i){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var o=n({HTML:"text/html",isHTML:function(e){return e===o.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),a=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===a.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});i.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.freeze=n,i.MIME_TYPE=o,i.NAMESPACE=a},{}],16:[function(e,t,i){var n=e("./conventions"),o=e("./dom"),a=e("./entities"),r=e("./sax"),s=o.DOMImplementation,c=n.NAMESPACE,l=r.ParseError,u=r.XMLReader;function h(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function f(e,t,i){if(!e){if(t instanceof p)return t;e=t}var n={},o=e instanceof Function;function a(t){var a=e[t];!a&&o&&(a=2==e.length?function(i){e(t,i)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+m(i))}||function(){}}return i=i||{},a("warning"),a("error"),a("fatalError"),n}function p(){this.cdata=!1}function g(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function _(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var i=this.options,n=new u,o=i.domBuilder||new p,r=i.errorHandler,s=i.locator,l=i.xmlns||{},d=/\/x?html?$/.test(t),g=d?a.HTML_ENTITIES:a.XML_ENTITIES;s&&o.setDocumentLocator(s),n.errorHandler=f(r,o,s),n.domBuilder=i.domBuilder||o,d&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var m=i.normalizeLineEndings||h;return e&&"string"==typeof e?n.parse(m(e),l,g):n.errorHandler.error("invalid doc source"),o.doc},p.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var o=this.doc,a=o.createElementNS(e,i||t),r=n.length;y(this,a),this.currentElement=a,this.locator&&g(this.locator,a);for(var s=0;s<r;s++){e=n.getURI(s);var c=n.getValue(s),l=(i=n.getQName(s),o.createAttributeNS(e,i));this.locator&&g(n.getLocator(s),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(){var e=this.currentElement;e.tagName,this.currentElement=e.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&g(this.locator,i),y(this,i)},ignorableWhitespace:function(){},characters:function(e,t,i){if(e=_.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&g(this.locator,n)}},skippedEntity:function(){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=_.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&g(this.locator,n),y(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var o=n.createDocumentType(e,t,i);this.locator&&g(this.locator,o),y(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){p.prototype[e]=function(){return null}}),i.__DOMHandler=p,i.normalizeLineEndings=h,i.DOMParser=d},{"./conventions":15,"./dom":17,"./entities":18,"./sax":20}],17:[function(e,t,i){var n=e("./conventions").NAMESPACE;function o(e){return""!==e}function a(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}function r(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=a(e);return Object.keys(t.reduce(r,{}))}function c(e,t){for(var i in e)t[i]=e[i]}function l(e,t){var i=e.prototype;if(!(i instanceof t)){function n(){}n.prototype=t.prototype,c(i,n=new n),e.prototype=i=n}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var u={},h=u.ELEMENT_NODE=1,d=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,p=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,m=u.ENTITY_NODE=6,_=u.PROCESSING_INSTRUCTION_NODE=7,y=u.COMMENT_NODE=8,v=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,b=u.DOCUMENT_FRAGMENT_NODE=11,S=u.NOTATION_NODE=12,L={},I={},R=(L.INDEX_SIZE_ERR=(I[1]="Index size error",1),L.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2),L.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3)),N=(L.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),L.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),L.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),L.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7),L.NOT_FOUND_ERR=(I[8]="Not found",8)),T=(L.NOT_SUPPORTED_ERR=(I[9]="Not supported",9),L.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10));function E(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,I[e]),this.message=I[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return i.code=e,t&&(this.message=this.message+": "+t),i}function M(){}function D(e,t){this._node=e,this._refresh=t,A(this)}function A(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);de(e,"length",i.length),c(i,e),e._inc=t}}function w(){}function O(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function G(e,t,i,n){if(n?t[O(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var o=e.ownerDocument;o&&(n&&V(o,e,n),H(o,e,i))}}function B(e,t,i){var n=O(t,i);if(!(n>=0))throw E(N,new Error(e.tagName+"@"+i));for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var a=e.ownerDocument;a&&(V(a,e,i),i.ownerElement=null)}}function k(){}function P(){}function F(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function U(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(U(e,t))return!0}while(e=e.nextSibling)}function x(){}function H(e,t,i){e&&e._inc++,i.namespaceURI===n.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}function V(e,t,i){e&&e._inc++,i.namespaceURI===n.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function j(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var o=t.firstChild,a=0;o;)n[a++]=o,o=o.nextSibling;n.length=a,delete n[n.length]}}}function J(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,j(e.ownerDocument,e),t}function Y(e,t,i){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===b){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var r=i?i.previousSibling:e.lastChild;o.previousSibling=r,a.nextSibling=i,r?r.nextSibling=o:e.firstChild=o,null==i?e.lastChild=a:i.previousSibling=a;do{o.parentNode=e}while(o!==a&&(o=o.nextSibling));return j(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function q(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,j(e.ownerDocument,e,t),t}function W(){this._nsMap={}}function K(){}function z(){}function Z(){}function X(){}function Q(){}function $(){}function ee(){}function te(){}function ie(){}function ne(){}function oe(){}function ae(){}function re(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,o=n.prefix,a=n.namespaceURI;if(a&&null==o&&null==(o=n.lookupPrefix(a)))var r=[{namespace:a,prefix:null}];return le(this,i,e,t,r),i.join("")}function se(e,t,i){var o=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===o&&a===n.XML||a===n.XMLNS)return!1;for(var r=i.length;r--;){var s=i[r];if(s.prefix===o)return s.namespace!==a}return!0}function ce(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,F),'"')}function le(e,t,i,o,a){if(a||(a=[]),o){if(!(e=o(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var r=e.attributes,s=r.length,c=e.firstChild,l=e.tagName,u=l;if(!(i=n.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var m,S=0;S<r.length;S++)if("xmlns"===r.item(S).name){m=r.item(S).value;break}if(!m)for(var L=a.length-1;L>=0;L--)if(""===(I=a[L]).prefix&&I.namespace===e.namespaceURI){m=I.namespace;break}if(m!==e.namespaceURI)for(L=a.length-1;L>=0;L--){var I;if((I=a[L]).namespace===e.namespaceURI){I.prefix&&(u=I.prefix+":"+l);break}}}t.push("<",u);for(var R=0;R<s;R++)"xmlns"==(N=r.item(R)).prefix?a.push({prefix:N.localName,namespace:N.value}):"xmlns"==N.nodeName&&a.push({prefix:"",namespace:N.value});for(R=0;R<s;R++){var N,T,E;se(N=r.item(R),0,a)&&(ce(t,(T=N.prefix||"")?"xmlns:"+T:"xmlns",E=N.namespaceURI),a.push({prefix:T,namespace:E})),le(N,t,i,o,a)}if(l===u&&se(e,0,a)&&(ce(t,(T=e.prefix||"")?"xmlns:"+T:"xmlns",E=e.namespaceURI),a.push({prefix:T,namespace:E})),c||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):le(c,t,i,o,a.slice()),c=c.nextSibling;else for(;c;)le(c,t,i,o,a.slice()),c=c.nextSibling;t.push("</",u,">")}else t.push("/>");return;case v:case b:for(c=e.firstChild;c;)le(c,t,i,o,a.slice()),c=c.nextSibling;return;case d:return ce(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,F));case p:return t.push("<![CDATA[",e.data,"]]>");case y:return t.push("\x3c!--",e.data,"--\x3e");case C:var M=e.publicId,D=e.systemId;if(t.push("<!DOCTYPE ",e.name),M)t.push(" PUBLIC ",M),D&&"."!=D&&t.push(" ",D),t.push(">");else if(D&&"."!=D)t.push(" SYSTEM ",D,">");else{var A=e.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case _:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ue(e,t,i){var n;switch(t.nodeType){case h:(n=t.cloneNode(!1)).ownerDocument=e;case b:break;case d:i=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,i)for(var o=t.firstChild;o;)n.appendChild(ue(e,o,i)),o=o.nextSibling;return n}function he(e,t,i){var n=new t.constructor;for(var o in t){var a=t[o];"object"!=typeof a&&a!=n[o]&&(n[o]=a)}switch(t.childNodes&&(n.childNodes=new M),n.ownerDocument=e,n.nodeType){case h:var r=t.attributes,s=n.attributes=new w,c=r.length;s._ownerElement=n;for(var l=0;l<c;l++)n.setAttributeNode(he(e,r.item(l),!0));break;case d:i=!0}if(i)for(var u=t.firstChild;u;)n.appendChild(he(e,u,i)),u=u.nextSibling;return n}function de(e,t,i){e[t]=i}L.INVALID_STATE_ERR=(I[11]="Invalid state",11),L.SYNTAX_ERR=(I[12]="Syntax error",12),L.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),L.NAMESPACE_ERR=(I[14]="Invalid namespace",14),L.INVALID_ACCESS_ERR=(I[15]="Invalid access",15),E.prototype=Error.prototype,c(L,E),M.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)le(this[n],i,e,t);return i.join("")}},D.prototype.item=function(e){return A(this),this[e]},l(D,M),w.prototype={length:0,item:M.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(T);var i=this.getNamedItem(e.nodeName);return G(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new E(T);return t=this.getNamedItemNS(e.namespaceURI,e.localName),G(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return B(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return B(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},k.prototype={hasFeature:function(){return!0},createDocument:function(e,t,i){var n=new x;if(n.implementation=this,n.childNodes=new M,n.doctype=i||null,i&&n.appendChild(i),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,i){var n=new $;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Y(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return J(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return he(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(i[n]==e)return n;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(u,P),c(u,P.prototype),x.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return null==this.documentElement&&e.nodeType==h&&(this.documentElement=e),Y(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),J(this,e)},importNode:function(e,t){return ue(this,e,t)},getElementById:function(e){var t=null;return U(this.documentElement,function(i){if(i.nodeType==h&&i.getAttribute("id")==e)return t=i,!0}),t},getElementsByClassName:function(e){var t=s(e);return new D(this,function(i){var n=[];return t.length>0&&U(i.documentElement,function(o){if(o!==i&&o.nodeType===h){var a=o.getAttribute("class");if(a){var r=e===a;if(!r){var c=s(a);r=t.every((l=c,function(e){return l&&-1!==l.indexOf(e)}))}r&&n.push(o)}}var l}),n})},createElement:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new M,(t.attributes=new w)._ownerElement=t,t},createDocumentFragment:function(){var e=new ne;return e.ownerDocument=this,e.childNodes=new M,e},createTextNode:function(e){var t=new Z;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new oe;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new K;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ie;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new W,n=t.split(":"),o=i.attributes=new w;return i.childNodes=new M,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,o._ownerElement=i,i},createAttributeNS:function(e,t){var i=new K,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},l(x,P),W.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):q(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new D(this,function(t){var i=[];return U(t,function(n){n===t||n.nodeType!=h||"*"!==e&&n.tagName!=e||i.push(n)}),i})},getElementsByTagNameNS:function(e,t){return new D(this,function(i){var n=[];return U(i,function(o){o===i||o.nodeType!==h||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||n.push(o)}),n})}},x.prototype.getElementsByTagName=W.prototype.getElementsByTagName,x.prototype.getElementsByTagNameNS=W.prototype.getElementsByTagNameNS,l(W,P),K.prototype.nodeType=d,l(K,P),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(){throw new Error(I[R])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},l(z,P),Z.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},l(Z,z),X.prototype={nodeName:"#comment",nodeType:y},l(X,z),Q.prototype={nodeName:"#cdata-section",nodeType:p},l(Q,z),$.prototype.nodeType=C,l($,P),ee.prototype.nodeType=S,l(ee,P),te.prototype.nodeType=m,l(te,P),ie.prototype.nodeType=g,l(ie,P),ne.prototype.nodeName="#document-fragment",ne.prototype.nodeType=b,l(ne,P),oe.prototype.nodeType=_,l(oe,P),ae.prototype.serializeToString=function(e,t,i){return re.call(e,t,i)},P.prototype.toString=re;try{if(Object.defineProperty){function fe(e){switch(e.nodeType){case h:case b:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(fe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(D.prototype,"length",{get:function(){return A(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return fe(this)},set:function(e){switch(this.nodeType){case h:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),de=function(e,t,i){e["$$"+t]=i}}}catch(pe){}i.DocumentType=$,i.DOMException=E,i.DOMImplementation=k,i.Element=W,i.Node=P,i.NodeList=M,i.XMLSerializer=ae},{"./conventions":15}],18:[function(e,t,i){var n=e("./conventions").freeze;i.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),i.entityMap=i.HTML_ENTITIES},{"./conventions":15}],19:[function(e,t,i){var n=e("./dom");i.DOMImplementation=n.DOMImplementation,i.XMLSerializer=n.XMLSerializer,i.DOMParser=e("./dom-parser").DOMParser},{"./dom":17,"./dom-parser":16}],20:[function(e,t,i){var n=e("./conventions").NAMESPACE,o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+o.source+a.source+"*(?::"+o.source+a.source+"*)?$"),s=0,c=1,l=2,u=3,h=4,d=5,f=6,p=7;function g(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,g)}function m(){}function _(e,t,i,o,a){function r(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(i,t)?i[t]:"#"===t.charAt(0)?r(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function c(t){if(t>_){var i=e.substring(_,t).replace(/&#?\w+;/g,s);f&&l(_),o.characters(i,0,t-_),_=t}}function l(t,i){for(;t>=h&&(i=d.exec(e));)u=i.index,h=u+i[0].length,f.lineNumber++;f.columnNumber=t-u+1}for(var u=0,h=0,d=/.*(?:\r\n?|\n)|.*$/g,f=o.locator,p=[{currentNSMap:t}],m={},_=0;;){try{var L=e.indexOf("<",_);if(L<0){if(!e.substr(_).match(/^\s*$/)){var T=o.doc,E=T.createTextNode(e.substr(_));T.appendChild(E),o.currentElement=E}return}switch(L>_&&c(L),e.charAt(L+1)){case"/":var M=e.indexOf(">",L+3),D=e.substring(L+2,M).replace(/[ \t\n\r]+$/g,""),A=p.pop();M<0?(D=e.substring(L+2).replace(/[\s<].*/,""),a.error("end tag name: "+D+" is not complete:"+A.tagName),M=L+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),a.error("end tag name: "+D+" maybe not complete"),M=L+1+D.length);var w=A.localNSMap,O=A.tagName==D;if(O||A.tagName&&A.tagName.toLowerCase()==D.toLowerCase()){if(o.endElement(A.uri,A.localName,D),w)for(var G in w)o.endPrefixMapping(G);O||a.fatalError("end tag name: "+D+" is not match the current start tagName:"+A.tagName)}else p.push(A);M++;break;case"?":f&&l(L),M=R(e,L,o);break;case"!":f&&l(L),M=I(e,L,o,a);break;default:f&&l(L);var B=new N,k=p[p.length-1].currentNSMap,P=(M=v(e,L,B,k,s,a),B.length);if(!B.closed&&S(e,M,B.tagName,m)&&(B.closed=!0,i.nbsp||a.warning("unclosed xml attribute")),f&&P){for(var F=y(f,{}),U=0;U<P;U++){var x=B[U];l(x.offset),x.locator=y(f,{})}o.locator=F,C(B,o,k)&&p.push(B),o.locator=f}else C(B,o,k)&&p.push(B);n.isHTML(B.uri)&&!B.closed?M=b(e,M,B.tagName,s,o):M++}}catch(H){if(H instanceof g)throw H;a.error("element parse error: "+H),M=-1}M>_?_=M:c(Math.max(L,_)+1)}}function y(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function v(e,t,i,o,a,r){function g(e,t,n){i.attributeNames.hasOwnProperty(e)&&r.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),n)}for(var m,_=++t,y=s;;){var v=e.charAt(_);switch(v){case"=":if(y===c)m=e.slice(t,_),y=u;else{if(y!==l)throw new Error("attribute equal must after attrName");y=u}break;case"'":case'"':if(y===u||y===c){if(y===c&&(r.warning('attribute value must after "="'),m=e.slice(t,_)),t=_+1,!((_=e.indexOf(v,t))>0))throw new Error("attribute value no end '"+v+"' match");g(m,C=e.slice(t,_),t-1),y=d}else{if(y!=h)throw new Error('attribute value must after "="');g(m,C=e.slice(t,_),t),r.warning('attribute "'+m+'" missed start quot('+v+")!!"),t=_+1,y=d}break;case"/":switch(y){case s:i.setTagName(e.slice(t,_));case d:case f:case p:y=p,i.closed=!0;case h:case c:case l:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),y==s&&i.setTagName(e.slice(t,_)),_;case">":switch(y){case s:i.setTagName(e.slice(t,_));case d:case f:case p:break;case h:case c:"/"===(C=e.slice(t,_)).slice(-1)&&(i.closed=!0,C=C.slice(0,-1));case l:y===l&&(C=m),y==h?(r.warning('attribute "'+C+'" missed quot(")!'),g(m,C,t)):(n.isHTML(o[""])&&C.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+C+'" missed value!! "'+C+'" instead!!'),g(C,C,t));break;case u:throw new Error("attribute value missed!!")}return _;case"\x80":v=" ";default:if(v<=" ")switch(y){case s:i.setTagName(e.slice(t,_)),y=f;break;case c:m=e.slice(t,_),y=l;break;case h:var C=e.slice(t,_);r.warning('attribute "'+C+'" missed quot(")!!'),g(m,C,t);case d:y=f}else switch(y){case l:i.tagName,n.isHTML(o[""])&&m.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+m+'" missed value!! "'+m+'" instead2!!'),g(m,m,t),t=_,y=c;break;case d:r.warning('attribute space is required"'+m+'"!!');case f:y=c,t=_;break;case u:y=h,t=_;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}_++}}function C(e,t,i){for(var o=e.tagName,a=null,r=e.length;r--;){var s=e[r],c=s.qName,l=s.value;if((f=c.indexOf(":"))>0)var u=s.prefix=c.slice(0,f),h=c.slice(f+1),d="xmlns"===u&&h;else h=c,u=null,d="xmlns"===c&&"";s.localName=h,!1!==d&&(null==a&&(a={},L(i,i={})),i[d]=a[d]=l,s.uri=n.XMLNS,t.startPrefixMapping(d,l))}for(r=e.length;r--;)(u=(s=e[r]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=i[u||""]));var f;(f=o.indexOf(":"))>0?(u=e.prefix=o.slice(0,f),h=e.localName=o.slice(f+1)):(u=null,h=e.localName=o);var p=e.uri=i[u||""];if(t.startElement(p,h,o,e),!e.closed)return e.currentNSMap=i,e.localNSMap=a,!0;if(t.endElement(p,h,o),a)for(u in a)t.endPrefixMapping(u)}function b(e,t,i,n,o){if(/^(?:script|textarea)$/i.test(i)){var a=e.indexOf("</"+i+">",t),r=e.substring(t+1,a);if(/[&<]/.test(r))return/^script$/i.test(i)?(o.characters(r,0,r.length),a):(r=r.replace(/&#?\w+;/g,n),o.characters(r,0,r.length),a)}return t+1}function S(e,t,i,n){var o=n[i];return null==o&&((o=e.lastIndexOf("</"+i+">"))<t&&(o=e.lastIndexOf("</"+i)),n[i]=o),o<t}function L(e,t){for(var i in e)t[i]=e[i]}function I(e,t,i,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,o-t-9),i.endCDATA(),o+3}var a=T(e,t),r=a.length;if(r>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=!1,l=!1;r>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=r>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var u=a[r-1];return i.startDTD(s,c,l),i.endDTD(),u.index+u[0].length}}return-1}function R(e,t,i){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,i.processingInstruction(o[1],o[2]),n+2):-1}return-1}function N(){this.attributeNames={}}function T(e,t){var i,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);i=o.exec(e);)if(n.push(i),i[1])return n}g.prototype=new Error,g.prototype.name=g.name,m.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),L(t,t={}),_(e,t,i,n,this.errorHandler),n.endDocument()}},N.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!r.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},i.XMLReader=m,i.ParseError=g},{"./conventions":15}],21:[function(e,t){t.exports=e("./lib/axios")},{"./lib/axios":23}],22:[function(e,t){"use strict";var i=e("./../utils"),n=e("./../core/settle"),o=e("./../helpers/cookies"),a=e("./../helpers/buildURL"),r=e("../core/buildFullPath"),s=e("./../helpers/parseHeaders"),c=e("./../helpers/isURLSameOrigin"),l=e("../defaults/transitional"),u=e("../core/AxiosError"),h=e("../cancel/CanceledError"),d=e("../helpers/parseProtocol");t.exports=function(e){return new Promise(function(t,f){var p,g=e.data,m=e.headers,_=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(g)&&i.isStandardBrowserEnv()&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var C=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(C+":"+b)}var S=r(e.baseURL,e.url);function L(){if(v){var i="getAllResponseHeaders"in v?s(v.getAllResponseHeaders()):null,o={data:_&&"text"!==_&&"json"!==_?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:i,config:e,request:v};n(function(e){t(e),y()},function(e){f(e),y()},o),v=null}}if(v.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=L:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(L)},v.onabort=function(){v&&(f(new u("Request aborted",u.ECONNABORTED,e,v)),v=null)},v.onerror=function(){f(new u("Network Error",u.ERR_NETWORK,e,v,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),f(new u(t,i.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,e,v)),v=null},i.isStandardBrowserEnv()){var I=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;I&&(m[e.xsrfHeaderName]=I)}"setRequestHeader"in v&&i.forEach(m,function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),_&&"json"!==_&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){v&&(f(!e||e&&e.type?new h:e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),g||(g=null);var R=d(S);R&&-1===["http","https","file"].indexOf(R)?f(new u("Unsupported protocol "+R+":",u.ERR_BAD_REQUEST,e)):v.send(g)})}},{"../cancel/CanceledError":25,"../core/AxiosError":28,"../core/buildFullPath":30,"../defaults/transitional":36,"../helpers/parseProtocol":48,"./../core/settle":33,"./../helpers/buildURL":39,"./../helpers/cookies":41,"./../helpers/isURLSameOrigin":44,"./../helpers/parseHeaders":47,"./../utils":52}],23:[function(e,t){"use strict";var i=e("./utils"),n=e("./helpers/bind"),o=e("./core/Axios"),a=e("./core/mergeConfig"),r=function e(t){var r=new o(t),s=n(o.prototype.request,r);return i.extend(s,o.prototype,r),i.extend(s,r),s.create=function(i){return e(a(t,i))},s}(e("./defaults"));r.Axios=o,r.CanceledError=e("./cancel/CanceledError"),r.CancelToken=e("./cancel/CancelToken"),r.isCancel=e("./cancel/isCancel"),r.VERSION=e("./env/data").version,r.toFormData=e("./helpers/toFormData"),r.AxiosError=e("../lib/core/AxiosError"),r.Cancel=r.CanceledError,r.all=function(e){return Promise.all(e)},r.spread=e("./helpers/spread"),r.isAxiosError=e("./helpers/isAxiosError"),t.exports=r,t.exports.default=r},{"../lib/core/AxiosError":28,"./cancel/CancelToken":24,"./cancel/CanceledError":25,"./cancel/isCancel":26,"./core/Axios":27,"./core/mergeConfig":32,"./defaults":35,"./env/data":37,"./helpers/bind":38,"./helpers/isAxiosError":43,"./helpers/spread":49,"./helpers/toFormData":50,"./utils":52}],24:[function(e,t){"use strict";var i=e("./CanceledError");function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,i=new Promise(function(e){n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},t.exports=n},{"./CanceledError":25}],25:[function(e,t){"use strict";var i=e("../core/AxiosError");function n(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}e("../utils").inherits(n,i,{__CANCEL__:!0}),t.exports=n},{"../core/AxiosError":28,"../utils":52}],26:[function(e,t){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],27:[function(e,t){"use strict";var i=e("./../utils"),n=e("../helpers/buildURL"),o=e("./InterceptorManager"),a=e("./dispatchRequest"),r=e("./mergeConfig"),s=e("./buildFullPath"),c=e("../helpers/validator"),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=r(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=t.transitional;void 0!==i&&c.assertOptions(i,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var s,u=[];if(this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)}),!o){var h=[a,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(u),s=Promise.resolve(t);h.length;)s=s.then(h.shift(),h.shift());return s}for(var d=t;n.length;){var f=n.shift(),p=n.shift();try{d=f(d)}catch(g){p(g);break}}try{s=a(d)}catch(g){return Promise.reject(g)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},u.prototype.getUri=function(e){e=r(this.defaults,e);var t=s(e.baseURL,e.url);return n(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,i){return this.request(r(i||{},{method:e,url:t,data:(i||{}).data}))}}),i.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,o){return this.request(r(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}u.prototype[e]=t(),u.prototype[e+"Form"]=t(!0)}),t.exports=u},{"../helpers/buildURL":39,"../helpers/validator":51,"./../utils":52,"./InterceptorManager":29,"./buildFullPath":30,"./dispatchRequest":31,"./mergeConfig":32}],28:[function(e,t){"use strict";var i=e("../utils");function n(e,t,i,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),o&&(this.response=o)}i.inherits(n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=n.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){a[e]={value:e}}),Object.defineProperties(n,a),Object.defineProperty(o,"isAxiosError",{value:!0}),n.from=function(e,t,a,r,s,c){var l=Object.create(o);return i.toFlatObject(e,l,function(e){return e!==Error.prototype}),n.call(l,e.message,t,a,r,s),l.name=e.name,c&&Object.assign(l,c),l},t.exports=n},{"../utils":52}],29:[function(e,t){"use strict";var i=e("./../utils");function n(){this.handlers=[]}n.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=n},{"./../utils":52}],30:[function(e,t){"use strict";var i=e("../helpers/isAbsoluteURL"),n=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!i(t)?n(e,t):t}},{"../helpers/combineURLs":40,"../helpers/isAbsoluteURL":42}],31:[function(e,t){"use strict";var i=e("./../utils"),n=e("./transformData"),o=e("../cancel/isCancel"),a=e("../defaults"),r=e("../cancel/CanceledError");function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new r}t.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"../cancel/CanceledError":25,"../cancel/isCancel":26,"../defaults":35,"./../utils":52,"./transformData":34}],32:[function(e,t){"use strict";var i=e("../utils");t.exports=function(e,t){t=t||{};var n={};function o(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function r(e){if(!i.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(i){return i in t?o(e[i],t[i]):i in e?o(void 0,e[i]):void 0}var l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return i.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=l[e]||a,o=t(e);i.isUndefined(o)&&t!==c||(n[e]=o)}),n}},{"../utils":52}],33:[function(e,t){"use strict";var i=e("./AxiosError");t.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},{"./AxiosError":28}],34:[function(e,t){"use strict";var i=e("./../utils"),n=e("../defaults");t.exports=function(e,t,o){var a=this||n;return i.forEach(o,function(i){e=i.call(a,e,t)}),e}},{"../defaults":35,"./../utils":52}],35:[function(e,t){(function(i){"use strict";var n=e("../utils"),o=e("../helpers/normalizeHeaderName"),a=e("../core/AxiosError"),r=e("./transitional"),s=e("../helpers/toFormData"),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function u(e,t,i){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(i||JSON.stringify)(e)}var h,d={transitional:r,adapter:("undefined"!=typeof XMLHttpRequest?h=e("../adapters/xhr"):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(h=e("../adapters/http")),h),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var i,a=n.isObject(e),r=t&&t["Content-Type"];if((i=n.isFileList(e))||a&&"multipart/form-data"===r){var c=this.env&&this.env.FormData;return s(i?{"files[]":e}:e,c&&new c)}return a||"application/json"===r?(l(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,i=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!i&&"json"===this.responseType;if(r||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(r){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:e("./env/FormData")},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){d.headers[e]={}}),n.forEach(["post","put","patch"],function(e){d.headers[e]=n.merge(c)}),t.exports=d}).call(this,e("_process"))},{"../adapters/http":22,"../adapters/xhr":22,"../core/AxiosError":28,"../helpers/normalizeHeaderName":45,"../helpers/toFormData":50,"../utils":52,"./env/FormData":46,"./transitional":36,_process:11}],36:[function(e,t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},{}],37:[function(e,t){t.exports={version:"0.27.2"}},{}],38:[function(e,t){"use strict";t.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},{}],39:[function(e,t){"use strict";var i=e("./../utils");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,o){if(!t)return e;var a;if(o)a=o(t);else if(i.isURLSearchParams(t))a=t.toString();else{var r=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(n(t)+"="+n(e))}))}),a=r.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},{"./../utils":52}],40:[function(e,t){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],41:[function(e,t){"use strict";var i=e("./../utils");t.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,o,a,r){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(a)&&s.push("domain="+a),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":52}],42:[function(e,t){"use strict";t.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},{}],43:[function(e,t){"use strict";var i=e("./../utils");t.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},{"./../utils":52}],44:[function(e,t){"use strict";var i=e("./../utils");t.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=i.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},{"./../utils":52}],45:[function(e,t){"use strict";var i=e("../utils");t.exports=function(e,t){i.forEach(e,function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])})}},{"../utils":52}],46:[function(e,t){t.exports=null},{}],47:[function(e,t){"use strict";var i=e("./../utils"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,o,a,r={};return e?(i.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),o=i.trim(e.substr(a+1)),t){if(r[t]&&n.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([o]):r[t]?r[t]+", "+o:o}}),r):r}},{"./../utils":52}],48:[function(e,t){"use strict";t.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},{}],49:[function(e,t){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],50:[function(e,t){(function(i){"use strict";var n=e("../utils");t.exports=function(e,t){t=t||new FormData;var o=[];function a(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):i.from(e):e}return function e(i,r){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==o.indexOf(i))throw Error("Circular reference detected in "+r);o.push(i),n.forEach(i,function(i,o){if(!n.isUndefined(i)){var s,c=r?r+"."+o:o;if(i&&!r&&"object"==typeof i)if(n.endsWith(o,"{}"))i=JSON.stringify(i);else if(n.endsWith(o,"[]")&&(s=n.toArray(i)))return void s.forEach(function(e){!n.isUndefined(e)&&t.append(c,a(e))});e(i,c)}}),o.pop()}else t.append(r,a(i))}(e),t}}).call(this,e("buffer").Buffer)},{"../utils":52,buffer:6}],51:[function(e,t){"use strict";var i=e("../env/data").version,n=e("../core/AxiosError"),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var a={};o.transitional=function(e,t,o){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(o?". "+o:"")}return function(i,o,s){if(!1===e)throw new n(r(o," has been removed"+(t?" in "+t:"")),n.ERR_DEPRECATED);return t&&!a[o]&&(a[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,o,s)}},t.exports={assertOptions:function(e,t,i){if("object"!=typeof e)throw new n("options must be an object",n.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),a=o.length;a-- >0;){var r=o[a],s=t[r];if(s){var c=e[r],l=void 0===c||s(c,r,e);if(!0!==l)throw new n("option "+r+" must be "+l,n.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new n("Unknown option "+r,n.ERR_BAD_OPTION)}},validators:o}},{"../core/AxiosError":28,"../env/data":37}],52:[function(e,t){"use strict";var i,n=e("./helpers/bind"),o=Object.prototype.toString,a=(i=Object.create(null),function(e){var t=o.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function r(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function s(e){return Array.isArray(e)}function c(e){return void 0===e}var l=r("ArrayBuffer");function u(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=r("Date"),f=r("File"),p=r("Blob"),g=r("FileList");function m(e){return"[object Function]"===o.call(e)}var _=r("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var v,C=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return v&&e instanceof v});t.exports={isArray:s,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return e&&("function"==typeof FormData&&e instanceof FormData||"[object FormData]"===o.call(e)||m(e.toString)&&"[object FormData]"===e.toString())},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:h,isUndefined:c,isDate:d,isFile:f,isBlob:p,isFunction:m,isStream:function(e){return u(e)&&m(e.pipe)},isURLSearchParams:_,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:y,merge:function e(){var t={};function i(i,n){h(t[n])&&h(i)?t[n]=e(t[n],i):h(i)?t[n]=e({},i):s(i)?t[n]=i.slice():t[n]=i}for(var n=0,o=arguments.length;n<o;n++)y(arguments[n],i);return t},extend:function(e,t,i){return y(t,function(t,o){e[o]=i&&"function"==typeof t?n(t,i):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,i,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)},toFlatObject:function(e,t,i){var n,o,a,r={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)r[a=n[o]]||(t[a]=e[a],r[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:r,endsWith:function(e,t,i){e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;var n=e.indexOf(t,i);return-1!==n&&n===i},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i},isTypedArray:C,isFileList:g}},{"./helpers/bind":38}],53:[function(e,t){var i=e("./src/cos");t.exports=i},{"./src/cos":62}],54:[function(e,t){var i,n,o,a,r,s,c,l=l||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);n=(r=(i=l).lib).WordArray,o=r.Hasher,a=[],r=i.algo.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],o=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)a[l]=0|e[t+l];else{var u=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+a[l],u=20>l?u+(1518500249+(o&r|~o&s)):40>l?u+(1859775393+(o^r^s)):60>l?u+((o&r|o&s|r&s)-1894007588):u+((o^r^s)-899497514),c=s,s=r,r=o<<30|o>>>2,o=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=o._createHelper(r),i.HmacSHA1=o._createHmacHelper(r),function(){var e=l,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,i){e=this._hasher=new e.init,"string"==typeof i&&(i=t.parse(i));var n=e.blockSize,o=4*n;i.sigBytes>o&&(i=e.finalize(i)),i.clamp();for(var a=this._oKey=i.clone(),r=this._iKey=i.clone(),s=a.words,c=r.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=r.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),c=(s=l).lib.WordArray,s.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var o=[],a=0;a<i;a+=3)for(var r=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<i;s++)o.push(n.charAt(r>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,i=this._map,n=i.charAt(64);if(n){var o=e.indexOf(n);-1!=o&&(t=o)}for(var a=[],r=0,s=0;s<t;s++)if(s%4){var l=i.indexOf(e.charAt(s-1))<<s%4*2,u=i.indexOf(e.charAt(s))>>>6-s%4*2;a[r>>>2]|=(l|u)<<24-r%4*8,r++}return c.create(a,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},"object"==typeof t?t.exports=l:window.CryptoJS=l},{}],55:[function(e,t){var i=new RegExp("^([^a-zA-Z_\xc0-\xd6\xd8-\xf6\xf8-\xff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fff\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd])|^((x|X)(m|M)(l|L))|([^a-zA-Z_\xc0-\xd6\xd8-\xf6\xf8-\xff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fff\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd-.0-9\xb7\u0300-\u036f\u203f\u2040])","g"),n=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,o=function(e){var t=[];if(e instanceof Object)for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},a=function(e,t){var a=function(e,n,o,a,r){var s=void 0!==t.indent?t.indent:"\t",c=t.prettyPrint?"\n"+new Array(a).join(s):"";t.removeIllegalNameCharacters&&(e=e.replace(i,"_"));var l=[c,"<",e,o||""];return n&&n.length>0?(l.push(">"),l.push(n),r&&l.push(c),l.push("</"),l.push(e),l.push(">")):l.push("/>"),l.join("")};return function e(i,r,s){var c=typeof i;switch((Array.isArray?Array.isArray(i):i instanceof Array)?c="array":i instanceof Date&&(c="date"),c){case"array":var l=[];return i.map(function(t){l.push(e(t,0,s+1))}),t.prettyPrint&&l.push("\n"),l.join("");case"date":return i.toJSON?i.toJSON():i+"";case"object":var u=[];for(var h in i)if(i.hasOwnProperty(h))if(i[h]instanceof Array)for(var d=0;d<i[h].length;d++)i[h].hasOwnProperty(d)&&u.push(a(h,e(i[h][d],0,s+1),null,s+1,o(i[h][d]).length));else u.push(a(h,e(i[h],0,s+1),null,s+1));return t.prettyPrint&&u.length>0&&u.push("\n"),u.join("");case"function":return i();default:return t.escape?(""+i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(n,""):""+i}}(e,0,0)},r=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};t.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(o){return!1}var i="",n="";return t&&("object"==typeof t?(t.xmlHeader&&(i=r(!!t.xmlHeader.standalone)),void 0!==t.docType&&(n="<!DOCTYPE "+t.docType+">")):i=r()),[i,(t=t||{}).prettyPrint&&n?"\n":"",n,a(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},{}],56:[function(require,module,exports){(function(process,global){(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t,i){return new Md5(!0).update(t,i)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.getCtx=e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var i=OUTPUT_TYPES[t];e[i]=createOutputMethod(i)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e,t){if(!this.finalized){for(var i,n,o=0,a=e.length,r=this.blocks,s=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,r[0]=r[16],r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),ARRAY_BUFFER)for(n=this.start;o<a&&n<64;++o)i=e.charCodeAt(o),t||i<128?s[n++]=i:i<2048?(s[n++]=192|i>>6,s[n++]=128|63&i):i<55296||i>=57344?(s[n++]=224|i>>12,s[n++]=128|i>>6&63,s[n++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),s[n++]=240|i>>18,s[n++]=128|i>>12&63,s[n++]=128|i>>6&63,s[n++]=128|63&i);else for(n=this.start;o<a&&n<64;++o)i=e.charCodeAt(o),t||i<128?r[n>>2]|=i<<SHIFT[3&n++]:i<2048?(r[n>>2]|=(192|i>>6)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]):i<55296||i>=57344?(r[n>>2]|=(224|i>>12)<<SHIFT[3&n++],r[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),r[n>>2]|=(240|i>>18)<<SHIFT[3&n++],r[n>>2]|=(128|i>>12&63)<<SHIFT[3&n++],r[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,i,n,o,a,r=this.blocks;this.first?t=((t=((e=((e=r[0]-680876937)<<7|e>>>25)-271733879<<0)^(i=((i=(-271733879^(n=((n=(-1732584194^2004318071&e)+r[1]-117830708)<<12|n>>>20)+e<<0)&(-271733879^e))+r[2]-1126478375)<<17|i>>>15)+n<<0)&(n^e))+r[3]-1316259209)<<22|t>>>10)+i<<0:(e=this.h0,t=this.h1,i=this.h2,t=((t+=((e=((e+=((n=this.h3)^t&(i^n))+r[0]-680876936)<<7|e>>>25)+t<<0)^(i=((i+=(t^(n=((n+=(i^e&(t^i))+r[1]-389564586)<<12|n>>>20)+e<<0)&(e^t))+r[2]+606105819)<<17|i>>>15)+n<<0)&(n^e))+r[3]-1044525330)<<22|t>>>10)+i<<0),t=((t+=((e=((e+=(n^t&(i^n))+r[4]-176418897)<<7|e>>>25)+t<<0)^(i=((i+=(t^(n=((n+=(i^e&(t^i))+r[5]+1200080426)<<12|n>>>20)+e<<0)&(e^t))+r[6]-1473231341)<<17|i>>>15)+n<<0)&(n^e))+r[7]-45705983)<<22|t>>>10)+i<<0,t=((t+=((e=((e+=(n^t&(i^n))+r[8]+1770035416)<<7|e>>>25)+t<<0)^(i=((i+=(t^(n=((n+=(i^e&(t^i))+r[9]-1958414417)<<12|n>>>20)+e<<0)&(e^t))+r[10]-42063)<<17|i>>>15)+n<<0)&(n^e))+r[11]-1990404162)<<22|t>>>10)+i<<0,t=((t+=((e=((e+=(n^t&(i^n))+r[12]+1804603682)<<7|e>>>25)+t<<0)^(i=((i+=(t^(n=((n+=(i^e&(t^i))+r[13]-40341101)<<12|n>>>20)+e<<0)&(e^t))+r[14]-1502002290)<<17|i>>>15)+n<<0)&(n^e))+r[15]+1236535329)<<22|t>>>10)+i<<0,t=((t+=((n=((n+=(t^i&((e=((e+=(i^n&(t^i))+r[1]-165796510)<<5|e>>>27)+t<<0)^t))+r[6]-1069501632)<<9|n>>>23)+e<<0)^e&((i=((i+=(e^t&(n^e))+r[11]+643717713)<<14|i>>>18)+n<<0)^n))+r[0]-373897302)<<20|t>>>12)+i<<0,t=((t+=((n=((n+=(t^i&((e=((e+=(i^n&(t^i))+r[5]-701558691)<<5|e>>>27)+t<<0)^t))+r[10]+38016083)<<9|n>>>23)+e<<0)^e&((i=((i+=(e^t&(n^e))+r[15]-660478335)<<14|i>>>18)+n<<0)^n))+r[4]-405537848)<<20|t>>>12)+i<<0,t=((t+=((n=((n+=(t^i&((e=((e+=(i^n&(t^i))+r[9]+568446438)<<5|e>>>27)+t<<0)^t))+r[14]-1019803690)<<9|n>>>23)+e<<0)^e&((i=((i+=(e^t&(n^e))+r[3]-187363961)<<14|i>>>18)+n<<0)^n))+r[8]+1163531501)<<20|t>>>12)+i<<0,t=((t+=((n=((n+=(t^i&((e=((e+=(i^n&(t^i))+r[13]-1444681467)<<5|e>>>27)+t<<0)^t))+r[2]-51403784)<<9|n>>>23)+e<<0)^e&((i=((i+=(e^t&(n^e))+r[7]+1735328473)<<14|i>>>18)+n<<0)^n))+r[12]-1926607734)<<20|t>>>12)+i<<0,t=((t+=((a=(n=((n+=((o=t^i)^(e=((e+=(o^n)+r[5]-378558)<<4|e>>>28)+t<<0))+r[8]-2022574463)<<11|n>>>21)+e<<0)^e)^(i=((i+=(a^t)+r[11]+1839030562)<<16|i>>>16)+n<<0))+r[14]-35309556)<<23|t>>>9)+i<<0,t=((t+=((a=(n=((n+=((o=t^i)^(e=((e+=(o^n)+r[1]-1530992060)<<4|e>>>28)+t<<0))+r[4]+1272893353)<<11|n>>>21)+e<<0)^e)^(i=((i+=(a^t)+r[7]-155497632)<<16|i>>>16)+n<<0))+r[10]-1094730640)<<23|t>>>9)+i<<0,t=((t+=((a=(n=((n+=((o=t^i)^(e=((e+=(o^n)+r[13]+681279174)<<4|e>>>28)+t<<0))+r[0]-358537222)<<11|n>>>21)+e<<0)^e)^(i=((i+=(a^t)+r[3]-722521979)<<16|i>>>16)+n<<0))+r[6]+76029189)<<23|t>>>9)+i<<0,t=((t+=((a=(n=((n+=((o=t^i)^(e=((e+=(o^n)+r[9]-640364487)<<4|e>>>28)+t<<0))+r[12]-421815835)<<11|n>>>21)+e<<0)^e)^(i=((i+=(a^t)+r[15]+530742520)<<16|i>>>16)+n<<0))+r[2]-995338651)<<23|t>>>9)+i<<0,t=((t+=((n=((n+=(t^((e=((e+=(i^(t|~n))+r[0]-198630844)<<6|e>>>26)+t<<0)|~i))+r[7]+1126891415)<<10|n>>>22)+e<<0)^((i=((i+=(e^(n|~t))+r[14]-1416354905)<<15|i>>>17)+n<<0)|~e))+r[5]-57434055)<<21|t>>>11)+i<<0,t=((t+=((n=((n+=(t^((e=((e+=(i^(t|~n))+r[12]+1700485571)<<6|e>>>26)+t<<0)|~i))+r[3]-1894986606)<<10|n>>>22)+e<<0)^((i=((i+=(e^(n|~t))+r[10]-1051523)<<15|i>>>17)+n<<0)|~e))+r[1]-2054922799)<<21|t>>>11)+i<<0,t=((t+=((n=((n+=(t^((e=((e+=(i^(t|~n))+r[8]+1873313359)<<6|e>>>26)+t<<0)|~i))+r[15]-30611744)<<10|n>>>22)+e<<0)^((i=((i+=(e^(n|~t))+r[6]-1560198380)<<15|i>>>17)+n<<0)|~e))+r[13]+1309151649)<<21|t>>>11)+i<<0,t=((t+=((n=((n+=(t^((e=((e+=(i^(t|~n))+r[4]-145523070)<<6|e>>>26)+t<<0)|~i))+r[11]-1120210379)<<10|n>>>22)+e<<0)^((i=((i+=(e^(n|~t))+r[2]+718787259)<<15|i>>>17)+n<<0)|~e))+r[9]-343485551)<<21|t>>>11)+i<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=i-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+i<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,n=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(e){if("hex"===e)return this.hex();this.finalize();var t=this.h0,i=this.h1,n=this.h2,o=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,i,n="",o=this.array(),a=0;a<15;)e=o[a++],t=o[a++],i=o[a++],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|i>>>6)]+BASE64_ENCODE_CHAR[63&i];return e=o[a],n+(BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))})()}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:11}],57:[function(e,t){var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},n=function(e,t,i){var n={};return t.getAllResponseHeaders().trim().split("\n").forEach(function(e){if(e){var t=e.indexOf(":"),i=e.substr(0,t).trim().toLowerCase(),o=e.substr(t+1).trim();n[i]=o}}),{error:e,statusCode:t.status,statusMessage:t.statusText,headers:n,body:i}},o=function(e,t){return t||"text"!==t?e.response:e.responseText};t.exports=function(e,t){var a,r,s,c=(e.method||"GET").toUpperCase(),l=e.url;if(e.qs){var u=(a=e.qs,r=r||"&",s=s||"=",null===a&&(a=void 0),"object"==typeof a?Object.keys(a).map(function(e){var t=encodeURIComponent(i(e))+s;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(i(e))}).join(r):t+encodeURIComponent(i(a[e]))}).filter(Boolean).join(r):"");u&&(l+=(-1===l.indexOf("?")?"?":"&")+u)}var h=new XMLHttpRequest;if(h.open(c,l,!0),h.responseType=e.dataType||"text",e.xhrFields)for(var d in e.xhrFields)h[d]=e.xhrFields[d];var f=e.headers;if(f)for(var p in f)f.hasOwnProperty(p)&&"content-length"!==p.toLowerCase()&&"user-agent"!==p.toLowerCase()&&"origin"!==p.toLowerCase()&&"host"!==p.toLowerCase()&&h.setRequestHeader(p,f[p]);return e.onProgress&&h.upload&&(h.upload.onprogress=e.onProgress),e.onDownloadProgress&&(h.onprogress=e.onDownloadProgress),e.timeout&&(h.timeout=e.timeout),h.ontimeout=function(){var e=new Error("timeout");t(n(e,h))},h.onload=function(){t(n(null,h,o(h,e.dataType)))},h.onerror=function(){var i=o(h,e.dataType);if(i)t(n(null,h,i));else{var a=h.statusText;a||0!==h.status||(a=new Error("CORS blocked or network error")),t(n(a,h,i))}},h.send(e.body||""),h}},{}],58:[function(e,t){var i=e("@xmldom/xmldom").DOMParser,n=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);return new RegExp(/^\s+|\s+$/g),this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var i=this.stringToXML(e);return i.getElementsByTagName("parsererror").length?null:this.parseXML(i,t)}return null},this.parseXML=function(i,o){for(var a in o)e[a]=o[a];var r={},s=0,c="";if(i.childNodes.length)for(var l,u,h,d=0;d<i.childNodes.length;d++)4===(l=i.childNodes.item(d)).nodeType?e.mergeCDATA&&(c+=l.nodeValue):3===l.nodeType?c+=l.nodeValue:1===l.nodeType&&(0===s&&(r={}),u=e.stripElemPrefix?l.nodeName.replace(t,""):l.nodeName,h=n.parseXML(l),r.hasOwnProperty(u)?(r[u].constructor!==Array&&(r[u]=[r[u]]),r[u].push(h)):(r[u]=h,s++));return Object.keys(r).length||(r=c||""),r},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(t){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new i).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(n){return null}},this}.call({});t.exports=function(e){return n.parseString(e)}},{"@xmldom/xmldom":19}],59:[function(e,t){var i=e("./session"),n=e("./async"),o=e("./event").EventProxy,a=e("./util");function r(e,t){var r=e.TaskId,l=e.Bucket,u=e.Region,h=e.Key,d=e.StorageClass,f=this,p={},g=e.FileSize,m=e.SliceSize,_=Math.ceil(g/m),y=0,v=a.throttleOnProgress.call(f,g,e.onHashProgress),C=function(t,i){var n=m*(t-1),o=Math.min(n+m,g),r=o-n;p[t]?i(null,{PartNumber:t,ETag:p[t],Size:r}):a.fileSlice(e.Body,n,o,!1,function(e){a.getFileMd5(e,function(e,n){if(e)return i(a.error(e));var o='"'+n+'"';p[t]=o,v({loaded:y+=r,total:g}),i(null,{PartNumber:t,ETag:o,Size:r})})})},b=function(e,t){var i=e.length;if(0===i)return t(null,!0);if(i>_)return t(null,!1);if(i>1&&Math.max(e[0].Size,e[1].Size)!==m)return t(null,!1);var n=function(o){if(o<i){var a=e[o];C(a.PartNumber,function(e,i){i&&i.ETag===a.ETag&&i.Size===a.Size?n(o+1):t(null,!1)})}else t(null,!0)};n(0)},S=new o;S.on("error",function(e){if(f._isRunningTask(r))return t(e)}),S.on("upload_id_available",function(e){var i={},n=[];a.each(e.PartList,function(e){i[e.PartNumber]=e});for(var o=1;o<=_;o++){var r=i[o];r?(r.PartNumber=o,r.Uploaded=!0):r={PartNumber:o,ETag:null,Uploaded:!1},n.push(r)}e.PartList=n,t(null,e)}),S.on("no_available_upload_id",function(){if(f._isRunningTask(r)){var i=a.extend({Bucket:l,Region:u,Key:h,Query:a.clone(e.Query),StorageClass:d,Body:e.Body},e),n=a.clone(e.Headers);delete n["x-cos-mime-limit"],i.Headers=n,f.multipartInit(i,function(e,i){if(f._isRunningTask(r)){if(e)return S.emit("error",e);var n=i.UploadId;if(!n)return t(a.error(new Error("no such upload id")));S.emit("upload_id_available",{UploadId:n,PartList:[]})}})}}),S.on("has_and_check_upload_id",function(e){e=e.reverse(),n.eachLimit(e,1,function(e,t){f._isRunningTask(r)&&(i.using[e]?t():c.call(f,{Bucket:l,Region:u,Key:h,UploadId:e},function(n,o){if(f._isRunningTask(r)){if(n)return i.removeUsing(e),S.emit("error",n);var a=o.PartList;a.forEach(function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""}),b(a,function(i,n){if(f._isRunningTask(r))return i?S.emit("error",i):void(n?t({UploadId:e,PartList:a}):t())})}}))},function(e){f._isRunningTask(r)&&(v(null,!0),e&&e.UploadId?S.emit("upload_id_available",e):S.emit("no_available_upload_id"))})}),S.on("seek_local_avail_upload_id",function(t){var n=i.getFileId(e.Body,e.ChunkSize,l,h),o=i.getUploadIdList.call(f,n);if(n&&o){var s=function(e){if(e>=o.length)S.emit("has_and_check_upload_id",t);else{var n=o[e];if(!a.isInArray(t,n))return i.removeUploadId.call(f,n),void s(e+1);i.using[n]?s(e+1):c.call(f,{Bucket:l,Region:u,Key:h,UploadId:n},function(t,o){f._isRunningTask(r)&&(t?(i.removeUploadId.call(f,n),s(e+1)):S.emit("upload_id_available",{UploadId:n,PartList:o.PartList}))})}};s(0)}else S.emit("has_and_check_upload_id",t)}),S.on("get_remote_upload_id_list",function(){s.call(f,{Bucket:l,Region:u,Key:h},function(t,n){if(f._isRunningTask(r)){if(t)return S.emit("error",t);var o=a.filter(n.UploadList,function(e){return e.Key===h&&(!d||e.StorageClass.toUpperCase()===d.toUpperCase())}).reverse().map(function(e){return e.UploadId||e.UploadID});if(o.length)S.emit("seek_local_avail_upload_id",o);else{var s,c=i.getFileId(e.Body,e.ChunkSize,l,h);c&&(s=i.getUploadIdList.call(f,c))&&a.each(s,function(e){i.removeUploadId.call(f,e)}),S.emit("no_available_upload_id")}}})}),S.emit("get_remote_upload_id_list")}function s(e,t){var i=this,n=[],o={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key},a=function(){i.multipartList(o,function(e,i){if(e)return t(e);n.push.apply(n,i.Upload||[]),"true"===i.IsTruncated?(o.KeyMarker=i.NextKeyMarker,o.UploadIdMarker=i.NextUploadIdMarker,a()):t(null,{UploadList:n})})};a()}function c(e,t){var i=this,n=[],o={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId},a=function(){i.multipartListPart(o,function(e,i){if(e)return t(e);n.push.apply(n,i.Part||[]),"true"===i.IsTruncated?(o.PartNumberMarker=i.NextPartNumberMarker,a()):t(null,{PartList:n})})};a()}function l(e,t){var i=this,o=e.TaskId,r=e.Bucket,s=e.Region,c=e.Key,l=e.UploadData,h=e.FileSize,d=e.SliceSize,f=Math.min(e.AsyncLimit||i.options.ChunkParallelLimit||1,256),p=e.Body,g=Math.ceil(h/d),m=0,_=e.ServerSideEncryption,y=e.Headers,v=a.filter(l.PartList,function(e){return e.Uploaded&&(m+=e.PartNumber>=g&&h%d||d),!e.Uploaded}),C=e.onProgress;n.eachLimit(v,f,function(e,t){if(i._isRunningTask(o)){var n=e.PartNumber,a=Math.min(h,e.PartNumber*d)-(e.PartNumber-1)*d,f=0;u.call(i,{TaskId:o,Bucket:r,Region:s,Key:c,SliceSize:d,FileSize:h,PartNumber:n,ServerSideEncryption:_,Body:p,UploadData:l,Headers:y,onProgress:function(e){m+=e.loaded-f,f=e.loaded,C({loaded:m,total:h})}},function(n,r){i._isRunningTask(o)&&(n||r.ETag||(n='get ETag error, please add "ETag" to CORS ExposeHeader setting.( \u83b7\u53d6ETag\u5931\u8d25\uff0c\u8bf7\u5728CORS ExposeHeader\u8bbe\u7f6e\u4e2d\u6dfb\u52a0ETag\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff1ahttps://cloud.tencent.com/document/product/436/13318 )'),n?m-=f:(m+=a-f,e.ETag=r.ETag),C({loaded:m,total:h}),t(n||null,r))})}},function(e){if(i._isRunningTask(o))return e?t(e):void t(null,{UploadId:l.UploadId,SliceList:l.PartList})})}function u(e,t){var i=this,o=e.TaskId,r=e.Bucket,s=e.Region,c=e.Key,l=e.FileSize,u=e.Body,h=1*e.PartNumber,d=e.SliceSize,f=e.ServerSideEncryption,p=e.UploadData,g=e.Headers||{},m=i.options.ChunkRetryTimes+1,_=d*(h-1),y=d,v=_+d;v>l&&(y=(v=l)-_);var C=["x-cos-traffic-limit","x-cos-mime-limit"],b={};a.each(g,function(e,t){C.indexOf(t)>-1&&(b[t]=e)});var S=p.PartList[h-1];n.retry(m,function(t){i._isRunningTask(o)&&a.fileSlice(u,_,v,!0,function(n){i.multipartUpload({TaskId:o,Bucket:r,Region:s,Key:c,ContentLength:y,PartNumber:h,UploadId:p.UploadId,ServerSideEncryption:f,Body:n,Headers:b,onProgress:e.onProgress},function(e,n){if(i._isRunningTask(o))return e?t(e):(S.Uploaded=!0,t(null,n))})})},function(e,n){if(i._isRunningTask(o))return t(e,n)})}function h(e,t){var i=e.Bucket,o=e.Region,a=e.Key,r=e.UploadId,s=e.SliceList,c=this,l=this.options.ChunkRetryTimes+1,u=e.Headers,h=s.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});n.retry(l,function(e){c.multipartComplete({Bucket:i,Region:o,Key:a,UploadId:r,Parts:h,Headers:u},e)},function(e,i){t(e,i)})}function d(e,t){var i=e.Bucket,o=e.Region,a=e.Key,r=e.AbortArray,s=e.AsyncLimit||1,c=this,l=0,u=new Array(r.length);n.eachLimit(r,s,function(t,n){var r=l;if(a&&a!==t.Key)return u[r]={error:{KeyNotMatch:!0}},void n(null);var s=t.UploadId||t.UploadID;c.multipartAbort({Bucket:i,Region:o,Key:t.Key,Headers:e.Headers,UploadId:s},function(e){var a={Bucket:i,Region:o,Key:t.Key,UploadId:s};u[r]={error:e,task:a},n(null)}),l++},function(e){if(e)return t(e);for(var i=[],n=[],o=0,a=u.length;o<a;o++){var r=u[o];r.task&&(r.error?n.push(r.task):i.push(r.task))}return t(null,{successList:i,errorList:n})})}function f(e,t){var i=e.TaskId,o=e.Bucket,a=e.Region,r=e.Key,s=e.CopySource,c=e.UploadId,l=1*e.PartNumber,u=e.CopySourceRange,h=this.options.ChunkRetryTimes+1,d=this;n.retry(h,function(e){d.uploadPartCopy({TaskId:i,Bucket:o,Region:a,Key:r,CopySource:s,UploadId:c,PartNumber:l,CopySourceRange:u},function(t,i){e(t||null,i)})},function(e,i){return t(e,i)})}var p={sliceUploadFile:function(e,t){var n,s,c=this,u=new o,d=e.TaskId,f=e.Bucket,p=e.Region,g=e.Key,m=e.Body,_=e.ChunkSize||e.SliceSize||c.options.ChunkSize,y=e.AsyncLimit,v=e.StorageClass,C=e.ServerSideEncryption,b=e.onHashProgress;u.on("error",function(i){if(c._isRunningTask(d))return i.UploadId=e.UploadData.UploadId||"",t(i)}),u.on("upload_complete",function(i){var n=a.extend({UploadId:e.UploadData.UploadId||""},i);t(null,n)}),u.on("upload_slice_complete",function(t){var o={};a.each(e.Headers,function(e,t){var i=t.toLowerCase();0!==i.indexOf("x-cos-meta-")&&"pic-operations"!==i||(o[t]=e)}),h.call(c,{Bucket:f,Region:p,Key:g,UploadId:t.UploadId,SliceList:t.SliceList,Headers:o},function(e,o){if(c._isRunningTask(d)){if(i.removeUsing(t.UploadId),e)return s(null,!0),u.emit("error",e);i.removeUploadId.call(c,t.UploadId),s({loaded:n,total:n},!0),u.emit("upload_complete",o)}})}),u.on("get_upload_data_finish",function(t){var o=i.getFileId(m,e.ChunkSize,f,g);o&&i.saveUploadId.call(c,o,t.UploadId,c.options.UploadIdCacheLimit),i.setUsing(t.UploadId),s(null,!0),l.call(c,{TaskId:d,Bucket:f,Region:p,Key:g,Body:m,FileSize:n,SliceSize:_,AsyncLimit:y,ServerSideEncryption:C,UploadData:t,Headers:e.Headers,onProgress:s},function(e,t){if(c._isRunningTask(d))return e?(s(null,!0),u.emit("error",e)):void u.emit("upload_slice_complete",t)})}),u.on("get_file_size_finish",function(){if(s=a.throttleOnProgress.call(c,n,e.onProgress),e.UploadData.UploadId)u.emit("get_upload_data_finish",e.UploadData);else{var t=a.extend({TaskId:d,Bucket:f,Region:p,Key:g,Headers:e.Headers,StorageClass:v,Body:m,FileSize:n,SliceSize:_,onHashProgress:b},e);r.call(c,t,function(t,i){if(c._isRunningTask(d)){if(t)return u.emit("error",t);e.UploadData.UploadId=i.UploadId,e.UploadData.PartList=i.PartList,u.emit("get_upload_data_finish",e.UploadData)}})}}),n=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),a.each(e.Headers,function(t,i){"content-length"===i.toLowerCase()&&delete e.Headers[i]}),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],i=1048576,o=0;o<t.length&&!(n/(i=1048576*t[o])<=c.options.MaxPartNumber);o++);e.ChunkSize=e.SliceSize=_=Math.max(_,i)}(),0===n?(e.Body="",e.ContentLength=0,e.SkipTask=!0,c.putObject(e,t)):u.emit("get_file_size_finish")},abortUploadTask:function(e,t){var i=e.Bucket,n=e.Region,r=e.Key,c=e.UploadId,l=e.Level||"task",u=e.AsyncLimit,h=this,f=new o;if(f.on("error",function(e){return t(e)}),f.on("get_abort_array",function(o){d.call(h,{Bucket:i,Region:n,Key:r,Headers:e.Headers,AsyncLimit:u,AbortArray:o},t)}),"bucket"===l)s.call(h,{Bucket:i,Region:n},function(e,i){if(e)return t(e);f.emit("get_abort_array",i.UploadList||[])});else if("file"===l){if(!r)return t(a.error(new Error("abort_upload_task_no_key")));s.call(h,{Bucket:i,Region:n,Key:r},function(e,i){if(e)return t(e);f.emit("get_abort_array",i.UploadList||[])})}else{if("task"!==l)return t(a.error(new Error("abort_unknown_level")));if(!c)return t(a.error(new Error("abort_upload_task_no_id")));if(!r)return t(a.error(new Error("abort_upload_task_no_key")));f.emit("get_abort_array",[{Key:r,UploadId:c}])}},uploadFile:function(e,t){var i=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,n=[],o=e.Body,r=o.size||o.length||0,s={TaskId:""};a.each(e,function(e,t){"object"!=typeof e&&"function"!=typeof e&&(s[t]=e)});var c=e.onTaskReady;e.onTaskReady=function(e){s.TaskId=e,c&&c(e)};var l=e.onFileFinish,u=r>i?"sliceUploadFile":"putObject";n.push({api:u,params:e,callback:function(e,i){l&&l(e,i,s),t&&t(e,i)}}),this._addTasks(n)},uploadFiles:function(e,t){var i=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,n=0,o=0,r=a.throttleOnProgress.call(this,o,e.onProgress),s=e.files.length,c=e.onFileFinish,l=Array(s),u=function(e,i,n){r(null,!0),c&&c(e,i,n),l[n.Index]={options:n,error:e,data:i},--s<=0&&t&&t(null,{files:l})},h=[];a.each(e.files,function(e,t){(function(){var s=e.Body,c=s.size||s.length||0,l={Index:t,TaskId:""};n+=c,a.each(e,function(e,t){"object"!=typeof e&&"function"!=typeof e&&(l[t]=e)});var d=e.onTaskReady;e.onTaskReady=function(e){l.TaskId=e,d&&d(e)};var f=0,p=e.onProgress;e.onProgress=function(e){o=o-f+e.loaded,f=e.loaded,p&&p(e),r({loaded:o,total:n})};var g=e.onFileFinish,m=c>i?"sliceUploadFile":"putObject";h.push({api:m,params:e,callback:function(e,t){g&&g(e,t),u&&u(e,t,l)}})})()}),this._addTasks(h)},sliceCopyFile:function(e,t){var i=new o,r=this,s=e.Bucket,c=e.Region,l=e.Key,u=e.CopySource,h=a.getSourceParams.call(this,u);if(h){var d=h.Bucket,p=h.Region,g=decodeURIComponent(h.Key),m=void 0===e.CopySliceSize?r.options.CopySliceSize:e.CopySliceSize;m=Math.max(0,m);var _,y,v=e.CopyChunkSize||this.options.CopyChunkSize,C=this.options.CopyChunkParallelLimit,b=0;i.on("copy_slice_complete",function(i){var n={};a.each(e.Headers,function(e,t){0===t.toLowerCase().indexOf("x-cos-meta-")&&(n[t]=e)});var o=a.map(i.PartList,function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});r.multipartComplete({Bucket:s,Region:c,Key:l,UploadId:i.UploadId,Parts:o},function(e,i){if(e)return y(null,!0),t(e);y({loaded:_,total:_},!0),t(null,i)})}),i.on("get_copy_data_finish",function(e){n.eachLimit(e.PartList,C,function(t,i){var n=t.PartNumber,o=t.CopySourceRange,a=t.end-t.start;f.call(r,{Bucket:s,Region:c,Key:l,CopySource:u,UploadId:e.UploadId,PartNumber:n,CopySourceRange:o},function(e,n){if(e)return i(e);y({loaded:b+=a,total:_}),t.ETag=n.ETag,i(e||null,n)})},function(n){if(n)return y(null,!0),t(n);i.emit("copy_slice_complete",e)})}),i.on("get_file_size_finish",function(n){var o;if(function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],i=1048576,n=0;n<t.length&&!(_/(i=1048576*t[n])<=r.options.MaxPartNumber);n++);e.ChunkSize=v=Math.max(v,i);for(var o=Math.ceil(_/v),a=[],s=1;s<=o;s++){var c=(s-1)*v,l=s*v<_?s*v-1:_-1,u={PartNumber:s,start:c,end:l,CopySourceRange:"bytes="+c+"-"+l};a.push(u)}e.PartList=a}(),(o="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:n)["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||n["x-cos-storage-class"],o=a.clearKey(o),"ARCHIVE"===n["x-cos-storage-class"]||"DEEP_ARCHIVE"===n["x-cos-storage-class"]){var u=n["x-cos-restore"];if(!u||'ongoing-request="true"'===u)return void t(a.error(new Error("Unrestored archive object is not allowed to be copied")))}delete o["x-cos-copy-source"],delete o["x-cos-metadata-directive"],delete o["x-cos-copy-source-If-Modified-Since"],delete o["x-cos-copy-source-If-Unmodified-Since"],delete o["x-cos-copy-source-If-Match"],delete o["x-cos-copy-source-If-None-Match"],r.multipartInit({Bucket:s,Region:c,Key:l,Headers:o},function(n,o){if(n)return t(n);e.UploadId=o.UploadId,i.emit("get_copy_data_finish",e)})}),r.headObject({Bucket:d,Region:p,Key:g},function(n,o){if(n)n.statusCode&&404===n.statusCode?t(a.error(n,{ErrorStatus:g+" Not Exist"})):t(n);else if(void 0!==(_=e.FileSize=o.headers["content-length"])&&_)if(y=a.throttleOnProgress.call(r,_,e.onProgress),_<=m)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),r.putObjectCopy(e,function(e,i){if(e)return y(null,!0),t(e);y({loaded:_,total:_},!0),t(e,i)});else{var s=o.headers,c={"Cache-Control":s["cache-control"],"Content-Disposition":s["content-disposition"],"Content-Encoding":s["content-encoding"],"Content-Type":s["content-type"],Expires:s.expires,"x-cos-storage-class":s["x-cos-storage-class"]};a.each(s,function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(c[t]=e)}),i.emit("get_file_size_finish",c)}else t(a.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.\uff08 \u83b7\u53d6Content-Length\u5931\u8d25\uff0c\u8bf7\u5728CORS ExposeHeader\u8bbe\u7f6e\u4e2d\u6dfb\u52a0Content-Length\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff1ahttps://cloud.tencent.com/document/product/436/13318 \uff09')))})}else t(a.error(new Error("CopySource format error")))}};t.exports.init=function(e,t){t.transferToTaskMethod(p,"sliceUploadFile"),a.each(p,function(t,i){e.prototype[i]=a.apiWrapper(i,t)})}},{"./async":60,"./event":63,"./session":64,"./util":66}],60:[function(e,t){t.exports={eachLimit:function(e,t,i,n){if(n=n||function(){},!e.length||t<=0)return n();var o=0,a=0,r=0;(function s(){if(o>=e.length)return n();for(;r<t&&a<e.length;)r+=1,i(e[(a+=1)-1],function(t){t?(n(t),n=function(){}):(r-=1,(o+=1)>=e.length?n():s())})})()},retry:function(e,t,i){var n=function(o){t(function(t,a){t&&o<e?n(o+1):i(t,a)})};e<1?i():n(1)}}},{}],61:[function(e,t){var i=e("../lib/request"),n=e("./util");function o(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},i={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},o=(e&&e.AccessControlList||{}).Grant;o&&(o=n.isArray(o)?o:[o]);var r={READ:0,WRITE:0,FULL_CONTROL:0};return o&&o.length&&n.each(o,function(n){"qcs::cam::anyone:anyone"===n.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===n.Grantee.URI?r[n.Permission]=1:n.Grantee.ID!==e.Owner.ID&&t[i[n.Permission]].push('id="'+n.Grantee.ID+'"')}),r.FULL_CONTROL||r.WRITE&&r.READ?t.ACL="public-read-write":r.READ?t.ACL="public-read":t.ACL="private",n.each(i,function(e){t[e]=a(t[e].join(","))}),t}function a(e){var t,i,n=e.split(","),o={};for(t=0;t<n.length;)o[i=n[t].trim()]?n.splice(t,1):(o[i]=!0,n[t]=i,t++);return n.join(",")}function r(e){var t=e.region||"",i=e.bucket||"",o=i.substr(0,i.lastIndexOf("-")),a=i.substr(i.lastIndexOf("-")+1),r=e.domain,s=e.object;"function"==typeof r&&(r=r({Bucket:i,Region:t}));var c=e.protocol||(n.isBrowser&&"http:"===location.protocol?"http:":"https:");r||(r=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(t)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(r="{Bucket}."+r)),r=(r=r.replace(/\{\{AppId\}\}/gi,a).replace(/\{\{Bucket\}\}/gi,o).replace(/\{\{Region\}\}/gi,t).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,a).replace(/\{BucketName\}/gi,o).replace(/\{Bucket\}/gi,i).replace(/\{Region\}/gi,t).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(r)||(r=c+"//"+r),"/"===r.slice(-1)&&(r=r.slice(0,-1));var l=r;return e.ForcePathStyle&&(l+="/"+i),l+="/",s&&(l+=n.camSafeUrlEncode(s).replace(/%2F/g,"/")),e.isLocation&&(l=l.replace(/^https?:\/\//,"")),l}var s=function(e){if(!e.Bucket||!e.Region)return"";var t=void 0===e.UseAccelerate?this.options.UseAccelerate:e.UseAccelerate,i=(e.Url||r({ForcePathStyle:this.options.ForcePathStyle,protocol:this.options.Protocol,domain:this.options.Domain,bucket:e.Bucket,region:t?"accelerate":e.Region})).replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");return new RegExp("^([a-z\\d-]+-\\d+\\.)?(cos|cosv6|ci|pic)\\.([a-z\\d-]+)\\.myqcloud\\.com$").test(i)?i:""};function c(e,t){var i=n.clone(e.Headers),o="";n.each(i,function(e,t){(""===e||["content-type","cache-control","expires"].indexOf(t.toLowerCase())>-1)&&delete i[t],"host"===t.toLowerCase()&&(o=e)});var a=!1!==e.ForceSignHost;!o&&e.SignHost&&a&&(i.Host=e.SignHost);var r=!1,s=function(e,i){r||(r=!0,i&&i.XCosSecurityToken&&!i.SecurityToken&&((i=n.clone(i)).SecurityToken=i.XCosSecurityToken,delete i.XCosSecurityToken),t&&t(e,i))},c=this,l=e.Bucket||"",u=e.Region||"",h=e.Key||"";c.options.ForcePathStyle&&l&&(h=l+"/"+h);var d="/"+h,f={},p=e.Scope;if(!p){var g=e.Action||"",m=e.ResourceKey||e.Key||"";p=e.Scope||[{action:g,bucket:l,region:u,prefix:m}]}var _=n.md5(JSON.stringify(p));c._StsCache=c._StsCache||[],function(){var e,t;for(e=c._StsCache.length-1;e>=0;e--){t=c._StsCache[e];var i=Math.round(n.getSkewTime(c.options.SystemClockOffset)/1e3)+30;if(t.StartTime&&i<t.StartTime||i>=t.ExpiredTime)c._StsCache.splice(e,1);else if(!t.ScopeLimit||t.ScopeLimit&&t.ScopeKey===_){f=t;break}}}();var y,v=function(){var t="";f.StartTime&&e.Expires?t=f.StartTime+";"+(f.StartTime+1*e.Expires):f.StartTime&&f.ExpiredTime&&(t=f.StartTime+";"+f.ExpiredTime);var o={Authorization:n.getAuth({SecretId:f.TmpSecretId,SecretKey:f.TmpSecretKey,Method:e.Method,Pathname:d,Query:e.Query,Headers:i,Expires:e.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset,KeyTime:t,ForceSignHost:a}),SecurityToken:f.SecurityToken||f.XCosSecurityToken||"",Token:f.Token||"",ClientIP:f.ClientIP||"",ClientUA:f.ClientUA||""};s(null,o)},C=function(e){if(e.Authorization){var t=!1,i=e.Authorization;if(i)if(i.indexOf(" ")>-1)t=!1;else if(i.indexOf("q-sign-algorithm=")>-1&&i.indexOf("q-ak=")>-1&&i.indexOf("q-sign-time=")>-1&&i.indexOf("q-key-time=")>-1&&i.indexOf("q-url-param-list=")>-1)t=!0;else try{(i=atob(i)).indexOf("a=")>-1&&i.indexOf("k=")>-1&&i.indexOf("t=")>-1&&i.indexOf("r=")>-1&&i.indexOf("b=")>-1&&(t=!0)}catch(o){}if(!t)return n.error(new Error("getAuthorization callback params format error"))}else{if(!e.TmpSecretId)return n.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!e.TmpSecretKey)return n.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!e.SecurityToken&&!e.XCosSecurityToken)return n.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!e.ExpiredTime)return n.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(e.ExpiredTime&&10!==e.ExpiredTime.toString().length)return n.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(e.StartTime&&10!==e.StartTime.toString().length)return n.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(f.ExpiredTime&&f.ExpiredTime-n.getSkewTime(c.options.SystemClockOffset)/1e3>60)v();else if(c.options.getAuthorization)c.options.getAuthorization.call(c,{Bucket:l,Region:u,Method:e.Method,Key:h,Pathname:d,Query:e.Query,Headers:i,Scope:p,SystemClockOffset:c.options.SystemClockOffset,ForceSignHost:a},function(e){"string"==typeof e&&(e={Authorization:e});var t=C(e);if(t)return s(t);e.Authorization?s(null,e):((f=e||{}).Scope=p,f.ScopeKey=_,c._StsCache.push(f),v())});else{if(!c.options.getSTS)return y={Authorization:n.getAuth({SecretId:e.SecretId||c.options.SecretId,SecretKey:e.SecretKey||c.options.SecretKey,Method:e.Method,Pathname:d,Query:e.Query,Headers:i,Expires:e.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset,ForceSignHost:a}),SecurityToken:c.options.SecurityToken||c.options.XCosSecurityToken},s(null,y),y;c.options.getSTS.call(c,{Bucket:l,Region:u},function(e){(f=e||{}).Scope=p,f.ScopeKey=_,f.TmpSecretId||(f.TmpSecretId=f.SecretId),f.TmpSecretKey||(f.TmpSecretKey=f.SecretKey);var t=C(f);if(t)return s(t);c._StsCache.push(f),v()})}return""}function l(e){var t=!1,i=!1,o=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var a=e.error.Code,r=e.error.Message;("RequestTimeTooSkewed"===a||"AccessDenied"===a&&"Request has expired"===r)&&(i=!0)}catch(c){}if(e)if(i&&o){var s=Date.parse(o);this.options.CorrectClockSkew&&Math.abs(n.getSkewTime(this.options.SystemClockOffset)-s)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=s-Date.now(),t=!0)}else 5===Math.floor(e.statusCode/100)&&(t=!0);return t}function u(e,t){var i=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=n.clearKey(e.qs),e.headers&&(e.headers=n.clearKey(e.headers)),e.qs&&(e.qs=n.clearKey(e.qs));var o=n.clone(e.qs);e.action&&(o[e.action]="");var a=e.url||e.Url,r=e.SignHost||s.call(this,{Bucket:e.Bucket,Region:e.Region,Url:a}),u=function(n){var a=i.options.SystemClockOffset;c.call(i,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:o,Headers:e.headers,SignHost:r,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope,ForceSignHost:i.options.ForceSignHost},function(o,r){o?t(o):(e.AuthData=r,h.call(i,e,function(o,r){o&&n<2&&(a!==i.options.SystemClockOffset||l.call(i,o))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,e.headers["x-cos-security-token"]&&delete e.headers["x-cos-security-token"],e.headers["x-ci-security-token"]&&delete e.headers["x-ci-security-token"]),u(n+1)):t(o,r)}))})};u(1)}function h(e,t){var o=this,a=e.TaskId;if(!a||o._isRunningTask(a)){var s=e.Bucket,c=e.Region,l=e.Key,u=e.method||"GET",h=e.Url||e.url,d=e.body,f=e.rawBody;o.options.UseAccelerate&&(c="accelerate"),h=h||r({ForcePathStyle:o.options.ForcePathStyle,protocol:o.options.Protocol,domain:o.options.Domain,bucket:s,region:c,object:l}),e.action&&(h=h+"?"+e.action),e.qsStr&&(h=h.indexOf("?")>-1?h+"&"+e.qsStr:h+"?"+e.qsStr);var p={method:u,url:h,headers:e.headers,qs:e.qs,body:d},g="x-cos-security-token";if(n.isCIHost(h)&&(g="x-ci-security-token"),p.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(p.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(p.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(p.headers.clientUA=e.AuthData.ClientUA),e.AuthData.SecurityToken&&(p.headers[g]=e.AuthData.SecurityToken),p.headers&&(p.headers=n.clearKey(p.headers)),p=n.clearKey(p),e.onProgress&&"function"==typeof e.onProgress){var m=d&&(d.size||d.length)||0;p.onProgress=function(t){if(!a||o._isRunningTask(a)){var i=t?t.loaded:0;e.onProgress({loaded:i,total:m})}}}e.onDownloadProgress&&(p.onDownloadProgress=e.onDownloadProgress),e.DataType&&(p.dataType=e.DataType),this.options.Timeout&&(p.timeout=this.options.Timeout),o.options.ForcePathStyle&&(p.pathStyle=o.options.ForcePathStyle),o.emit("before-send",p);var _=(o.options.Request||i)(p,function(e){if("abort"!==e.error){var i={options:p,error:c,statusCode:s&&s.statusCode||0,headers:s&&s.headers||{},body:l};o.emit("after-receive",i),c=i.error,l=i.body,s={statusCode:i.statusCode,headers:i.headers},o.emit("after-receive",e);var r,s={statusCode:e.statusCode,statusMessage:e.statusMessage,headers:e.headers},c=e.error,l=e.body,u=function(e,i){if(a&&o.off("inner-kill-task",y),!r){r=!0;var c={};s&&s.statusCode&&(c.statusCode=s.statusCode),s&&s.headers&&(c.headers=s.headers),e?(e=n.extend(e||{},c),t(e,null)):(i=n.extend(i||{},c),t(null,i)),_=null}};if(c)return u(n.error(c));var h,d=s.statusCode,g=2===Math.floor(d/100);if(f&&g)return u(null,{body:l});try{h=l&&l.indexOf("<")>-1&&l.indexOf(">")>-1&&n.xml2json(l)||{}}catch(v){h={}}var m=h&&h.Error;g?u(null,h):m?u(n.error(new Error(m.Message),{code:m.Code,error:m})):d?u(n.error(new Error(s.statusMessage),{code:""+d})):d&&u(n.error(new Error("statusCode error")))}}),y=function(e){e.TaskId===a&&(_&&_.abort&&_.abort(),o.off("inner-kill-task",y))};a&&o.on("inner-kill-task",y)}}var d={getService:function(e,t){"function"==typeof e&&(t=e,e={});var i=this.options.Protocol||(n.isBrowser&&"http:"===location.protocol?"http:":"https:"),o=this.options.ServiceDomain,a=e.AppId||this.options.appId,r=e.Region;o?(o=o.replace(/\{\{AppId\}\}/gi,a||"").replace(/\{\{Region\}\}/gi,r||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(o)||(o=i+"//"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1))):o=r?i+"//cos."+r+".myqcloud.com":i+"//service.cos.myqcloud.com";var s="",c=r?"cos."+r+".myqcloud.com":"service.cos.myqcloud.com";c===o.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1")&&(s=c),u.call(this,{Action:"name/cos:GetService",url:o,method:"GET",headers:e.Headers,SignHost:s},function(e,i){if(e)return t(e);var o=i&&i.ListAllMyBucketsResult&&i.ListAllMyBucketsResult.Buckets&&i.ListAllMyBucketsResult.Buckets.Bucket||[];o=n.isArray(o)?o:[o];var a=i&&i.ListAllMyBucketsResult&&i.ListAllMyBucketsResult.Owner||{};t(null,{Buckets:o,Owner:a,statusCode:i.statusCode,headers:i.headers})})},putBucket:function(e,t){var i=this,o="";if(e.BucketAZConfig){var a={BucketAZConfig:e.BucketAZConfig};o=n.json2xml({CreateBucketConfiguration:a})}u.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,body:o},function(n,o){if(n)return t(n);var a=r({protocol:i.options.Protocol,domain:i.options.Domain,bucket:e.Bucket,region:e.Region,isLocation:!0});t(null,{Location:a,statusCode:o.statusCode,headers:o.headers})})},headBucket:function(e,t){u.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},t)},getBucket:function(e,t){var i={};i.prefix=e.Prefix||"",i.delimiter=e.Delimiter,i.marker=e.Marker,i["max-keys"]=e.MaxKeys,i["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucket",ResourceKey:i.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:i},function(e,i){if(e)return t(e);var o=i.ListBucketResult||{},a=o.Contents||[],r=o.CommonPrefixes||[];a=n.isArray(a)?a:[a],r=n.isArray(r)?r:[r];var s=n.clone(o);n.extend(s,{Contents:a,CommonPrefixes:r,statusCode:i.statusCode,headers:i.headers}),t(null,s)})},deleteBucket:function(e,t){u.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketAcl:function(e,t){var i=e.Headers,o="";if(e.AccessControlPolicy){var r=n.clone(e.AccessControlPolicy||{}),s=r.Grants||r.Grant;s=n.isArray(s)?s:[s],delete r.Grant,delete r.Grants,r.AccessControlList={Grant:s},o=n.json2xml({AccessControlPolicy:r}),i["Content-Type"]="application/xml",i["Content-MD5"]=n.binaryBase64(n.md5(o))}n.each(i,function(e,t){0===t.indexOf("x-cos-grant-")&&(i[t]=a(i[t]))}),u.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:i,action:"acl",body:o},function(e,i){if(e)return t(e);t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketAcl:function(e,t){u.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(e,i){if(e)return t(e);var a=i.AccessControlPolicy||{},r=a.Owner||{},s=a.AccessControlList.Grant||[];s=n.isArray(s)?s:[s];var c=o(a);i.headers&&i.headers["x-cos-acl"]&&(c.ACL=i.headers["x-cos-acl"]),c=n.extend(c,{Owner:r,Grants:s,statusCode:i.statusCode,headers:i.headers}),t(null,c)})},putBucketCors:function(e,t){var i=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[];i=n.clone(n.isArray(i)?i:[i]),n.each(i,function(e){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t){var i=t+"s",o=e[i]||e[t]||[];delete e[i],e[t]=n.isArray(o)?o:[o]})});var o=n.json2xml({CORSConfiguration:{CORSRule:i}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"cors",headers:a},function(e,i){if(e)return t(e);t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketCors:function(e,t){u.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,i){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var o={CORSRules:[],statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else t(e);else{var a=i.CORSConfiguration||{},r=a.CORSRules||a.CORSRule||[];r=n.clone(n.isArray(r)?r:[r]),n.each(r,function(e){n.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t){var i=t+"s",o=e[i]||e[t]||[];delete e[t],e[i]=n.isArray(o)?o:[o]})}),t(null,{CORSRules:r,statusCode:i.statusCode,headers:i.headers})}})},deleteBucketCors:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode||e.statusCode,headers:i.headers})})},getBucketLocation:function(e,t){u.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},t)},getBucketPolicy:function(e,t){u.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(e,i){if(e)return e.statusCode&&403===e.statusCode?t(n.error(e,{ErrorStatus:"Access Denied"})):e.statusCode&&405===e.statusCode?t(n.error(e,{ErrorStatus:"Method Not Allowed"})):e.statusCode&&404===e.statusCode?t(n.error(e,{ErrorStatus:"Policy Not Found"})):t(e);var o={};try{o=JSON.parse(i.body)}catch(a){}t(null,{Policy:o,statusCode:i.statusCode,headers:i.headers})})},putBucketPolicy:function(e,t){var i=e.Policy;try{"string"==typeof i&&(i=JSON.parse(i))}catch(r){}if(!i||"string"==typeof i)return t(n.error(new Error("Policy format error")));var o=JSON.stringify(i);i.version||(i.version="2.0");var a=e.Headers;a["Content-Type"]="application/json",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:o,headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},deleteBucketPolicy:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode||e.statusCode,headers:i.headers})})},putBucketTagging:function(e,t){var i=e.Tagging||{},o=i.TagSet||i.Tags||e.Tags||[];o=n.clone(n.isArray(o)?o:[o]);var a=n.json2xml({Tagging:{TagSet:{Tag:o}}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=n.binaryBase64(n.md5(a)),u.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:a,action:"tagging",headers:r},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketTagging:function(e,t){u.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,i){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var o={Tags:[],statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else{var a=[];try{a=i.Tagging.TagSet.Tag||[]}catch(r){}a=n.clone(n.isArray(a)?a:[a]),t(null,{Tags:a,statusCode:i.statusCode,headers:i.headers})}})},deleteBucketTagging:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketLifecycle:function(e,t){var i=(e.LifecycleConfiguration||{}).Rules||e.Rules||[];i=n.clone(i);var o=n.json2xml({LifecycleConfiguration:{Rule:i}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"lifecycle",headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketLifecycle:function(e,t){u.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,i){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var o={Rules:[],statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else t(e);else{var a=[];try{a=i.LifecycleConfiguration.Rule||[]}catch(r){}a=n.clone(n.isArray(a)?a:[a]),t(null,{Rules:a,statusCode:i.statusCode,headers:i.headers})}})},deleteBucketLifecycle:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketVersioning:function(e,t){if(e.VersioningConfiguration){var i=e.VersioningConfiguration||{},o=n.json2xml({VersioningConfiguration:i}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"versioning",headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})}else t(n.error(new Error("missing param VersioningConfiguration")))},getBucketVersioning:function(e,t){u.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(e,i){e||!i.VersioningConfiguration&&(i.VersioningConfiguration={}),t(e,i)})},putBucketReplication:function(e,t){var i=n.clone(e.ReplicationConfiguration),o=n.json2xml({ReplicationConfiguration:i});o=(o=o.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"replication",headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketReplication:function(e,t){u.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,i){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var o={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else!i.ReplicationConfiguration&&(i.ReplicationConfiguration={}),i.ReplicationConfiguration.Rule&&(i.ReplicationConfiguration.Rules=n.makeArray(i.ReplicationConfiguration.Rule),delete i.ReplicationConfiguration.Rule),t(e,i)})},deleteBucketReplication:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketWebsite:function(e,t){if(e.WebsiteConfiguration){var i=n.clone(e.WebsiteConfiguration||{}),o=i.RoutingRules||i.RoutingRule||[];o=n.isArray(o)?o:[o],delete i.RoutingRule,delete i.RoutingRules,o.length&&(i.RoutingRules={RoutingRule:o});var a=n.json2xml({WebsiteConfiguration:i}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=n.binaryBase64(n.md5(a)),u.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:a,action:"website",headers:r},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})}else t(n.error(new Error("missing param WebsiteConfiguration")))},getBucketWebsite:function(e,t){u.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(e,i){if(e)if(404===e.statusCode&&"NoSuchWebsiteConfiguration"===e.error.Code){var o={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else t(e);else{var a=i.WebsiteConfiguration||{};if(a.RoutingRules){var r=n.clone(a.RoutingRules.RoutingRule||[]);r=n.makeArray(r),a.RoutingRules=r}t(null,{WebsiteConfiguration:a,statusCode:i.statusCode,headers:i.headers})}})},deleteBucketWebsite:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketReferer:function(e,t){if(e.RefererConfiguration){var i=n.clone(e.RefererConfiguration||{}),o=i.DomainList||{},a=o.Domains||o.Domain||[];(a=n.isArray(a)?a:[a]).length&&(i.DomainList={Domain:a});var r=n.json2xml({RefererConfiguration:i}),s=e.Headers;s["Content-Type"]="application/xml",s["Content-MD5"]=n.binaryBase64(n.md5(r)),u.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"referer",headers:s},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})}else t(n.error(new Error("missing param RefererConfiguration")))},getBucketReferer:function(e,t){u.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"referer"},function(e,i){if(e)if(404===e.statusCode&&"NoSuchRefererConfiguration"===e.error.Code){var o={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else t(e);else{var a=i.RefererConfiguration||{};if(a.DomainList){var r=n.makeArray(a.DomainList.Domain||[]);a.DomainList={Domains:r}}t(null,{RefererConfiguration:a,statusCode:i.statusCode,headers:i.headers})}})},putBucketDomain:function(e,t){var i=(e.DomainConfiguration||{}).DomainRule||e.DomainRule||[];i=n.clone(i);var o=n.json2xml({DomainConfiguration:{DomainRule:i}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"domain",headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketDomain:function(e,t){u.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(e,i){if(e)return t(e);var o=[];try{o=i.DomainConfiguration.DomainRule||[]}catch(a){}o=n.clone(n.isArray(o)?o:[o]),t(null,{DomainRule:o,statusCode:i.statusCode,headers:i.headers})})},deleteBucketDomain:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"domain"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketOrigin:function(e,t){var i=(e.OriginConfiguration||{}).OriginRule||e.OriginRule||[];i=n.clone(i);var o=n.json2xml({OriginConfiguration:{OriginRule:i}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"origin",headers:a},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketOrigin:function(e,t){u.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(e,i){if(e)return t(e);var o=[];try{o=i.OriginConfiguration.OriginRule||[]}catch(a){}o=n.clone(n.isArray(o)?o:[o]),t(null,{OriginRule:o,statusCode:i.statusCode,headers:i.headers})})},deleteBucketOrigin:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"origin"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketLogging:function(e,t){var i=n.json2xml({BucketLoggingStatus:e.BucketLoggingStatus||""}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=n.binaryBase64(n.md5(i)),u.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:i,action:"logging",headers:o},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketLogging:function(e,t){u.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"logging"},function(e,i){if(e)return t(e);t(null,{BucketLoggingStatus:i.BucketLoggingStatus,statusCode:i.statusCode,headers:i.headers})})},putBucketInventory:function(e,t){var i=n.clone(e.InventoryConfiguration);if(i.OptionalFields){var o=i.OptionalFields||[];i.OptionalFields={Field:o}}if(i.Destination&&i.Destination.COSBucketDestination&&i.Destination.COSBucketDestination.Encryption){var a=i.Destination.COSBucketDestination.Encryption;Object.keys(a).indexOf("SSECOS")>-1&&(a["SSE-COS"]=a.SSECOS,delete a.SSECOS)}var r=n.json2xml({InventoryConfiguration:i}),s=e.Headers;s["Content-Type"]="application/xml",s["Content-MD5"]=n.binaryBase64(n.md5(r)),u.call(this,{Action:"name/cos:PutBucketInventory",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"inventory",qs:{id:e.Id},headers:s},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketInventory:function(e,t){u.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(e,i){if(e)return t(e);var o=i.InventoryConfiguration;if(o&&o.OptionalFields&&o.OptionalFields.Field){var a=o.OptionalFields.Field;n.isArray(a)||(a=[a]),o.OptionalFields=a}if(o.Destination&&o.Destination.COSBucketDestination&&o.Destination.COSBucketDestination.Encryption){var r=o.Destination.COSBucketDestination.Encryption;Object.keys(r).indexOf("SSE-COS")>-1&&(r.SSECOS=r["SSE-COS"],delete r["SSE-COS"])}t(null,{InventoryConfiguration:o,statusCode:i.statusCode,headers:i.headers})})},listBucketInventory:function(e,t){u.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{"continuation-token":e.ContinuationToken}},function(e,i){if(e)return t(e);var o=i.ListInventoryConfigurationResult,a=o.InventoryConfiguration||[];a=n.isArray(a)?a:[a],delete o.InventoryConfiguration,n.each(a,function(e){if(e&&e.OptionalFields&&e.OptionalFields.Field){var t=e.OptionalFields.Field;n.isArray(t)||(t=[t]),e.OptionalFields=t}if(e.Destination&&e.Destination.COSBucketDestination&&e.Destination.COSBucketDestination.Encryption){var i=e.Destination.COSBucketDestination.Encryption;Object.keys(i).indexOf("SSE-COS")>-1&&(i.SSECOS=i["SSE-COS"],delete i["SSE-COS"])}}),o.InventoryConfigurations=a,n.extend(o,{statusCode:i.statusCode,headers:i.headers}),t(null,o)})},deleteBucketInventory:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"inventory",qs:{id:e.Id}},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},putBucketAccelerate:function(e,t){if(e.AccelerateConfiguration){var i={AccelerateConfiguration:e.AccelerateConfiguration||{}},o=n.json2xml(i),a={"Content-Type":"application/xml"};a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"accelerate",headers:a},function(e,i){if(e)return t(e);t(null,{statusCode:i.statusCode,headers:i.headers})})}else t(n.error(new Error("missing param AccelerateConfiguration")))},getBucketAccelerate:function(e,t){u.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:e.Bucket,Region:e.Region,action:"accelerate"},function(e,i){e||!i.AccelerateConfiguration&&(i.AccelerateConfiguration={}),t(e,i)})},putBucketEncryption:function(e,t){var i=e.ServerSideEncryptionConfiguration||{},o=i.Rule||i.Rules||[],a=n.json2xml({ServerSideEncryptionConfiguration:{Rule:o}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=n.binaryBase64(n.md5(a)),u.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:a,action:"encryption",headers:r},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getBucketEncryption:function(e,t){u.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(e,i){if(e)if(404===e.statusCode&&"NoSuchEncryptionConfiguration"===e.code){var o={EncryptionConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else t(e);else{var a=n.makeArray(i.EncryptionConfiguration&&i.EncryptionConfiguration.Rule||[]);i.EncryptionConfiguration={Rules:a},t(e,i)}})},deleteBucketEncryption:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"encryption"},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getObject:function(e,t){var i=e.Query||{},o=e.QueryString||"",a=n.throttleOnProgress.call(this,0,e.onProgress);i["response-content-type"]=e.ResponseContentType,i["response-content-language"]=e.ResponseContentLanguage,i["response-expires"]=e.ResponseExpires,i["response-cache-control"]=e.ResponseCacheControl,i["response-content-disposition"]=e.ResponseContentDisposition,i["response-content-encoding"]=e.ResponseContentEncoding,u.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,DataType:e.DataType,headers:e.Headers,qs:i,qsStr:o,rawBody:!0,onDownloadProgress:a},function(i,o){if(a(null,!0),i){var r=i.statusCode;return e.Headers["If-Modified-Since"]&&r&&304===r?t(null,{NotModified:!0}):t(i)}t(null,{Body:o.body,ETag:n.attr(o.headers,"etag",""),statusCode:o.statusCode,headers:o.headers})})},headObject:function(e,t){u.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(i,o){if(i){var a=i.statusCode;return e.Headers["If-Modified-Since"]&&a&&304===a?t(null,{NotModified:!0,statusCode:a}):t(i)}o.ETag=n.attr(o.headers,"etag",""),t(null,o)})},listObjectVersions:function(e,t){var i={};i.prefix=e.Prefix||"",i.delimiter=e.Delimiter,i["key-marker"]=e.KeyMarker,i["version-id-marker"]=e.VersionIdMarker,i["max-keys"]=e.MaxKeys,i["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:i.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:i,action:"versions"},function(e,i){if(e)return t(e);var o=i.ListVersionsResult||{},a=o.DeleteMarker||[];a=n.isArray(a)?a:[a];var r=o.Version||[];r=n.isArray(r)?r:[r];var s=n.clone(o);delete s.DeleteMarker,delete s.Version,n.extend(s,{DeleteMarkers:a,Versions:r,statusCode:i.statusCode,headers:i.headers}),t(null,s)})},putObject:function(e,t){var i=this,o=e.ContentLength,a=n.throttleOnProgress.call(i,o,e.onProgress),s=e.Headers;s["Cache-Control"]||s["cache-control"]||(s["Cache-Control"]=""),s["Content-Type"]||s["content-type"]||(s["Content-Type"]=e.Body&&e.Body.type||"");var c=e.UploadAddMetaMd5||i.options.UploadAddMetaMd5||i.options.UploadCheckContentMd5;n.getBodyMd5(c,e.Body,function(c){c&&(i.options.UploadCheckContentMd5&&(s["Content-MD5"]=n.binaryBase64(c)),(e.UploadAddMetaMd5||i.options.UploadAddMetaMd5)&&(s["x-cos-meta-md5"]=c)),void 0!==e.ContentLength&&(s["Content-Length"]=e.ContentLength),a(null,!0),u.call(i,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:e.Query,body:e.Body,onProgress:a},function(s,c){if(s)return a(null,!0),t(s);a({loaded:o,total:o},!0);var l=r({ForcePathStyle:i.options.ForcePathStyle,protocol:i.options.Protocol,domain:i.options.Domain,bucket:e.Bucket,region:i.options.UseAccelerate?"accelerate":e.Region,object:e.Key});l=l.substr(l.indexOf("://")+3),c.Location=l,c.ETag=n.attr(c.headers,"etag",""),t(null,c)})},e.onHashProgress)},deleteObject:function(e,t){u.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId,action:e.Recursive?"recursive":""},function(e,i){if(e){var n=e.statusCode;return n&&404===n?t(null,{BucketNotFound:!0,statusCode:n}):t(e)}t(null,{statusCode:i.statusCode,headers:i.headers})})},getObjectAcl:function(e,t){u.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(e,i){if(e)return t(e);var a=i.AccessControlPolicy||{},r=a.Owner||{},s=a.AccessControlList&&a.AccessControlList.Grant||[];s=n.isArray(s)?s:[s];var c=o(a);delete c.GrantWrite,i.headers&&i.headers["x-cos-acl"]&&(c.ACL=i.headers["x-cos-acl"]),c=n.extend(c,{Owner:r,Grants:s,statusCode:i.statusCode,headers:i.headers}),t(null,c)})},putObjectAcl:function(e,t){var i=e.Headers,o="";if(e.AccessControlPolicy){var r=n.clone(e.AccessControlPolicy||{}),s=r.Grants||r.Grant;s=n.isArray(s)?s:[s],delete r.Grant,delete r.Grants,r.AccessControlList={Grant:s},o=n.json2xml({AccessControlPolicy:r}),i["Content-Type"]="application/xml",i["Content-MD5"]=n.binaryBase64(n.md5(o))}n.each(i,function(e,t){0===t.indexOf("x-cos-grant-")&&(i[t]=a(i[t]))}),u.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:i,body:o},function(e,i){if(e)return t(e);t(null,{statusCode:i.statusCode,headers:i.headers})})},optionsObject:function(e,t){var i=e.Headers;i.Origin=e.Origin,i["Access-Control-Request-Method"]=e.AccessControlRequestMethod,i["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,u.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:i},function(e,i){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var n=i.headers||{};t(null,{AccessControlAllowOrigin:n["access-control-allow-origin"],AccessControlAllowMethods:n["access-control-allow-methods"],AccessControlAllowHeaders:n["access-control-allow-headers"],AccessControlExposeHeaders:n["access-control-expose-headers"],AccessControlMaxAge:n["access-control-max-age"],statusCode:i.statusCode,headers:i.headers})})},putObjectCopy:function(e,t){var i=this,o=e.Headers;o["Cache-Control"]||o["cache-control"]||(o["Cache-Control"]="");var a=e.CopySource||"",s=n.getSourceParams.call(this,a);if(s){var c=s[1],l=s[3],h=decodeURIComponent(s[4]);u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:c,region:l,prefix:h},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(o,a){if(o)return t(o);var s=n.clone(a.CopyObjectResult||{}),c=r({ForcePathStyle:i.options.ForcePathStyle,protocol:i.options.Protocol,domain:i.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0});n.extend(s,{Location:c,statusCode:a.statusCode,headers:a.headers}),t(null,s)})}else t(n.error(new Error("CopySource format error")))},deleteMultipleObject:function(e,t){var i=e.Objects||[],o=e.Quiet;i=n.isArray(i)?i:[i];var a=n.json2xml({Delete:{Object:i,Quiet:o||!1}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=n.binaryBase64(n.md5(a));var s=n.map(i,function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}});u.call(this,{Scope:s,method:"POST",Bucket:e.Bucket,Region:e.Region,body:a,action:"delete",headers:r},function(e,i){if(e)return t(e);var o=i.DeleteResult||{},a=o.Deleted||[],r=o.Error||[];a=n.isArray(a)?a:[a],r=n.isArray(r)?r:[r];var s=n.clone(o);n.extend(s,{Error:r,Deleted:a,statusCode:i.statusCode,headers:i.headers}),t(null,s)})},restoreObject:function(e,t){var i=e.Headers;if(e.RestoreRequest){var o=e.RestoreRequest||{},a=n.json2xml({RestoreRequest:o});i["Content-Type"]="application/xml",i["Content-MD5"]=n.binaryBase64(n.md5(a)),u.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:a,action:"restore",headers:i},t)}else t(n.error(new Error("missing param RestoreRequest")))},putObjectTagging:function(e,t){var i=e.Tagging||{},o=i.TagSet||i.Tags||e.Tags||[];o=n.clone(n.isArray(o)?o:[o]);var a=n.json2xml({Tagging:{TagSet:{Tag:o}}}),r=e.Headers;r["Content-Type"]="application/xml",r["Content-MD5"]=n.binaryBase64(n.md5(a)),u.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:e.Bucket,Key:e.Key,Region:e.Region,body:a,action:"tagging",headers:r,VersionId:e.VersionId},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},getObjectTagging:function(e,t){u.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:e.Key,Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(e,i){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var o={Tags:[],statusCode:e.statusCode};e.headers&&(o.headers=e.headers),t(null,o)}else{var a=[];try{a=i.Tagging.TagSet.Tag||[]}catch(r){}a=n.clone(n.isArray(a)?a:[a]),t(null,{Tags:a,statusCode:i.statusCode,headers:i.headers})}})},deleteObjectTagging:function(e,t){u.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"tagging",VersionId:e.VersionId},function(e,i){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:i.statusCode,headers:i.headers})})},selectObjectContent:function(e,t){if(!e.SelectType)return t(n.error(new Error("missing param SelectType")));var i=e.SelectRequest||{},o=n.json2xml({SelectRequest:i}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=n.binaryBase64(n.md5(o)),u.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"select",qs:{"select-type":e.SelectType},VersionId:e.VersionId,body:o,DataType:"arraybuffer",rawBody:!0},function(e,i){if(e&&204===e.statusCode)return t(null,{statusCode:e.statusCode});if(e)return t(e);var o=n.parseSelectPayload(i.body);t(null,{statusCode:i.statusCode,headers:i.headers,Body:o.body,Payload:o.payload})})},appendObject:function(e,t){var i=e.Headers;i["Cache-Control"]||i["cache-control"]||(i["Cache-Control"]=""),i["Content-Type"]||i["content-type"]||(i["Content-Type"]=e.Body&&e.Body.type||""),u.call(this,{Action:"name/cos:AppendObject",method:"POST",Bucket:e.Bucket,Region:e.Region,action:"append",Key:e.Key,body:e.Body,qs:{position:e.Position},headers:e.Headers},function(e,i){if(e)return t(e);t(null,i)})},uploadPartCopy:function(e,t){var i=e.CopySource||"",o=n.getSourceParams.call(this,i);if(o){var a=o[1],r=o[3],s=decodeURIComponent(o[4]);u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:a,region:r,prefix:s},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(e,i){if(e)return t(e);var o=n.clone(i.CopyPartResult||{});n.extend(o,{statusCode:i.statusCode,headers:i.headers}),t(null,o)})}else t(n.error(new Error("CopySource format error")))},multipartInit:function(e,t){var i=this,o=e.Headers;o["Cache-Control"]||o["cache-control"]||(o["Cache-Control"]=""),o["Content-Type"]||o["content-type"]||(o["Content-Type"]=e.Body&&e.Body.type||""),n.getBodyMd5(e.Body&&(e.UploadAddMetaMd5||i.options.UploadAddMetaMd5),e.Body,function(o){o&&(e.Headers["x-cos-meta-md5"]=o),u.call(i,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,qs:e.Query},function(e,i){return e?t(e):(i=n.clone(i||{}))&&i.InitiateMultipartUploadResult?t(null,n.extend(i.InitiateMultipartUploadResult,{statusCode:i.statusCode,headers:i.headers})):void t(null,i)})},e.onHashProgress)},multipartUpload:function(e,t){var i=this;n.getFileSize("multipartUpload",e,function(){n.getBodyMd5(i.options.UploadCheckContentMd5,e.Body,function(o){o&&(e.Headers["Content-MD5"]=n.binaryBase64(o)),u.call(i,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},function(e,i){if(e)return t(e);t(null,{ETag:n.attr(i.headers,"etag",""),statusCode:i.statusCode,headers:i.headers})})})})},multipartComplete:function(e,t){for(var i=this,o=e.UploadId,a=e.Parts,s=0,c=a.length;s<c;s++)a[s].ETag&&0===a[s].ETag.indexOf('"')||(a[s].ETag='"'+a[s].ETag+'"');var l=n.json2xml({CompleteMultipartUpload:{Part:a}});l=l.replace(/\n\s*/g,"");var h=e.Headers;h["Content-Type"]="application/xml",h["Content-MD5"]=n.binaryBase64(n.md5(l)),u.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:o},body:l,headers:h},function(o,a){if(o)return t(o);var s=r({ForcePathStyle:i.options.ForcePathStyle,protocol:i.options.Protocol,domain:i.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),c=a.CompleteMultipartUploadResult||{};c.ProcessResults&&c&&c.ProcessResults&&(c.UploadResult={OriginalInfo:{Key:c.Key,Location:s,ETag:c.ETag,ImageInfo:c.ImageInfo},ProcessResults:c.ProcessResults},delete c.ImageInfo,delete c.ProcessResults);var l=n.extend(c,{Location:s,statusCode:a.statusCode,headers:a.headers});t(null,l)})},multipartList:function(e,t){var i={};i.delimiter=e.Delimiter,i["encoding-type"]=e.EncodingType,i.prefix=e.Prefix||"",i["max-uploads"]=e.MaxUploads,i["key-marker"]=e.KeyMarker,i["upload-id-marker"]=e.UploadIdMarker,i=n.clearKey(i),u.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:i.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:i,action:"uploads"},function(e,i){if(e)return t(e);if(i&&i.ListMultipartUploadsResult){var o=i.ListMultipartUploadsResult.Upload||[];o=n.isArray(o)?o:[o],i.ListMultipartUploadsResult.Upload=o}var a=n.clone(i.ListMultipartUploadsResult||{});n.extend(a,{statusCode:i.statusCode,headers:i.headers}),t(null,a)})},multipartListPart:function(e,t){var i={};i.uploadId=e.UploadId,i["encoding-type"]=e.EncodingType,i["max-parts"]=e.MaxParts,i["part-number-marker"]=e.PartNumberMarker,u.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:i},function(e,i){if(e)return t(e);var o=i.ListPartsResult||{},a=o.Part||[];a=n.isArray(a)?a:[a],o.Part=a;var r=n.clone(o);n.extend(r,{statusCode:i.statusCode,headers:i.headers}),t(null,r)})},multipartAbort:function(e,t){var i={};i.uploadId=e.UploadId,u.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:i},function(e,i){if(e)return t(e);t(null,{statusCode:i.statusCode,headers:i.headers})})},request:function(e,t){u.call(this,{method:e.Method,Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:e.Action,headers:e.Headers,qs:e.Query,body:e.Body,Url:e.Url,rawBody:e.RawBody,DataType:e.DataType},function(e,i){if(e)return t(e);i&&i.body&&(i.Body=i.body,delete i.body),t(e,i)})},getObjectUrl:function(e,t){var i=void 0===e.UseAccelerate?this.options.UseAccelerate:e.UseAccelerate,o=r({ForcePathStyle:this.options.ForcePathStyle,protocol:e.Protocol||this.options.Protocol,domain:e.Domain||this.options.Domain,bucket:e.Bucket,region:i?"accelerate":e.Region,object:e.Key}),a="";e.Query&&(a+=n.obj2str(e.Query)),e.QueryString&&(a+=(a?"&":"")+e.QueryString);var l=o;if(void 0!==e.Sign&&!e.Sign)return a&&(l+="?"+a),t(null,{Url:l}),l;var u=s.call(this,{Bucket:e.Bucket,Region:e.Region,UseAccelerate:e.UseAccelerate,Url:o}),h=c.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires,Headers:e.Headers,Query:e.Query,SignHost:u,ForceSignHost:!1!==e.ForceSignHost&&this.options.ForceSignHost},function(e,i){if(t)if(e)t(e);else{var n=o;n+="?"+(i.Authorization.indexOf("q-signature")>-1?function(e){var t=e.match(/q-url-param-list.*?(?=&)/g)[0],i="q-url-param-list="+encodeURIComponent(t.replace(/q-url-param-list=/,"")).toLowerCase(),n=new RegExp(t,"g");return e.replace(n,i)}(i.Authorization):"sign="+encodeURIComponent(i.Authorization)),i.SecurityToken&&(n+="&x-cos-security-token="+i.SecurityToken),i.ClientIP&&(n+="&clientIP="+i.ClientIP),i.ClientUA&&(n+="&clientUA="+i.ClientUA),i.Token&&(n+="&token="+i.Token),a&&(n+="&"+a),setTimeout(function(){t(null,{Url:n})})}});return h?(l+="?"+h.Authorization+(h.SecurityToken?"&x-cos-security-token="+h.SecurityToken:""),a&&(l+="&"+a)):a&&(l+="?"+a),l},getAuth:function(e){return n.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Bucket:e.Bucket,Region:e.Region,Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};function f(e,t,i){n.each(["Cors","Acl"],function(o){if(e.slice(-o.length)===o){var a=e.slice(0,-o.length)+o.toUpperCase(),r=n.apiWrapper(e,t),s=!1;i[a]=function(){!s&&console.warn("warning: cos."+a+" has been deprecated. Please Use cos."+e+" instead."),s=!0,r.apply(this,arguments)}}})}t.exports.init=function(e,t){t.transferToTaskMethod(d,"putObject"),n.each(d,function(t,i){e.prototype[i]=n.apiWrapper(i,t),f(i,t,e.prototype)})}},{"../lib/request":57,"./util":66}],62:[function(e,t){"use strict";var i=e("./util"),n=e("./event"),o=e("./task"),a=e("./base"),r=e("./advance"),s={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1,ForceSignHost:!0},c=function(e){this.options=i.extend(i.clone(s),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),this.options.SecretId&&this.options.SecretId.indexOf(" ")>-1&&(console.error("error: SecretId\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"),console.error("error: SecretId format is incorrect. Please check")),this.options.SecretKey&&this.options.SecretKey.indexOf(" ")>-1&&(console.error("error: SecretKey\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"),console.error("error: SecretKey format is incorrect. Please check")),i.isNode()&&(console.warn("warning: cos-js-sdk-v5 \u4e0d\u652f\u6301 nodejs \u73af\u5883\u4f7f\u7528\uff0c\u8bf7\u6539\u7528 cos-nodejs-sdk-v5\uff0c\u53c2\u8003\u6587\u6863\uff1a https://cloud.tencent.com/document/product/436/8629"),console.warn("warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629")),n.init(this),o.init(this)};a.init(c,o),r.init(c,o),c.util={md5:i.md5,xml2json:i.xml2json,json2xml:i.json2xml},c.getAuthorization=i.getAuth,c.version="1.3.8",t.exports=c},{"./advance":59,"./base":61,"./event":63,"./task":65,"./util":66}],63:[function(e,t){var i=function(e){var t={},i=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){"task-list-update"===e&&console.warn('warning: Event "'+e+'" has been deprecated. Please use "list-update" instead.'),i(e).push(t)},e.off=function(e,t){for(var n=i(e),o=n.length-1;o>=0;o--)t===n[o]&&n.splice(o,1)},e.emit=function(e,t){for(var n=i(e).map(function(e){return e}),o=0;o<n.length;o++)n[o](t)}};t.exports.init=i,t.exports.EventProxy=function(){i(this)}},{}],64:[function(e,t){var i,n,o=e("./util"),a=function(){try{var e=JSON.parse(localStorage.getItem("cos_sdk_upload_cache"))}catch(t){}e||(e=[]),i=e},r=function(){try{localStorage.setItem("cos_sdk_upload_cache",JSON.stringify(i))}catch(e){}},s=function(){if(!i){a.call(this);for(var e=!1,t=Math.round(Date.now()/1e3),n=i.length-1;n>=0;n--){var o=i[n][2];(!o||o+2592e3<t)&&(i.splice(n,1),e=!0)}e&&r()}},c=function(){n||(n=setTimeout(function(){r(),n=null},400))},l={using:{},setUsing:function(e){l.using[e]=!0},removeUsing:function(e){delete l.using[e]},getFileId:function(e,t,i,n){return e.name&&e.size&&e.lastModifiedDate&&t?o.md5([e.name,e.size,e.lastModifiedDate,t,i,n].join("::")):null},getUploadIdList:function(e){if(!e)return null;s.call(this);for(var t=[],n=0;n<i.length;n++)i[n][0]===e&&t.push(i[n][1]);return t.length?t:null},saveUploadId:function(e,t,n){if(s.call(this),e){for(var o=i.length-1;o>=0;o--){var a=i[o];a[0]===e&&a[1]===t&&i.splice(o,1)}i.unshift([e,t,Math.round(Date.now()/1e3)]),i.length>n&&i.splice(n),c()}},removeUploadId:function(e){s.call(this),delete l.using[e];for(var t=i.length-1;t>=0;t--)i[t][1]===e&&i.splice(t,1);c()}};t.exports=l},{"./util":66}],65:[function(e,t){var i=e("./session"),n=e("./util"),o={};t.exports.transferToTaskMethod=function(e,t){o[t]=e[t],e[t]=function(e,i){e.SkipTask?o[t].call(this,e,i):this._addTask(t,e,i)}},t.exports.init=function(e){var t,a,r=[],s={},c=0,l=0,u=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),e._custom&&(t._custom=e._custom),t},h=(a=function(){t=0,e.emit("task-list-update",{list:n.map(r,u)}),e.emit("list-update",{list:n.map(r,u)})},function(){t||(t=setTimeout(a))}),d=function(){if(!(r.length<=e.options.UploadQueueSize)){for(var t=0;t<l&&t<r.length&&r.length>e.options.UploadQueueSize;){var i="waiting"===r[t].state||"checking"===r[t].state||"uploading"===r[t].state;r[t]&&i?t++:(s[r[t].id]&&delete s[r[t].id],r.splice(t,1),l--)}h()}},f=function(){if(!(c>=e.options.FileParallelLimit)){for(;r[l]&&"waiting"!==r[l].state;)l++;if(!(l>=r.length)){var t=r[l];l++,c++,t.state="checking",t.params.onTaskStart&&t.params.onTaskStart(u(t)),!t.params.UploadData&&(t.params.UploadData={});var i=n.formatParams(t.api,t.params);o[t.api].call(e,i,function(i,n){e._isRunningTask(t.id)&&("checking"!==t.state&&"uploading"!==t.state||(t.state=i?"error":"success",i&&(t.error=i),c--,h(),f(),t.callback&&t.callback(i,n),"success"===t.state&&(t.params&&(delete t.params.UploadData,delete t.params.Body,delete t.params),delete t.callback)),d())}),h(),setTimeout(f)}}},p=function(t,n){var o=s[t];if(o){var a=o&&"waiting"===o.state,r=o&&("checking"===o.state||"uploading"===o.state);if("canceled"===n&&"canceled"!==o.state||"paused"===n&&a||"paused"===n&&r){if("paused"===n&&o.params.Body&&"function"==typeof o.params.Body.pipe)return void console.error("stream not support pause");o.state=n,e.emit("inner-kill-task",{TaskId:t,toState:n});try{var l=o&&o.params&&o.params.UploadData.UploadId}catch(u){}"canceled"===n&&l&&i.removeUsing(l),h(),r&&(c--,f()),"canceled"===n&&(o.params&&(delete o.params.UploadData,delete o.params.Body,delete o.params),delete o.callback)}d()}};e._addTasks=function(t){n.each(t,function(t){e._addTask(t.api,t.params,t.callback,!0)}),h()};var g=!0;e._addTask=function(t,i,o,a){i=n.formatParams(t,i);var c=n.uuid();i.TaskId=c,i.onTaskReady&&i.onTaskReady(c),i.TaskReady&&(i.TaskReady(c),g&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),g=!1);var l={params:i,callback:o,api:t,index:r.length,id:c,Bucket:i.Bucket,Region:i.Region,Key:i.Key,FilePath:i.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:i._custom},u=i.onHashProgress;i.onHashProgress=function(t){e._isRunningTask(l.id)&&(l.hashPercent=t.percent,u&&u(t),h())};var p=i.onProgress;return i.onProgress=function(t){e._isRunningTask(l.id)&&("checking"===l.state&&(l.state="uploading"),l.loaded=t.loaded,l.speed=t.speed,l.percent=t.percent,p&&p(t),h())},n.getFileSize(t,i,function(e,t){if(e)return o(n.error(e));s[c]=l,r.push(l),l.size=t,!a&&h(),f(),d()}),c},e._isRunningTask=function(e){var t=s[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return n.map(r,u)},e.cancelTask=function(e){p(e,"canceled")},e.pauseTask=function(e){p(e,"paused")},e.restartTask=function(e){var t=s[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",h(),l=Math.min(l,t.index),f())},e.isUploadRunning=function(){return c||l<r.length}}},{"./session":64,"./util":66}],66:[function(e,t){(function(i){"use strict";var n=e("../lib/md5"),o=e("../lib/crypto"),a=e("../lib/xml2json"),r=e("../lib/json2xml");function s(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function c(e,t){var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(t?s(n).toLowerCase():n);return i.sort(function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:e>t?1:-1})}var l,u=["content-disposition","content-encoding","content-length","content-md5","expect","host","if-match","if-modified-since","if-none-match","if-unmodified-since","origin","range","response-cache-control","response-content-disposition","response-content-encoding","response-content-language","response-content-type","response-expires","transfer-encoding","versionid"],h=function(e){var t={};for(var i in e){var n=i.toLowerCase();(n.indexOf("x-cos-")>-1||u.indexOf(n)>-1)&&(t[i]=e[i])}return t},d=function(e,t,i){var n=t/8,o=e.slice(i,i+n);return new Uint8Array(o).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[t](o)[0]},f=function(e,t,i,n){var o=e.slice(t,i),a="";return new Uint8Array(o).forEach(function(e){a+=String.fromCharCode(e)}),n&&(a=decodeURIComponent(escape(a))),a},p=function(){},g=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&null!==e[i]&&(t[i]=e[i]);return t},m=function(e,t){var i,n=new FileReader;FileReader.prototype.readAsBinaryString?(i=FileReader.prototype.readAsBinaryString,n.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer?i=function(e){var i="",n=new FileReader;n.onload=function(){for(var e=new Uint8Array(n.result),o=e.byteLength,a=0;a<o;a++)i+=String.fromCharCode(e[a]);t(i)},n.readAsArrayBuffer(e)}:console.error("FileReader not support readAsBinaryString"),i.call(n,e)},_=(l=function(e,t){e=e.split("."),t=t.split(".");for(var i=0;i<t.length;i++)if(e[i]!==t[i])return parseInt(e[i])>parseInt(t[i])?1:-1;return 0},function(e){if(!e)return!1;var t=(e.match(/Chrome\/([.\d]+)/)||[])[1],i=(e.match(/QBCore\/([.\d]+)/)||[])[1],n=(e.match(/QQBrowser\/([.\d]+)/)||[])[1];return t&&l(t,"53.0.2785.116")<0&&i&&l(i,"3.53.991.400")<0&&n&&l(n,"9.0.2524.400")<=0||!1}("undefined"!=typeof navigator&&navigator.userAgent));function y(e){return S(e,function(e){return"object"==typeof e&&null!==e?y(e):e})}function v(e,t){return b(t,function(i,n){e[n]=t[n]}),e}function C(e){return e instanceof Array}function b(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}function S(e,t){var i=C(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n],n));return i}var L=function(e,t){var i=t.Bucket,n=t.Region,o=t.Key,a=this.options.Domain,r=!a||"string"==typeof a&&a.indexOf("{Bucket}")>-1,s=!a||"string"==typeof a&&a.indexOf("{Region}")>-1;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(r&&!i)return"Bucket";if(s&&!n)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(r&&!i)return"Bucket";if(s&&!n)return"Region";if(!o)return"Key"}return!1},I=function(e,t){if(t=v({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var i=t.Headers||{};t&&"object"==typeof t&&(function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(i[e]=t[e])}(),N.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-mime-limit":"MimeLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},function(e,n){void 0!==t[e]&&(i[n]=t[e])}),t.Headers=g(i))}return t},R=function(e){return Date.now()+(e||0)},N={noop:p,formatParams:I,apiWrapper:function(e,t){return function(i,n){var o=this;"function"==typeof i&&(n=i,i={}),i=I(e,i);var a=function(e){return e&&e.headers&&(e.headers["x-cos-request-id"]&&(e.RequestId=e.headers["x-cos-request-id"]),e.headers["x-ci-request-id"]&&(e.RequestId=e.headers["x-ci-request-id"]),e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},r=function(e,t){n&&n(a(e),a(t))},s=function(){if("getService"!==e&&"abortUploadTask"!==e){var t=L.call(o,e,i);if(t)return"missing param "+t;if(i.Region){if(o.options.CompatibilityMode){if(!/^([a-z\d-.]+)$/.test(i.Region))return"Region format error."}else{if(i.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(i.Region))return"Region format error."}o.options.CompatibilityMode||-1!==i.Region.indexOf("-")||"yfb"===i.Region||"default"===i.Region||"accelerate"===i.Region||console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(i.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(i.Bucket))if(i.AppId)i.Bucket=i.Bucket+"-"+i.AppId;else{if(!o.options.AppId)return'Bucket should format as "test-1250000000".';i.Bucket=i.Bucket+"-"+o.options.AppId}i.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete i.AppId)}!o.options.UseRawKey&&i.Key&&"/"===i.Key.substr(0,1)&&(i.Key=i.Key.substr(1))}}(),c="getAuth"===e||"getObjectUrl"===e;if("function"==typeof Promise&&!c&&!n)return new Promise(function(e,a){if(n=function(t,i){t?a(t):e(i)},s)return r(N.error(new Error(s)));t.call(o,i,r)});if(s)return r(N.error(new Error(s)));var l=t.call(o,i,r);return c?l:void 0}},xml2json:a,json2xml:r,md5:n,clearKey:g,fileSlice:function(e,t,i,n,o){var a;if(e.slice?a=e.slice(t,i):e.mozSlice?a=e.mozSlice(t,i):e.webkitSlice&&(a=e.webkitSlice(t,i)),n&&_){var r=new FileReader;r.onload=function(){a=null,o(new Blob([r.result]))},r.readAsArrayBuffer(a)}else o(a)},getBodyMd5:function(e,t,i,n){i=i||p,e?"string"==typeof t?i(N.md5(t,!0)):Blob&&t instanceof Blob?N.getFileMd5(t,function(e,t){i(t)},n):i():i()},getFileMd5:function(e,t,i){var o=e.size,a=0,r=n.getCtx(),s=function(n){if(n>=o){var c=r.digest("hex");t(null,c)}else{var l=Math.min(o,n+1048576);N.fileSlice(e,n,l,!1,function(e){m(e,function(t){e=null,r=r.update(t,!0),a+=t.length,t=null,i&&i({loaded:a,total:o,percent:Math.round(a/o*1e4)/1e4}),s(n+1048576)})})}};s(0)},binaryBase64:function(e){var t,i,n,o="";for(t=0,i=e.length/2;t<i;t++)n=parseInt(e[2*t]+e[2*t+1],16),o+=String.fromCharCode(n);return btoa(o)},extend:v,isArray:C,isInArray:function(e,t){for(var i=!1,n=0;n<e.length;n++)if(t===e[n]){i=!0;break}return i},makeArray:function(e){return C(e)?e:[e]},each:b,map:S,filter:function(e,t){var i=C(e),n=i?[]:{};for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)&&(i?n.push(e[o]):n[o]=e[o]);return n},clone:y,attr:function(e,t,i){return e&&t in e?e[t]:i},uuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:s,throttleOnProgress:function(e,t){var i,n,o=this,a=0,r=0,s=Date.now();function c(){if(n=0,t&&"function"==typeof t){i=Date.now();var o,c=Math.max(0,Math.round((r-a)/((i-s)/1e3)*100)/100)||0;o=0===r&&0===e?1:Math.floor(r/e*100)/100||0,s=i,a=r;try{t({loaded:r,total:e,speed:c,percent:o})}catch(l){}}}return function(t,i){if(t&&(r=t.loaded,e=t.total),i)clearTimeout(n),c();else{if(n)return;n=setTimeout(c,o.options.ProgressInterval)}}},getFileSize:function(e,t,i){var n;"string"==typeof t.Body?t.Body=new Blob([t.Body],{type:"text/plain"}):t.Body instanceof ArrayBuffer&&(t.Body=new Blob([t.Body])),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(n=t.Body.size,t.ContentLength=n,i(null,n)):i(N.error(new Error("params body format error, Only allow File|Blob|String.")))},getSkewTime:R,error:function(e,t){var i=e;return e.message=e.message||null,"string"==typeof t?(e.error=t,e.message=t):"object"==typeof t&&null!==t&&(v(e,t),(t.code||t.name)&&(e.code=t.code||t.name),t.message&&(e.message=t.message),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.code||(e.code=e.name),e.error||(e.error=y(i)),e},obj2str:function(e,t){var i,n,o,a=[],r=c(e);for(i=0;i<r.length;i++)o=void 0===e[n=r[i]]||null===e[n]?"":""+e[n],n=t?s(n).toLowerCase():s(n),o=s(o)||"",a.push(n+"="+o);return a.join("&")},getAuth:function(e){var t,i=(e=e||{}).SecretId,n=e.SecretKey,a=e.KeyTime,r=(e.method||e.Method||"get").toLowerCase(),s=y(e.Query||e.params||{}),l=h(y(e.Headers||e.headers||{})),u=e.Key||"";e.UseRawKey?t=e.Pathname||e.pathname||"/"+u:0!==(t=e.Pathname||e.pathname||u).indexOf("/")&&(t="/"+t);var d=!1!==e.ForceSignHost;if(!l.Host&&!l.host&&e.Bucket&&e.Region&&d&&(l.Host=e.Bucket+".cos."+e.Region+".myqcloud.com"),!i)throw new Error("missing param SecretId");if(!n)throw new Error("missing param SecretKey");var f=Math.round(R(e.SystemClockOffset)/1e3)-1,p=f,g=e.Expires||e.expires;p+=void 0===g?900:1*g||0;var m=i,_=a||f+";"+p,v=a||f+";"+p,C=c(l,!0).join(";").toLowerCase(),b=c(s,!0).join(";").toLowerCase(),S=o.HmacSHA1(v,n).toString(),L=[r,t,N.obj2str(s,!0),N.obj2str(l,!0),""].join("\n"),I=["sha1",_,o.SHA1(L).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+m,"q-sign-time="+_,"q-key-time="+v,"q-header-list="+C,"q-url-param-list="+b,"q-signature="+o.HmacSHA1(I,S).toString()].join("&")},parseSelectPayload:function(e){for(var t={},i=f(e),n={records:[]};e.byteLength;){var o,a=d(e,32,0),r=d(e,32,4),s=a-r-16,c=0;for(e=e.slice(12);c<r;){var l=d(e,8,c),u=f(e,c+1,c+1+l),h=d(e,16,c+l+2),p=f(e,c+l+4,c+l+4+h);t[u]=p,c+=l+4+h}if("Records"===t[":event-type"])o=f(e,c,c+s,!0),n.records.push(o);else if("Stats"===t[":event-type"])o=f(e,c,c+s,!0),n.stats=N.xml2json(o).Stats;else if("error"===t[":event-type"]){var g=t[":error-code"],m=t[":error-message"],_=new Error(m);_.message=m,_.name=_.code=g,n.error=_}else["Progress","Continuation","End"].includes(t[":event-type"]);e=e.slice(c+s+4)}return{payload:n.records.join(""),body:i}},getSourceParams:function(e){var t=this.options.CopySourceParser;if(t)return t(e);var i=e.match(/^([^.]+-\d+)\.cos(v6|-cdc)?\.([^.]+)\.myqcloud\.com\/(.+)$/);return i?{Bucket:i[1],Region:i[3],Key:i[4]}:null},isBrowser:!0,isNode:function(){return"object"!=typeof window&&"object"==typeof i&&"function"==typeof e},isCIHost:function(e){return/^https?:\/\/([^/]+\.)?ci\.[^/]+/.test(e)}};t.exports=N}).call(this,e("_process"))},{"../lib/crypto":54,"../lib/json2xml":55,"../lib/md5":56,"../lib/xml2json":58,_process:11}],67:[function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function a(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function r(e,t,i,o,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new a(i,o||e,r),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)i.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},c.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,r=new Array(a);o<a;o++)r[o]=i[o].fn;return r},c.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},c.prototype.emit=function(e,t,i,o,a,r){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,o),!0;case 5:return u.fn.call(u.context,t,i,o,a),!0;case 6:return u.fn.call(u.context,t,i,o,a,r),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,i);break;case 4:u[l].fn.call(u[l].context,t,i,o);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},c.prototype.on=function(e,t,i){return r(this,e,t,i,!1)},c.prototype.once=function(e,t,i){return r(this,e,t,i,!0)},c.prototype.removeListener=function(e,t,i,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var r=this._events[a];if(r.fn)r.fn!==t||o&&!r.once||i&&r.context!==i||s(this,a);else{for(var c=0,l=[],u=r.length;c<u;c++)(r[c].fn!==t||o&&!r[c].once||i&&r[c].context!==i)&&l.push(r[c]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,void 0!==t&&(t.exports=c)},{}],68:[function(require,module,exports){(function(process,global){(function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var i=OUTPUT_TYPES[t];e[i]=createOutputMethod(i)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var i,n,o=0,a=e.length||0,r=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,r[0]=this.block,r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),t)for(n=this.start;o<a&&n<64;++o)r[n>>2]|=e[o]<<SHIFT[3&n++];else for(n=this.start;o<a&&n<64;++o)(i=e.charCodeAt(o))<128?r[n>>2]|=i<<SHIFT[3&n++]:i<2048?(r[n>>2]|=(192|i>>6)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]):i<55296||i>=57344?(r[n>>2]|=(224|i>>12)<<SHIFT[3&n++],r[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),r[n>>2]|=(240|i>>18)<<SHIFT[3&n++],r[n>>2]|=(128|i>>12&63)<<SHIFT[3&n++],r[n>>2]|=(128|i>>6&63)<<SHIFT[3&n++],r[n>>2]|=(128|63&i)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=r[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,i=this.h0,n=this.h1,o=this.h2,a=this.h3,r=this.h4,s=this.blocks;for(e=16;e<80;++e)t=s[e-3]^s[e-8]^s[e-14]^s[e-16],s[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)i=(t=(n=(t=(o=(t=(a=(t=(r=(t=i<<5|i>>>27)+(n&o|~n&a)+r+1518500249+s[e]<<0)<<5|r>>>27)+(i&(n=n<<30|n>>>2)|~i&o)+a+1518500249+s[e+1]<<0)<<5|a>>>27)+(r&(i=i<<30|i>>>2)|~r&n)+o+1518500249+s[e+2]<<0)<<5|o>>>27)+(a&(r=r<<30|r>>>2)|~a&i)+n+1518500249+s[e+3]<<0)<<5|n>>>27)+(o&(a=a<<30|a>>>2)|~o&r)+i+1518500249+s[e+4]<<0,o=o<<30|o>>>2;for(;e<40;e+=5)i=(t=(n=(t=(o=(t=(a=(t=(r=(t=i<<5|i>>>27)+(n^o^a)+r+1859775393+s[e]<<0)<<5|r>>>27)+(i^(n=n<<30|n>>>2)^o)+a+1859775393+s[e+1]<<0)<<5|a>>>27)+(r^(i=i<<30|i>>>2)^n)+o+1859775393+s[e+2]<<0)<<5|o>>>27)+(a^(r=r<<30|r>>>2)^i)+n+1859775393+s[e+3]<<0)<<5|n>>>27)+(o^(a=a<<30|a>>>2)^r)+i+1859775393+s[e+4]<<0,o=o<<30|o>>>2;for(;e<60;e+=5)i=(t=(n=(t=(o=(t=(a=(t=(r=(t=i<<5|i>>>27)+(n&o|n&a|o&a)+r-1894007588+s[e]<<0)<<5|r>>>27)+(i&(n=n<<30|n>>>2)|i&o|n&o)+a-1894007588+s[e+1]<<0)<<5|a>>>27)+(r&(i=i<<30|i>>>2)|r&n|i&n)+o-1894007588+s[e+2]<<0)<<5|o>>>27)+(a&(r=r<<30|r>>>2)|a&i|r&i)+n-1894007588+s[e+3]<<0)<<5|n>>>27)+(o&(a=a<<30|a>>>2)|o&r|a&r)+i-1894007588+s[e+4]<<0,o=o<<30|o>>>2;for(;e<80;e+=5)i=(t=(n=(t=(o=(t=(a=(t=(r=(t=i<<5|i>>>27)+(n^o^a)+r-899497514+s[e]<<0)<<5|r>>>27)+(i^(n=n<<30|n>>>2)^o)+a-899497514+s[e+1]<<0)<<5|a>>>27)+(r^(i=i<<30|i>>>2)^n)+o-899497514+s[e+2]<<0)<<5|o>>>27)+(a^(r=r<<30|r>>>2)^i)+n-899497514+s[e+3]<<0)<<5|n>>>27)+(o^(a=a<<30|a>>>2)^r)+i-899497514+s[e+4]<<0,o=o<<30|o>>>2;this.h0=this.h0+i<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+a<<0,this.h4=this.h4+r<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,n=this.h3,o=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,n=this.h3,o=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&define(function(){return exports}))})()}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:11}],69:[function(e,t){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,o=i;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},{}],70:[function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);t.exports=function(){return i(n),n}}else{var o=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},{}],71:[function(e,t){var i=e("./lib/rng"),n=e("./lib/bytesToUuid");t.exports=function(e,t,o){var a=t&&o||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;s<16;++s)t[a+s]=r[s];return t||n(r)}},{"./lib/bytesToUuid":69,"./lib/rng":70}],72:[function(e,t){t.exports={name:"vod-js-sdk-v6",version:"1.4.13",description:"tencent cloud vod js sdk v6",main:"lib/src/tc_vod.js",unpkg:"dist/vod-js-sdk-v6.js",typings:"lib/src/tc_vod.d.ts",scripts:{test:"cross-env NODE_ENV=test mocha -r espower-typescript/guess -r jsdom-global/register -r test/env test/**/*.test.ts",cover:"cross-env NODE_ENV=test nyc mocha -r espower-typescript/guess -r jsdom-global/register -r test/env test/**/*.test.ts",dev:"webpack --config webpack.dev.config.js --watch",dist:"webpack --config webpack.config.js",build:"npm run test && npm run dist && npm run compile",compile:"tsc -p tsconfig.json",prepublish:"npm run build",lint:"tsc --noEmit && eslint 'src/**/*.{js,ts,tsx}' --quiet --fix"},repository:{type:"git",url:"git+https://github.com/tencentyun/vod-js-sdk-v6.git"},keywords:["tencentcloud","sdk","vod"],author:"alsotang <alsotang@gmail.com>",license:"MIT",bugs:{url:"https://github.com/tencentyun/vod-js-sdk-v6/issues"},homepage:"https://github.com/tencentyun/vod-js-sdk-v6#readme",dependencies:{axios:"^0.21.1","cos-js-sdk-v5":"0.5.27",eventemitter3:"^4.0.7","js-sha1":"^0.6.0",uuid:"^3.3.2"},devDependencies:{"@types/mocha":"^5.2.5","@types/semver":"^6.0.0","@types/sha1":"^1.1.1","@types/uuid":"^3.4.4","@typescript-eslint/eslint-plugin":"^1.9.0","@typescript-eslint/parser":"^1.9.0","cross-env":"^6.0.3",eslint:"^5.16.0","eslint-config-prettier":"^4.3.0","eslint-plugin-prettier":"^3.1.0","espower-typescript":"^9.0.1",jsdom:"^13.1.0","jsdom-global":"^3.0.2",mm:"^2.4.1",mocha:"^5.2.0",nyc:"^13.1.0","power-assert":"^1.6.1",prettier:"^1.17.1",semver:"^6.1.1","ts-loader":"^5.3.3",typescript:"^3.5.3",webpack:"^4.28.1","webpack-cli":"^3.3.12"},nyc:{extension:[".ts",".tsx"],include:["src"],reporter:["html"],all:!0}}},{}],73:[function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var o=e("./uploader"),a=e("./vod_reporter"),r=function(){function e(e){this.allowReport=!0,this.enableResume=!0,this.getSignature=e.getSignature,void 0!==e.allowReport&&(this.allowReport=e.allowReport),void 0!==e.enableResume&&(this.enableResume=e.enableResume),this.appId=e.appId,this.reportId=e.reportId}return e.prototype.upload=function(e){var t=n({getSignature:this.getSignature,appId:this.appId,reportId:this.reportId,enableResume:this.enableResume},e),i=new o.default(t);return this.allowReport&&this.initReporter(i),i.start(),i},e.prototype.initReporter=function(e){new a.VodReporter(e)},e}();i.default=r},{"./uploader":74,"./vod_reporter":76}],74:[function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0}),i.UploaderEvent=i.vodAxios=void 0;var c,l=e("js-sha1"),u=e("cos-js-sdk-v5"),h=e("eventemitter3"),d=e("axios"),f=e("./util"),p=e("./vod_reporter"),g=e("uuid/v4");i.vodAxios=d.default.create(),i.vodAxios.interceptors.response.use(function(e){return e},function(e){return isNaN(e.code)&&(e.code=500),Promise.reject(e)}),function(e){e.video_progress="video_progress",e.media_progress="media_progress",e.video_upload="video_upload",e.media_upload="media_upload",e.cover_progress="cover_progress",e.cover_upload="cover_upload"}(c=i.UploaderEvent||(i.UploaderEvent={}));var m=function(e){function t(t){var i=e.call(this)||this;return i.sessionName="",i.vodSessionKey="",i.appId=0,i.reqKey=g(),i.reportId="",i.enableResume=!0,i.applyRequestTimeout=5e3,i.applyRequestRetryCount=3,i.commitRequestTimeout=5e3,i.commitRequestRetryCount=3,i.retryDelay=1e3,i.validateInitParams(t),i.videoFile=t.mediaFile||t.videoFile,i.getSignature=t.getSignature,i.cosStrategy=i.getCosStrategy(t),i.enableResume=t.enableResume,i.videoName=t.mediaName||t.videoName,i.coverFile=t.coverFile,i.fileId=t.fileId,i.applyRequestTimeout=t.applyRequestTimeout||i.applyRequestTimeout,i.commitRequestTimeout=t.commitRequestTimeout||i.commitRequestTimeout,i.retryDelay=t.retryDelay||i.retryDelay,i.appId=t.appId||i.appId,i.reportId=t.reportId||i.reportId,i.cosAuthTime=0,i.genFileInfo(),i}return o(t,e),t.prototype.getCosStrategy=function(e){var t={FileParallelLimit:e.fileParallelLimit,ChunkParallelLimit:e.chunkParallelLimit||6,ChunkRetryTimes:e.chunkRetryTimes,ChunkSize:e.chunkSize||8388608,SliceSize:e.sliceSize,CopyChunkParallelLimit:e.copyChunkParallelLimit,CopyChunkSize:e.copyChunkSize,CopySliceSize:e.copySliceSize,ProgressInterval:e.progressInterval};return Object.keys(t).filter(function(e){return void 0!==t[e]}).reduce(function(e,i){var n;return a(a({},e),((n={})[i]=t[i],n))},{})},t.prototype.setStorage=function(e,t){if(e){var i="webugc_"+l(e);try{localStorage.setItem(i,t)}catch(n){}}},t.prototype.getStorage=function(e){if(e){var t="webugc_"+l(e),i=null;try{i=localStorage.getItem(t)}catch(n){}return i}},t.prototype.delStorage=function(e){if(e){var t="webugc_"+l(e);try{localStorage.removeItem(t)}catch(i){}}},t.prototype.validateInitParams=function(e){if(!f.default.isFunction(e.getSignature))throw new Error("getSignature must be a function");if(e.videoFile&&!f.default.isFile(e.videoFile))throw new Error("videoFile must be a File")},t.prototype.genFileInfo=function(){var e=this.videoFile;if(e){var t=e.name.lastIndexOf("."),i="";if(this.videoName){if(!f.default.isString(this.videoName))throw new Error("mediaName must be a string");if(/[:*?<>\"\\/|]/g.test(this.videoName))throw new Error('Cant use these chars in filename: \\ / : * ? " < > |');i=this.videoName}else i=e.name.substring(0,t);this.videoInfo={name:i,type:e.name.substring(t+1).toLowerCase(),size:e.size},this.sessionName+=e.name+"_"+e.size+";"}var n=this.coverFile;if(n){var o=n.name,a=o.lastIndexOf(".");this.coverInfo={name:o.substring(0,a),type:o.substring(a+1).toLowerCase(),size:n.size},this.sessionName+=n.name+"_"+n.size+";"}},t.prototype.applyUploadUGC=function(e){return void 0===e&&(e=0),r(this,void 0,void 0,function(){function n(i){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:if(500===i.code&&(t.host=t.host===f.HOST.MAIN?f.HOST.BACKUP:f.HOST.MAIN),o.emit(p.VodReportEvent.report_apply,{err:i,requestStartTime:d}),o.delStorage(o.sessionName),o.applyRequestRetryCount==e){if(i)throw i;throw new Error("apply upload failed")}return[4,f.default.delay(o.retryDelay)];case 1:return n.sent(),[2,o.applyUploadUGC(e+1)]}})})}var o,a,c,l,u,h,d,g,m,_,y,v;return s(this,function(e){switch(e.label){case 0:return o=this,[4,this.getSignature()];case 1:if(a=e.sent(),l=this.videoInfo,u=this.coverInfo,h=this.vodSessionKey||this.enableResume&&this.getStorage(this.sessionName))c={signature:a,vodSessionKey:h};else if(l)c={signature:a,videoName:l.name,videoType:l.type,videoSize:l.size},u&&(c.coverName=u.name,c.coverType=u.type,c.coverSize=u.size);else{if(!this.fileId||!u)throw"Wrong params, please check and try again";c={signature:a,fileId:this.fileId,coverName:u.name,coverType:u.type,coverSize:u.size}}d=new Date,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,i.vodAxios.post("https://"+t.host+"/v3/index.php?Action=ApplyUploadUGC",c,{timeout:this.applyRequestTimeout,withCredentials:!1})];case 3:return g=e.sent(),[3,5];case 4:return[2,n(e.sent())];case 5:return 0==(m=g.data).code?(_=m.data,y=_.vodSessionKey,this.setStorage(this.sessionName,y),this.vodSessionKey=y,this.appId=_.appId,this.emit(p.VodReportEvent.report_apply,{data:_,requestStartTime:d}),[2,_]):((v=new Error(m.message)).code=m.code,[2,n(v)])}})})},t.prototype.uploadToCos=function(e){return r(this,void 0,void 0,function(){var t,i,n,o,l,h,d,g;return s(this,function(m){switch(m.label){case 0:return t=this,i={bucket:e.storageBucket+"-"+e.storageAppId,region:e.storageRegionV5},n=new u(Object.assign({getAuthorization:function(i,n){return r(this,void 0,void 0,function(){var i,o;return s(this,function(a){switch(a.label){case 0:return i=f.default.getUnix(),o=.9*(e.tempCertificate.expiredTime-e.timestamp),0!==t.cosAuthTime?[3,1]:(t.cosAuthTime=i,[3,3]);case 1:return t.cosAuthTime&&i-t.cosAuthTime>=o?[4,t.applyUploadUGC()]:[3,3];case 2:e=a.sent(),t.cosAuthTime=f.default.getUnix(),a.label=3;case 3:return n({TmpSecretId:e.tempCertificate.secretId,TmpSecretKey:e.tempCertificate.secretKey,XCosSecurityToken:e.tempCertificate.token,StartTime:e.timestamp,ExpiredTime:e.tempCertificate.expiredTime}),[2]}})})}},this.cosStrategy)),this.cos=n,o=[],this.videoFile&&(l=a(a({},i),{file:this.videoFile,key:e.video.storagePath,onProgress:function(e){t.emit(c.video_progress,e),t.emit(c.media_progress,e)},onUpload:function(e){t.emit(c.video_upload,e),t.emit(c.media_upload,e)},onTaskReady:function(e){t.taskId=e}}),o.push(l)),this.coverFile&&(h=a(a({},i),{file:this.coverFile,key:e.cover.storagePath,onProgress:function(e){t.emit(c.cover_progress,e)},onUpload:function(e){t.emit(c.cover_upload,e)},onTaskReady:f.default.noop}),o.push(h)),d=new Date,g=o.map(function(e){return new Promise(function(i,o){n.sliceUploadFile({Bucket:e.bucket,Region:e.region,Key:e.key,Body:e.file,onTaskReady:e.onTaskReady,onProgress:e.onProgress},function(n,a){return e.file===t.videoFile&&t.emit(p.VodReportEvent.report_cos_upload,{err:n,requestStartTime:d}),n?(t.delStorage(t.sessionName),'{"error":"error","headers":{}}'===JSON.stringify(n)?o(new Error("cors error")):void o(n)):(e.onUpload(a),i())})})}),[4,Promise.all(g)];case 1:return[2,m.sent()]}})})},t.prototype.commitUploadUGC=function(e){return void 0===e&&(e=0),r(this,void 0,void 0,function(){function n(i){return r(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:if(500===i.code&&(t.host=t.host===f.HOST.MAIN?f.HOST.BACKUP:f.HOST.MAIN),o.emit(p.VodReportEvent.report_commit,{err:i,requestStartTime:l}),o.commitRequestRetryCount==e){if(i)throw i;throw new Error("commit upload failed")}return[4,f.default.delay(o.retryDelay)];case 1:return n.sent(),[2,o.commitUploadUGC(e+1)]}})})}var o,a,c,l,u,h,d;return s(this,function(e){switch(e.label){case 0:return o=this,[4,this.getSignature()];case 1:a=e.sent(),this.delStorage(this.sessionName),c=this.vodSessionKey,l=new Date,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,i.vodAxios.post("https://"+t.host+"/v3/index.php?Action=CommitUploadUGC",{signature:a,vodSessionKey:c},{timeout:this.commitRequestTimeout,withCredentials:!1})];case 3:return u=e.sent(),[3,5];case 4:return[2,n(e.sent())];case 5:return 0==(h=u.data).code?(this.emit(p.VodReportEvent.report_commit,{data:h.data,requestStartTime:l}),[2,h.data]):((d=new Error(h.message)).code=h.code,[2,n(d)])}})})},t.prototype.start=function(){var e=this,t=new Date;this.donePromise=this._start().then(function(i){return e.emit(p.VodReportEvent.report_done,{err:{code:0},requestStartTime:t}),i}).catch(function(i){throw e.emit(p.VodReportEvent.report_done,{err:{code:i&&i.code||f.default.CLIENT_ERROR_CODE.UPLOAD_FAIL},requestStartTime:t}),i})},t.prototype._start=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,this.applyUploadUGC()];case 1:return e=t.sent(),[4,this.uploadToCos(e)];case 2:return t.sent(),[4,this.commitUploadUGC()];case 3:return[2,t.sent()]}})})},t.prototype.done=function(){return this.donePromise},t.prototype.cancel=function(){this.cos.cancelTask(this.taskId)},t.host=f.HOST.MAIN,t}(h.EventEmitter);i.default=m},{"./util":75,"./vod_reporter":76,axios:77,"cos-js-sdk-v5":53,eventemitter3:67,"js-sha1":68,"uuid/v4":71}],75:[function(e,t,i){(function(e){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.HOST=void 0,function(e){e[e.UPLOAD_FAIL=1]="UPLOAD_FAIL"}(t||(t={})),function(e){e.MAIN="vod2.qcloud.com",e.BACKUP="vod2.dnsv1.com"}(i.HOST||(i.HOST={})),i.default={isFile:function(e){return"[object File]"==Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},noop:function(){},delay:function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},getUnix:function(){return Math.floor(Date.now()/1e3)},isTest:"test"===e.env.NODE_ENV,isDev:"development"===e.env.NODE_ENV,CLIENT_ERROR_CODE:t}}).call(this,e("_process"))},{_process:11}],76:[function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.VodReporter=i.VodReportEvent=void 0;var o,a,r=e("./uploader"),s=e("../package.json"),c=e("./util");(function(e){e.report_apply="report_apply",e.report_cos_upload="report_cos_upload",e.report_commit="report_commit",e.report_done="report_done"})(o=i.VodReportEvent||(i.VodReportEvent={})),function(e){e[e.apply=10001]="apply",e[e.cos_upload=20001]="cos_upload",e[e.commit=10002]="commit",e[e.done=40001]="done"}(a||(a={}));var l=function(){function e(e,t){this.baseReportData={version:s.version,platform:3e3,device:navigator.userAgent},this.reportUrl="https://vodreport.qcloud.com/ugcupload_new",this.uploader=e,this.options=t,this.init()}return e.prototype.init=function(){this.uploader.on(o.report_apply,this.onApply.bind(this)),this.uploader.on(o.report_cos_upload,this.onCosUpload.bind(this)),this.uploader.on(o.report_commit,this.onCommit.bind(this)),this.uploader.on(o.report_done,this.onDone.bind(this))},e.prototype.onApply=function(e){try{var t=this.uploader;if(!t.videoFile)return;Object.assign(this.baseReportData,{appId:t.appId,fileSize:t.videoFile.size,fileName:t.videoFile.name,fileType:t.videoFile.type,vodSessionKey:t.vodSessionKey,reqKey:t.reqKey,reportId:t.reportId});var i={reqType:a.apply,errCode:0,vodErrCode:0,errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(i.errCode=1,i.vodErrCode=e.err.code,i.errMsg=e.err.message),e.data&&(this.baseReportData.cosRegion=e.data.storageRegionV5),this.report(i)}catch(n){if(console.error("onApply",n),c.default.isTest)throw n}},e.prototype.onCosUpload=function(e){try{var t={reqType:a.cos_upload,errCode:0,cosErrCode:"",errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(t.errCode=1,t.cosErrCode=e.err.error?e.err.error.Code:e.err,e.err&&"error"===e.err.error&&(t.cosErrCode="cors error"),t.errMsg=JSON.stringify(e.err)),this.report(t)}catch(i){if(console.error("onCosUpload",i),c.default.isTest)throw i}},e.prototype.onCommit=function(e){try{var t={reqType:a.commit,errCode:0,vodErrCode:0,errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(t.errCode=1,t.vodErrCode=e.err.code,t.errMsg=e.err.message),e.data&&(this.baseReportData.fileId=e.data.fileId),this.report(t)}catch(i){if(console.error("onCommit",i),c.default.isTest)throw i}},e.prototype.onDone=function(e){try{var t={reqType:a.done,errCode:e.err&&e.err.code,reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};this.report(t)}catch(i){if(console.error("onDone",i),c.default.isTest)throw i}},e.prototype.report=function(e){e=n(n({},this.baseReportData),e),this.send(e)},e.prototype.send=function(e){c.default.isDev||c.default.isTest?console.log("send reportData",e):r.vodAxios.post(this.reportUrl,e)},e}();i.VodReporter=l},{"../package.json":72,"./uploader":74,"./util":75}],77:[function(e,t,i){arguments[4][21][0].apply(i,arguments)},{"./lib/axios":79,dup:21}],78:[function(e,t){"use strict";var i=e("./../utils"),n=e("./../core/settle"),o=e("./../helpers/cookies"),a=e("./../helpers/buildURL"),r=e("../core/buildFullPath"),s=e("./../helpers/parseHeaders"),c=e("./../helpers/isURLSameOrigin"),l=e("../core/createError");t.exports=function(e){return new Promise(function(t,u){var h=e.data,d=e.headers,f=e.responseType;i.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+m)}var _=r(e.baseURL,e.url);function y(){if(p){var i="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,o={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};n(t,u,o),p=null}}if(p.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(u(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}"setRequestHeader"in p&&i.forEach(d,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),u(e),p=null)}),h||(h=null),p.send(h)})}},{"../core/buildFullPath":85,"../core/createError":86,"./../core/settle":90,"./../helpers/buildURL":94,"./../helpers/cookies":96,"./../helpers/isURLSameOrigin":99,"./../helpers/parseHeaders":101,"./../utils":104}],79:[function(e,t){"use strict";var i=e("./utils"),n=e("./helpers/bind"),o=e("./core/Axios"),a=e("./core/mergeConfig");function r(e){var t=new o(e),a=n(o.prototype.request,t);return i.extend(a,o.prototype,t),i.extend(a,t),a}var s=r(e("./defaults"));s.Axios=o,s.create=function(e){return r(a(s.defaults,e))},s.Cancel=e("./cancel/Cancel"),s.CancelToken=e("./cancel/CancelToken"),s.isCancel=e("./cancel/isCancel"),s.all=function(e){return Promise.all(e)},s.spread=e("./helpers/spread"),s.isAxiosError=e("./helpers/isAxiosError"),t.exports=s,t.exports.default=s},{"./cancel/Cancel":80,"./cancel/CancelToken":81,"./cancel/isCancel":82,"./core/Axios":83,"./core/mergeConfig":89,"./defaults":92,"./helpers/bind":93,"./helpers/isAxiosError":98,"./helpers/spread":102,"./utils":104}],80:[function(e,t){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},{}],81:[function(e,t){"use strict";var i=e("./Cancel");function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},t.exports=n},{"./Cancel":80}],82:[function(e,t,i){arguments[4][26][0].apply(i,arguments)},{dup:26}],83:[function(e,t){"use strict";var i=e("./../utils"),n=e("../helpers/buildURL"),o=e("./InterceptorManager"),a=e("./dispatchRequest"),r=e("./mergeConfig"),s=e("../helpers/validator"),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=r(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var i=[],n=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))});var o,l=[];if(this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)}),!n){var u=[a,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(l),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var h=e;i.length;){var d=i.shift(),f=i.shift();try{h=d(h)}catch(p){f(p);break}}try{o=a(h)}catch(p){return Promise.reject(p)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=r(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,i){return this.request(r(i||{},{method:e,url:t,data:(i||{}).data}))}}),i.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,i,n){return this.request(r(n||{},{method:e,url:t,data:i}))}}),t.exports=l},{"../helpers/buildURL":94,"../helpers/validator":103,"./../utils":104,"./InterceptorManager":84,"./dispatchRequest":87,"./mergeConfig":89}],84:[function(e,t,i){arguments[4][29][0].apply(i,arguments)},{"./../utils":104,dup:29}],85:[function(e,t,i){arguments[4][30][0].apply(i,arguments)},{"../helpers/combineURLs":95,"../helpers/isAbsoluteURL":97,dup:30}],86:[function(e,t){"use strict";var i=e("./enhanceError");t.exports=function(e,t,n,o,a){var r=new Error(e);return i(r,t,n,o,a)}},{"./enhanceError":88}],87:[function(e,t){"use strict";var i=e("./../utils"),n=e("./transformData"),o=e("../cancel/isCancel"),a=e("../defaults");function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return r(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return r(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(r(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"../cancel/isCancel":82,"../defaults":92,"./../utils":104,"./transformData":91}],88:[function(e,t){"use strict";t.exports=function(e,t,i,n,o){return e.config=t,i&&(e.code=i),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},{}],89:[function(e,t){"use strict";var i=e("../utils");t.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],a=["headers","auth","proxy","params"],r=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function l(o){i.isUndefined(t[o])?i.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(e[o],t[o])}i.forEach(o,function(e){i.isUndefined(t[e])||(n[e]=c(void 0,t[e]))}),i.forEach(a,l),i.forEach(r,function(o){i.isUndefined(t[o])?i.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(void 0,t[o])}),i.forEach(s,function(i){i in t?n[i]=c(e[i],t[i]):i in e&&(n[i]=c(void 0,e[i]))});var u=o.concat(a).concat(r).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===u.indexOf(e)});return i.forEach(h,l),n}},{"../utils":104}],90:[function(e,t){"use strict";var i=e("./createError");t.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":86}],91:[function(e,t){"use strict";var i=e("./../utils"),n=e("./../defaults");t.exports=function(e,t,o){var a=this||n;return i.forEach(o,function(i){e=i.call(a,e,t)}),e}},{"./../defaults":92,"./../utils":104}],92:[function(e,t){(function(i){"use strict";var n=e("./utils"),o=e("./helpers/normalizeHeaderName"),a=e("./core/enhanceError"),r={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(e,t,i){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(i||JSON.stringify)(e)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?l=e("./adapters/xhr"):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(l=e("./adapters/http")),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),c(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!i&&"json"===this.responseType;if(r||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(r){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(r)}),t.exports=u}).call(this,e("_process"))},{"./adapters/http":78,"./adapters/xhr":78,"./core/enhanceError":88,"./helpers/normalizeHeaderName":100,"./utils":104,_process:11}],93:[function(e,t,i){arguments[4][38][0].apply(i,arguments)},{dup:38}],94:[function(e,t,i){arguments[4][39][0].apply(i,arguments)},{"./../utils":104,dup:39}],95:[function(e,t,i){arguments[4][40][0].apply(i,arguments)},{dup:40}],96:[function(e,t,i){arguments[4][41][0].apply(i,arguments)},{"./../utils":104,dup:41}],97:[function(e,t){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],98:[function(e,t){"use strict";t.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},{}],99:[function(e,t,i){arguments[4][44][0].apply(i,arguments)},{"./../utils":104,dup:44}],100:[function(e,t,i){arguments[4][45][0].apply(i,arguments)},{"../utils":104,dup:45}],101:[function(e,t,i){arguments[4][47][0].apply(i,arguments)},{"./../utils":104,dup:47}],102:[function(e,t,i){arguments[4][49][0].apply(i,arguments)},{dup:49}],103:[function(e,t){"use strict";var i=e("./../../package.json"),n={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var o={},a=i.version.split(".");function r(e,t){for(var i=t?t.split("."):a,n=e.split("."),o=0;o<3;o++){if(i[o]>n[o])return!0;if(i[o]<n[o])return!1}return!1}n.transitional=function(e,t,n){var a=t&&r(t);function s(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(i,n,r){if(!1===e)throw new Error(s(n," has been removed in "+t));return a&&!o[n]&&(o[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,r)}},t.exports={isOlderVersion:r,assertOptions:function(e,t,i){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var a=n[o],r=t[a];if(r){var s=e[a],c=void 0===s||r(s,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==i)throw Error("Unknown option "+a)}},validators:n}},{"./../../package.json":105}],104:[function(e,t){"use strict";var i=e("./helpers/bind"),n=Object.prototype.toString;function o(e){return"[object Array]"===n.call(e)}function a(e){return void 0===e}function r(e){return null!==e&&"object"==typeof e}function s(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===n.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}t.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isPlainObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:c,isStream:function(e){return r(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function i(i,n){s(t[n])&&s(i)?t[n]=e(t[n],i):s(i)?t[n]=e({},i):o(i)?t[n]=i.slice():t[n]=i}for(var n=0,a=arguments.length;n<a;n++)l(arguments[n],i);return t},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},{"./helpers/bind":93}],105:[function(e,t){t.exports={_from:"axios@^0.21.1",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/vod-js-sdk-v6/axios",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"axios@^0.21.1",name:"axios",escapedName:"axios",rawSpec:"^0.21.1",saveSpec:null,fetchSpec:"^0.21.1"},_requiredBy:["/vod-js-sdk-v6"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_shasum:"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",_spec:"axios@^0.21.1",_where:"G:\\work\\ouwan\\ouwan\\node_modules\\vod-js-sdk-v6",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundleDependencies:!1,bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}},{}],GameBuyConfigManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"3ba04UGb/VPnJF875ziw0Y1","GameBuyConfigManager"),t.exports=cc.Class({ctor:function(){this.gameBuyConfigList={}},push:function(e,t){this.gameBuyConfigList[e]=t},getGameBuyConfigByGameID:function(e,t){t=t||E_ROOM_TYPE.CARD;var n=[];if(0!==tools.getLength(this.gameBuyConfigList[e]))for(var o,a=i(this.gameBuyConfigList[e]);!(o=a()).done;){var r=o.value;r.roomType===t&&n.push(r)}return n}}),cc._RF.pop()},{}],GameCommonBet:[function(e,t){"use strict";cc._RF.push(t,"4b59447RhpN3ZWt/vsfFDey","GameCommonBet"),cc.Class({extends:cc.Component,properties:{valueText:cc.Label,valueTextTextColorOutLine:cc.LabelOutline,chouMaBg:cc.Sprite,chouMaType:[cc.SpriteFrame]},setData:function(e,t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=50),this.chouMaBg.spriteFrame=this.chouMaType[e],i)switch(this.valueText.getComponent("mlabel").setString(t,!0),e+""){case"0":this.valueTextTextColorOutLine.color=cc.color(41,128,15);break;case"1":this.valueTextTextColorOutLine.color=cc.color(180,72,34);break;case"2":this.valueTextTextColorOutLine.color=cc.color(134,17,123);break;case"3":this.valueTextTextColorOutLine.color=cc.color(24,119,154);break;case"4":this.valueTextTextColorOutLine.color=cc.color(172,98,3);break;case"5":this.valueTextTextColorOutLine.color=cc.color(222,59,32)}this.node.width=n,this.node.height=n}}),cc._RF.pop()},{}],GameCreaterImage:[function(e,t){"use strict";cc._RF.push(t,"fa06fDKZXhJlIJ+4z3h7uHH","GameCreaterImage"),cc.Class({extends:e("BaseLayer"),properties:{LayoutNode:cc.Node},onLoad:function(){cc.log("*********************\u751f\u6210\u56fe\u7247\uff08\u6e38\u620f\uff09*********************"),(s=document.getElementById("GAMEQRCode"))&&s.remove(),1==cc.sys.isMobile?this.node.rotation=270:this.node.rotation=-90,cc.log("*********************\u751f\u6210\u56fe\u7247\uff08\u6e38\u620f\uff09*********************"),this.LobbyLogic=new(e("LobbyLogic"));var t=this.LobbyLogic.getMyInfo(),i=cc.view.getFrameSize(),n=cc.view.getDesignResolutionSize(),o=i.width/n.width*596,a=i.height/n.height*683,r="https://ouwan.hmzb.top/image/share/play?";r+="gameName=\u5076ONE\u6700\u7f8e\u57ce\uff0c\u4e3a\u5bb6\u4e61\u4ee3\u8a00",r+="&headUrl="+t.headURL,r+="&userID="+t.userID,r+="&userName="+t.name,console.log("GameDesk share image url",r);var s=document.getElementById("Cocos2dGameContainer"),c=document.createElement("img");c.id="GAMEQRCode",c.src=r,c.style.transform="rotate(-90deg)",c.alt="bigImg",c.width=o,c.height=a,c.style.position="absolute",c.style.top=parseInt(s.style.height.replace(/px/,""))/2-c.height/2+"px",c.style.left=parseInt(s.style.width.replace(/px/,""))/2-c.width/2+"px",s.appendChild(c)},init:function(){},doButton_Close:function(){var e=this,t=document.getElementById("GAMEQRCode");t&&t.remove(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],GameInfor:[function(e,t){"use strict";cc._RF.push(t,"05babXiviVFMpR+SJb1NDd0","GameInfor"),cc.Class({extends:e("BaseLayer"),properties:{PlayInforItemPrefab:cc.Prefab,PlayScroview:cc.ScrollView,ItemPrefab:cc.Prefab,Scroview:cc.ScrollView},onLoad:function(){},init:function(e,t){var i=this;this.PlayScroview.content.removeAllChildren(),e.forEach(function(e){var t=cc.instantiate(i.PlayInforItemPrefab);i.PlayScroview.content.addChild(t);for(var n=0;n<4;n++){var o="set_up_"+(n+1);t.getChildByName(o).active=!1}for(var a=0;a<e.length;a++){o="set_up_"+(a+1);var r=t.getChildByName(o),s=e[a];r.active=!0,r&&function(){var e=r,t=e.getChildByName("Name").getComponent(cc.Label),n=e.getChildByName("Avata_Node").getChildByName("Image_Avata");n.active=!0,t.string=tools.getCutStringByCount(s.name,5);var o=function(e){n&&cc.isValid(n)&&(n.getComponent(cc.Sprite).spriteFrame=e)}.bind(i);AvatarManager.requestHeadRes(s.headURL,s.userID,o,n)}()}}),this.Scroview.content.removeAllChildren();var n=t.length;t.forEach(function(e,o){var a=cc.instantiate(i.ItemPrefab);a.getChildByName("ZhaiYaoNode").getChildByName("timeLabel").getComponent(cc.Label).string=t[n-1-o],i.Scroview.content.addChild(a)})},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameListManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"561abLFwIdLGL++5kJiqF6u","GameListManager");var a=cc.Class({ctor:function(){this.gameList=[]},requestGameList:function(e){if(0==this.gameList.length){var t=function(t){if(0==t.status){var i=t.data;this.push(i),e&&e(i)}else createTips(t.msg)}.bind(this),i={};i.url=NetConfig.getPHPUrl(),i.params={api:"lobby",action:"gameList"},i.sCallback=t,i.fCallback=function(){cc.log("\u8bf7\u6c42gameList\u8d85\u65f6")},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)}else e(this.gameList)},push:function(e){for(var t in e)this.gameList.push(e[t])},getGameList:function(){return this.gameList},clear:function(){this.gameList=[]},getGameByGameID:function(e){for(var t,n=i(this.gameList);!(t=n()).done;){var o=t.value;if(o.gameID===e)return o}},isBiSaiGame:function(e){return tools.tableContainValue(G_BISAI_GAME_LIST,e)},isSpecialGame:function(e){return tools.tableContainValue(G_SPECIAL_GAME_LIST,e)},isDeskGame:function(e){return tools.tableContainValue(G_DESK_GAME_LIST,e)},isEnterGame:function(e){return tools.tableContainValue(G_ENTER_GAME_LIST,e)},isBRGame:function(e){return tools.tableContainValue(G_BR_GAME_LIST,e)},isTipsGame:function(e){return tools.tableContainValue(G_TIPS_GAME_LIST,e)},isRoomGame:function(e){return tools.tableContainValue(G_ROOM_GAME_LIST,e)}});t.exports=a,cc._RF.pop()},{}],GameLocationLayer:[function(e,t){"use strict";cc._RF.push(t,"7466a65CMlB/p1qAjlmEq4G","GameLocationLayer"),cc.Class({extends:e("BaseLayer"),properties:{Node_GameLocation:[cc.Node]},onLoad:function(){this.Node_GameLocation.forEach(function(e){return e.active=!1}),cc.log("*********************\u5b9a\u4f4d*********************"),2==this.count?this.Node_GameLocation[0].active=!0:3==this.count?this.Node_GameLocation[1].active=!0:4==this.count&&(this.Node_GameLocation[2].active=!0),this.initUIData()},init:function(e,t){this.count=e,this.userInfoList=t},initUIData:function(){2==this.count?this.updateUserInfo2():3==this.count?this.updateUserInfo3():4==this.count&&this.updateUserInfo4()},updateUserInfo2:function(){var e=this;cc.log("*********************\u7528\u6237\u5b9a\u4f4d*********************");var t=this.Node_GameLocation[0].getChildByName("play_0"),i=this.Node_GameLocation[0].getChildByName("play_1"),n=[];n.push(this.userInfoList[0]),n.push(this.userInfoList[2]);var o=[];o.push(t),o.push(i),o.forEach(function(t,i){var o=n[i];if(void 0!==o&&o){var a=t.getChildByName("name"),r=t.getChildByName("IP"),s=t.getChildByName("Image_Avata").getComponent(cc.Sprite);a.getComponent(cc.Label).string=o.name+"",r.getComponent(cc.Label).string=o.logonIP+"";var c=function(e){s&&cc.isValid(s)&&(s.spriteFrame=e)}.bind(e);AvatarManager.requestHeadRes(o.headURL,null,c,null)}}),this.userInfoList[0]&&this.userInfoList[2]&&(this.Node_GameLocation[0].getChildByName("image_1").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[2])+"")},updateUserInfo3:function(){var e=this;cc.log("*********************\u7528\u6237\u5b9a\u4f4d*********************");var t=this.Node_GameLocation[1].getChildByName("play_0"),i=this.Node_GameLocation[1].getChildByName("play_1"),n=this.Node_GameLocation[1].getChildByName("play_2"),o=[];o.push(this.userInfoList[0]),o.push(this.userInfoList[1]),o.push(this.userInfoList[2]);var a=[];a.push(t),a.push(i),a.push(n),a.forEach(function(t,i){var n=o[i];if(void 0!==n&&n){var a=t.getChildByName("name"),r=t.getChildByName("IP"),s=t.getChildByName("Image_Avata").getComponent(cc.Sprite);a.getComponent(cc.Label).string=n.name+"",r.getComponent(cc.Label).string=n.logonIP+"";var c=function(e){s&&cc.isValid(s)&&(s.spriteFrame=e)}.bind(e);AvatarManager.requestHeadRes(n.headURL,null,c,null)}}),this.userInfoList[0]&&this.userInfoList[1]&&(this.Node_GameLocation[1].getChildByName("image_1").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[1])+""),this.userInfoList[1]&&this.userInfoList[2]&&(this.Node_GameLocation[1].getChildByName("image_2").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[1],this.userInfoList[2])+""),this.userInfoList[0]&&this.userInfoList[2]&&(this.Node_GameLocation[1].getChildByName("image_3").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[2])+"")},updateUserInfo4:function(){var e=this;cc.log("*********************\u7528\u6237\u5b9a\u4f4d*********************");var t=this.Node_GameLocation[2].getChildByName("play_0"),i=this.Node_GameLocation[2].getChildByName("play_1"),n=this.Node_GameLocation[2].getChildByName("play_2"),o=this.Node_GameLocation[2].getChildByName("play_3"),a=[];a.push(this.userInfoList[0]),a.push(this.userInfoList[1]),a.push(this.userInfoList[2]),a.push(this.userInfoList[3]);var r=[];r.push(t),r.push(i),r.push(n),r.push(o),r.forEach(function(t,i){var n=a[i];if(void 0!==n&&n){var o=t.getChildByName("name"),r=t.getChildByName("IP"),s=t.getChildByName("Image_Avata").getComponent(cc.Sprite);o.getComponent(cc.Label).string=n.name+"",r.getComponent(cc.Label).string=n.logonIP+"";var c=function(e){s&&cc.isValid(s)&&(s.spriteFrame=e)}.bind(e);AvatarManager.requestHeadRes(n.headURL,null,c,null)}}),this.userInfoList[0]&&this.userInfoList[1]&&(this.Node_GameLocation[2].getChildByName("image_1").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[1])+""),this.userInfoList[1]&&this.userInfoList[2]&&(this.Node_GameLocation[2].getChildByName("image_2").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[1],this.userInfoList[2])+""),this.userInfoList[2]&&this.userInfoList[3]&&(this.Node_GameLocation[2].getChildByName("image_3").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[2],this.userInfoList[3])+""),this.userInfoList[0]&&this.userInfoList[3]&&(this.Node_GameLocation[2].getChildByName("image_4").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[3])+""),this.userInfoList[1]&&this.userInfoList[3]&&(this.Node_GameLocation[2].getChildByName("image_5").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[1],this.userInfoList[3])+""),this.userInfoList[0]&&this.userInfoList[2]&&(this.Node_GameLocation[2].getChildByName("image_6").getChildByName("text").getComponent(cc.Label).string=this.getUserDistance(this.userInfoList[0],this.userInfoList[2])+"")},getUserDistance:function(e,t){if(e&&t){var i=e.longitude,n=e.latitude,o=t.longitude,a=t.latitude;if(tools.checkLongitudeOrLatitude(i)&&tools.checkLongitudeOrLatitude(n)&&tools.checkLongitudeOrLatitude(o)&&tools.checkLongitudeOrLatitude(a)){var r=tools.getDistance(a,o,n,i);return r>=1?tools.getPreciseDecimal(r,1)+"km":1e3*r+"m"}return"\u672a\u77e5"}}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameLogicBase:[function(e,t){"use strict";var i;function n(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=o(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"e8afbyfo3lNUZM1lLg0Q36M","GameLogicBase"),t.exports=cc.Class(((i={extends:cc.Component,ctor:function(){this.initLogicBaseData()},initLogicBaseData:function(){},setPlayInfo:function(e,t){if(this.changeTableTime=null,this.gameStatus=-1,this.isGameStationReceived=!1,this.isChangeTable=!1,this.m_game_wait=!0,this.tableUI=e,this._logicInfo=t,this._logicInfo.playInfo)this.seatOffset=0;else{var i=this._logicInfo.seatOffset;this.seatOffset=i||0,this.curBankerSeatNO=G_INVALID_BYTE_VALUE,this.changeTableTime=null,this.gameStatus=-1,this.isGameStationReceived=!1,this.isChangeTable=!1,this.dissmissUserIDList={};for(var n=0;n<G_WAR_RECORD_PLAYER_NUM;n++)this.dissmissUserIDList[n]=0}},setMyMatchDeskInfo:function(e){printInfo(" setMyMatchDeskInfo( MatchDeskInfo )"),this.myMatchDeskInfo=e,MatchManager.setMyMatchGameInfo(e),this.tableUI.showMatchWaitStatus(e)},setMyMatchDeskFinishInfo:function(e){MatchManager.setCurMatchGameInfo(e),this.tableUI.showMatchDeskFinish()},getMyMatchDeskInfo:function(){return this.myMatchDeskInfo},setMatchDeskRankInfo:function(e){2==e.type&&GameSocket.setIsSendLogoutRoom(!0),this.MatchDeskRankInfo=e,MatchManager.setMatchDeskRankInfo(e),this.tableUI.showMatchDeskStatus(e)},setMyMatchGradeInfo:function(e){var t={userID:{},userName:{}};t.userID=e.userid,t.userName=e.name,t.llAllPoint=e.changeGrade,t.llAllPoint_ALL=e.grade,this.tableUI.showMatchGameResult(t)},setMyRankMatchGradeInfo:function(e){var t={};t.userID=e.userID,t.gameExp=e.gameExp,t.UserLevel=e.UserLevel,t.remark=e.remark,this.tableUI.showRankMatchGameResult(t)},setMyRankMatchUserExp:function(e){var t={};t.userID=e.userID,t.gameExp=e.gameExp,t.UserLevel=e.UserLevel,this.tableUI.setRankMatchUserExp(t)},setCheckPointInfo:function(e){this.tableUI.setCheckPointInfo(e)},setCheckPointEnd:function(){this.tableUI.setCheckPointEnd()},getMatchDeskRankInfo:function(){return this.MatchDeskRankInfo},initGameFrameData:function(){this.isGameStationReceived=!1},clearGame:function(){this.initGameFrameData();try{this.unscheduleAllCallbacks()}catch(e){}this.tableUI&&this.tableUI.clearCommonUI(),this.clearUI()},makeAllUserDirty:function(){return GameSocket.makeAllUserDirty()},getMyHeadURL:function(){return GameSocket.getMyInfo().headURL},getMyID:function(){return GameSocket.getMyInfo().userID},getMyDeskNO:function(){return this.getMyInfo()?this.getMyInfo().deskIdx:-1},getMyInfo:function(){return this.getUserByID(this.getMyID())},getMySeatNO:function(){return this.getMyInfo()&&this.getMyInfo().deskStation?this.getMyInfo().deskStation:0},getMyName:function(){return this.getMyInfo()&&this.getMyInfo().name||""},getMyMoney:function(){return this.getMyInfo()&&this.getMyInfo().money||0},getMyGameMoney:function(){return this.getMyMoney()},getDeskInfo:function(){return GameSocket.getDeskInfo()},getCardRoomNum:function(){var e=0;return this.getDeskInfo()&&(e=this.getDeskInfo().deskPasswd),e},getGameCountInfo:function(){var e=0,t=0;return this.getDeskInfo()&&(e=this.getDeskInfo().runGameCount,t=this.getDeskInfo().totalGameCount),[e,t]},getGameCurCount:function(){var e=0;return this.getDeskInfo()&&(e=this.getDeskInfo().runGameCount),e},getGameCurCountData:function(){var e=null;return this.getDeskInfo()&&(e=this.getDeskInfo().runGameCount),e},getGameTotalCount:function(){var e=0;return this.getDeskInfo()&&(e=this.getDeskInfo().totalGameCount),e},getRoomMasterId:function(){var e=0;return this.getDeskInfo()&&(e=this.getDeskInfo().masterID),e},getGameStatus:function(){return this.gameStatus},setGameStatus:function(e){this.gameStatus=e},getCurBankerSeatNO:function(){return this.curBankerSeatNO},setCurBankerSeatNO:function(e){this.curBankerSeatNO=e},getUserByDeskStation:function(e){return GameSocket.getUserByDeskStation(e)},getUserByID:function(e){return GameSocket.getUserByID(e)},getUserInfoListOfLogicSeat:function(){for(var e={},t=0;t<this._logicInfo.seatCount;t++)e[t]=this.getUserBySeat(t);return e},getUserInfoListOfViewSeat:function(){for(var e={},t=0;t<this._logicInfo.seatCount;t++)e[this.logicToViewSeatNo(t)]=this.getUserBySeat(t);return e},getUserMoneyByID:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.userID==e)return i.money}return 0},getSeatByID:function(e){var t=this.getUserByID(e);return t?t.deskStation:0},getViewSeatByID:function(e){var t=this.getUserByID(e);return t?this.logicToViewSeatNo(t.deskStation):null},getUserNameByID:function(e){var t=this.getUserByID(e);return t?t.name:""},getUserSexByID:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.userID==e)return i.sex==E_UserSex.MALE}return!1},setUserSexByID:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];i.userID==e&&i.sex}},getUserNameBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i.name}return""},getUserBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i}return null},getUserSexBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i.sex==E_UserSex.MALE}return!1},getUserIdBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i.userID}return 0},getUserMoneyBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i.money}return 0},getUserHeadURLBySeat:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.deskStation==e)return i.headURL}return""},getUserHeadURLByUserID:function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(i.userID==e)return i.headURL}return""},getNameList:function(){for(var e=[],t=0;t<this._logicInfo.seatCount;t++)e.push(this.getUserNameBySeat(t));return e},getUserIDList:function(){for(var e=[],t=0;t<this._logicInfo.seatCount;t++)e.push(this.getUserIdBySeat(t));return e},getHeadURLList:function(){for(var e=[],t=0;t<this._logicInfo.seatCount;t++)e.push(this.getUserHeadURLBySeat(t));return e},getRealPokeValue:function(){createTips("getRealPokeValue todooooooooo")},updateUserMoney:function(e,t,i,n,o,a){var r=this.getUserByID(e);r&&(console.log(tools.getCurTime()+" updateUserMoney uid:"+e+" seat:"+r.deskStation+" viewSeat:"+this.logicToViewSeatNo(r.deskStation)+" value:"+t+" lastValue:"+i+" resType:"+n+" isMagice:"+o+" reason:"+a),this.tableUI.updateUserMoney(this.logicToViewSeatNo(r.deskStation),t,i,n,o,a))},updateUserJewels:function(e,t){var i=this.getUserByID(e);i&&this.tableUI.updateUserJewels(this.logicToViewSeatNo(i.deskStation),t)},isUserPlaying:function(e){if((this.isBuyRoom()||this.isPrivateRoom()||this.isVIPRoom())&&this.getGameCountInfo()[0]>0)return!0;var t=this.getUserBySeat(e);return!(!t||E_UserStatus.USER_STATUS_PLAYING!=t.userStatus)},isUserTuoGuan:function(e){var t=this.getUserBySeat(e);return!(!t||!t)&&t.isAuto},isMePlaying:function(){return this.isUserPlaying(this.getMySeatNO())},isDeskPlaying:function(){for(var e,t=n(GameSocket.getDeskUserList());!(e=t()).done;){var i=e.value;if(E_UserStatus.USER_STATUS_PLAYING==i.userStatus)return!0}return!1},isMeWatching:function(){return GameSocket.getMyInfo().userStatus==E_UserStatus.USER_STATUS_WATCH},isMeReady:function(){var e=this.getUserByID(this.getMyID());return!(!e||E_UserStatus.USER_STATUS_AGREE!=e.userStatus)},isMeTuoGuan:function(){var e=this.getUserByID(this.getMyID());return!!e&&e.isAuto},isBuyRoom:function(){return!!GameSocket&&GameSocket.isBuyRoom()},isTableRoom:function(){return!!this.GameSocket&&this.GameSocket.isTableRoom()},isGoldRoom:function(){return!!GameSocket&&(GameSocket.isGoldRoom()||GameSocket.isRankMatchRoom()||GameSocket.isCheckPointRoom())},isPrivateRoom:function(){return!!GameSocket&&GameSocket.isPrivateRoom()},isCostGold:function(){return!(!this.isPrivateRoom()&&!this.isGoldRoom())},isMatchRoom:function(){return!!GameSocket&&GameSocket.isMatchRoom()},isBarrierMatchRoom:function(){return!!GameSocket&&GameSocket.isBarrierMatchRoom()},isRankMatchRoom:function(){return!!GameSocket&&GameSocket.isRankMatchRoom()},isCheckPointRoom:function(){return!!GameSocket&&GameSocket.isCheckPointRoom()},isVIPRoom:function(){return!!GameSocket&&GameSocket.isVIPRoom()},isRoom:function(){return!!GameSocket&&GameSocket.isRoom()},viewToLogicSeatNo:function(e){return GameSocket.isBRGame()?e:e<0||e>=this._logicInfo.seatCount?G_INVALID_BYTE_VALUE:(e-this.seatOffset+this._logicInfo.seatCount)%this._logicInfo.seatCount},logicToViewSeatNo:function(e){return GameSocket.isBRGame()?e:e<0||e>=this._logicInfo.seatCount?G_INVALID_BYTE_VALUE:(e+this.seatOffset+this._logicInfo.seatCount)%this._logicInfo.seatCount},removeAllDeskUser:function(){for(var e=0;e<this._logicInfo.seatCount;e++)this.tableUI.removeUser(e)},loadDeskUser:function(e){this.seatOffset=this._logicInfo.seatOffset?this._logicInfo.seatOffset:-this.getMySeatNO();for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(e){if(e==i.userID){this.tableUI.addUser(i,this.logicToViewSeatNo(i.deskStation));break}}else this.logicToViewSeatNo(i.deskStation),this.tableUI.addUser(i,this.logicToViewSeatNo(i.deskStation))}},updateDeskUser:function(e){cc.log("GameLogicBase:updateDeskUser(user) {0}",e.deskStation),this.tableUI.addUser(e,this.logicToViewSeatNo(e.deskStation)),this.onUpdateDeskUser(e)},setDeskExpUserLevelInfo:function(e){this.tableUI.setDeskExpUserLevelInfo(e)},setDeskCheckPointInfo:function(e){this.tableUI.setDeskCheckPointInfo(e)},sendDeskCheckPointInfo:function(){GameSocket.requestDeskCheckPointInfo()},dealNotifyDeskUserLogonORoutRoom:function(e){this.tableUI.dealNotifyDeskUserLogonORoutRoom(e)},dealNotifyDeskUserIsTourist:function(e){this.tableUI.dealNotifyDeskUserIsTourist(e)},sendDeskInfo:function(){(this.isBuyRoom()||this.isPrivateRoom()||this.isVIPRoom())&&GameSocket.requestDeskInfo()},sendGameInfo:function(){GameSocket.requestGameInfo()},sendDeskUserInfo:function(){GameSocket.requestDeskUserInfo()},sendDeskOneUserInfo:function(e,t){GameSocket.requestDeskOneUserInfo(e,t)},sendAgreeGame:function(){GameSocket.requestAgreeGame()},requestGameNotPrompt:function(e){GameSocket.requestGameNotPrompt(e)},sendChatMessage:function(e){GameSocket.requestTalk(e)},sendStand:function(){GameSocket.requestStand()},sendStandandWatch:function(){GameSocket.requestStandandWatch()},sendLogoutRoom:function(e){GameSocket.requestLogoutRoom(e),GameSocket.setIsSendLogoutRoom(!0)},onDissRoomFun:function(e){if(this.getMyID()==e){var t=function(e){"\u786e  \u5b9a"==e&&this.sendDismissRoom()}.bind(this),i={msg:"\u786e\u5b9a\u8981\u63d0\u524d\u89e3\u6563\u623f\u95f4\u5417\uff1f",btn1:"\u786e  \u5b9a"};i.callbackFun=t,createMsgBox(i)}else createTips("\u623f\u4e3b\u624d\u80fd\u89e3\u6563\u623f\u95f4")},doDismissRoom:function(){var e=this;if(!LobbySocket.isConnected())return LobbySocket.clear(),void this.backLobby();if(this.isGoldRoom())createTips("\u91d1\u5e01\u573a\u6ca1\u6709\u89e3\u6563\u623f\u95f4\u529f\u80fd\uff01");else if(this.isMeWatching())createTips("\u65c1\u89c2\u72b6\u6001\u4e0d\u53ef\u4ee5\u7533\u8bf7\u89e3\u6563\u623f\u95f4\uff01");else if(this.isMatchRoom())createTips("\u6bd4\u8d5b\u573a\u4e0d\u53ef\u4ee5\u7533\u8bf7\u89e3\u6563\u623f\u95f4\uff01");else if(this.isBuyRoom()||this.isPrivateRoom()||this.isVIPRoom())if(this.getGameCountInfo()[0]>0){var t=function(e){"\u786e  \u5b9a"==e&&this.sendDismissRoom()}.bind(this),i={msg:"\u786e\u5b9a\u8981\u7533\u8bf7\u89e3\u6563\u623f\u95f4\u5417\uff1f",btn1:"\u786e  \u5b9a",btn2:"\u53d6  \u6d88"};i.callbackFun=t,createMsgBox(i)}else{var n=this.getRoomMasterId();0==n?(this.callbackGetMasterId=function(){var t=e.getRoomMasterId();0!=t&&(e.onDissRoomFun(t),e.unschedule(e.callbackGetMasterId))},this.schedule(this.callbackGetMasterId,.1)):this.onDissRoomFun(n)}},doLeftRoom:function(){LobbySocket.isConnected()?(this.sendStand(),this.isMeWatching()&&this.backLobby()):this.backLobby()},sendAnswerDismiss:function(e){GameSocket.requestAnswerDismiss(e)},sendDismissRoom:function(){GameSocket.requestDismissRoom()},sendChangeDesk:function(){if(this.changeTableTime){var e=Math.ceil(Date.parse(new Date)-this.changeTableTime);if(5-e>0)return void createTips(string.format("\u6362\u684c\u592a\u9891\u7e41\u4e86\uff0c\u8bf7%s\u79d2\u540e\u91cd\u8bd5",5-e))}this.changeTableTime=Date.parse(new Date),this.isChangeTable=!0;var t=this.getMyDeskNO();GameSocket.requestChangeDesk(t)},requestCreaterDesk:function(e){GameSocket.requestCreaterDesk(e)},sendAuto:function(e){e?GameSocket.requestAuto():GameSocket.requestCancelAuto()},sendMagicExpress:function(e,t){if(this.isMeWatching())return createTips("\u65c1\u89c2\u72b6\u6001\u4e0d\u53ef\u4ee5\u53d1\u9001\u9b54\u6cd5\u8868\u60c5");GameSocket.requestMagicExpress(e,t)},sendStart:function(){GameSocket.requestStart()},sendSit:function(e){GameSocket.requestRoomSit(e)},sendActionChange:function(e){GameSocket.requestActionChange(e)},onSystemMessage:function(e){this.tableUI.showSystemMsg(e)},dealNotifyDeskUserOffline:function(e){this.tableUI.showUserCut(this.getViewSeatByID(e.userID))},dealNotifyDeskUserSit:function(e){this.getMyID()==e.userID&&this.isChangeTable&&(createTips("\u6362\u684c\u6210\u529f"),removeLoading(),this.isChangeTable=!1,this.changeTableClearUI()),this.tableUI.removeAllPlayerUI(),this.loadDeskUser(),this.tableUI.onDeskUserSit(e)},dealNotifyDeskUserAgree:function(e){this.tableUI.onDeskUserAgree(e)},dealNotifyDeskGameBegin:function(){cc.log("GameLogicBase:dealNotifyDeskGameBegin \u6536\u5230\u672c\u684c\u6e38\u620f\u5f00\u59cb\u6d88\u606f"),this.gameBeginClearUI(),this.tableUI.dealNotifyDeskGameBegin(),this.sendDeskInfo(),this.isMatchRoom()&&(this.tableUI.removeAllMatchLayer(),MatchManager.getCurRoundIsEnd()&&(MatchManager.setCurRoundIsEnd(!1),this.tableUI.playMatchBeginEffect())),this.isCheckPointRoom()&&(this.tableUI.removeMatchCheckPointResultLayer(),this.sendDeskCheckPointInfo()),this.isRankMatchRoom()&&this.setDeskExpUserLevelInfo()},dealNotifyDeskGameFinish:function(e){cc.log("GameLogicBase:dealNotifyDeskGameFinish \u6536\u5230\u672c\u684c\u6e38\u620f\u7ed3\u675f\u6d88\u606f"),this.tableUI.dealNotifyDeskGameFinish(e)},onGameInfoResp:function(e){this.gameStatus=e.popBYTE(),this.gameRules=e.popNCHAR(256),this.tableUI.updateRulesView(this.gameRules),this.isCheckPointRoom()&&(!this.curRequestCheckPointTime||(new Date).getTime()-this.curRequestCheckPointTime>3e3)&&(this.sendDeskCheckPointInfo(),this.curRequestCheckPointTime=(new Date).getTime()),this.isRankMatchRoom()&&(!this.curRequestRankMatchTime||(new Date).getTime()-this.curRequestRankMatchTime>3e3)&&(this.setDeskExpUserLevelInfo(),this.curRequestRankMatchTime=(new Date).getTime())},loginRoom:function(t,i,n){console.log("GameLogicBase:loginRoom ",t,i,n);var o=new(e("LoginRoomLogic")),a=RoomListManager.getRoomByRoomID(t),r=LobbySocket.getMyInfo(),s=globalThis.MatchManager.getCurCheckPointInfo().config[i-1];null!=s&&(r.money<s.cost?globalThis.createTips("\u91d1\u5e01\u4e0d\u8db3"):o.enterRoom(a,r.userID,r.userToken,i,n))},onGameStationResp:function(e){cc.log("in GameLogicBase:onGameStationResp \u6536\u5230GameStation\u6e38\u620f\u72b6\u6001\u6d88\u606f"),this.isGameStationReceived=!0;var t=RoomListManager.getRoomInfo().gameID;20161010!=t&&23510004!=t&&20161004!=t&&20173124!=t?(!this.curDealGameStationRespTime||(new Date).getTime()-this.curDealGameStationRespTime>2e3)&&(this.dealGameStationResp(e),this.curDealGameStationRespTime=(new Date).getTime()):this.dealGameStationResp(e)},onGameMessage:function(e){cc.log(e),this.isGameStationReceived?this.dealGameMessage(e):cc.log("\u6ca1\u6709\u6536\u5230gamestation\u4e4b\u524d\u4e0d\u80fd\u63a5\u6536\u6e38\u620f\u6d88\u606f \u6d88\u606f\u5b50id = %d",e.bAssistantID)},dealNotifyDeskBaseInfo:function(e){this.tableUI.showVipRoomInfo(e)},dealNotifyDeskDismissInfo:function(e){if(cc.log("+++++++++++++++++++++++++++++++++++++"),!this.isMeWatching()){var t=function(e){this.sendAnswerDismiss(e)}.bind(this);this.tableUI.createDismissRoomLayer(e,t)}},dealNotifyDeskDismissOK:function(e){if(e.bReqDismiss)if(e.isDismissMidway){var t=function(e){if("\u786e  \u5b9a"==e||"\u53d6  \u6d88"==e){var t=this.getGameCountInfo();cc.log(t);var i=t[0];cc.log(i),this.tableUI.showBuyRoomInfo(!1),this.tableUI.removeDismissRoomLayer(),this.tableUI.removeTuoGuanLayer(),this.sendLogoutRoom(),this.backLobby()}}.bind(this),i={};i.msg="\u73a9\u5bb6 "+e.name+" \u53d1\u8d77\u89e3\u6563\u6295\u7968\uff0c\u623f\u95f4\u5df2\u89e3\u6563",i.btn1="\u786e  \u5b9a",i.callbackFun=t,createMsgBox(i)}else this.tableUI.showBuyRoomInfo(!1),this.tableUI.removeDismissRoomLayer(),this.tableUI.removeTuoGuanLayer(),this.sendLogoutRoom(),this.backLobby()},dealNotifyRandomChangeSeat:function(e,t){this.tableUI.dealNotifyRandomChangeSeat(e,t)},dealNotifyTimeoutCannotOut:function(e){var t=function(e){if("\u786e  \u5b9a"==e||e==btnName2){var t=this.getGameCountInfo();cc.log(t);var i=t[0];cc.log(i),i<=0?this.backLobby():this.showAllResultUI(),this.tableUI.showBuyRoomInfo(!1),this.tableUI.removeDismissRoomLayer(),this.tableUI.removeTuoGuanLayer(),this.sendLogoutRoom(),this.backLobby()}}.bind(this),i={};i.msg=e,i.btn1="\u786e  \u5b9a",i.callbackFun=t,createMsgBox(i)},dealNotifyDeskDismissFailed:function(){this.tableUI.removeDismissRoomLayer(),createTips("\u7533\u8bf7\u89e3\u6563\u623f\u95f4\u5931\u8d25")},dealNotifyDeskTalk:function(e){console.log("GameLogicBase dealNotifyDeskTalk ",e.userID),this.getUserByID(e.userID)&&(console.log("GameLogicBase dealNotifyDeskTalk \u6709\u8fd9\u4e2a\u4eba\u54e6",e.userID),this.tableUI.showUserWords(this.getViewSeatByID(e.userID),e.words))},dealNotifyDeskVoice:function(e){this.tableUI.playVoiceH5(e.voiceID)},dealNotifyDeskGrade:function(e,t,i){this.updateUserMoney(e,t,i,null,!1,0)},dealNotifyDeskMoney:function(e,t,i,n,o,a){o||(o=E_ResourceType.GOLD),this.updateUserMoney(e,t,i,o,n,a)},dealNotifyDeskJewels:function(e,t){this.updateUserJewels(e,t)},dealNotifyDeskUserLeft:function(e,t,i){if(this.getMyID()==e.userID){this.isChangeTable&&(cc.log("this.isChangeTable = true"),this.removeAllDeskUser(),GameSocket.__removeAllDeskUser(),this.sendDeskUserInfo());var n=function(){this.backLobby()}.bind(this);E_ReasonKickout.REASON_KICKOUT_DEFAULT==i?(this.sendLogoutRoom(),createClickTips("\u60a8\u5df2\u88ab\u8bf7\u79bb\u6e38\u620f",n)):E_ReasonKickout.REASON_KICKOUT_STAND==i?(cc.log("REASON_KICKOUT_STAND"),this.isChangeTable||(this.sendLogoutRoom(),this.backLobby())):E_ReasonKickout.REASON_KICKOUT_NOTAGREE==i?(this.sendLogoutRoom(),createClickTips("\u7531\u4e8e\u60a8\u957f\u65f6\u95f4\u672a\u51c6\u5907\u88ab\u8bf7\u79bb\u6e38\u620f",n)):E_ReasonKickout.REASON_KICKOUT_STAND_MINLIMIT==i?(this.sendLogoutRoom(),createClickTips("\u60a8\u7684\u91d1\u5e01\u5df2\u4f4e\u4e8e\u623f\u95f4\u4e0b\u9650",n)):E_ReasonKickout.REASON_KICKOUT_STAND_MAXLIMIT==i?(this.sendLogoutRoom(),createClickTips("\u60a8\u7684\u91d1\u5e01\u5df2\u8d85\u51fa\u623f\u95f4\u4e0a\u9650",n)):E_ReasonKickout.REASON_KICKOUT_STAND_FIRECOIN_MINLIMIT==i?(this.sendLogoutRoom(),createClickTips("\u60a8\u7684\u4ff1\u4e50\u90e8\u706b\u5e01\u5df2\u4f4e\u4e8e\u623f\u95f4\u6700\u4f4e\u9650\u5236",n)):E_ReasonKickout.REASON_KICKOUT_STAND_FIRECOIN_MAXLIMIT==i?(this.sendLogoutRoom(),createClickTips("\u60a8\u7684\u4ff1\u4e50\u90e8\u706b\u5e01\u5df2\u9ad8\u4e8e\u623f\u95f4\u6700\u4f4e\u9650\u5236",n)):E_ReasonKickout.REASON_KICKOUT_LONG_TIME_NOOPERATION==i?(this.sendLogoutRoom(),createClickTips("\u7531\u4e8e\u60a8\u957f\u65f6\u95f4\u672a\u64cd\u4f5c\u88ab\u8bf7\u79bb\u6e38\u620f",n)):E_ReasonKickout.REASON_KICKOUT_BARRIERMATCH_FAIL==i?(this.sendLogoutRoom(),createClickTips("\u7531\u4e8e\u60a8\u95ef\u5173\u5931\u8d25\u88ab\u8bf7\u79bb\u6e38\u620f",n)):(this.sendLogoutRoom(),createClickTips("\u672a\u5b9a\u4e49\u7684reasonCode = "+i,n))}else GameSocket.isBRGame()||this.tableUI.removeUser(this.logicToViewSeatNo(t)),this.tableUI.onDeskUserCountChange()},dealNotifyDeskUserChangedeskstation:function(e){this.tableUI.removeUser(this.logicToViewSeatNo(e));var t=this.getUserByDeskStation(e);t&&t.userID==GameSocket.getMyInfo().userID&&(GameSocket.getMyInfo().userStatus=E_UserStatus.USER_STATUS_WATCH)},getLeftReadyTime:function(){return GameSocket.getLeftReadyTime()},setLeftReadyTime:function(e){GameSocket.setLeftReadyTime(e)},getCfgReadyTime:function(){return GameSocket.getCfgReadyTime()},dealNotifyDeskIsAuto:function(e){this.tableUI.updateUserTuoGuan(e)},dealNotifyDeskMagicExpress:function(e,t,i){var n=t.userID,o=e.userID;this.tableUI.playMagicExpress(o,n,i);var a=USER_MAGICEXPRESSCOSTDIAMON[i-1];if(0!=(a=parseInt(a+""))){var r=null;for(var s in this.tableUI.private_PlayerUiList){var c=this.tableUI.private_PlayerUiList[s];c&&c.user.userID==o&&(r=s)}if(null!=r){var l=this.tableUI.private_PlayerUiList[r];if(l){getFloatScore(l.node,-a);var u=this.getUserByID(o).money-a;this.getUserByID(o).money=u}}else{var h=this.tableUI.getGameViewOhtersNode();h&&(getFloatScore(h,-a),this.getUserByID(o).money=this.getUserByID(o).money-a)}}},dealNotifyDeskSitFull:function(){createTips("\u684c\u5b50\u5df2\u7ecf\u5750\u6ee1\u4e86")},dealNotifyDeskCanBegin:function(){this.tableUI.dealNotifyDeskCanBegin()},dealNotifyDeskCannotbegin:function(){this.tableUI.dealNotifyDeskCannotbegin()},dealNotifyRecharge:function(e){if(this.isVIPRoom()){var t=function(e){"\u79bb\u5f00\u6e38\u620f"==e&&this.sendStand()}.bind(this),i={};i.msg=string.format("\n\u60a8\u7684\u706b\u5e01\u6570\u4e0d\u8db3\uff0c\u8bf7\u8054\u7cfb\u4ff1\u4e50\u90e8\u7fa4\u4e3b\u5145\u503c\u706b\u5e01\uff0c\u81f3\u5c11\u5145\u503c"+e.needGold+"\u706b\u5e01\u540e\u624d\u53ef\u4ee5\u7ee7\u7eed\u6e38\u620f"),i.btn1="\u79bb\u5f00\u6e38\u620f",i.btn2="\u7ee7\u7eed\u6e38\u620f",i.callbackFun=t,createMsgBox(i)}else{var n=function(){this.sendStand()}.bind(this);this.tableUI.createBuyGoldLayer(e,n)}},dealNotifyDeskDissmissUserID:function(e){this.dissmissUserIDList=e}}).dealNotifyDeskDissmissUserID=function(e){this.dissmissUserIDList=e},i.dealNotifyERRMsg=function(e,t){if(!tableIsEmpty(E_NOTIFY_MSG_TYPE))for(var i in E_NOTIFY_MSG_TYPE)(e&E_NOTIFY_MSG_TYPE[i])==E_NOTIFY_MSG_TYPE[i]&&this.tableUI.dealNotifyERRMsg(E_NOTIFY_MSG_TYPE[i],t)},i.getDissmissUserIDList=function(e){e=e||G_WAR_RECORD_PLAYER_NUM;for(var t={},i=0;i<e;i++){var n=this.dissmissUserIDList[i];t[i]=n||0}return t},i.getGameRules=function(){return this.gameRules?this.gameRules:""},i.getDeskUserCount=function(){return GameSocket.getDeskUserCount()},i.onDeskUserCountChange=function(){this.tableUI&&this.tableUI.onDeskUserCountChange()},i.getDeskUserCountByUserList=function(){return null!=GameSocket.getDeskUserList()?GameSocket.getDeskUserList().length:0},i.getUserByIndex=function(e){for(var t=0;t<GameSocket.getDeskUserList().length;t++){var i=GameSocket.getDeskUserList()[t];if(t==e)return i}return null},i.makeChouMaDeskStation=function(){var e=this.getDeskUserCount(),t=Math.random()*e+1,i=this.getUserByIndex(t);return i?i.deskStation:0},i.backLobby=function(){E_ROOM_TYPE.GOLD,this.isBuyRoom()||this.isPrivateRoom()||this.isVIPRoom()?E_ROOM_TYPE.CARD:this.isGoldRoom()&&E_ROOM_TYPE.GOLD,LOOBBY_STATIC=!1,cc.director.loadScene("lobby"),LobbySocket.setTCPHeartCheckInterval(15)},i.dealGameStationResp=function(){},i.dealGameMessage=function(){},i.dealNotifyDeskGameYanCode=function(){},i.clearUI=function(){},i.changeTableClearUI=function(){},i.gameBeginClearUI=function(){},i.showAllResultUI=function(){this.backLobby()},i.onUpdateDeskUser=function(){},i.updateUserCount=function(){},i.StandUserinfor=function(){},i.setGameRuleInfo=function(){},i.isSitDown=function(){return!1},i.isPlayStatic=function(){return this.getGameStatus()==HZMJ_GameStation.GS_STATUS_PLAYING||!this.isMeReady()},i.onDestroy=function(){this.unscheduleAllCallbacks()},i)),cc._RF.pop()},{LoginRoomLogic:"LoginRoomLogic"}],GameManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"e6e2boucfZDlbhZSJdGdrlM","GameManager");var a=["1-50","5-100","10-200","20-500"],r=cc.Class({ctor:function(){this.gameID=-1,this.ui=null,this.logic=null},getRegistGameNameByGameID:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.id===e)return o.name}},getGamePicPathByGameID:function(e){for(var t in G_REGIST_GAME_LIST){var i=G_REGIST_GAME_LIST[t];if(i.id==e)return i.picName}return""},getGameSceneByGameID:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.id===e)return o.sceneName}},getGameIDByGameSceneName:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.sceneName===e)return o.id}},getGameIDByGameName:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.name===e)return o.id}},init:function(){this.gameID=-1,this.ui=null,this.logic=null},setGameInfo:function(e,t){this.init(),this.gameID=e,this.playInfo=t},setGame:function(){if(console.log(">>>>>>setGamesetGamesetGame"),this.ui&&this.logic){if(this.ui.initTableLogic(this.logic),this.playInfo);else{var e=RoomListManager.getRoomInfo().roomID,t=UserInfoManager.getMyInfo().checkPointsNum||0,i=UserInfoManager.getMyInfo().userID,n=UserInfoManager.getMyInfo().userToken,o=UserInfoManager.getMyInfo().costType||0;GameSocket.requestLoginRoom(e,i,n,t,o)}this.setUICallback(this.playInfo),this.setLogicCallback(this.playInfo)}},setUI:function(e,t){this.ui=e,this.setUICallback=t,this.setGame()},setLogic:function(e,t){this.logic=e,this.setLogicCallback=t,this.setGame()},runGame:function(){var e=this.getGameSceneByGameID(this.gameID);createLoading("\u6e38\u620f\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e..",80,!0),cc.director.loadScene(e)},getGameID:function(){return this.gameID},getGameTypeByGameID:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.id===e)return o.gameType}return null},getGamePathByGameID:function(e){for(var t,n=i(G_REGIST_GAME_LIST);!(t=n()).done;){var o=t.value;if(o.id===e)return o.path}return null},checkGameHotUpdate:function(){cc.log("\u68c0\u67e5\u6e38\u620f\u66f4\u65b0")},onGameUpdateSucceed:function(){GameSocket.__enterGame()},setBetButtonImage:function(){var e="",t="",i=GameSocket.getRoomInfo();if(i){var n=this.getGameTypeByGameID(i.gameID);n==E_GameType.DW?e="dw"+G_MULTI_NUM+"/":n==E_GameType.BR&&(e="br"+G_MULTI_NUM+"/"),t=i.level+"/"}console.log(e+">>>>>>>>roomInfo.level"+i.level),console.log(t+">>>>>>>>roomInfo.level"+i.level)},setBetImage:function(){var e=GameSocket.getRoomInfo();if(e){var t=this.getGameTypeByGameID(e.gameID);t==E_GameType.DW?string.format("dw%d/",G_MULTI_NUM):t==E_GameType.BR&&string.format("br%d/",G_MULTI_NUM),console.log("levelNamelevelNamelevelName"+e.level)}},getGameLogic:function(){return this.logic},getGameUI:function(){return this.ui},getGameTypeByJsonRule:function(e,t){var i=JSON.parse(t);return this.getGameTypeByPlayMode(e,i.gameIdx)},getGameTypeByPlayMode:function(){return"\u7ecf\u5178\u73a9\u6cd5"},getDifenByPlayType:function(e){return["10/20/30\n(5/10/15)","30/40/50\n(10/20/30)","30/50/70\n(10/20/30)","50/80/100\n(20/30/40)"][Number(e)-1]},getJiaoFenByPlayType:function(e){return["(\u70e7\u5206)","(\u7f34\u5206)"][Number(e)]},getMPointByJsonRule:function(e){return JSON.parse(e).mPoint||0},getBPointByJsonRule:function(e,t){var i=JSON.parse(t);return 30100108==e?a[i.betv]:i.bPoint||1},getLPointByJsonRule:function(e){return JSON.parse(e).lPoint||0},getCCSLByJsonRule:function(e){return JSON.parse(e).cCSL||0},getRoomTypeByJsonRule:function(e,t){return JSON.parse(t).roomType||1},getRoomListRsJsonRule:function(e){var t="";if(e){var i=JSON.parse(e);2==i.rs?t="\u4e8c\u4eba":3==i.rs?t="\u4e09\u4eba":4==i.rs&&(t="\u56db\u4eba")}return t},getRoomListTimeJsonRule:function(e){var t="";if(e){var i=JSON.parse(e);15==i.count||24==i.count||30==i.count||60==i.count?t=i.count+"\u5206\u949f":8!=i.count&&16!=i.count||(t=i.count+"\u5c40")}return t},getGameNameByGameID:function(e){var t="";return 20161004==e?t="\u8c61\u5c71":20211004==e&&(t="\u897f\u5468"),t},getRoomListTypeJsonRule:function(e){var t="";if(e){var i=JSON.parse(e);1==i.model||7==i.model?t="\u6e0510\u6df78":2==i.model||8==i.model?t="\u6e0512\u6df78":3==i.model||9==i.model?t="\u6e0512\u6df710":4==i.model||10==i.model?t="\u6e0514\u6df712":5==i.model||11==i.model?t="\u6e0516\u6df714":6!=i.model&&12!=i.model||(t="\u6e0518\u6df716")}return t}});t.exports=r,cc._RF.pop()},{}],GameProtocolId:[function(e,t){"use strict";cc._RF.push(t,"464c0BRJ4NH5riHcrw4rG62","GameProtocolId"),window.MSG_MAIN_LOADER_LOGON=500,window.MSG_ASS_LOADER_LOGON=1,window.MSG_ASS_LOADER_LOGOUT=2,window.MSG_ADD_LOADER_CHECK_LOGON=3,window.MSG_MAIN_LOADER_ACTION=501,window.MSG_ASS_LOADER_ACTION_SIT=1,window.MSG_ASS_LOADER_ACTION_STAND=2,window.MSG_ASS_LOADER_ACTION_MATCH_SIT=3,window.MSG_ASS_LOADER_GAME_BEGIN=5,window.MSG_ASS_LOADER_ACTION_CHANGE_DESKSTATION=8,window.MSG_ASS_LOADER_ACTION_STAND_AND_WATCH=9,window.MSG_MAIN_LOADER_FRAME=502,window.MSG_ASS_LOADER_DESK_INFO=1,window.MSG_ASS_LOADER_GAME_INFO=2,window.MSG_ASS_LOADER_GAME_STATION=3,window.MSG_ASS_LOADER_DESK_USERINFO=4,window.MSG_ASS_LOADER_DESK_ONE_USERINFO=5,window.MSG_ASS_LOADER_DESK_CHECKPOINT_INFO=6,window.MSG_MAIN_LOADER_GAME=503,window.MSG_ASS_LOADER_GAME_AGREE=1,window.MSG_ASS_LOADER_GAME_AUTO=2,window.MSG_ASS_LOADER_GAME_CANCEL_AUTO=3,window.MSG_ASS_LOADER_GAME_MAGICEXPRESS=4,window.MSG_ASS_LOADER_GAME_NOT_PROMPT=5,window.MSG_MAIN_LOADER_DESKDISSMISS=504,window.MSG_ASS_LOADER_REQ_DESKDISSMISS=1,window.MSG_ASS_LOADER_ANSWER_DESKDISMISS=2,window.MSG_MAIN_LOADER_NOTIFY=505,window.MSG_NTF_LOADER_DESK_GAMEBEGIN=1,window.MSG_NTF_LOADER_DESK_BASEINFO=2,window.MSG_NTF_LOADER_DESK_DISMISS_OK=3,window.MSG_NTF_LOADER_DESK_DISMISS_FAILED=4,window.MSG_NTF_LOADER_DESK_ALL_USERINFO=5,window.MSG_NTF_LOADER_DESK_DISSMISS_INFO=6,window.MSG_NTF_LOADER_DESK_TALK=7,window.MSG_NTF_LOADER_DESK_VOICE=8,window.MSG_NTF_LOADER_DESK_GAMEFINISH=9,window.MSG_NTF_LOADER_DESK_GRADE=10,window.MSG_NTF_LOADER_DESK_MONEY=11,window.MSG_NTF_LOADER_DESK_LEFT_WAITAGREE_TIME=12,window.MSG_NTF_LOADER_DESK_ISAUTO=13,window.MSG_NTF_LOADER_DESK_MAGICEXPRESS=14,window.MSG_NTF_LOADER_DESK_SITFULL=15,window.MSG_NTF_LOADER_DESK_CANBEGIN=16,window.MSG_NTF_LOADER_DESK_STOP_JOIN=17,window.MSG_NTF_LOADER_RECHARGE=18,window.MSG_NTF_LOADER_DESK_HUNDRED_ALL_USER=19,window.MSG_NTF_LOADER_DESK_DISMISS_USERID=20,window.MSG_NTF_LOADER_ERR_MSG=21,window.MSG_NTF_LOADER_DESK_JEWELS=22,window.MSG_NTF_LOADER_DESK_NO_USER=23,window.MSG_NTF_LOADER_DESK_MATCH_STATUS=24,window.MSG_NTF_LOADER_DESK_FINISH_MATCH=25,window.MSG_NTF_LOADER_MATCH_RANK=26,window.MSG_NTF_LOADER_DESK_MATCH_GRADE=27,window.MSG_NTF_LOADER_DESK_RANKMATCH_LEVEL=28,window.MSG_NTF_LOADER_DESK_USEREXP=29,window.MSG_NTF_LOADER_DESK_USER_CHECKPOINT=30,window.MSG_NTF_LOADER_DESK_USER_CHECKPOINT_END=31,window.MSG_NTF_LOADER_RANDOM_CHANGE_SEAT=36,window.MSG_NTF_LOADER_TIMEOUT_CANNOT_OUT=33,window.MSG_NTF_LOADER_DISCONNECT_TIMEOUT=34,window.MSG_NTF_LOADER_WILL_DISSOLVE_DESK=35,window.MSG_NTF_LOADER_DESK_CANNOTBEGIN=32,window.MSG_MAIN_LOADER_NOTIFY_USER=506,window.MSG_NTF_LOADER_DESK_USER_INFO=1,window.MSG_NTF_LOADER_DESK_USER_SIT=2,window.MSG_NTF_LOADER_DESK_USER_AGREE=3,window.MSG_NTF_LOADER_DESK_USER_LEFT=4,window.MSG_NTF_LOADER_DESK_USER_OFFLINE=5,window.MSG_NTF_LOADER_DESK_USER_CHANGEDESKSTATION=8,window.MSG_NTF_LOADER_DESK_USER_STANDANDWATCH=9,window.MSG_NTF_LOADER_DESK_USER_LOGONOROUTROOM=10,window.MSG_NTF_LOADER_DESK_USER_IS_TOURIST=11,window.MSG_MAIN_LOADER_VOICEANDTALK=507,window.MSG_ASS_LOADER_TALK=1,window.MSG_ASS_LOADER_VOICE=2,window.MSG_MAIN_LOADER_RESOURCE_CHANGE=508,window.MSG_MAIN_LOADER_MATCH=509,window.MSG_ASS_LOADER_MATCH_ALL_DESK_DATA=1,window.MSG_ASS_LOADER_MATCH_ENTER_WATCH_DESK=2,window.MSG_ASS_LOADER_MATCH_QUIT_WATCH_DESK=3,window.MSG_ASS_LOADER_MATCH_RANK=4,window.MGS_ASS_LOADER_GET_RANK=5,window.MSG_ASS_LOADER_REVIVE_USER=6,window.MSG_MAIN_LOADER_VCODE=1e3,window.MSG_ASS_LOADER_DESK_VCODE_RET=1,window.MSG_ASS_LOADER_DESK_GET_VCODE_REC=2,window.MSG_ASS_LOADER_DESK_GET_VCODE_REC_USER=3,window.MSG_NTF_LOADER_DESK_VCODE=4,cc._RF.pop()},{}],GameRecordLogic:[function(e,t){"use strict";cc._RF.push(t,"e6f54b3YnNPgJlcmyr8oUxH","GameRecordLogic");var i="record";cc.Class({extends:e("LogicBasis"),_Resolve_OneGradeSimpleInfo:function(e){var t={};return t.id=e.popINT(),t.deskPasswd=e.popINT(),t.time=e.popINT(),t.gameCount=e.popINT(),t.maxGameCount=e.popINT(),t.score=e.popINT(),t.gameRules=e.readString(256),t},requestSimpleGradeList:function(e,t,n){n=n||0,GameRecordManager.getSimpleGradeList(e).length>0&&0==n&&GameRecordManager.clearSimpleGradeList(e);var o={};o.params={api:i,action:"simpleGradeList",userID:this.getUserID(),gameID:e},o.fCallback=function(){createTips("\u8bf7\u6c42simpleGradeList\u8d85\u65f6")},o.sCallback=function(i){if(0==i.status){var n=i.data;n.sort(function(e,t){return e.time-t.time}),GameRecordManager.pushSimpleGradeList(e,n),t&&t(GameRecordManager.getSimpleGradeList(e))}else createTips(i.msg)},MyHttpRequest.doRequest(o)},requestGradeList:function(e,t,n){var o=GameRecordManager.getGradeList(e,t);if(!tableIsEmpty(o))return cc.log("\u5b58\u5728\u7f13\u5b58\u6570\u636e",GameRecordManager.getGradeList(e,t)),void n(o);var a={};a.params={api:i,action:"gradeList",gradeID:t,userID:this.getUserID()},a.fCallback=function(){createTips("\u8bf7\u6c42gradeList\u8d85\u65f6")},a.sCallback=function(i){if(0==i.status){var o=i.data;o.sort(function(e,t){return e.time-t.time}),GameRecordManager.pushGradeList(e,t,o),n(GameRecordManager.getGradeList(e,t))}else createTips(i.msg)},a.requestDesc="\u6839\u636e\u6218\u7ee9ID\u83b7\u53d6\u5355\u5c40\u6218\u7ee9\u5217\u8868...",MyHttpRequest.doRequest(a)},requestSimpleGradeInfo:function(e,t,n){var o=GameRecordManager.getSimpleGradeInfo(e);if(null!=o)return n(o);var a={};a.params={api:i,action:"simpleGradeInfo",gradeID:t},a.fCallback=function(){createTips("\u8bf7\u6c42simpleGradeInfo\u8d85\u65f6")},a.sCallback=function(i){if(0==i.status){var o=tools.getSplitData(i.data.userInfoList,["userID","score"]);GameRecordManager.pushSimpleGradeInfo(e,t,o),n(o)}else createTips(i.msg)},a.requestDesc="\u83b7\u53d6\u5927\u7ed3\u7b97\u6218\u7ee9\u8be6\u60c5...",MyHttpRequest.doRequest(a)},requestGradeInfo:function(e,t,n,o){var a=GameRecordManager.getGradeInfo(e,t,n);if(!tableIsEmpty(a))return cc.log("\u5b58\u5728\u7f13\u5b58\u6570\u636e"),void o(a);var r={};r.params={api:i,action:"gradeInfo",gradeID:n},r.fCallback=function(){cc.log("\u8bf7\u6c42gradeInfo\u8d85\u65f6")},r.sCallback=function(i){if(0==i.status){var a=tools.getSplitData(i.data.userInfoList,["userID","score"]);GameRecordManager.pushGradeInfo(e,t,n,i.data),o&&(a=GameRecordManager.getGradeInfo(e,t,n),o(a))}else createTips(i.msg)},r.requestDesc="\u83b7\u53d6\u5c0f\u7ed3\u7b97\u6218\u7ee9\u8be6\u60c5...",MyHttpRequest.doRequest(r)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],GameRecordManager:[function(e,t){"use strict";cc._RF.push(t,"04edf5qv6VFJI45cGgCjers","GameRecordManager"),t.exports=cc.Class({ctor:function(){this.simpleGradeList={},this.maxSimpleGradeCount=30},pushSimpleGradeList:function(e,t){var i=this;t.forEach(function(t){i.addSimpleGrade(e,t)})},addSimpleGrade:function(e,t){this.simpleGradeList[e]||(this.simpleGradeList[e]=[]),this.simpleGradeList[e].forEach(function(e){e.id,t.id}),this.simpleGradeList[e].push(t)},getSimpleGradeList:function(e){var t=this.simpleGradeList[e];return t?(t.sort(function(e,t){return e.time>t.time?-1:1}),t):[]},getSimpleGradeListTime:function(e){var t=this.simpleGradeList[e];return 0==t.length?0:t.length>=this.maxSimpleGradeCount?0:(t.sort(function(e,t){return e>t?-1:1}),t[t.length].time)},getSimpleGradeInfo:function(e,t){for(var i in this.simpleGradeList[e])if(this.simpleGradeList[e][i].id==t)return this.simpleGradeList[e][i]},pushSimpleGradeInfo:function(e,t,i){this.simpleGradeList[e].forEach(function(e){e.id==t&&(e.simpleGradeInfo=i)})},getGradeList:function(e,t){for(var i in this.simpleGradeList[e])if(cc.log("---------getGradeList:",this.simpleGradeList[e][i]),this.simpleGradeList[e][i].id==t){var n=this.simpleGradeList[e][i].gradeList;return tableIsEmpty(n)||n.sort(function(e,t){return e.time<t.time}),n}return null},pushGradeList:function(e,t,i){for(var n in this.simpleGradeList[e])if(this.simpleGradeList[e][n].id==t){this.simpleGradeList[e][n].gradeList=i;break}},getGradeInfo:function(e,t,i){for(var n in this.simpleGradeList[e])if(this.simpleGradeList[e][n].id==t){for(var o in this.simpleGradeList[e][n].gradeList)if(this.simpleGradeList[e][n].gradeList[o].gradeID==i)return this.simpleGradeList[e][n].gradeList[o].gradeInfo;break}return null},pushGradeInfo:function(e,t,i,n){for(var o in this.simpleGradeList[e])if(this.simpleGradeList[e][o].id==t){for(var a in this.simpleGradeList[e][o].gradeList)if(this.simpleGradeList[e][o].gradeList[a].gradeID==i){this.simpleGradeList[e][o].gradeList[a].gradeInfo=n,"string"==typeof n.userInfoList&&(this.simpleGradeList[e][o].gradeList[a].gradeInfo.userInfoList=tools.getSplitData(n.userInfoList,["userID","score"]));break}break}},clearSimpleGradeList:function(e){this.simpleGradeList[e]=[]},requestReplayPlayInfo:function(e,t,i){var n={};n.url="http://cdn.tutenggame.com/back/"+e+"/"+t+".json",n.params={},n.sCallback=function(e){i&&i(e)},n.fCallback=function(){i(null)},n.responseType=E_REQUEST_TYPE.GET,MyHttpRequest.doRequest(n)},requestReplayPlayInfoByGameList:function(e,t,i){var n=this,o=1,a=e[o];n.requestReplayPlayInfo(a,t,function r(s){s?i(s):e.length==o?i(s):(a=e[o+=1],n.requestReplayPlayInfo(a,t,r))})}}),cc._RF.pop()},{}],GameRuletLayer:[function(e,t){"use strict";cc._RF.push(t,"4554bTqUVZCT4kPwJfTFCmV","GameRuletLayer"),cc.Class({extends:e("BaseLayer"),properties:{btn_gameCensus:cc.Button,btn_gameRules:cc.Button,LayoutgameCensus:cc.Node,LayoutgameRules:cc.Node,Text_GameRules:cc.Label,Node_GameRules:[cc.Node]},onLoad:function(){this.init(2),1==this.m_type?(this.btn_gameCensus.interactable=!1,this.btn_gameRules.interactable=!0,this.LayoutgameCensus.active=!0,this.LayoutgameRules.active=!1):(this.btn_gameCensus.interactable=!0,this.btn_gameRules.interactable=!1,this.LayoutgameCensus.active=!1,this.LayoutgameRules.active=!0)},init:function(e){this.m_type=e;var t=RoomListManager.getCurRuleInfo();""!=t&&(JSON.parse(t),this.Text_GameRules.getComponent(cc.Label).string="\u73a9\u6cd5\u89c4\u5219\uff01")},doButton_Event:function(e,t){switch(t){case"btn_gameCensus":this.btn_gameCensus.interactable=!1,this.btn_gameRules.interactable=!0,this.LayoutgameCensus.active=!0,this.LayoutgameRules.active=!1;break;case"btn_GameRules":this.btn_gameCensus.interactable=!0,this.btn_gameRules.interactable=!1,this.LayoutgameCensus.active=!1,this.LayoutgameRules.active=!0}},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameScenceRulesLayer:[function(e,t){"use strict";cc._RF.push(t,"b55f1tfLZxFfauM+Wb1+CJW","GameScenceRulesLayer"),cc.Class({extends:e("BaseLayer"),properties:{gameRuleSprite:cc.Sprite},init:function(e){var t=this;cc.loader.loadRes("lobby/ui/GameRule/Rule/"+e,cc.SpriteFrame,function(i,n){i?cc.log("\u6ca1\u6709\u627e\u5230\u5f53\u524d\u7684\u5b50\u6e38\u620f\u89c4\u5219\u56fe",e):t.gameRuleSprite.spriteFrame=n})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameSetLayer:[function(e,t){"use strict";cc._RF.push(t,"6b3ecMRTm1OeJ/d2IeSvgtr","GameSetLayer"),cc.Class({extends:e("BaseLayer"),properties:{outCard_Node:[cc.Node],soundType_Node:[cc.Node],tingcard_Node:[cc.Node],cardcolor_Node:[cc.Node],gameback_Node:[cc.Node]},onEnable:function(){var t=Number(cc.sys.localStorage.getItem(G_OUTCARD_SOUND)||2),i=Number(cc.sys.localStorage.getItem(G_SOUND_TYPE)||3);3==i&&(i=1==(new(e("LobbyLogic"))).getMyInfo().sex?0:1);var n=Number(cc.sys.localStorage.getItem(G_TING_CARD)||0),o=Number(cc.sys.localStorage.getItem(G_CARD_COLOR)||0),a=Number(cc.sys.localStorage.getItem(G_GAME_BACK)||0);this.outCard_Node[t]&&(this.outCard_Node[t].getComponent(cc.Toggle).isChecked=!0),this.soundType_Node[i]&&(this.soundType_Node[i].getComponent(cc.Toggle).isChecked=!0),this.tingcard_Node[n]&&(this.tingcard_Node[n].getComponent(cc.Toggle).isChecked=!0),this.cardcolor_Node[o]&&(this.cardcolor_Node[o].getComponent(cc.Toggle).isChecked=!0),this.gameback_Node[a]&&(this.gameback_Node[a].getComponent(cc.Toggle).isChecked=!0)},init:function(e,t){this._callback=e,this._GameViewBase=t},doButtonClick:function(e,t){if(e.isChecked)switch(t){case"outCard_1":cc.sys.localStorage.setItem(G_OUTCARD_SOUND,2);break;case"outCard_2":cc.sys.localStorage.setItem(G_OUTCARD_SOUND,1);break;case"Sound_1":cc.sys.localStorage.setItem(G_SOUND_TYPE,0);break;case"Sound_2":cc.sys.localStorage.setItem(G_SOUND_TYPE,1);break;case"tingCard_1":cc.sys.localStorage.setItem(G_TING_CARD,0);break;case"tingCard_2":cc.sys.localStorage.setItem(G_TING_CARD,1);break;case"Card_1":cc.sys.localStorage.setItem(G_CARD_COLOR,0);break;case"Card_2":cc.sys.localStorage.setItem(G_CARD_COLOR,1);break;case"bg_1":this._callback&&this._callback(0),cc.sys.localStorage.setItem(G_GAME_BACK,0);break;case"bg_2":this._callback&&this._callback(1),cc.sys.localStorage.setItem(G_GAME_BACK,1);break;case"bg_3":this._callback&&this._callback(2),cc.sys.localStorage.setItem(G_GAME_BACK,2);break;case"bg_4":this._callback&&this._callback(3),cc.sys.localStorage.setItem(G_GAME_BACK,3)}},doButtonCloseClick:function(){this.removeLayer()},removeLayer:function(){this.node.parent=null}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],GameSettingLayer:[function(e,t){"use strict";cc._RF.push(t,"75f510XzjFGKo60lff/kh3c","GameSettingLayer");var i=["Button_Show"],n={};for(var o in i)n[i[o]]=o+100;var a=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u6e38\u620f\u6258\u7ba1",picName:"btn_tuo",funKey:7},{name:"\u79bb\u5f00\u623f\u95f4",picName:"btn_exit",funKey:1}],r=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u79bb\u5f00\u623f\u95f4",picName:"btn_exit",funKey:1}],s=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u79bb\u5f00\u623f\u95f4",picName:"btn_exit",funKey:1}],c=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u6e38\u620f\u6258\u7ba1",picName:"btn_tuo",funKey:7}],l=[{name:"\u8fd4\u56de\u5927\u5385",picName:"btn_exit",funKey:1},{name:"\u7ad9\u8d77\u56f4\u89c2",picName:"btn_setup",funKey:2},{name:"\u6e38\u620f\u89c4\u5219",picName:"btn_rule",funKey:3},{name:"\u4e0a\u62a5\u9519\u8bef",picName:"btn_error",funKey:4},{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u89e3\u6563\u623f\u95f4",picName:"btn_dismiss",funKey:6}],u=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u6e38\u620f\u73a9\u6cd5",picName:"btn_wanfa",funKey:8},{name:"\u6e38\u620f\u6258\u7ba1",picName:"btn_tuo",funKey:7},{name:"\u89e3\u6563\u623f\u95f4",picName:"btn_dismiss",funKey:6},{name:"\u79bb\u5f00\u623f\u95f4",picName:"btn_exit",funKey:1}],h=[{name:"\u6e38\u620f\u8bbe\u7f6e",picName:"btn_set",funKey:5},{name:"\u6e38\u620f\u6258\u7ba1",picName:"btn_tuo",funKey:7},{name:"\u89e3\u6563\u623f\u95f4",picName:"btn_dismiss",funKey:6},{name:"\u79bb\u5f00\u623f\u95f4",picName:"btn_exit",funKey:1}];cc.Class({extends:e("BaseLayer"),properties:{gameSettingTab:cc.Prefab,btn_exit:cc.SpriteFrame,btn_tuo:cc.SpriteFrame,btn_setup:cc.SpriteFrame,btn_rule:cc.SpriteFrame,btn_error:cc.SpriteFrame,btn_set:cc.SpriteFrame,btn_dismiss:cc.SpriteFrame},onLoad:function(){},init:function(e,t,i,n){this._delegete=e,this._roomType=t,this._isCanTuoGuan=i,this._showBtnRes=n,this.isShow=null,this.studio={Layer:null,Image_Bg_Main:null,ListView_Set:null,Panel_Set:null,Button_Show:null,btn_close:null},this.initUI()},initUI:function(){this.initStudioUI(),this.initUIEventListener(),this.initUIData()},initStudioUI:function(){var e=this.node.getChildByName("rotate");if(e)return this.studio.Image_Bg_Main=e.getChildByName("Image_Bg_Main"),this.studio.Button_Show=e.getChildByName("Button_Show"),this.studio.btn_close=e.getChildByName("btn_close"),void(this.studio.ListView_Set=this.studio.Image_Bg_Main.getChildByName("ListView_Set"));this.studio.Image_Bg_Main=this.node.getChildByName("Image_Bg_Main"),this.studio.Button_Show=this.node.getChildByName("Button_Show"),this.studio.btn_close=this.node.getChildByName("btn_close"),this.studio.bg=this.studio.Image_Bg_Main.getChildByName("bg"),this.studio.ListView_Set=this.studio.Image_Bg_Main.getChildByName("ListView_Set")},initUIEventListener:function(){var e=function(e){var t=e.target.name;this.playClickEffect(),"Button_Show"==t?this.doButtonShowClick(e):cc.log(tools.stringFormat("\u672a\u5b9a\u4e49\u7684TAG = {0}",t))}.bind(this);for(var t in n)this.studio[t].on("touchend",e)},initUIData:function(){this.setShowUI(!1),this.initSetListView()},setShowUI:function(e,t){this.isShow=e,this.isShow?(this.studio.btn_close.active=!0,this.studio.Button_Show.getComponent(cc.Button).interactable=!1,this.studio.Image_Bg_Main.active=!0,this.Button_Setup&&this.Imge_Item&&(this._delegete.isPlayStatic()?(this.Button_Setup.active=!1,this.Imge_Item.active=!0):(this.Button_Setup.active=!0,this.Imge_Item.active=!1))):(this.studio.Button_Show.getComponent(cc.Button).interactable=!0,this.studio.Image_Bg_Main.active=!1,this.studio.btn_close.active=!1),t&&t.stopPropagation(),this._showBtnRes&&this.studio.Button_Show.getComponent(cc.Button).loadTextures(this._showBtnRes.down,"",this._showBtnRes.up)},initSetListView:function(e){void 0===e&&(e=!0);var t=function(e,t,i,n){this.setShowUI(!1),5==n.funKey?this._delegete.setBtnTouchEnded():6==n.funKey?this._delegete.dismissBtnTouchEnded():1==n.funKey?this._delegete.exitBtnTouchEnded():2==n.funKey?this._delegete.StandandWatchtBtnTouchEnded():7==n.funKey?this._delegete.tuoBtnTouchEnded():8==n.funKey?this._delegete.wanfaBtnTouchEnded():3==n.funKey?this._delegete.RulesBtnTouchEnded():4==n.funKey?this._delegete.setBtnTouchFeedLayer():cc.log("\u672a\u5b9a\u4e49\u7684\u65b9\u6cd5 funKey = {0} ",n.funKey)}.bind(this),i=function(e,i,n,o){var a=this[n.picName],r=function(a){this.playClickEffect(),t(a,e,i,n,o)}.bind(this),s=i.getChildByName("Button_Item");a&&(s.getComponent(cc.Sprite).spriteFrame=a),s.on("touchend",r),2==n.funKey&&(this.Button_Setup=s,this.Imge_Item=i.getChildByName("img"))}.bind(this),n=a;if(this._isCanTuoGuan){this._roomType==E_ROOM_TYPE.GOLD?(n=r,this._isCanTuoGuan.gold):this._roomType==E_ROOM_TYPE.BARRIERMATCH?(n=s,this._isCanTuoGuan.barriermatch):this._roomType==E_ROOM_TYPE.REALMATCH?(n=c,this._isCanTuoGuan.match):this._roomType==E_ROOM_TYPE.CARD?(n=l,this._isCanTuoGuan.card):this._roomType==E_ROOM_TYPE.PRIVATE?(n=u,this._isCanTuoGuan.private):this._roomType==E_ROOM_TYPE.MATCH&&(n=h,this._isCanTuoGuan.match);var o=[];F_InitListView(0==o.length?n:o,i,this.studio.ListView_Set,this.gameSettingTab,1)}},doButtonShowClick:function(e){this.setShowUI(!this.isShow,e)},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},IsonTouchEnded:function(){this.isShow&&this.setShowUI(!1)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameSettingTab:[function(e,t){"use strict";cc._RF.push(t,"e6963JO1aBKHbWbwmI8WYPm","GameSettingTab"),cc.Class({extends:cc.Component,properties:{},init:function(){},onLoad:function(){this.button=this.node.getComponet(cc.Button),this.sprite=this.node.getComponet(cc.Sprite)}}),cc._RF.pop()},{}],GameSocket:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"37ad7fdRctBQ5F041Vz65yq","GameSocket");var a=cc.Class({extends:e("TcpClient"),ctor:function(){this.name="GameSocket",this._connectResult=null,this._deskUserList=[],this.deskInfo=null},clear:function(){this._super(),this._connectResult=null,this._deskUserList=[],this.deskInfo=null,this.removeAllNetCallback()},connectService:function(e){this._connectResult=e;var t=G_IS_LOADER_STATIC_DATA?NetConfig.getAgentServer():this.getRoomInfo().ip,i=NetConfig.getServerPort(),n=this.getRoomInfo().port;t=NetConfig.getAgentServer(),this._super(t,i,n,this.CGameSocket_onSocketMsg.bind(this))},onConnectSuccess:function(){this._super()},onConnectFailed:function(){this.super(),this._connectResult&&(removeLoading(),createTips(GlobalError.getErrorStr(GlobalError.ERROR_GAME_CONNECT_FAILED)),this._connectResult(!1),this._connectResult=null)},onDisconnect:function(){var e=cc.director.getScene();createRepeatConnectLayer(e)},onConnectMessage:function(e){this._super(e),this._connectResult&&(this._connectResult(!0),this._connectResult=null)},__updateDeskUser:function(e){console.log("_updateDeskUser ");var t=this._deskUserList.length;void 0===t?console.log("\u65e0 "):console.log("\u6709 "),console.log("__updateDeskUser "+t);for(var i=0;i<this._deskUserList.length;i++)if(this._deskUserList[i].userID==e.userID)return void(this._deskUserList[i]=e);this._deskUserList.push(e),this.getGameLogic()&&this.getGameLogic().updateUserCount()},__removeDeskUser:function(e){for(var t=this._deskUserList.length-1;t>=0;t--)if(this._deskUserList[t].userID==e){this.__setDeskUserList[t]=null,console.log(JSON.stringify(this._deskUserList[t])+">>>\u7528\u6237\u6570\u636e\u8fdb\u884c\u79fb\u9664"+this._deskUserList[t].userID+">>>"+t),this._deskUserList.splice(t,1);break}this.getGameLogic()&&this.getGameLogic().updateUserCount()},__removeAllDeskUser:function(){this._deskUserList=[]},getUserByID:function(e){for(var t=0;t<this._deskUserList.length;t++){var i=this._deskUserList[t];if(e==i.userID)return i}return null},makeAllUserDirty:function(){for(var e=0;e<this._deskUserList.length;e++){var t=this._deskUserList[e];this.makeUserDirty(t.userID)}},makeUserDirty:function(e){for(var t=0;t<this._deskUserList.length;t++)if(e===this._deskUserList[t].userID){this._deskUserList[t].isNotAll=!0;break}},isBuyRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.CARD},isGoldRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.GOLD},isTableRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.TABLE},isPrivateRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.PRIVATE},isMatchRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.REALMATCH},isBarrierMatchRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.BARRIERMATCH},isRankMatchRoom:function(){return this.getRoomInfo().sort==E_ROOM_SORT.RANKMATCH},isCheckPointRoom:function(){return this.getRoomInfo().sort==E_ROOM_SORT.CHECKPOINTMATCH},isVIPRoom:function(){return this.getRoomInfo().type==E_ROOM_TYPE.MATCH},isBRGame:function(){return GameListManager.isBRGame(this.getRoomInfo().gameID)},isRoom:function(){return this.isBuyRoom()||this.isPrivateRoom()||this.isVIPRoom()},getGameLogic:function(){return GameManager.getGameLogic()},getMyInfo:function(){return UserInfoManager.getMyInfo()},getRoomInfo:function(){return RoomListManager.getRoomInfo()},getDeskUserCount:function(){return this._deskUserList?this._deskUserList.length:0},getDeskUserList:function(){return this._deskUserList},getDeskInfo:function(){return this.deskInfo},__setDeskUserList:function(e){this._deskUserList=[].concat(e)},__enterGame:function(){cc.log(RoomListManager.getRoomInfo()),GameManager.setGameInfo(RoomListManager.getRoomInfo().gameID),GameManager.runGame()},requestLoginRoom:function(e,t,i,n,o){cc.log(tools.getCurTime()+" requestLoginRoom roomID:"+e+" checkPointsNum:"+n+" costType:"+o);var a=this.createNetMsg(9,MSG_MAIN_LOADER_LOGON,MSG_ASS_LOADER_LOGON);a.pushINT(e),a.pushINT(n),a.pushBYTE(o||0),this.sendData(a)},sendData:function(e,t,i){LobbySocket.send(e,t,i)},requestLogoutRoom:function(e){var t=this.createNetMsg(0,MSG_MAIN_LOADER_LOGON,MSG_ASS_LOADER_LOGOUT);this.sendData(t,e)},requestLogoutRoom1:function(e){var t=this.createNetMsg(0,MSG_MAIN_LOADER_LOGON,MSG_ADD_LOADER_LOGOUT);this.sendData(t,e)},requestRoomSit:function(e){e=e;var t=this.createNetMsg(1,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_SIT);t.pushBYTE(e),console.log("\u5750\u4e0b\u547d\u4ee4\u4e86MSG_MAIN_LOADER_ACTION = "+MSG_MAIN_LOADER_ACTION+"   MSG_ASS_LOADER_ACTION_SIT ="+MSG_ASS_LOADER_ACTION_SIT),this.sendData(t)},requestCreaterDesk:function(e){var t=this.createNetMsg(1,MSG_MAIN_LOADER_ACTION,10);t.pushBYTE(1),this.sendData(t,function(t){G_HANDLE_CODE_OK==t.bHandleCode&&e&&e()})},requestActionChange:function(e){var t=this.createNetMsg(1,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_CHANGE_DESKSTATION);t.pushBYTE(e),this.sendData(t)},requestQuickSit:function(){var e=this.createNetMsg(4,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_MATCH_SIT);e.pushINT(-1),this.sendData(e)},requestChangeDesk:function(e){var t=this.createNetMsg(4,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_MATCH_SIT);t.pushINT(e),this.sendData(t)},requestStand:function(){cc.log("GameSocket:requestStand()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_STAND);this.sendData(e)},requestStandandWatch:function(){cc.log("GameSocket:requestStandandWatch()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_ACTION_STAND_AND_WATCH);this.sendData(e)},requestDeskInfo:function(){console.log(tools.getCurTime()+" GameSocket requestDeskInfo");var e=this.createNetMsg(0,MSG_MAIN_LOADER_FRAME,MSG_ASS_LOADER_DESK_INFO);this.sendData(e)},requestGameInfo:function(){console.log(tools.getCurTime()+" GameSocket requestGameInfo");var e=this.createNetMsg(0,MSG_MAIN_LOADER_FRAME,MSG_ASS_LOADER_GAME_INFO);this.sendData(e)},requestDeskUserInfo:function(){console.log(tools.getCurTime()+" GameSocket requestDeskUserInfo");var e=this.createNetMsg(0,MSG_MAIN_LOADER_FRAME,MSG_ASS_LOADER_DESK_USERINFO);this.sendData(e)},requestDeskOneUserInfo:function(e,t){var i=this;cc.log("GameSocket:requestDeskOneUserInfo()");var n=this.createNetMsg(1,MSG_MAIN_LOADER_FRAME,MSG_ASS_LOADER_DESK_ONE_USERINFO);n.pushBYTE(e),this.sendData(n,function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var n=i._Resolve_UserSimpleInfo(e);i.__updateDeskUser(n),t?t(n):i.getGameLogic()&&i.getGameLogic().updateDeskUser(n)}})},requestDeskCheckPointInfo:function(){cc.log("GameSocket:requestCheckPointInfo()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_FRAME,MSG_ASS_LOADER_DESK_CHECKPOINT_INFO);this.sendData(e)},requestAgreeGame:function(){cc.log("GameSocket:requestAgreeGame()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_GAME,MSG_ASS_LOADER_GAME_AGREE);this.sendData(e)},requestGameNotPrompt:function(e){cc.log("GameSocket:requestGameNotPrompt()");var t=this.createNetMsg(4,MSG_MAIN_LOADER_GAME,5);t.pushINT(e),this.sendData(t)},requestAuto:function(){cc.log("GameSocket:requestAuto()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_GAME,MSG_ASS_LOADER_GAME_AUTO);this.sendData(e)},requestCancelAuto:function(){cc.log("GameSocket:requestCancelAuto()");var e=this.createNetMsg(0,MSG_MAIN_LOADER_GAME,MSG_ASS_LOADER_GAME_CANCEL_AUTO);this.sendData(e)},requestMagicExpress:function(e,t){cc.log("requestMagicExpress");var i=this.createNetMsg(8,MSG_MAIN_LOADER_GAME,MSG_ASS_LOADER_GAME_MAGICEXPRESS);i.pushINT(e),i.pushINT(t),this.sendData(i)},requestDismissRoom:function(){var e=this.createNetMsg(0,MSG_MAIN_LOADER_DESKDISSMISS,MSG_ASS_LOADER_REQ_DESKDISSMISS);this.sendData(e)},requestAnswerDismiss:function(e){var t=this.createNetMsg(1,MSG_MAIN_LOADER_DESKDISSMISS,MSG_ASS_LOADER_ANSWER_DESKDISMISS);t.pushBOOL(e),this.sendData(t)},requestVoive:function(e){cc.log("GameSocket:requestVoive()");var t=this.createNetMsg(64,MSG_MAIN_LOADER_VOICEANDTALK,MSG_ASS_LOADER_VOICE);t.pushNCHAR(e,64),this.sendData(t)},requestTalk:function(e){cc.log("requestTalk");var t=3*e.length;if(0!=t){var i=this.createNetMsg(t+4,MSG_MAIN_LOADER_VOICEANDTALK,MSG_ASS_LOADER_TALK);i.pushINT(t),i.pushNCHAR(e,t),this.sendData(i)}},requestTalkImg:function(e){cc.log("requestTalkImg");var t=e.length;if(0!=t){var i=this.createNetMsg(t+4,MSG_MAIN_LOADER_VOICEANDTALK,MSG_ASS_LOADER_TALK);i.pushINT(t),i.pushNCHAR(e,t),this.sendData(i)}},requestStart:function(){cc.log("GameSocket:requestStart");var e=this.createNetMsg(0,MSG_MAIN_LOADER_ACTION,MSG_ASS_LOADER_GAME_BEGIN);this.sendData(e)},onLoginMessage:function(e){if(e.bAssistantID===MSG_ASS_LOADER_LOGON){var t=function(e){var t={};return t.deskIdx=e.readInt(),t.deskPasswdLen=e.readInt(),t.deskPasswd=e.readString(20),t.isInDesk=e.readBoolean(),t.roomID=e.readInt(),t.userStatus=e.readInt(),t.gameRules=e.readString(256),t}.bind(this);if(e.bHandleCode===G_HANDLE_CODE_OK){var i=t(e);RoomListManager.setCurRuleInfo(i.gameRules),this.getMyInfo().userStatus=i.userStatus,i.isInDesk||(this.isGoldRoom()||this.isBarrierMatchRoom())&&this.requestQuickSit(),this.getGameLogic().setGameRuleInfo(),GameManager.ui.onConnectSuccess()}else e.bHandleCode===GlobalError.ERROR_ROOM_EXISTING?(this.requestLogoutRoom(),this.clear()):GlobalError.ERROR_MATCH_OVER==e.bHandleCode||GlobalError.ERROR_RANKMATCH_OVER==e.bHandleCode?LobbySocket.onDisconnect():(this.requestLogoutRoom(),this.clear())}},_Resolve_UserSimpleInfo:function(e){var t={};return t.userID=e.readInt(),t.name=e.readString(MAX_USER_NAME_LEN),t.headURL=e.readString(256),t.isOnline=e.readBoolean(),t.deskStation=e.readByte(),t.userStatus=e.readInt(),t.score=e.readInt(),t.deskIdx=e.readInt(),t.money=e.readInt64(),t.longitude=e.readString(12),t.latitude=e.readString(12),t.address=e.readString(64),t.logonIP=e.readString(24),t.sex=e.readByte(),t.isAuto=e.readBoolean(),t.jewels=e.popINT(),t.motto=e.readString(128),t.giftCard=e.readInt64(),t},_Resolve_HundredGameUserSimpleInfo:function(e){var t={};return t.userID=e.popINT(),t.isOnline=e.popBOOL(),t.deskStation=e.popBYTE(),t.userStatus=e.popINT(),t.money=e.popLONGLONG(),t.isAuto=e.popBOOL(),t.name="",t.headURL="aa",t.score=0,t.deskIdx=0,t.longitude=G_longitude,t.latitude=G_latitude,t.address=G_address,t.logonIP="0.0.0.0",t.sex=0,t.jewels=0,t.motto="",t.isNotAll=!0,t},onGameNotifyUserMessage:function(e){MSG_NTF_LOADER_DESK_USER_INFO==e.bAssistantID?this.dealNotifyDeskUserInfo(e):MSG_NTF_LOADER_DESK_USER_SIT==e.bAssistantID?(console.log("\u5750\u4e0b\u6d88\u606f"),this.dealNotifyDeskUserSit(e)):MSG_NTF_LOADER_DESK_USER_AGREE==e.bAssistantID?(console.log("\u51c6\u5907\u6d88\u606f"),this.dealNotifyDeskUserAgree(e)):MSG_NTF_LOADER_DESK_USER_LEFT==e.bAssistantID?this.dealNotifyDeskUserLeft(e):MSG_NTF_LOADER_DESK_USER_OFFLINE==e.bAssistantID?this.dealNotifyDeskUserOffline(e):MSG_NTF_LOADER_DESK_USER_CHANGEDESKSTATION==e.bAssistantID?this.dealNotifyDeskUserChangedeskstation(e):MSG_NTF_LOADER_DESK_USER_STANDANDWATCH==e.bAssistantID?this.dealNotifyDeskUserStandAndWatch(e):MSG_NTF_LOADER_DESK_USER_LOGONOROUTROOM==e.bAssistantID?this.dealNotifyDeskUserLogonORoutRoom(e):MSG_NTF_LOADER_DESK_USER_IS_TOURIST==e.bAssistantID&&this.dealNotifyDeskUserIsTourist(e)},dealNotifyDeskUserInfo:function(e){if(cc.log("dealNotifyDeskUserInfo"),G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e);this.__updateDeskUser(t)}},dealNotifyDeskUserSit:function(e){if(cc.log("dealNotifyDeskUserSit"),e.bHandleCode===G_HANDLE_CODE_OK){removeLoading();var t=this._Resolve_UserSimpleInfo(e);this.__updateDeskUser(t),this.getMyInfo().userID==t.userID&&(this.getGameLogic()&&this.getGameLogic().isMeWatching()&&(this.getGameLogic().removeAllDeskUser(),this.getGameLogic().loadDeskUser()),this.getMyInfo().userStatus=t.userStatus),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserSit(t)}},dealNotifyDeskUserAgree:function(e){if(cc.log("dealNotifyDeskUserAgree"),G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e);this.__updateDeskUser(t),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserAgree(t.deskStation)}},dealNotifyDeskUserLeft:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.reasonCode=e.popINT(),t.user=this._Resolve_UserSimpleInfo(e),t}.bind(this)(e);cc.log("dealNotifyDeskUserLeft"),this.getGameLogic()&&(this.__removeDeskUser(t.user.userID),this.getGameLogic().dealNotifyDeskUserLeft(t.user,t.user.deskStation,t.reasonCode)),this.getGameLogic()&&this.getGameLogic().onDeskUserCountChange()}},dealNotifyDeskUserOffline:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e);cc.log("dealNotifyDeskUserOffline"),this.__updateDeskUser(t),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserOffline(t)}},dealNotifyDeskUserChangedeskstation:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=e.popBYTE(),i=this._Resolve_UserSimpleInfo(e);cc.log("dealNotifyDeskUserChangedeskstation"),this.getGameLogic()&&(this.__removeDeskUser(i.userID),this.getGameLogic().dealNotifyDeskUserChangedeskstation(t)),this.__updateDeskUser(i),this.getMyInfo().userID==i.userID&&(this.getGameLogic()&&this.getGameLogic().isMeWatching()&&(this.getGameLogic().removeAllDeskUser(),this.getGameLogic().loadDeskUser()),this.getMyInfo().userStatus=i.userStatus),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserSit(i)}},dealNotifyDeskUserStandAndWatch:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){e.popINT();var t=this._Resolve_UserSimpleInfo(e);cc.log("dealNotifyDeskUserStandAndWatch"),this.getGameLogic()&&(this.__removeDeskUser(t.userID),this.getGameLogic().dealNotifyDeskUserChangedeskstation(t.deskStation))}},dealNotifyDeskUserLogonORoutRoom:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){e.popINT();var t=e.readString(120);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserLogonORoutRoom(t)}},dealNotifyDeskUserIsTourist:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.bTourist=e.popBOOL(),t.user=this._Resolve_UserSimpleInfo(e),t}.bind(this)(e);cc.log("dealNotifyDeskUserIsTourist"),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskUserIsTourist(t)}},onGameNotifyMessage:function(e){MSG_NTF_LOADER_DESK_GAMEBEGIN==e.bAssistantID?this.dealNotifyDeskGameBegin(e):MSG_NTF_LOADER_DESK_BASEINFO==e.bAssistantID?this.dealNotifyDeskBaseInfo(e):MSG_NTF_LOADER_DESK_DISMISS_OK==e.bAssistantID?this.dealNotifyDeskDismissOK(e):MSG_NTF_LOADER_DESK_DISMISS_FAILED==e.bAssistantID?this.dealNotifyDeskDismissFailed(e):MSG_NTF_LOADER_DESK_ALL_USERINFO==e.bAssistantID?this.dealNotifyDeskAllUserInfo(e):MSG_NTF_LOADER_DESK_DISSMISS_INFO==e.bAssistantID?this.dealNotifyDeskDismissInfo(e):MSG_NTF_LOADER_DESK_TALK==e.bAssistantID?this.dealNotifyDeskTalk(e):MSG_NTF_LOADER_DESK_VOICE==e.bAssistantID?this.dealNotifyDeskVoice(e):MSG_NTF_LOADER_DESK_GAMEFINISH==e.bAssistantID?this.dealNotifyDeskGameFinish(e):MSG_NTF_LOADER_DESK_GRADE==e.bAssistantID?this.dealNotifyDeskGrade(e):MSG_NTF_LOADER_DESK_MONEY==e.bAssistantID?this.dealNotifyDeskMoney(e):MSG_NTF_LOADER_DESK_LEFT_WAITAGREE_TIME==e.bAssistantID?this.dealNotifyDeskLeftWaitagreeTime(e):MSG_NTF_LOADER_DESK_ISAUTO==e.bAssistantID?this.dealNotifyDeskIsAuto(e):MSG_NTF_LOADER_DESK_MAGICEXPRESS==e.bAssistantID?this.dealNotifyDeskMagicExpress(e):MSG_NTF_LOADER_DESK_SITFULL==e.bAssistantID?this.dealNotifyDeskSitFull(e):MSG_NTF_LOADER_DESK_CANBEGIN==e.bAssistantID?this.dealNotifyDeskCanBegin(e):MSG_NTF_LOADER_DESK_CANBEGIN==e.bAssistantID?this.dealNotifyDeskGameAleardyBegin(e):MSG_NTF_LOADER_RECHARGE==e.bAssistantID?this.dealNotifyRecharge(e):MSG_NTF_LOADER_DESK_HUNDRED_ALL_USER==e.bAssistantID?this.dealNotifyDeskHunderAllUserInfo(e):MSG_NTF_LOADER_DESK_DISMISS_USERID==e.bAssistantID?this.dealNotifyDeskDissmissUserID(e):MSG_NTF_LOADER_ERR_MSG==e.bAssistantID?this.dealNotifyERRMsg(e):MSG_NTF_LOADER_DESK_JEWELS==e.bAssistantID?this.dealNotifyDeskJewels(e):MSG_NTF_LOADER_DESK_MATCH_STATUS==e.bAssistantID?this.dealNotifyDeskMatchStatus(e):MSG_NTF_LOADER_DESK_FINISH_MATCH==e.bAssistantID?this.dealNotifyDeskFinishMatch(e):MSG_NTF_LOADER_MATCH_RANK==e.bAssistantID?this.dealNotifyMatchRank(e):MSG_NTF_LOADER_DESK_MATCH_GRADE==e.bAssistantID?this.dealNotifyMatchGrade(e):MSG_NTF_LOADER_DESK_RANKMATCH_LEVEL==e.bAssistantID?this.dealNotifyRankMatchGrade(e):MSG_NTF_LOADER_DESK_USEREXP==e.bAssistantID?this.dealNotifyRankMatchUserExp(e):MSG_NTF_LOADER_DESK_USER_CHECKPOINT==e.bAssistantID?this.dealNotifyUserCheckPoint(e):MSG_NTF_LOADER_DESK_USER_CHECKPOINT_END==e.bAssistantID?this.dealNotifyUserCheckPointEnd(e):MSG_NTF_LOADER_RANDOM_CHANGE_SEAT==e.bAssistantID?this.dealNotifyRandomChangeSeat(e):MSG_NTF_LOADER_TIMEOUT_CANNOT_OUT==e.bAssistantID?this.dealNotifyTimeoutCannotOut(e):MSG_NTF_LOADER_DISCONNECT_TIMEOUT==e.bAssistantID?this.dealNotifyDisconnectTimeout(e):MSG_NTF_LOADER_DESK_CANNOTBEGIN==e.bAssistantID&&this.dealNotifyDeskCannotbegin(e)},dealNotifyMatchGrade:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.changeGrade=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t.grade=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t.userid=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t.name={};for(var i=0;i<G_WAR_RECORD_PLAYER_NUM;i++)t.name[i]=e.popNCHAR(MAX_USER_NAME_LEN);return t}(e);cc.log("dealNotifyMatchGrade++++"),console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u684c\u5b50\u5347\u7ea7\u901a\u77e5",t),this.getGameLogic()&&this.isMatchRoom()&&this.getGameLogic().setMyMatchGradeInfo(t);for(var i=0;i<G_WAR_RECORD_PLAYER_NUM;i++)for(var n in this._deskUserList){var o=this._deskUserList[n];if(o.deskStation==i){var a=t.grade[i]-t.changeGrade[i];this._deskUserList[n].score=t.grade[i],this.getGameLogic()&&(this.isMatchRoom()?this.getGameLogic().dealNotifyDeskGrade(o.userID,t.grade[i],a):this.isBarrierMatchRoom()&&this.getGameLogic().dealNotifyDeskGrade(o.userID,t.grade[i],a));break}}}},dealNotifyRankMatchGrade:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.gameExp=e.popLONGLONG(),t.UserLevel=e.popINT(),t.remark=e.popNCHAR(24),t}(e);cc.log("dealNotifyRankMatchGrade++++"),console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bb5\u4f4d\u5347\u7ea7\u901a\u77e5",t),this.getGameLogic()&&this.getGameLogic().setMyRankMatchGradeInfo(t)}},dealNotifyRankMatchUserExp:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.gameExp=e.popLONGLONG(),t.UserLevel=e.popBYTE(),t}(e);cc.log("dealNotifyRankMatchUserExp++++"),this.getGameLogic()&&this.getGameLogic().setMyRankMatchUserExp(t)}},dealNotifyUserCheckPointEnd:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().setCheckPointEnd()},dealNotifyUserCheckPoint:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.checkPointNum=e.popINT(),t.bAgain=e.popBYTE(),t.score=e.popINT(),t}(e);console.log(tools.getCurTime()+" \u901a\u77e5\u5f53\u5c40\u95ef\u5173\u7ed3\u679c++++",t),this.getGameLogic()&&this.getGameLogic().setCheckPointInfo(t)}},dealNotifyDeskMatchStatus:function(e){if(cc.log("dealNotifyDeskMatchStatus"),G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.llPartOfMatchID=e.popLONGLONG(),t.iCurMatchRound=e.popINT(),t.iMaxMatchRound=e.popINT(),t.status=e.popBYTE(),t.remainTime=e.popINT(),t.iCurCount=e.popINT(),t.iMaxCount=e.popINT(),t.resultType=e.popINT(),t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u684c\u5b50\u72b6\u6001\u4fe1\u606f\u901a\u77e5",t),this.getGameLogic()&&this.getGameLogic().setMyMatchDeskInfo(t)}},dealNotifyDeskFinishMatch:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.deskIdx=e.popINT(),t.deskCount=e.popINT(),t.deskRank=e.popINT(),t.rank=e.popINT(),t.matchScore=e.popINT(),t.allPeopleCount=e.popINT(),t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u684c\u5b50\u5b8c\u6210\u901a\u77e5",t),this.getGameLogic()&&this.getGameLogic().setMyMatchDeskFinishInfo(t),dump(t,"dealNotifyDeskFinishMatch++++")}},dealNotifyMatchRank:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.gameID=e.popINT(),t.gameMatchID=e.popINT(),t.iCurMatchRound=e.popINT(),t.iMaxMatchRound=e.popINT(),t.type=e.popBYTE(),t.rankMatch=e.popINT(),t.giftCard=e.popINT(),t.costResType=e.popINT(),t.reviveRemainTime=e.popINT(),t.llPartOfMatchID=e.popINT(),t.peopleCount=e.popINT(),t.matchLevel=e.popINT(),t.allPeopleCount=e.popINT(),t.deskCount=e.popINT(),t.matchScore=e.popINT(),t.userID={},t.rank={},t.jiangJin={},t.integral={};for(var i=1;i<=t.peopleCount;i++)t.userID[i]=e.popINT(),t.rank[i]=e.popINT(),t.jiangJin[i]=e.popINT(),t.integral[i]=e.popINT();return t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u684c\u5b50\u4e00\u8f6e\u6253\u5b8c\u6392\u540d\u901a\u77e5",t),MatchManager.setCurMatchID(t.gameMatchID),MatchManager.setCurRoundIsEnd(!0),this.getGameLogic()&&this.getGameLogic().setMatchDeskRankInfo(t),DataNotify.onCurMatchResult(t)}},dealNotifyDeskGameAleardyBegin:function(){createTips("\u6e38\u620f\u5df2\u7ecf\u5f00\u59cb\uff0c\u7981\u6b62\u52a0\u5165")},dealNotifyDeskGameBegin:function(e){if(cc.log("dealNotifyDeskGameBegin"),G_HANDLE_CODE_OK==e.bHandleCode){for(var t,n=i(this.getDeskUserList());!(t=n()).done;)t.value.userStatus=E_UserStatus.USER_STATUS_PLAYING;this.getGameLogic()&&this.getGameLogic().dealNotifyDeskGameBegin()}},dealNotifyDeskBaseInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.deskIdx=e.popINT(),t.deskPasswdLen=e.popINT(),t.deskPasswd=e.readString(20),t.masterID=e.popINT(),t.masterName=e.readString(MAX_USER_NAME_LEN),t.runGameCount=e.popINT(),t.totalGameCount=e.popINT(),t.isDismissStatus=e.popBOOL(),t}(e);this.deskInfo=t,cc.log("GameSocket:dealNotifyDeskBaseInfo",t),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskBaseInfo(t)}},dealNotifyDeskDismissOK:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.isDismissMidway=e.popBOOL(),t.name=e.popNCHAR(MAX_USER_NAME_LEN),t.bReqDismiss=e.popBOOL(),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskDismissOK(t)}},dealNotifyRandomChangeSeat:function(e){var t=this;if(G_HANDLE_CODE_OK==e.bHandleCode){var i=function(e){for(var i=[],n=0;n<4;n++)i[n]=t._Resolve_UserSimpleInfo(e);return i}(e),n=function(e){this.__setDeskUserList(e),this.getGameLogic()&&(this.getGameLogic().removeAllDeskUser(),this.getGameLogic().loadDeskUser())}.bind(this);this.getGameLogic()&&this.getGameLogic().dealNotifyRandomChangeSeat(i,n)}},dealNotifyTimeoutCannotOut:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t="\u73a9\u5bb6 "+e.popNCHAR(64)+" \u51fa\u724c\u8d85\u65f6\uff0c\u623f\u95f4\u5df2\u89e3\u6563";this.getGameLogic()&&this.getGameLogic().dealNotifyTimeoutCannotOut(t)}},dealNotifyDisconnectTimeout:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t="\u73a9\u5bb6 "+e.popNCHAR(64)+" \u65ad\u7ebf\u8d85\u65f6\uff0c\u623f\u95f4\u5df2\u89e3\u6563";this.getGameLogic()&&this.getGameLogic().dealNotifyTimeoutCannotOut(t)}},dealNotifyDeskDismissFailed:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskDismissFailed()},dealNotifyDeskAllUserInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.count=e.popINT(),t.allUserInfo=[];for(var i=0;i<t.count;i++)t.allUserInfo[i]=this._Resolve_UserSimpleInfo(e);return t}.bind(this)(e);cc.log("GameSocket:dealNotifyDeskAllUserInfo",t),this.__setDeskUserList(t.allUserInfo),this.getGameLogic()&&(this.getGameLogic().removeAllDeskUser(),this.getGameLogic().loadDeskUser())}},dealNotifyDeskOneUserInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e);this.__updateDeskUser(t),this.getGameLogic()&&this.getGameLogic().updateDeskUser(t)}},dealNotifyDeskCheckPointInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t={};t.count=e.popINT(),t.checkPointNum=e.popINT(),this.getGameLogic()&&this.getGameLogic().setDeskCheckPointInfo(t)}},dealNotifyDeskDismissInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.deskStation=e.popBYTE(),t.dismissType=e.popINT(),t},i=function(e){var i={};i.deskStation=e.popBYTE(),i.lefWaitDismissTime=e.popINT(),i.cfgDismissTime=e.popINT(),i.deskUserCount=e.popINT(),i.userList={};for(var n=1;n<=i.deskUserCount;n++)i.userList[n]=t(e);return i}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskDismissInfo(i)}},dealNotifyDeskTalk:function(e){if(console.log("GameSocket dealNotifyDeskTalk "),G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.sizeCount=e.popINT(),t.words=e.readString(t.sizeCount),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskTalk(t)}},dealNotifyDeskVoice:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.voiceID=e.popNCHAR(64),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskVoice(t)}},dealNotifyDeskGameFinish:function(e){for(var t,n=i(this.getDeskUserList());!(t=n()).done;){var o=t.value;o.userStatus=E_UserStatus.USER_STATUS_SITING,o.isAuto=!1}if(!this.isMatchRoom()&&!this.isBarrierMatchRoom()&&G_HANDLE_CODE_OK==e.bHandleCode){var a={};this.isRankMatchRoom()?a.needMoneyuserID=[0]:a=function(e){e._readBuffer.offset-=20;var t={};return t.needMoneyuserID=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t}(e),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskGameFinish(a)}},dealNotifyDeskGrade:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.grade=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t}(e);cc.log("GameSocket:dealNotifyDeskGrade",t);for(var i=0;i<G_WAR_RECORD_PLAYER_NUM;i++)for(var n=0;n<this._deskUserList.length;n++){var o=this._deskUserList[n];if(o.deskStation==i){var a=o.score?o.score:0;this._deskUserList[n].score=t.grade[i],this.getGameLogic()&&this.getGameLogic().dealNotifyDeskGrade(o.userID,t.grade[i],a);break}}}},dealNotifyDeskMoney:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e),i=this.getUserByID(t.userID);if(i){var n=i.money?i.money:0,o=t.money;this.__updateDeskUser(t),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskMoney(t.userID,o,n)}}},getUserByDeskStation:function(e){for(var t=this._deskUserList,i=0;i<t.length;i++)if(t[i].deskStation==e)return t[i];return null},dealNotifyDeskLeftWaitagreeTime:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.leftWaitAgreeSecs=e.popINT(),t.cfgWaitAgreeSecs=e.popINT(),t}(e);this.setReadyTimeData(t.leftWaitAgreeSecs,t.cfgWaitAgreeSecs)}},dealNotifyDeskIsAuto:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.isAuto=e.popBOOL(),t}(e),i=this.getUserByID(t.userID);i&&(i.isAuto=t.isAuto,this.getGameLogic()&&this.getGameLogic().dealNotifyDeskIsAuto(i))}},dealNotifyDeskMagicExpress:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t=[];return t.srcUserID=e.popINT(),t.targetUserID=e.popINT(),t.magicType=e.popINT(),t}(e),i=this.getUserByID(t.srcUserID),n=this.getUserByID(t.targetUserID);i&&n&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskMagicExpress(i,n,t.magicType)}},dealNotifyDeskSitFull:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskSitFull()},dealNotifyDeskCanBegin:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskCanBegin()},dealNotifyDeskCannotbegin:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskCannotbegin()},dealNotifyRecharge:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.time=e.popINT(),t.needGold=e.popLONGLONG(),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyRecharge(t)}},sendSyncDeskUserData:function(){this.getGameLogic()&&(cc.isSyncDeskUserData=!0,this.getGameLogic().sendDeskUserInfo(),this.getGameLogic().sendDeskInfo())},dealNotifyDeskHunderAllUserInfo:function(e){var t=this;if(G_HANDLE_CODE_OK==e.bHandleCode){var i=function(e){var i={};i.count=e.popINT(),i.allUserInfo=[];for(var n=0;n<i.count;n++)i.allUserInfo[n]=t._Resolve_HundredGameUserSimpleInfo(e);return i}(e);this.__setDeskUserList(i.allUserInfo),this.getGameLogic()&&(this.getGameLogic().updateUserCount(),this.getGameLogic().removeAllDeskUser(),this.getGameLogic().loadDeskUser())}},dealNotifyDeskDissmissUserID:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userIDList=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyDeskDissmissUserID(t.userIDList)}},dealNotifyERRMsg:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.msgType=e.popINT(),t.sizeCount=e.popINT(),t.notify=e.readString(t.sizeCount),t}(e);this.getGameLogic()&&this.getGameLogic().dealNotifyERRMsg(t.msgType,t.notify)}},dealNotifyDeskJewels:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=this._Resolve_UserSimpleInfo(e),i=this.getUserByID(t.userID);if(i){i.jewels;var n=t.jewels;this.__updateDeskUser(t),this.getGameLogic()&&this.getGameLogic().dealNotifyDeskJewels(t.userID,n)}}},onFrameMessage:function(e){e.bAssistantID==MSG_ASS_LOADER_GAME_INFO?this.getGameLogic()&&this.getGameLogic().onGameInfoResp(e):e.bAssistantID==MSG_ASS_LOADER_GAME_STATION?this.getGameLogic()&&this.getGameLogic().onGameStationResp(e):MSG_ASS_LOADER_DESK_USERINFO==e.bAssistantID?this.onDeskUserInfoResp(e):MSG_ASS_LOADER_DESK_CHECKPOINT_INFO==e.bAssistantID&&this.onDeskCheckPointInfoResp(e)},requireAllDeskData:function(e){var t=this.createNetMsg(8,MSG_MAIN_LOADER_MATCH,MSG_ASS_LOADER_MATCH_ALL_DESK_DATA);t.pushLONGLONG(e),this.sendData(t)},requestMatchRankInfo:function(e,t){printInfo("requestMatchRankInfo( llPartOfMatchID ,callback) llPartOfMatchID =%s",e);var i=this.createNetMsg(8,MSG_MAIN_LOADER_MATCH,MSG_ASS_LOADER_MATCH_RANK);i.pushLONGLONG(e),this.sendData(i,function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var i=function(e){var t={};t.rank=e.popINT(),t.score=e.popINT(),t.userCount=e.popINT(),t.rankInfo={};for(var i=1;i<=t.userCount;i++)t.rankInfo[i]={},t.rankInfo[i].userID=e.popINT(),t.rankInfo[i].rank=e.popINT(),t.rankInfo[i].score=e.popINT(),t.rankInfo[i].name=e.popNCHAR(MAX_USER_NAME_LEN),t.rankInfo[i].headURL=e.popNCHAR(256);return t}(e);t?t(i):this.onMatchDeskChange(e)}})},requestReviveUser:function(e,t,i,n,o){var a=this.createNetMsg(17,MSG_MAIN_LOADER_MATCH,MSG_ASS_LOADER_REVIVE_USER);a.pushLONGLONG(e),a.pushINT(t),a.pushINT(i),a.pushBYTE(n),this.sendData(a,function(e){G_HANDLE_CODE_OK==e.bHandleCode&&o&&o()})},onMatchDeskChange:function(e){MSG_ASS_LOADER_MATCH_ALL_DESK_DATA==e.bAssistantID?MatchManager.onMatchDeskInfo(e):MSG_ASS_LOADER_MATCH_ENTER_WATCH_DESK==e.bAssistantID||MSG_ASS_LOADER_MATCH_QUIT_WATCH_DESK==e.bAssistantID||(MSG_ASS_LOADER_MATCH_RANK,e.bAssistantID)},backLobby:function(){this.getGameLogic()&&this.getGameLogic().backLobby()},onDeskOneUserInfoResp:function(e){this.dealNotifyDeskOneUserInfo(e)},onDeskUserInfoResp:function(e){this.dealNotifyDeskAllUserInfo(e)},onDeskCheckPointInfoResp:function(e){this.dealNotifyDeskCheckPointInfo(e)},onGameMessage:function(e){this.getGameLogic()&&this.getGameLogic().onGameMessage(e)},onResourceChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.resourceType=e.popINT(),t.value=e.popLONGLONG(),t.resourceType==E_ResourceType.GOLD&&(t.value=t.value),t}(e),i=this.getUserByID(t.userID);if(i)if(E_ResourceType.GOLD==t.resourceType){var n=i.money?i.money:0,o=t.value;i.money=t.value,(this.isGoldRoom()||this.isPrivateRoom()||this.isTableRoom())&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskMoney(i.userID,o,n,!0,E_ResourceType.GOLD,t.reason)}else if(E_ResourceType.CARD==t.resourceType);else if(E_ResourceType.FIRECOIN==t.resourceType){var a=t.value-t.change,r=t.value;i.score=t.value,this.isVIPRoom()&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskMoney(i.userID,r,a,!0,E_ResourceType.FIRECOIN)}}},onGameYanCode:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&this.getGameLogic()&&this.getGameLogic().dealNotifyDeskGameYanCode(e)},setReadyTimeData:function(e,t){this.leftReadyTime=e||30,this.cfgReadyTime=t||60},setLeftReadyTime:function(e){this.leftReadyTime=e},getLeftReadyTime:function(){return this.leftReadyTime},getCfgReadyTime:function(){return this.cfgReadyTime},getIsSendLogoutRoom:function(){return this.isSendLogoutRoom},setIsSendLogoutRoom:function(e){this.isSendLogoutRoom=e},onEnterBackground:function(){this.isConnected()&&this.throwGameMsgTrue()},createNetMsg:function(e,t,i,n,o){o=o||this.getRoomInfo().roomID;var a=Package.buildWritePack(e);return a.writeBegin(t,i,o),a},throwGameMsgTrue:function(){},onEnterForeground:function(){var e=this;LobbySocket.isConnected()?(this.tmpDelay=function(){if(e.sendHelloMessage(),e.getGameLogic())try{e.getGameLogic().clearGame(),e.getGameLogic().sendDeskInfo(),e.getGameLogic().sendDeskUserInfo(),e.getGameLogic().sendGameInfo()}catch(t){}},this.scheduleOnce(this.tmpDelay,.01)):(this.tmpDelay=function(){createRepeatConnectLayer(cc.director.getScene())},this.scheduleOnce(this.tmpDelay,.01))},CGameSocket_onSocketMsg:function(e){if(this.resolveNetMsgHead(e),e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectSuccess&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectFailed&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_DisConnect&&E_NET_CONNECT_MAINID.mainid_net_connect!=e.bMainID&&removeLoading(),e.bHandleCode!==G_HANDLE_CODE_OK){var t=GlobalError.getErrorStr(e.bHandleCode);if(""!==t)return createTips(t)}var i=this.getCallbackFun(e.getCmd());i?(this.removeNetCallback(e.getCmd()),i(e)):MSG_MAIN_LOADER_LOGON==e.bMainID?this.onLoginMessage(e):MSG_MAIN_LOADER_NOTIFY_USER==e.bMainID?this.onGameNotifyUserMessage(e):MSG_MAIN_LOADER_NOTIFY==e.bMainID?this.onGameNotifyMessage(e):MSG_MAIN_LOADER_FRAME==e.bMainID?this.onFrameMessage(e):MSG_MAIN_LOADER_GAME==e.bMainID?this.onGameMessage(e):MSG_MAIN_LOADER_RESOURCE_CHANGE==e.bMainID?this.onResourceChange(e):MSG_MAIN_LOADER_VCODE==e.bMainID?this.onGameYanCode(e):e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectSuccess&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectFailed&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_DisConnect&&E_NET_CONNECT_MAINID.mainid_net_connect!=e.bMainID&&cc.log("GameSocket \u8fd8\u6536\u5230\u4e86 bMainID="+e.bMainID+", bAssistantID="+e.bAssistantID+" \u7684\u6d88\u606f\u6ca1\u6709\u89e3\u6790 \u8fde\u63a5\u6d88\u606f(1, 1)\u548c\u5fc3\u8df3\u6d88\u606f(1, 2)\u9664\u5916\uff0c\u5f80\u4e0b\u67e5\u770b\u662f\u5426\u662f\u6e38\u620f\u5f00\u53d1\u8005\u81ea\u5df1\u7ed1\u5b9a\u7684\u6d88\u606f")}});t.exports=a,cc._RF.pop()},{TcpClient:"TcpClient"}],GameViewBase:[function(e,t){"use strict";cc._RF.push(t,"7907bXlJspFC4Ec08KDst8V","GameViewBase"),e("os").type;var i=cc.Class({extends:e("LobbyBaseLayer"),properties:{chouMaNodePoolNum:28,GameCommonBetPrefab:cc.Prefab},ctor:function(){var e=this;this.tuoGuanLayer=null,this.hasTuoGuanLayer=!1,cc.checkIsFrontBack||(cc.checkIsFrontBack=!0,this.checkIsFrontStage()),this.loadingFlag=!1,this.isLoadedScene=!1,cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e.isLoadedScene=!0})},setUiInfo:function(e){if(cc.game.setFrameRate(45),this.uiInfo=e,this.name="GameScene",this.uiInfo.gameBg=this.uiInfo.gameBg?this.uiInfo.gameBg:this.node,this.private_DismissRoomLayer=null,this.private_PlayerUiList={},this.private_VoiceQueue={},this.private_IsPlayingVoice=!1,this.private_VoiceLayer=null,this.private_RecordInterval=3,this.private_readyfun=null,this.private_RecordTimeMin=2,this.private_RecordTimeMax=15,this.private_moveToCancel=50,this.private_recordTime=1,this.private_min_dist=100,this.private_check_dist=!0,this.private_AreaChouMaList={},this.uiInfo.betAreaInfo&&this.uiInfo.betAreaInfo.areaCount)for(var t=0;t<this.uiInfo.betAreaInfo.areaCount;t++)this.private_AreaChouMaList[t]={};var i=["voiceBtn","chatBtn","playMoth","exitBtn","setBtn","dismissBtn","startBtn","inviteBtn","changeBtn","sitBtn","beginBtn","locatBtn"];this._BUTTON_TAG={};for(var n=0;n<=i.length;n++){var o=i[n];this._BUTTON_TAG[o]=n+100}this.initGameUIVisible(),this.initGameUIEventListener(),this.uiInfo.playInfo&&this.simpleAddLayer("prefab/lobby/WarRecordSetLayer"),this.isCanTuoGuan={},this.isCanTuoGuan.gold=!1,this.isCanTuoGuan.card=!1,this.isCanTuoGuan.private=!1,this.isCanTuoGuan.barriermatch=!1,this.isCanTuoGuan.match=!1,this.showResultDelayTime=2,this.matchPlayerFans=[],this.matchPlayerInfos=[]},showPersonMsgDialog:function(e,t,i,n){this.simpleAddLayer("prefab/personMsgDialog",e,!0,t,i,n)},initTableLogic:function(e){this.tableLogic=e,this.getLogicCallBack()},onLoad:function(){var e=this;if(this._super(),this.GameCommonBetPrefab)if(cc._chouMaNodePool){if(cc._chouMaNodePool.size()<this.chouMaNodePoolNum)for(var t=this.chouMaNodePoolNum-cc._chouMaNodePool.size(),i=0;i<t;++i){var n=cc.instantiate(this.GameCommonBetPrefab);cc._chouMaNodePool.put(n)}}else{cc._chouMaNodePool=new cc.NodePool;for(var o=0;o<this.chouMaNodePoolNum;++o){var a=cc.instantiate(this.GameCommonBetPrefab);cc._chouMaNodePool.put(a)}}this.checkGameSuccess=setTimeout(function(){e.scheduleOnce(function(){e.node&&cc.isValid(e.node)&&(e.node.getChildByName("GameSettingMenu")||(e.uiInfo.playInfo?e.checkGameSuccess&&clearTimeout(e.checkGameSuccess):(e.exitBtnTouchEnded(),e.scheduleOnce(function(){e.node&&cc.isValid(e.node)&&e.tableLogic.backLobby()},3.5))))},2)},500)},onDestroy:function(){this.checkGameSuccess&&clearTimeout(this.checkGameSuccess),LobbySocket.clearPackageQueue(),this.unscheduleAllCallbacks(),this.node.stopAllActions()},createChouMa:function(){if(this.GameCommonBetPrefab){var e=null;return(e=cc._chouMaNodePool.size()>0?cc._chouMaNodePool.get(this):cc.instantiate(this.GameCommonBetPrefab)).active||(e.active=!0),e}},despawnChouMa:function(e){this.GameCommonBetPrefab&&cc._chouMaNodePool.put(e)},onConnectSuccess:function(){var e=this;this.releaseCaches();var t={};cc.log("onConnectSuccess beg"),this.uiInfo&&this.uiInfo.playInfo||(this.tableLogic.sendDeskInfo(),this.tableLogic.sendDeskUserInfo(),this.tableLogic.sendGameInfo(),t=RoomListManager.getRoomInfo()?RoomListManager.getRoomInfo():{}),cc.log("onConnectSuccess 5555");var i={},n=E_ROOM_TYPE.CARD;this.uiInfo&&this.uiInfo.playInfo||(i=this.getIsCanTuoGuan(),n=t.type),cc.log("onConnectSuccess 666");var o="GameSetting",a=null;this.uiInfo&&this.uiInfo.playInfo&&(o=this.uiInfo.gameSetting,a=this.uiInfo.showBtnRes),this.gameSettingLayer=null,this.addLayer(this.node,o,function(t){t.zIndex=G_GAME_SET_ZORDER_TAG,t.name="GameSettingMenu",e.gameSettingLayer=t},this,n,i,a),cc.log("onConnectSuccess 777"),1==UserInfoManager.getMyInfo().matchStatus&&(UserInfoManager.getMyInfo().matchStatus=0,this.scheduleOnce(this.checkMatchStatus,1))},enterTransitionFinish:function(){},initGameUIVisible:function(){this.uiInfo.roomPswText&&(this.uiInfo.roomPswText.active=!1),this.uiInfo.roomMasterText&&(this.uiInfo.roomMasterText.active=!1),this.uiInfo.gameCountText&&(this.uiInfo.gameCountText.active=!1),this.uiInfo.gameBasePoint&&(this.uiInfo.gameBasePoint.active=!1),this.uiInfo.dismissBtn&&(this.uiInfo.dismissBtn.active=!1),this.uiInfo.exitBtn&&(this.uiInfo.exitBtn.active=!1),this.uiInfo.setBtn&&(this.uiInfo.setBtn.active=!1),this.uiInfo.locatBtn&&(this.uiInfo.locatBtn.active=!1),this.uiInfo.btn_img&&(this.uiInfo.btn_img.active=!1),this.uiInfo.img_createrCard&&(this.uiInfo.img_createrCard.active=!1),this.uiInfo.btn_room&&(this.uiInfo.btn_room.active=!1),this.showGoldRoomInfo(!1),this.showBuyRoomInfo(!1),this.showMatchRoomInfo(!1)},initGameUIEventListener:function(){var e=function(e){var t=e.target.buttonTag;"touchend"==e.type?(this.playClickEffect(),"voiceBtn"==t?this.voiceBtnTouchEnded():"chatBtn"==t?this.chatBtnTouchEnded():"playMoth"==t?this.doPlayMothonClick():"startBtn"==t?this.doStartBtnTouchEnded():"inviteBtn"==t?this.doInviteBtnTouchEnded():"changeBtn"==t?this.doChangeBtnTouchEnded():"sitBtn"==t?this.doSitBtnTouchEnded():"beginBtn"==t?this.doBeginBtnTouchEnded():"locatBtn"==t?this.doLocatBtnTouchEnded():cc.log(tools.stringFormat("\u672a\u5b9a\u4e49\u7684TAG = {0}",t))):"touchstart"==e.type||e.type}.bind(this);for(var t in this._BUTTON_TAG)this.uiInfo[t]&&(this.uiInfo[t].buttonTag=t,this.uiInfo[t].on(cc.Node.EventType.TOUCH_START,e),this.uiInfo[t].on(cc.Node.EventType.TOUCH_CANCEL,e),this.uiInfo[t].on(cc.Node.EventType.TOUCH_END,e))},getMoneyDisplay:function(e){return this.roomInfo_=this.roomInfo_||RoomListManager.getRoomInfo(),!this.roomInfo_||this.roomInfo_.type!=E_ROOM_TYPE.PRIVATE&&this.roomInfo_.type!=E_ROOM_TYPE.TABLE&&this.roomInfo_.type!=E_ROOM_TYPE.GOLD?e:F_GetMoneyDisplay(e)},doStartBtnTouchEnded:function(){this.uiInfo.startBtn.active=!1,this.tableLogic.sendAgreeGame()},doInviteBtnTouchEnded:function(){this.simpleAddLayer("prefab/LayerLeadShare")},doChangeBtnTouchEnded:function(){this.tableLogic.sendChangeDesk()},doSitBtnTouchEnded:function(){this.tableLogic.sendSit()},doBeginBtnTouchEnded:function(){this.tableLogic.sendStart()},doLocatBtnTouchEnded:function(){this.createLocatInfoLayer()},doPlayMothonClick:function(){},dismissBtnTouchEnded:function(){if(this.uiInfo.playInfo)return LOOBBY_STATIC=!1,void cc.director.loadScene("lobby");this.tableLogic.doDismissRoom()},isPlayStatic:function(){return this.tableLogic.isPlayStatic()},exitBtnTouchEnded:function(){this.tableLogic.doLeftRoom()},StandandWatchtBtnTouchEnded:function(){this.tableLogic.sendStandandWatch()},standBtnTouchEnded:function(){this.tableLogic.sendStand()},tuoBtnTouchEnded:function(){this.tableLogic.isMePlaying()&&!this.tableLogic.isMeTuoGuan()?this.tableLogic.sendAuto(!0):createTips("\u6e38\u620f\u4e2d\u624d\u53ef\u4ee5\u6258\u7ba1")},wanfaBtnTouchEnded:function(){this.doPlayMothonClick()},quKuanBtnTouchEnded:function(){console.log(">>>>>\u53d6\u6b3e>>>>>\u53d6\u6b3e")},showGameYanCode:function(e){var t=this;this.gameYanCode=e;var i="prefab/GameCommon/GameYanCode",n=function(e,i,n){var o=cc.instantiate(e);t.node.getChildByName("GameYanCode")?((o=t.node.getChildByName("GameYanCode")).active=!0,o.getComponent("GameYanCode").init(i,n,t)):(t.node.addChild(o),o.getComponent("GameYanCode").init(i,n,t))},o=window.prefabMap.get(i);o?n(o,GameManager.getGameID(),e):cc.loader.loadRes(i,function(t,o){t?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t):(window.prefabMap.set(i,o),n(o,GameManager.getGameID(),e))}.bind(this))},yanBtnTouchEnded:function(){this.simpleAddLayer("prefab/ChaYan/ChaYanZhuShouLayer",GameManager.getGameID())},removeVoiceLayer:function(){this.private_VoiceLayer&&(this.private_VoiceLayer.stopVoiceAction(),this.private_VoiceLayer=null,this.private_startRecord=null,this.private_touchBeganY=null,this.private_showVoiceCancel=null,this.private_recordTime=1)},showVoiceCancel:function(){this.private_VoiceLayer&&(this.private_showVoiceCancel||(this.private_VoiceLayer.showVoiceCancel(),this.private_showVoiceCancel=!0))},showVoiceLayer:function(){this.private_VoiceLayer&&this.private_showVoiceCancel&&(this.private_VoiceLayer.showVoiceLayer(),this.private_showVoiceCancel=null)},voiceBtnTouchBegan:function(){this.private_startRecord=!0,this.startScheduleRecordTime(),this.removeVoiceLayer(),this.private_VoiceLayer=this.simpleAddLayer(this.uiInfo.gameBg,"ui.VoiceLayer"),this.private_VoiceLayer.setLocalZOrder(G_VOICE_ZORDER_TAG),MYAudioEngine.startRecord()},startScheduleRecordTime:function(){this.stopScheduleRecordTime();var e=function(){this.private_recordTime=this.private_recordTime+1,cc.log("this.private_recordTime = {0}",this.private_recordTime),this.private_recordTime>this.private_RecordTimeMax&&(this.voiceBtnTouchCanceled(),this.stopScheduleRecordTime(),this.private_isRecordTimeOver=!0)};this.schedule(e,1,!1),this.private_recordCallback=e},stopScheduleRecordTime:function(){this.private_recordCallback&&(this.unschedule(this.private_recordCallback),this.private_recordCallback=null)},voiceBtnTouchEnded:function(){this.simpleAddLayer("prefab/VoiceLayer")},clearRecordIntervalText:function(){if(this.uiInfo.voiceBtn){var e=this.uiInfo.voiceBtn.getChildByName("RecordIntervalText");e&&e.removeFromParent()}},setRecordInterval:function(){},voiceBtnTouchCanceled:function(){this.private_showVoiceCancel?(MYAudioEngine.cancelRecord(),this.stopScheduleRecordTime(),this.removeVoiceLayer()):this.voiceBtnTouchEnded()},onTouchBegan:function(e){if(cc.log("GameViewBase:onTouchBegan"),this.private_startRecord&&!this.private_touchBeganY)return this.private_touchBeganY=e.getLocation().y,!0},onTouchMoved:function(e){cc.log("GameViewBase:onTouchMoved"),this.private_touchBeganY&&(e.getLocation().y-this.private_touchBeganY>=this.private_moveToCancel?this.showVoiceCancel():this.showVoiceLayer())},setBtnTouchEnded:function(){var e=function(e){this.showGameBackColor(e)}.bind(this);this.addLayer(this.node,"GameSetLayer",function(e){e.zIndex=G_GAME_SET_ZORDER_TAG}.bind(this),e,this)},RulesBtnTouchEnded:function(){var e=function(){}.bind(this);this.addLayer(this.node,"RoomruletLayer",function(e){e.zIndex=G_GAME_SET_ZORDER_TAG}.bind(this),e)},setBtnTouchFeedLayer:function(){var e=function(){}.bind(this);this.addLayer(this.node,"Feed/FeedLayer_width",function(e){e.zIndex=G_GAME_SET_ZORDER_TAG}.bind(this),e)},showWaitTip:function(e,t,i){var n=this,o="prefab/GameCommon/WaitTipLayer";if(e){if(t>0){var a=function(e,t){var o=cc.instantiate(e);o.name="WaitTipLayer",n.node.getChildByName("WaitTipLayer")||(n.node.addChild(o),o.getComponent("WaitTipLayer").startTime(t,i))},r=window.prefabMap.get(o);r?a(r,t):cc.loader.loadRes(o,function(e,i){e?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e):(window.prefabMap.set(o,i),a(i,t))}.bind(this))}}else{var s=this.node.getChildByName("WaitTipLayer");s&&s.destroy()}},chatBtnTouchEnded:function(){this.simpleAddLayer("prefab/ChatLayer")},getUserByPos:function(e){if(!this.uiInfo.seatCount)return null;for(var t=0;t<this.uiInfo.seatCount;t++)if(this.private_PlayerUiList[t]&&this.private_PlayerUiList[t].isInUser(e)){var i=this.tableLogic.viewToLogicSeatNo(t);return this.tableLogic.getUserBySeat(i)}return null},addUser:function(e,t){if(this.uiInfo)if(null!=e)if(null!=t)if(this.uiInfo.seatCount&&0<=t&&t<this.uiInfo.seatCount){var i;if(cc.log("GameViewBase:addUser uid:"+e.userID+" name:"+e.name+" seat:"+e.deskStation+" viewSeat:"+t),this.removeUser(t),this.uiInfo.playInfo||this.tableLogic.isBuyRoom(),this.uiInfo.playerUIs){if(!(i=this.uiInfo.playerUIs[t]))return;i.active=!0}else{i=cc.instantiate(this.uiInfo.playerPrefab);var n=this.uiInfo.sitPosArr&&this.uiInfo.sitPosArr[t];i.zIndex=G_PLAYERUI_ZORDER_TAG,n.addChild(i)}this.uiInfo.playerScale&&0!=t&&i.setScale(.75),this.tableLogic.getUserByID(e.userID)&&(e.money=this.tableLogic.getUserByID(e.userID).money);var o="PlayerUI";this.uiInfo.playerUIScriptName&&(o=this.uiInfo.playerUIScriptName);var a=i.getComponent(o);if(a.setData(e,this),this.private_PlayerUiList[t]=a,this.uiInfo.sitInforArr&&!this.uiInfo.playInfo&&this.uiInfo.sitInforArr[t]){e.userStatus!=E_UserStatus.USER_STATUS_WATCH&&this.tableLogic.getGameStatus()==HZMJ_GameStation.GS_STATUS_FREE&&0==t&&this.uiInfo.btn_loading_Startimg&&(this.uiInfo.btn_loading_Startimg.active=!1),0==t&&this.uiInfo.btn_room&&(this.uiInfo.btn_room.active=!1);var r=this.uiInfo.sitInforArr[t],s=r.getChildByName("Name").getComponent(cc.Label),c=r.getChildByName("Avata_Node").getChildByName("Image_Avata");c.active=!0,s.string=tools.getCutStringByCount(e.name,5);var l=function(e){c&&cc.isValid(c)&&(c.getComponent(cc.Sprite).spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(e.headURL,e.userID,l,c)}this.uiInfo.playInfo||this.tableLogic.viewToLogicSeatNo(t)==this.tableLogic.getCurBankerSeatNO()&&255!=this.tableLogic.getCurBankerSeatNO()&&this.showUserBankerFlag(t,!0),null!=this.uiInfo.playInfo||null!=e.isOnline||isNotNeedCutMsg||this.showUserCut(t),this.uiInfo.playInfo||(this.showRoomMaster(t,this.tableLogic.getRoomMasterId()),this.showUserAuto(t,e.isAuto),this.showUserReady(t,E_UserStatus.USER_STATUS_AGREE==e.userStatus),e.userID==this.tableLogic.getMyID()&&this.refreshMyUI(e),this.addUserOtherInfo(t,e))}else cc.log("Error in GameViewBase:addUser \u89c6\u56fe\u5ea7\u4f4d\u53f7\u8d85\u51fa\u8303\u56f4");else cc.log("Error in GameViewBase:addUser \u73a9\u5bb6\u89c6\u56fe\u5ea7\u4f4d\u53f7\u4e3a\u7a7a");else cc.log("Error in GameViewBase:addUser \u73a9\u5bb6\u4fe1\u606f\u4e3a\u7a7a")},refreshMyUI:function(e){this.tableLogic.isGoldRoom()&&(this.showGoldRoomInfo(!0),e.userStatus==E_UserStatus.USER_STATUS_SITING?this.scheduleReadyFun(this.tableLogic.getLeftReadyTime()):E_UserStatus.USER_STATUS_AGREE==e.userStatus?this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=!1):e.userStatus==E_UserStatus.USER_STATUS_PLAYING&&this.showGoldRoomInfo(!1)),this.tableLogic.isRoom()&&(this.uiInfo.startBtn&&(this.tableLogic.getGameCurCountData(),this.uiInfo.startBtn.active=e.userStatus==E_UserStatus.USER_STATUS_SITING),this.uiInfo.watchImg&&(this.uiInfo.watchImg.active=!1),this.uiInfo.sitBtn&&(this.uiInfo.sitBtn.active=!1),this.uiInfo.voiceBtn,this.uiInfo.chatBtn&&(this.uiInfo.chatBtn.active=!0),this.uiInfo.locatBtn&&(this.uiInfo.locatBtn.active=!0)),e.userStatus==E_UserStatus.USER_STATUS_PLAYING?this.setCheckPointGameShowLeaveMenu(!1):this.setCheckPointGameShowLeaveMenu(!0)},getPlayerUiByViewSeatNO:function(e){return this.private_PlayerUiList[e]},removeUser:function(e){if(this.private_PlayerUiList&&this.private_PlayerUiList[e]&&(this.private_PlayerUiList[e].node.active=!1,this.private_PlayerUiList[e]=null,this.removeUserOtherInfo(e)),this.uiInfo&&this.uiInfo.sitInforArr&&this.uiInfo.sitInforArr[e]){0==e&&(this.uiInfo.btn_loading_Startimg&&(this.uiInfo.btn_loading_Startimg.active=!1),this.uiInfo.btn_room&&(this.uiInfo.btn_room.active=!1),this.uiInfo.beginBtn&&(this.uiInfo.beginBtn.active=!1));var t=this.uiInfo.sitInforArr[e],i=t.getChildByName("Name").getComponent(cc.Label),n=t.getChildByName("Avata_Node").getChildByName("Image_Avata");t.getChildByName("showReady").active=!1,n.active=!1,i.string=""}},removeAllPlayerUI:function(){for(var e in cc.log(" removeAllPlayerUI()"),this.private_PlayerUiList)"string"==typeof e&&(e=Number(e)),cc.log(" removeUser viewSeatNO = {0} "+e),this.removeUser(e)},dealNotifyDeskGameBegin:function(){if(this.uiInfo&&this.uiInfo.seatCount)for(var e=0;e<this.uiInfo.seatCount;e++)this.private_PlayerUiList[e]&&this.showUserReady(e,!1);this.tableLogic.isGoldRoom()&&(this.unscheduleReadyFun(),this.showGoldRoomInfo(!1)),(this.tableLogic.isBuyRoom()||this.tableLogic.isPrivateRoom()||this.tableLogic.isVIPRoom())&&this.showBuyRoomInfo(!1),this.setCheckPointGameShowLeaveMenu(!1)},dealNotifyDeskGameFinish:function(e){if(this.uiInfo&&this.uiInfo.seatCount)for(var t=0;t<this.uiInfo.seatCount;t++)this.private_PlayerUiList[t]&&this.private_PlayerUiList[t].showBet(!1);if((this.tableLogic.isGoldRoom()||this.tableLogic.isRankMatchRoom())&&(this.scheduleReadyFun(this.tableLogic.getCfgReadyTime()),this.scheduleOnce(function(){this.showGoldRoomInfo(!0);var e=this.tableLogic.getUserByID(this.tableLogic.getMyID());e&&this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=e.userStatus==E_UserStatus.USER_STATUS_SITING)},this.showResultDelayTime,"\u5ef6\u8fdf3\u79d2\u663e\u793a\u51c6\u5907\u6309\u94ae")),this.tableLogic.isBuyRoom()||this.tableLogic.isPrivateRoom()||this.tableLogic.isVIPRoom()){var i=this.tableLogic.getGameCountInfo();i[0]!=i[1]&&(this.uiInfo.startBtn&&!this.tableLogic.isMeWatching()&&this.scheduleOnce(function(){var e=this.tableLogic.getUserByID(this.tableLogic.getMyID());e&&(e.userStatus==E_UserStatus.USER_STATUS_SITING&&(this.uiInfo.startBtn.x=0),this.uiInfo.startBtn.active=e.userStatus==E_UserStatus.USER_STATUS_SITING)},this.showResultDelayTime),this.tableLogic.isMeWatching()&&this.uiInfo.sitBtn&&(this.uiInfo.sitBtn.active=!this.tableLogic.isDeskPlaying()))}if(this.tableLogic.isPrivateRoom()){var n="",o=0,a=this.tableLogic.getGameCountInfo();if(a[0]!=a[1])for(var r in e.needMoneyuserID){var s=e.needMoneyuserID[r];0!=s&&(n=n+this.tableLogic.getUserNameByID(s)+" ",o+=1)}""!=n.replace(/\s+/g,"")&&0!=o&&createTips("\u7528\u6237: "+n+"\u91d1\u5e01\u4e0d\u8db3\u4ee5\u7ee7\u7eed\u6e38\u620f,\u6b63\u5728\u5145\u503c\u4e2d,\u8bf7\u7a0d\u7b49",10)}if(this.tableLogic.isVIPRoom()){var c="",l=0,u=this.tableLogic.getGameCountInfo();if(u[0]!=u[1])for(var h in e.needMoneyuserID){var d=e.needMoneyuserID[h];0!=d&&(c=c+this.tableLogic.getUserNameByID(d)+" ",l+=1)}""!=c.replace(/\s+/g,"")&&0!=l&&createTips("\u7528\u6237: "+c+"\u706b\u5e01\u4e0d\u8db3\u4ee5\u7ee7\u7eed\u6e38\u620f,\u6b63\u5728\u5145\u503c\u4e2d,\u8bf7\u7a0d\u7b49",10)}},dealNotifyDeskCanBegin:function(){this.showBeginBtn(!0),this.uiInfo.btn_img&&(this.uiInfo.btn_img.active=!1)},dealNotifyDeskCannotbegin:function(){this.showBeginBtn(!1),this.uiInfo.btn_img&&(this.uiInfo.btn_img.active=!1)},updateUserMoney:function(e,t,i,n,o,a){this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].updateMoney(t,i,n,a)},updateUserJewels:function(e,t){this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].updateJewels(t)},playMagicExpress:function(e,t,i){var n=this;if(t&&e)for(var o in this.private_PlayerUiList){var a=this.private_PlayerUiList[o];a&&(a.user.userID==e&&(e=o),a.user.userID==t&&(t=o))}var r,s,c=null,l=null;if(e>10?(e>10&&(c=e==this.tableLogic.getMyID()?this.getGameViewWanJiaNode():this.getGameViewOhtersNode()),t>10?l=this.getGameViewOhtersNode():this.private_PlayerUiList&&this.private_PlayerUiList[t]&&(l=this.private_PlayerUiList[t].node)):(this.private_PlayerUiList&&this.private_PlayerUiList[e]&&(c=this.private_PlayerUiList[e].node),this.private_PlayerUiList&&this.private_PlayerUiList[t]&&(l=this.private_PlayerUiList[t].node)),c)if(l){if(this.uiInfo.playerUIs){if(r=this.node.convertToWorldSpace(c),!l)return void createTips("\u8be5\u5ea7\u4f4d\u5df2\u65e0\u73a9\u5bb6");s=this.node.convertToWorldSpace(l)}else{var u=c.getComponent("PlayerUI").getImageAvatar().x,h=c.getComponent("PlayerUI").getImageAvatar().x;if((r=this.node.convertToWorldSpace(cc.v2(c.parent.x,c.parent.y))).x=0==u?r.x+u:r.x+u+20,!l)return void createTips("\u8be5\u5ea7\u4f4d\u5df2\u65e0\u73a9\u5bb6");(s=this.node.convertToWorldSpace(cc.v2(l.parent.x,l.parent.y))).x=0==h?s.x+h:s.x+h+20}var d="";switch(i+""){case"1":d="1";break;case"2":d="2";break;case"3":d="3";break;case"4":d="4";break;case"5":d="5_1";break;case"6":d="5_2";break;case"7":d="7";break;case"8":d="8";break;case"9":d="9";break;case"10":d="6"}var f="animation";""!=d&&(f=d);var p=skeletonAnimationCreate("Magic/skeleton",f);p.zIndex=1e4,p.setScale(1.3),p.setAnchorPoint(cc.v2(.5,.5)),MYAudioEngine.playEffect("Magic/sound/magic_"+i),p.setPosition(cc.v2(r.x,r.y)),this.node.addChild(p),p.runAction(cc.sequence(cc.moveTo(.45,cc.v2(s.x,s.y)),cc.callFunc(function(){var e=p.getComponent(sp.Skeleton);e.loop=!1,e.setCompleteListener(function(){var e=function(){p&&(p.parent=null)}.bind(this);this.scheduleOnce(e,.1)}.bind(n))})))}else cc.log("toPlayerUI \u4e3a\u7a7a");else cc.log("srcPlayerUI \u4e3a\u7a7a")},showSystemMsg:function(e){cc.director.getNotificationNode().pushMsg(e)},showPropGiving:function(e,t,i){E_PROP_ID_DEF.prop_anti_id!=i&&E_PROP_ID_DEF.prop_changecard_id!=i&&E_PROP_ID_DEF.prop_recordcrad_id!=i&&(this.uiInfo.sitPosArr[e],this.uiInfo.sitPosArr[t],this.tableLogic.viewToLogicSeatNo(t)==this.tableLogic.getMySeatNO()&&cc.p(this.uiInfo.gameBg.getContentSize().width/2,this.uiInfo.gameBg.getContentSize().height/2))},showUserGrabMakers:function(e){this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showGrabMakersEffect()},showUserBankerFlag:function(){for(var e=0;e<this.uiInfo.seatCount;e++)this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showBanker(!1)},showUserBet:function(e,t){cc.log("in GameViewBase:showUserBet viewSeatNO = {0}, bet = {1}",e,t),this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showBet(!0,t)},showUserCut:function(e){this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showCut()},showUserReady:function(e,t){null==t&&(t=!0),this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showReady&&this.private_PlayerUiList[e].showReady(t),this.uiInfo.sitInforArr[e]&&(this.uiInfo.sitInforArr[e].getChildByName("showReady").active=t)},showResultImg:function(e,t,i){this.private_PlayerUiList[t]&&this.private_PlayerUiList[t].showResultImg(e,i)},showRoomMaster:function(e,t){this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showPlayRoomMaster(t)},showQiangZhuang:function(e,t){null==t&&(t=!0),this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showQiangZhuang&&this.private_PlayerUiList[e].showQiangZhuang(t)},clearQiangZhuang:function(){var e=this.private_PlayerUiList;Object.keys(e).forEach(function(t){e[t].showQiangZhuang(!1)})},showUserAuto:function(e,t){if(0==e&&!this.tableLogic.isMeWatching())if(t){if(0==this.hasTuoGuanLayer){var i=function(){LobbySocket.isConnected()?this.tableLogic.sendAuto(!1):this.removeTuoGuanLayer()}.bind(this);this.hasTuoGuanLayer=!0,this.addLayer(this.node,"TuoGuanLayer",function(e){e.zIndex=G_TUOGUAN_LAYER_TAG,this.tuoGuanLayer=e}.bind(this),i)}}else this.removeTuoGuanLayer();this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showAuto(t)},removeTuoGuanLayer:function(){this.tuoGuanLayer&&(this.tuoGuanLayer.getComponent(cc.Component).removeLayer(),this.hasTuoGuanLayer=!1)},showUserWords:function(e,t){console.log("GameViewBase showUserWords",e),this.private_PlayerUiList[e]&&this.private_PlayerUiList[e].showWords(t,this.tableLogic.getUserSexBySeat(this.tableLogic.viewToLogicSeatNo(e)),this)},playVoiceH5:function(){},dealNotifyRandomChangeSeat:function(){},playUserVoice:function(e,t){var i={};i.viewSeatNO=e,i.voiceID=t,table.insert(this.private_VoiceQueue,i),this.checkVoiceQueue()},checkVoiceQueue:function(){if(!this.private_IsPlayingVoice&&!tableIsEmpty(this.private_VoiceQueue)){var e=table.remove(this.private_VoiceQueue,1);this.private_PlayerUiList[e.viewSeatNO]?(this.private_IsPlayingVoice=!0,this.private_PlayerUiList[e.viewSeatNO].playVoice(e.voiceID,function(){this.overVoicePlay()})):this.checkVoiceQueue()}},overVoicePlay:function(){this.private_IsPlayingVoice=!1,this.checkVoiceQueue()},showChouMa:function(t,i,n){var o={};t>=this.uiInfo.seatCount?o.startPos=this.uiInfo.noSeatPos:o.startPos=this.uiInfo.sitPosArr[t],o.res=this.uiInfo.betAreaInfo.ChouMaResArr1[i],o.offsetX=this.uiInfo.betAreaInfo.offsetX,o.offsetY=this.uiInfo.betAreaInfo.offsetY,o.targetPos=this.uiInfo.betAreaInfo.areaPosArr[n],o.parent=this.uiInfo.gameBg,o.scale=this.uiInfo.betAreaInfo.scale;var a=e("ui.ChouMaObj").create(o);this.private_AreaChouMaList[n][this.private_AreaChouMaList[n].length+1]=a},backChouMa:function(e,t){e=e||0,this.scheduleOnce(function i(){for(var n=1;n<this.private_AreaChouMaList[e].length;n++){var o=this.private_AreaChouMaList[e][n];return table.remove(this.private_AreaChouMaList[e],n),void o.goBack(t)}this.unscheduleOnce(i)},.01)},quicklyBackChouMa:function(){for(var e=0;e<this.uiInfo.betAreaInfo.areaCount;e++){for(var t=1;t<this.private_AreaChouMaList[e].length;t++)this.private_AreaChouMaList[e][t]&&this.private_AreaChouMaList[e][t].removeFromParent();this.private_AreaChouMaList[e]={}}},showVipRoomInfo:function(e){if(e){for(var t in window.deskPasswd=e.deskPasswd,this.uiInfo.roomPswText&&(this.uiInfo.roomPswText.active=!0,this.uiInfo.roomPswText.getComponent(cc.Label).string=tools.stringFormat("\u623f\u53f7: {0}",e.deskPasswd)),this.uiInfo.roomMasterText&&(this.uiInfo.roomMasterText.active=!0,this.uiInfo.roomMasterText.getComponent(cc.Label).string=tools.stringFormat("\u623f\u4e3b: {0}",e.masterName)),this.uiInfo.gameCountText&&(this.uiInfo.gameCountText.active=!0,this.uiInfo.gameCountText.getComponent(cc.Label).string=tools.stringFormat("\u5c40\u6570: {0}/{1}",0|e.runGameCount,e.totalGameCount)),this.private_PlayerUiList){var i=this.private_PlayerUiList[t];i&&i.showPlayRoomMaster(e.masterID)}this.tableLogic.isMeWatching()?(this.uiInfo.watchImg&&(this.uiInfo.watchImg.active=!0),this.uiInfo.sitBtn&&(this.uiInfo.sitBtn.active=!this.tableLogic.isDeskPlaying()),this.uiInfo.voiceBtn,this.uiInfo.chatBtn&&(this.uiInfo.chatBtn.active=!1)):(this.uiInfo.watchImg&&(this.uiInfo.watchImg.active=!1),this.uiInfo.sitBtn&&(this.uiInfo.sitBtn.active=!1),this.uiInfo.voiceBtn,this.uiInfo.chatBtn&&(this.uiInfo.chatBtn.active=!0)),this.doOtherThings(e),this.onDeskUserCountChange()}},setShareInfo:function(){var e=LobbySocket.getMyInfo().name,t=LobbySocket.getMyInfo().userID,i=GameManager.getGameID(),n=(GameManager.getGameNameByGameID(i),this.tableLogic.getGameRules()),o=GameManager.getRoomListTypeJsonRule(n),a=GameManager.getRoomListRsJsonRule(n);a=a+"-"+GameManager.getRoomListTimeJsonRule(n)+"-"+o+"--"+e+"("+t+")";var r=window.sharedWords.length,s="";r>0&&(s=window.sharedWords[Math.floor(Math.random()*(r-1))]),a=s,wx&&(wx.updateAppMessageShareData({title:"\u5076ONE\u9189\u7f8e\u57ce",desc:a,link:wxShareURL,imgUrl:wxShareAdvIMG,success:function(){}}),wx.updateTimelineShareData({title:"\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\u3002\u65e0\u9700\u4e0b\u8f7d\uff0c\u968f\u65f6\u968f\u5730\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01\uff01",desc:"",link:wxShareURL,imgUrl:wxShareAdvIMG,success:function(){}}))},showGoldRoomInfo:function(e){this.uiInfo&&(this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=e),this.uiInfo.changeBtn&&(this.uiInfo.changeBtn.active=e))},showMatchRoomInfo:function(e){this.uiInfo&&(this.uiInfo.playInfo||this.tableLogic.isMatchRoom())&&(this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=e),this.uiInfo.exitBtn&&(this.uiInfo.exitBtn.active=e))},showBuyRoomInfo:function(e){this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=e),this.uiInfo.inviteBtn&&(this.uiInfo.inviteBtn.active=e),this.uiInfo.sitBtn&&(this.uiInfo.sitBtn.active=e),this.uiInfo.beginBtn&&(e&&cc.log("erroe"),this.uiInfo.beginBtn.active=e),this.uiInfo.btn_loading_Startimg&&(this.uiInfo.btn_loading_Startimg.active=!1)},showBeginBtn:function(e){this.uiInfo.beginBtn&&(this.uiInfo.beginBtn.active=e,e&&cc.log("erroe")),this.uiInfo.btn_loading_Startimg&&(this.uiInfo.btn_loading_Startimg.active=!1)},createDismissRoomLayer:function(e,t){var i=this,n={};for(var o in n.callback=t,n.time=e.lefWaitDismissTime,n.cfgTime=e.cfgDismissTime,n.deskStation=e.deskStation,n.name=this.tableLogic.getUserNameBySeat(n.deskStation),n.myDeskStation=this.tableLogic.getMySeatNO(),e.userList){var a=e.userList[o];a.name=this.tableLogic.getUserNameBySeat(a.deskStation),a.headURL=this.tableLogic.getUserHeadURLBySeat(a.deskStation),a.userID=this.tableLogic.getUserIdBySeat(a.deskStation)}n.userList=e.userList;var r=function(e){if(!i.goBtnHavetAdd)if(i.private_DismissRoomLayer&&null!=i.private_DismissRoomLayer)i.private_DismissRoomLayer.updateLayer(e);else{i.goBtnHavetAdd=!0;var t=function(){this.private_DismissRoomLayer=null}.bind(i),n=i.uiInfo.dismissRoomLayer||"DismissRoomLayer";i.addLayer(i.node,n,function(e){e.newSetTag(G_DISMISS_ROOM_LAYER_TAG),e.zIndex=G_DISMISS_ROOM_LAYER_TAG,i.private_DismissRoomLayer=e.getComponent(cc.Component),i.goBtnHavetAdd=!1},e,t)}};""==n.userList[1].name&&this.scheduleOnce(function(){for(var t in n.name=i.tableLogic.getUserNameBySeat(n.deskStation),n.myDeskStation=i.tableLogic.getMySeatNO(),e.userList){var o=e.userList[t];o.name=i.tableLogic.getUserNameBySeat(o.deskStation),o.headURL=i.tableLogic.getUserHeadURLBySeat(o.deskStation),o.userID=i.tableLogic.getUserIdBySeat(o.deskStation)}n.userList=e.userList,r(n)},1),r(n)},removeDismissRoomLayer:function(){this.private_DismissRoomLayer&&(this.private_DismissRoomLayer.removeLayer(),this.private_DismissRoomLayer=null)},removeDismissRoomLayerEx:function(){this.private_DismissRoomLayer&&(this.private_DismissRoomLayer.removeLayerEx(),this.private_DismissRoomLayer=null)},createBuyGoldLayer:function(e,t){if(cc.log("GameViewBase:createBuyGoldLayer"),this.private_BuyGoldLayer)this.private_BuyGoldLayer.updateLayer(e);else{var i=cc.director.getScene();this.private_BuyGoldLayer=this.simpleAddLayer(i,"ui.BuyGoldLayer",e,function(){this.private_BuyGoldLayer=null},t),this.private_BuyGoldLayer.newSetTag(G_BUYGOLD_ZORDER_TAG),this.private_BuyGoldLayer.setLocalZOrder(G_BUYGOLD_ZORDER_TAG)}},removeBuyGoldLayer:function(){this.private_BuyGoldLayer&&(this.private_BuyGoldLayer.removeLayer(),this.private_BuyGoldLayer=null)},scheduleReadyFun:function(e){cc.log(" scheduleReadyFun(time)"),this.unscheduleReadyFun();var t=function(){this.private_readytime=this.private_readytime-1,this.onReadyFun(this.private_readytime),this.private_readytime<=0&&(this.unschedule(this.private_readyfun),this.private_readyfun=null)};this.schedule(t,1,!1),this.private_readytime=e||30,this.private_readyfun=t,this.onReadyFun(this.private_readytime)},unscheduleReadyFun:function(){this.private_readyfun&&(this.unschedule(this.private_readyfun),this.private_readyfun=null,this.onReadyFun(0))},updateUserTuoGuan:function(e){cc.log(e," updateUserTuoGuan(user)"),this.showUserAuto(this.tableLogic.logicToViewSeatNo(e.deskStation),e.isAuto)},setGoldIsCanTuoGuan:function(e){this.isCanTuoGuan.gold=e},setBarrierMatchIsCanTuoGuan:function(e){this.isCanTuoGuan.barriermatch=e},setCardIsCanTuoGuan:function(e){this.isCanTuoGuan.card=e},setPrivateIsCanTuoGuan:function(e){this.isCanTuoGuan.private=e},setMatchIsCanTuoGuan:function(e){this.isCanTuoGuan.match=e},setIsCanTuoGuan:function(e){for(var t in this.isCanTuoGuan)this.isCanTuoGuan[t],this.isCanTuoGuan[t]=e},getIsCanTuoGuan:function(){return this.isCanTuoGuan},onDeskUserAgree:function(e){e==this.tableLogic.getMySeatNO()&&(this.uiInfo.startBtn&&(this.uiInfo.startBtn.active=!1),this.unscheduleReadyFun()),this.showUserReady(this.tableLogic.logicToViewSeatNo(e))},onDeskUserSit:function(e){"object"==typeof e&&(this.tableLogic.getMyID()==e.userID?(this.tableLogic.isMatchRoom()||this.tableLogic.isBarrierMatchRoom())&&this.tableLogic.sendAgreeGame():this.onDeskUserCountChange(),this.private_check_dist&&this.tableLogic.isRoom()&&this.checkUserDist(e))},onDeskUserCountChange:function(){if((this.tableLogic.isBuyRoom()||this.tableLogic.isPrivateRoom()||this.tableLogic.isVIPRoom())&&this.uiInfo.inviteBtn)if(this.tableLogic.isMePlaying())this.uiInfo.inviteBtn.active=!1,this.uiInfo.startBtn.x=0;else{var e=this.uiInfo.seatCount?this.uiInfo.seatCount:0;if(0==e)return void(this.uiInfo.inviteBtn.active=!1);if(this.tableLogic.getDeskUserCount()==e)this.uiInfo.inviteBtn.active=!1,this.uiInfo.startBtn.x=0;else{var t=!1;this.tableLogic.getDeskInfo()&&(t=!0),this.uiInfo.inviteBtn.active=t}}},setShowResultDelayTime:function(e){this.showResultDelayTime=e},getShowResultDelayTime:function(){return this.showResultDelayTime},updateRulesView:function(e){if(this.tableLogic.isPrivateRoom()){var t=JSON.parse(e||"");this.uiInfo.gameBasePoint&&t&&t.bPoint&&(this.uiInfo.gameBasePoint.getComponent(cc.Label).string=tools.stringFormat("\u5e95\u6ce8\uff1a{0}",t.bPoint),this.uiInfo.gameBasePoint.active=!0)}},createLocatInfoLayer:function(){},removeLocatInfoLayer:function(){},checkUserDist:function(e){var t=this;if(e.userStatus!=E_UserStatus.USER_STATUS_WATCH&&this.tableLogic.getGameStatus()!=HZMJ_GameStation.GS_STATUS_PLAYING){var i=e.longitude,n=e.latitude,o=this.tableLogic.getMyID(),a="G_LATITUDE_ITEM"+e.userID+"_"+window.deskPasswd,r=Number(cc.sys.localStorage.getItem(a)||0);if(tools.checkLongitudeOrLatitude(i)&&tools.checkLongitudeOrLatitude(n)){var s=this.tableLogic.getUserInfoListOfLogicSeat();for(var c in s){var l=s[c];if(l&&l.userID==o&&l.userID!=e.userID){var u=l.longitude,h=l.latitude;if(tools.checkLongitudeOrLatitude(u)&&tools.checkLongitudeOrLatitude(h)){var d=Number(tools.getDistance(h,u,n,i)),f=this;1e3*d<f.private_min_dist&&0==r&&function(){cc.sys.localStorage.setItem(a,1);var i;i=f.tableLogic.isMePlaying()?"\u7533\u8bf7\u89e3\u6563":"\u79bb\u5f00\u623f\u95f4";var n={};n.msg=tools.stringFormat("\n\u73a9\u5bb6\uff1a{0}\u4e0e\u73a9\u5bb6\uff1a{1}\u7684\u8ddd\u79bb\u4e0d\u8db3{2}\u7c73\uff0c\u662f\u5426\u7ee7\u7eed\u6e38\u620f\uff1f",e.name,l.name,t.private_min_dist),n.btn1=i,n.btn2="\u7ee7\u7eed\u6e38\u620f",n.callbackFun=function(e){e==i&&(f.tableLogic.isMePlaying()?f.tableLogic.sendDismissRoom():f.tableLogic.doLeftRoom())},createMsgBox(n)}()}}}}}},dealNotifyERRMsg:function(e,t){if(cc.log("------------dealNotifyERRMsg:\u63d0\u793a\u6d88\u606f\uff1a",e,t),e==E_NOTIFY_MSG_TYPE.SMT_CHAT);else if(e==E_NOTIFY_MSG_TYPE.SMT_EJECT)removeLoading(),createTips(t);else if(e==E_NOTIFY_MSG_TYPE.SMT_GLOBAL);else if(e==E_NOTIFY_MSG_TYPE.SMT_PROMPT){var i={};i.msg=t,i.btn1="\u786e  \u5b9a",i.callbackFun=function(){},createMsgBox(i)}else e==E_NOTIFY_MSG_TYPE.SMT_TABLE_ROLL&&(C_Director.NoticeLayer||cc.loader.loadRes("prefab/NoticeLayer",function(e,i){var n=cc.instantiate(i),o=n.getComponent("NoticeLayer");n.x=cc.winSize.width/2,n.y=cc.winSize.height/2,o.init(t),runningScene.addChild(n)}))},onExit:function(){},runWithScene:function(){cc.log(" runWithScene()"),this.stopEffectAndMusic()},clearCommonUI:function(){try{this.unscheduleAllCallbacks()}catch(e){}this.node.stopAllActions(),this.private_IsPlayingVoice=!1,this.private_VoiceQueue={},this.removeTuoGuanLayer(),this.removeBuyGoldLayer(),this.removeDismissRoomLayerEx(),this.removeAllPlayerUI(),this.showBeginBtn(!1),this.showGoldRoomInfo(!1),this.unscheduleReadyFun(),this.clearRecordIntervalText(),this.removeLocatInfoLayer(),this.removeAllMatchLayer()},onReadyFun:function(e){cc.log(" onReadyFun(time = {0})",e),e>0&&this.tableLogic.setLeftReadyTime(e)},showMatchDeskStatus:function(e){this.needShowMatchResultLayer=!0;var t=function(){this.needShowMatchResultLayer=!1;var t=this.uiInfo.gameBg.getComponent("MatchResult");t?t.setShowMatchLevelUp():(this.removeAllMatchLayer(),1!=e.type&&this.showMatchLevelUp())}.bind(this);this.showMatchResultLayerCallback=t,this.scheduleOnce(t,.1)},setMatchResultPlayerDatas:function(e){this.matchPlayerFans=cloneObject(e),window.matchPlayerFans=e},showMatchGameResult:function(){},showRankMatchGameResult:function(e){this.uiInfo.gameBg.getChildByName("MatchRankResultLayer")||(this.setUserInfoExpUserLevel(e),this.addLayer(this.node,"Match/MatchRankResultLayer",function(e){e.zIndex=G_MATCH_LAYER_TAG,e.name="MatchRankResultLayer"},this,e))},setRankMatchUserExp:function(e){this.setUserInfoExpUserLevel(e)},removeMatchCheckPointResultLayer:function(){this.node.getChildByName("MatchCheckPointResultLayer")&&this.node.getChildByName("MatchCheckPointResultLayer").destroy()},setCheckPointInfo:function(e){var t=this,i=this,n=function(){i.removeMatchCheckPointResultLayer();var n=function(){i.addLayer(i.node,"Match/MatchCheckPointResultLayer",function(e){e.zIndex=G_CHECKPOINT_NOTIFY_LAYER_TAG,e.name="MatchCheckPointResultLayer"},i.tableLogic,e)}.bind(t);t.scheduleOnce(n,1.5)};0==e.bAgain?(n(),this.tableLogic.sendDeskCheckPointInfo()):1==e.bAgain?(n(),this.tableLogic.sendDeskCheckPointInfo()):2==e.bAgain&&n()},setDeskCheckPointInfo:function(e){this.addLayer(this.node,"Match/MatchCheckPointInfo",function(e){e.zIndex=G_CHECKPOINT_NOTIFY_LAYER_TAG,e.name="MatchCheckPointInfo"},e),this.curCheckPointNum=e.checkPointNum},setCheckPointEnd:function(){this.removeMatchCheckPointResultLayer(),this.addLayer(this.node,"Match/MatchCheckPointResultLayer",function(e){e.zIndex=G_CHECKPOINT_NOTIFY_LAYER_TAG,e.name="MatchCheckPointResultLayer"},this.tableLogic,null)},setDeskExpUserLevelInfo:function(e){if(!e){var t=UserInfoManager.getMyInfo();(e={}).gameExp=t.gameExp,e.UserLevel=t.UserLevel}this.node.getChildByName("MatchExpUserLevelInfo")&&this.node.getChildByName("MatchExpUserLevelInfo").destroy(),this.addLayer(this.node,"Match/MatchExpUserLevelInfo",function(e){e.zIndex=G_CHECKPOINT_NOTIFY_LAYER_TAG,e.name="MatchExpUserLevelInfo"},e)},setUserInfoExpUserLevel:function(e){var t=UserInfoManager.getMyInfo();t.gameExp=parseInt(F_GetMoneyDisplay(e.gameExp)),t.UserLevel=e.UserLevel,UserInfoManager.setMyInfo(cloneObject(t)),this.setDeskExpUserLevelInfo(t)},showMatchLevelUp:function(){this.uiInfo.gameBg.getChildByName("MatchLevelUpLayer")&&this.uiInfo.gameBg.getChildByName("MatchLevelUpLayer").removeFromParent();var e=MatchManager.getMatchDeskRankInfo();this.addLayer(this.node,"Match/MatchLevelUpLayer",function(e){e.zIndex=G_MATCH_LAYER_TAG,e.name="MatchLevelUpLayer"},this,e)},showMatchWaitStatus:function(e){if(this.showMatchRoomInfo(!1),this.dealMatchDeskGameInfo(e),1==e.iCurPeopleCount&&e.iCurMatchRound>1&&createTips("\u606d\u559c\u664b\u7ea7"),1==e.status)e.iCurPeopleCount==e.iMaxPeopleCount&&this.showMatchWait(e.resultType);else if(2==e.status&&e.iCurMatchRound<=e.iMaxMatchRound){if(!this.tableLogic.isMatchRoom())return;this.uiInfo.gameBg.getChildByName("MatchWaitLayer")&&this.uiInfo.gameBg.getChildByName("MatchWaitLayer").removeFromParent(),this.uiInfo.gameBg.getChildByName("MatchDeskInfoLayer")&&this.uiInfo.gameBg.getChildByName("MatchDeskInfoLayer").removeFromParent(),this.hidehideOverLayout(),this.removeAllMatchLayer()}},showMatchDeskFinish:function(){},showMatchWait:function(e){this.uiInfo.gameBg.getChildByName("MatchWaitLayer")||this.addLayer(this.node,"Match/MatchWaitLayer",function(e){e.zIndex=G_MATCH_LAYER_TAG,e.name="MatchWaitLayer"},this,e)},removeAllMatchLayer:function(){if(this.tableLogic.isMatchRoom()){if(this.uiInfo.gameBg.getChildByName("MatchWaitLayer")&&this.uiInfo.gameBg.getChildByName("MatchWaitLayer").removeFromParent(),this.uiInfo.gameBg.getChildByName("MatchDeskInfoLayer")&&this.uiInfo.gameBg.getChildByName("MatchDeskInfoLayer").removeFromParent(),this.uiInfo.gameBg.getChildByName("MatchResultLayer")){if(GameSocket.getIsSendLogoutRoom())return;this.uiInfo.gameBg.getChildByName("MatchResultLayer").removeFromParent()}else GameSocket.getIsSendLogoutRoom()&&this.needShowMatchResultLayer&&this.showMatchResultLayerCallback&&(this.showMatchResultLayerCallback(),this.needShowMatchResultLayer=!1);if(this.uiInfo.gameBg.getChildByName("MatchLevelUpLayer")){if(GameSocket.getIsSendLogoutRoom())return;this.uiInfo.gameBg.getChildByName("MatchLevelUpLayer").removeFromParent()}GameSocket.setIsSendLogoutRoom(!1)}},removeMatchNotifyLayer:function(){this.tableLogic.isMatchRoom()&&this.uiInfo.gameBg.getChildByName("MatchNotifyLayer")&&this.uiInfo.gameBg.getChildByName("MatchNotifyLayer").removeFromParent()},playMatchBeginEffect:function(){},setCheckPointGameShowLeaveMenu:function(e){void 0===e&&(e=!0),GameSocket.isCheckPointRoom()&&this.gameSettingLayer&&(e&&void 0!==this.curCheckPointNum&&this.curCheckPointNum>0&&(e=!1),this.gameSettingLayer.getComponent("GameSettingLayer").initSetListView(e))},addUserOtherInfo:function(){},removeUserOtherInfo:function(){},dealNotifyDeskUserLogonORoutRoom:function(){},dealNotifyDeskUserIsTourist:function(){},showGameBackColor:function(){},doOtherThings:function(){},hidehideOverLayout:function(){},getLogicCallBack:function(){},getGameViewZhuangNode:function(){},getGameViewWanJiaNode:function(){},getGameViewOhtersNode:function(){},dealMatchDeskGameInfo:function(){},onEnable:function(){this._super()},onDisable:function(){this._super()},loadResult:function(e,t,i){e||!t?cc.error("\u672a\u5b9a\u4e49\u7684\u9884\u5236\u4f53\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u8d44\u6e90"+i):("object"==typeof t&&window.prefabMap.set(i+"",t),cc.loadData.loadGamePreData[cc.loadData.loadGamePreDataIndex],new Date,++cc.loadData.loadGamePreDataIndex,this.loadingFlag=!1,cc.loadData.loadGamePreDataIndex>=cc.loadData.loadGamePreData.length&&(new Date,this.checkPreLoadScence()))},loadPre:function(){var e=this;if(!(this.loadingFlag||(this.loadingFlag=!0,cc.loadData.loadGamePreDataIndex>=cc.loadData.loadGamePreData.length))){var t=cc.loadData.loadGamePreData[cc.loadData.loadGamePreDataIndex];new Date,"Texture"==t.preName?cc.loader.loadResDir(t.url,cc.SpriteFrame,function(){},function(){e.loadResult(null,"Texture",t.url)}):"TextureAtlas"==t.preName?cc.loader.loadResDir(t.url,cc.SpriteAtlas,function(){},function(){e.loadResult(null,"TextureAtlas",t.url)}):"bitmapFont"==t.preName?cc.loader.loadRes(t.url,cc.BitmapFont,function(i,n){e.loadResult(null,n,"bitmapFont"+t.url)}):"json"==t.preName?cc.loader.loadRes(t.url,cc.JsonAsset,function(i,n){e.loadResult(null,n,"json"+t.url)}):cc.loader.loadRes(t.url+t.preName,function(i,n){e.loadResult(i,n,t.url+t.preName)})}},update:function(){cc.sys.isNative||cc.loadData.loadGamePreDataIndex<cc.loadData.loadGamePreData.length&&this.loadPre()}});t.exports=i,cc._RF.pop()},{LobbyBaseLayer:"LobbyBaseLayer",os:10,"ui.ChouMaObj":void 0}],GameYanCode:[function(e,t){"use strict";cc._RF.push(t,"ed898M3EN5G74Ji0iYnzOTK","GameYanCode"),cc.Class({extends:e("BaseLayer"),properties:{textLabel:cc.Label},init:function(e,t,i){var n=this;this.textLabel.string=t+"",this.gameYanCode=t+"",this.scheduleOnce(function(){n.node.active=!1},3),this.targetComponent=i},onDisable:function(){this.unscheduleAllCallbacks()},onDestroy:function(){this.unscheduleAllCallbacks()},onClickToCopyGameYanCode:function(){var e=this,t=function(){e.targetComponent&&e.targetComponent.yanBtnTouchEnded()};cc.sys.isNative?(cc.jsbMgr.copyToClipboard(this.gameYanCode),t()):this.gameYanCode&&tools.copyTextFun(this.gameYanCode)?(createTips("\u590d\u5236\u6210\u529f"),t()):createTips("\u590d\u5236\u5931\u8d25\uff01")}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],GameZhanjiCreaterImage:[function(e,t){"use strict";cc._RF.push(t,"702093iLg5OzKpQiyk9QhYx","GameZhanjiCreaterImage"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){var t=document.getElementById("GameZhanjiQRCode");t&&t.remove(),1==cc.sys.isMobile?this.node.rotation=90:this.node.rotation=-90,cc.log("*********************\u751f\u6210\u56fe\u7247\uff08\u5927\u7ed3\u7b97\u6218\u7ee9\uff09*********************"),this.LobbyLogic=new(e("LobbyLogic"));var i=this.LobbyLogic.getMyInfo(),n=this.gameID,o=GameManager.getRegistGameNameByGameID(n),a=this.gameRules,r=o;r+=GameManager.getRoomListTypeJsonRule(a);var s=tools.getCurTime(),c=cc.view.getFrameSize(),l=cc.view.getDesignResolutionSize(),u=c.width/l.width*618,h=c.height/l.height*996,d="https://ouwan.hmzb.top/image/share/rank?";d+="ruleName="+r,d+="&roomNumber="+this.deskPasswd,d+="&headUrl="+i.headURL,d+="&userID="+i.userID,d+="&userName="+i.name,d+="&shareUrl="+wxShareURL,d+="&dateTime="+s;for(var f=[],p=0;p<this.userInfoList.length;p++){var g={name:"",face:"",score:0,List_p:0,List_i:0},m=this.userInfoList[p];g.name=m.name,g.face=m.face,g.score=m.score,Number(m.score)>0?(g.List_p=1,g.List_i=1):Number(m.score)<0&&(g.List_p=2,g.List_i=0),f.push(g)}for(var _=0;_<f.length;_++){var y=f[_];d+="&rankList["+_+"][name]="+y.name,d+="&rankList["+_+"][face]="+y.face,d+="&rankList["+_+"][n]="+y.score,d+="&rankList["+_+"][p]="+y.List_p,d+="&rankList["+_+"][i]="+y.List_i}var v=document.getElementById("Cocos2dGameContainer"),C=document.createElement("img");C.id="GameZhanjiQRCode",C.src=d,C.style.transform="rotate(-90deg)",C.alt="bigImg",C.width=u,C.height=h,C.style.position="absolute",C.style.top=parseInt(v.style.height.replace(/px/,""))/2-C.height/2+"px",C.style.left=parseInt(v.style.width.replace(/px/,""))/2-C.width/2+"px",v.appendChild(C)},init:function(e,t,i,n){this.gameID=e,this.deskPasswd=t,this.gameRules=i,this.userInfoList=n},doButton_Close:function(){var e=this,t=document.getElementById("GameZhanjiQRCode");t&&t.remove(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],GiveGiftCard:[function(e,t,i){"use strict";cc._RF.push(t,"f21beme7nFEyJwae4C2ZwQ8","GiveGiftCard");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=e("../ui/SpriteArray"),s=cc._decorator,c=s.ccclass,l=s.property,u=1,h=5,d=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.targetIDEdit=null,i.giveNumEdit=null,i.progressSlider=null,i.GiftlistNode=null,i.newHandNode=null,i.countSliderNode=null,i.zhuanzengLogic=new(e("ZhuanzengLogic")),i.annimetion=null,i._minHoldNum=h,i._minGiveNum=u,i}return o(i,t),i.prototype.start=function(){},i.prototype.onEnable=function(){this.init()},i.prototype.init=function(){this._minHoldNum=globalThis.ConfigDataManager.getConfigDataByKey("sendGiftMyLimitGiftcard",h),this._minGiveNum=globalThis.ConfigDataManager.getConfigDataByKey("sendGiftMinCard",u);var e=globalThis.UserInfoManager.getMyInfo().giftCard;this.giveNumEdit.string=this._minGiveNum.toString(),this.progressSlider.progress=0,e>=this._minHoldNum&&e>=this._minGiveNum&&(this.progressSlider.progress=0)},i.prototype.onToggleContainerClick=function(e){switch(e.node.name){case"toggle1":this.doButton_GiftList();break;case"toggle2":this.doButton_NewHand()}},i.prototype.doButton_GiftList=function(){this.GiftlistNode.active=!0,this.newHandNode.active=!1},i.prototype.doButton_NewHand=function(){this.GiftlistNode.active=!1,this.newHandNode.active=!0},i.prototype.onchoiceClick=function(e){var t=e.target.getComponent(cc.Button);0==t.getComponent(r.default).index?(t.getComponent(r.default).index=1,this.countSliderNode.active=!1):(t.getComponent(r.default).index=0,this.countSliderNode.active=!0)},i.prototype.onConfirmBtnClick=function(){var e=this;if(""!=this.targetIDEdit.string)if(""!=this.giveNumEdit.string)if(/(^[1-9]\d*$)/.test(this.giveNumEdit.string+"")){globalThis.E_ResourceType.GiftCard;var t=parseInt(this.targetIDEdit.string),i=parseInt(this.giveNumEdit.string);if(globalThis.UserInfoManager.getMyInfo().userID==t)return console.log("## \u8d60\u9001\u7ed9\u81ea\u5df1",globalThis.UserInfoManager.getMyInfo().userID,t),void globalThis.createTips("\u4e0d\u53ef\u4ee5\u8d60\u9001\u7ed9\u81ea\u5df1");if(globalThis.UserInfoManager.getMyInfo().giftCard<this._minHoldNum)globalThis.createTips("\u60a8\u7684\u793c\u5238\u4f4e\u4e8e"+this._minHoldNum+"\u5f20\uff0c\u65e0\u6cd5\u8f6c\u8d60\u7ed9\u4ed6\u4eba");else if(i<this._minGiveNum)globalThis.createTips("\u60a8\u8f6c\u8d60\u7684\u793c\u5238\u6570\u91cf\u5c0f\u4e8e"+this._minGiveNum+"\u5f20\uff0c\u65e0\u6cd5\u8f6c\u8d60\u7ed9\u4ed6\u4eba");else{var n=globalThis.ConfigDataManager.getConfigDataByKey("sendGiftRate",.05),o=i-Math.ceil(n*i),a={msg:"\n\u8f6c\u8d60\u9700\u6536\u53d6"+100*n+"%\u7684\u624b\u7eed\u8d39\n\u60a8\u8f6c\u8d60\u7684"+i+"\u5f20\u793c\u5238\uff0c\u5bf9\u65b9\u5c06\u6536\u5230"+o+"\u5f20\u793c\u5238",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(n){"\u786e\u5b9a"==n&&e.zhuanzengLogic.requestSendGift(t,5,i,function(){globalThis.createTips("\u8d60\u9001\u793c\u5238\u6210\u529f"),e.doEditBoxCountChanged()})}};globalThis.createMsgBox(a)}}else globalThis.createTips("\u8bf7\u8f93\u5165\u6b63\u6574\u6570\u8d60\u9001\u6570\u91cf");else globalThis.createTips("\u8bf7\u8f93\u5165\u8d60\u9001\u6570\u91cf");else globalThis.createTips("\u8bf7\u8f93\u5165\u597d\u53cbID")},i.prototype.doEditBoxCountChanged=function(){isNaN(Number(this.giveNumEdit.string))&&(this.giveNumEdit.string="")},i.prototype.onSliderProgressChanged=function(){var e=globalThis.UserInfoManager.getMyInfo().giftCard,t=this.progressSlider.progress,i=Math.ceil(t*e);i>e&&(i=e),this.giveNumEdit.string=i.toString()},i.prototype.updateGiveNumUI=function(e){this.giveNumEdit.string=e.toString(),globalThis.LobbySocket.getMyInfo().giftCard},i.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([l(cc.EditBox)],i.prototype,"targetIDEdit",void 0),a([l(cc.EditBox)],i.prototype,"giveNumEdit",void 0),a([l(cc.Slider)],i.prototype,"progressSlider",void 0),a([l(cc.Node)],i.prototype,"GiftlistNode",void 0),a([l(cc.Node)],i.prototype,"newHandNode",void 0),a([l(cc.Node)],i.prototype,"countSliderNode",void 0),a([l(cc.Node)],i.prototype,"annimetion",void 0),a([c],i)}(cc.Component);i.default=d,cc._RF.pop()},{"../ui/SpriteArray":"SpriteArray",ZhuanzengLogic:"ZhuanzengLogic"}],GlobalConfig:[function(e,t){"use strict";cc._RF.push(t,"717aerexOVNZa2qnG42yoEm","GlobalConfig"),window.G_PLATFORM_NAME_CHINESE="\u5076ONE\u9189\u7f8e\u57ce",window.G_PLATFORM_NAME="_DAXIANGXIASHAN",window.G_APP_NAME_EN="Daxaingxiashan",window.G_APP_NAME_CH="\u5076ONE\u9189\u7f8e\u57ce",window.G_CHOOSE_CITY="city_switch_new"+G_PLATFORM_NAME,window.G_ACCOUNT_KEY="loginAccountNoRepeat"+G_PLATFORM_NAME,window.G_PASSWARD_KEY="loginPasswordNotRepeat"+G_PLATFORM_NAME,window.G_PASSWARD_KEY="loginPasswardNotRepeat"+G_PLATFORM_NAME,window.G_MUSIC_SWITCH="music_switch"+G_PLATFORM_NAME,window.G_SOUND_SWITCH="sound_switch"+G_PLATFORM_NAME,window.G_MUSIC_CHANGE="music_change"+G_PLATFORM_NAME,window.G_SOUND_CHANGE="sound_change"+G_PLATFORM_NAME,window.G_BACKGROUND_SWITCH="backGround_switch"+G_PLATFORM_NAME,window.G_SOUND_SIZE="sound_size"+G_PLATFORM_NAME,window.G_OUTCARD_SOUND="outcard_sound"+G_PLATFORM_NAME,window.G_SOUND_TYPE="sound_type1"+G_PLATFORM_NAME,window.G_TING_CARD="ting_card"+G_PLATFORM_NAME,window.G_CARD_COLOR="card_color"+G_PLATFORM_NAME,window.G_GAME_BACK="game_back"+G_PLATFORM_NAME,window.G_LIVE_BROADCAST="live_broadcast"+G_PLATFORM_NAME,window.G_SHARE_USERID="share_userid"+G_PLATFORM_NAME,window.G_SOUND_LANGUAGE="sound_language",window.G_SOUND_LANGUAGE_IS_MANDARIN="0",window.G_CREATE_ROOM_DATA="create_room_data",window.G_LOGIN_KEY=1,window.G_SHOW_GAME_VOICE=!1,window.G_GAMESEVER_KEY=1,1==window.G_GAMESEVER_KEY?(window.G_PHP_IP="ouwan.hmzb.top",window.G_HTTP_DOMAIN="39.99.248.19",window.G_AGENT_SERVER="39.99.248.19"):(window.G_PHP_IP="ouone.hmzb.top",window.G_HTTP_DOMAIN="47.106.184.122",window.G_AGENT_SERVER="47.106.184.122"),window.wxShareURL="https://ouwan.hmzb.top/api/v1/server/Wxlogauth",window.wxShareIMG="http://ouwan.hmzb.top/cocos/imag_dxxs.png",window.wxShareAdvIMG="http://ouwan.hmzb.top/cocos/imag_dxxs.png",window.wxlobby_Qurcode="http://ouwan.hmzb.top/cocos/lobby_Qurcode.png",window.wxgame_Qurcode="http://ouwan.hmzb.top/cocos/game_Qurcode.png",window.iCheckCode="",window.G_SECRET_KEY=25614,window.G_SERVER_PORT=8090,window.G_SEND_PORT=3015,window.USER_MAGICEXPRESSCOSTDIAMON=[20,10,20,10,30,30,10,15,20,40],window.G_SHOP_BUY_CHANNEL=2,window.G_LOGIN_TYPE_XX=0,window.G_WX_UINIONID=null,window.G_USER_PASSWORD=null,window.G_PHONE_NUMBER="phone_number"+G_PLATFORM_NAME,window.G_PHONE_PASSWD="phone_passwd"+G_PLATFORM_NAME,window.G_REMEMBER_PASSWORD="remember_password"+G_PLATFORM_NAME,window.G_LOGIN_TYPE="login_type"+G_PLATFORM_NAME,window.G_IS_LOADER_STATIC_DATA=!1,window.G_WEICHAT_REFRESH_TOKEN="weichat_refresh_token"+G_PLATFORM_NAME,window.G_WEICHAT_OPENID="weichat_openid"+G_PLATFORM_NAME,window.G_QQ_ACCESS_TOKEN="qq_access_token"+G_PLATFORM_NAME,window.G_QQ_OPENID="qq_openid"+G_PLATFORM_NAME,window.G_QQ_EXPIRES_IN="qq_expires_in"+G_PLATFORM_NAME,window.G_PHONE_NUMBER="phone_number"+G_PLATFORM_NAME,window.G_PHONE_PASSWD="phone_passwd"+G_PLATFORM_NAME,window.G_LOGIN_TYPE="login_type"+G_PLATFORM_NAME,window.G_REMEMBER_PASSWORD="remember_password"+G_PLATFORM_NAME,window.G_LOBBY_LAYOUT_TYPE="lobby_layout_type"+G_PLATFORM_NAME,window.G_GAME_VERSION_KEY="game_{0}_version"+G_PLATFORM_NAME,window.G_JOIN_ROOM_SCENE="join_room_scene_{0}"+G_PLATFORM_NAME,window.G_REQUEST_CODE_TIME="request_code_time_{0}"+G_PLATFORM_NAME,window.G_ZHIDING_CLUB_ID="zhiding_club_id_{0}"+G_PLATFORM_NAME,window.G_SELECTED_SERVER_ID="selected_server_id"+G_PLATFORM_NAME,window.G_LOBBY_VERSION_KEY_TEST="lobby_version_test"+G_PLATFORM_NAME,window.G_GAME_VERSION_KEY_TEST="game_{0}_version_test"+G_PLATFORM_NAME,window.G_CITY_LIST=[{id:1,name:G_PLATFORM_NAME_CHINESE,gameList:[20161004,20211004]}],window.G_REGIST_GAME_LIST=[{id:20161004,name:"\u5168\u5357\u9ebb\u5c06",path:"HZMJ",picName:"hzmj",sceneName:"HZMJ",gameType:E_GameType.MJ},{id:20211004,name:"\u897f\u5468\u9ebb\u5c06",path:"HZMJ",picName:"hzmj",sceneName:"HZMJ",gameType:E_GameType.MJ}],window.isShow=!1,window.sharedWords=["\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\uff0c\u4e3a\u5bb6\u4e61\u7684\u597d\u4e1c\u897f\u4ee3\u8a00\u3002","\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\uff0c\u6211\u4eec\u4e00\u8d77\u4e3a\u5bb6\u4e61\u4ee3\u8a00\u3002","\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\uff0c\u6e38\u620f\u4e5f\u662f\u4e00\u79cd\u751f\u4ea7\u529b\u3002","\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\uff0c\u4e3a\u6211\u7684\u5bb6\u4e61\u4ee3\u8a00\u3002","\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\uff0c\u4e3a\u5bb6\u4e61\u4ee3\u8a00\u8fdb\u884c\u4e2d..."],window.G_BISAI_GAME_LIST=[20173124],window.G_SPECIAL_GAME_LIST=[],window.G_BR_GAME_LIST=[],window.G_DESK_GAME_LIST=[],window.G_ENTER_GAME_LIST=[],window.G_TIPS_GAME_LIST=[],window.G_ROOM_GAME_LIST=[],window.G_MULTI_NUM=100,window.G_IS_SHOW_POINT=!0,window.C_Director=cc.director,window.C_WinSize=cc.view.getVisibleSize(),window.DEBUG=2,window.rankInfoArr=[],window.rankInfoData={},window.curFinishState=["\u672a\u8fbe\u6807","\u5df2\u8fbe\u6807"],window.CheckPointInfoArr=[],window.LOOBBY_STATIC=!1,window.CUR_SCREEN=!1,window.personVedio={},cc._RF.pop()},{}],GlobalData:[function(e,t){"use strict";cc._RF.push(t,"688454DXbdE4anH2hBplrRY","GlobalData"),window.G_HANDLE_CODE_OK=0,window.G_JSON_DATA_STATUS_OK=1,window.G_COLOR_SELECTED=cc.color(201,35,17,255),window.G_COLOR_NOT_SELECTED=cc.color(20,77,152,255),window.G_DESC_FONT_SIZE=36,window.G_WEB_VIEW_LAYER_TAG=8889,window.G_LOADING_ZORDER_TAG=8888,window.G_TIPS_ZORDER_TAG=8887,window.G_CLICKTIPS_ZORDER_TAG=8886,window.G_SYSTEMMSG_ZORDER_TAG=8885,window.G_SYSTEMNOTICE_ZORDER_TAG=8884,window.G_MSGBOX_ZORDER_TAG=8883,window.G_REPEAT_CONNECT_LAYER_TAG=8882,window.G_DISMISS_ROOM_LAYER_TAG=8881,window.G_GAME_UPDATE_LAYER_TAG=8880,window.G_FRIEND_NOTIFY_LAYER_TAG=8879,window.G_MATCH_NOTIFY_LAYER_TAG=8878,window.G_CHECKPOINT_NOTIFY_LAYER_TAG=8878,window.G_PLAYERUI_ZORDER_TAG=689,window.G_CHATUI_ZORDER_TAG=690,window.G_VOICE_ZORDER_TAG=691,window.G_GAME_SET_ZORDER_TAG=692,window.G_SET_ZORDER_TAG=693,window.G_RULE_ZORDER_TAG=694,window.G_FRIEND_INVITE_ZORDER_TAG=695,window.G_RESULT_ZORDER_TAG=889,window.G_ALL_RESULT_ZORDER_TAG=890,window.G_CUO_PAI_LAYER=1e3,window.G_TUOGUAN_LAYER_TAG=6889,window.G_SUBSIDY_ZORDER_TAG=7974,window.G_BUYGOLD_ZORDER_TAG=7975,window.G_MATCH_LAYER_TAG=9896,window.G_COMMON_TIMEOUT_TIME=20,window.G_COMMON_LOADING_TIME=30,window.G_ANIMATION_FRAME_TIME=.1,window.G_MSG_HEAD_SIZE=20,window.G_INVALID_BYTE_VALUE=255,window.MAX_USER_NAME_LEN=256,window.G_CHAT_COMMON_TEXT_TAB=["\u522b\u5435 \u522b\u5435 \u4e13\u5fc3\u6253\u9ebb\u5c06","\u522b\u8d70\u522b\u8d70\u6211\u8981\u6253\u5230\u5929\u4eae","\u5feb\u662f\u4e0d\u662f\u8d62\u4e86\u5c31\u62d6\u65f6\u95f4\u4e86","\u5927\u5bb6\u6ce8\u610f\u522b\u4e71\u6254\uff0c\u5927\u80e1\u6760\u7206\u5c31\u4e0d\u597d\u4e86","\u4e1c\u5357\u897f\u5317\u4e2d \u80e1\u724c\u9760\u724c\u98ce","\u4eca\u5929\u724c\u98ce\u86ee\u597d\u54e6","\u770b\u4f60\u6280\u672f\u8fd9\u4e48\u597d\u52a0\u4e2a\u5fae\u4fe1\u54c7","\u4f60\u7684\u6280\u672f\u8fd9\u4e48\u597d\u662f\u4e0d\u662f\u5728\u706b\u8f66\u7ad9\u5b66\u5230\u7684","\u4f60\u8981\u6253\u5feb\u6765\u90fd\u7b49\u5230\u5929\u4eae\u4e86","\u4e00\u665a\u4e0a\u90fd\u6ca1\u80e1\u5f00 \u4e0d\u597d\u641e\u91ce","\u600e\u4e48\u53c8\u65ad\u7ebf\u7f51\u7edc\u8fd9\u4e48\u5dee","\u732a\u4ed4\u597d\u5356"],window.G_CHAT_MAX_NUM=20,window.G_CHAT_COMMON_MAX_NUM=10,window.G_WAR_RECORD_MAX_NUM=50,window.G_WAR_RECORD_PLAYER_NUM=9,window.G_longitude="\u672a\u77e5\u7ecf\u5ea6",window.G_latitude="\u672a\u77e5\u7eac\u5ea6",window.G_province="\u672a\u77e5\u7701",window.G_city="\u672a\u77e5\u5e02",window.G_district="\u672a\u77e5\u533a/\u53bf",window.G_addrStr="\u672a\u77e5\u5730\u5740",window.G_address="\u672a\u6388\u6743\u5b9a\u4f4d",window.G_DEFAULT_LOBBY_LAYOUT_TYPE=1,window.G_DEFAULT_STRING="aa",window.G_CLUB_DESK_LEN=20,window.G_PRIVATE_ROOM_COST_NUM=25,window.G_bGetChatList=!1,window.G_chatList={},cc._RF.pop()},{}],GlobalEnum:[function(e,t){"use strict";var i;cc._RF.push(t,"a404eEXXSNDkoFw97mqWbcD","GlobalEnum"),window.E_REQUEST_TYPE={GET:"GET",POST:"POST"},window.E_ROOM_TYPE={GOLD:0,CARD:1,PRIVATE:2,MATCH:3,REALMATCH:4,TABLE:5,BARRIERMATCH:6,NORMAL:-1},window.E_ROOM_SORT={RANKMATCH:3,CHECKPOINTMATCH:4},window.E_RegType={PC:0,MOB:1},window.E_RegWay={FAST:0,COMMON:1,WECHAT:2,QQ:3,PHONE:4},window.E_LoginType={PC:0,WX:1,QQ:2,PHONE:3},window.E_UserSex={NIL:null,FEMALE:0,MALE:1,NONE:2},window.SELECT_TYPE_ONE=1,window.SELECT_TYPE_MORE=2,window.SELECT_TYPE_OTHER=3,window.SELECT_TYPE_INPUT=4,window.CHECKBOX_NAME="CheckBox_{0}_{1}",window.INPUTBOX_NAME="INPUT_{0}_{1}",window.CELL_NUM=4,window.E_NET_TYPE={NIL:null,NONE:"0",WIFI:"1",MOBILE:"2",ONTHER:"3"},window.E_REGIST_FANCITON_TAB={NETWORK_CHANGED:"networkChanged"},window.E_RegStatus={REG:0,LOGIN:1},window.E_NoticeType={IMMEDIATELY:0,COMMON:1,SPECIAL:2,STOP:3,STOP_SVR_PRE_TIP:100},window.E_WX_ShareType={FRIEND:1,ZONE:2},window.E_QQ_ShareType={FRIEDN:1,ZONE:2},window.E_PROP_ID_DEF={prop_flower_id:1,prop_brick_id:2,prop_anti_id:3,prop_kick_id:4,prop_house_id:11,prop_egg_id:12,prop_cake_id:13,prop_beer_id:14,prop_car_id:15,prop_kiss_id:16,prop_bomb_id:17,prop_applause_id:18,prop_ring_id:19,prop_changecard_id:39,prop_recordcrad_id:40},window.E_ConsumeType={RMB:0,GOLD:1,DIAMOND:2},window.E_ItemType={NONE:0,GOLD:1,DIAMOND:2,PROP:3,SUBSTANCE:4},window.E_RankType={RICH:0,WIN:1},window.E_RichType={CARD:"jewels",GOLD:"money"},window.E_ResourceType={NONE:0,GOLD:1,CARD:2,BANK:3,FIRECOIN:4,GiftCard:5,TRANSFERNUM:6},window.E_ResourceName=((i={})[E_ResourceType.NONE]="\u672a\u77e5",i[E_ResourceType.GOLD]="\u91d1\u5e01",i[E_ResourceType.CARD]="\u94bb\u77f3",i[E_ResourceType.BANK]="\u94f6\u884c\u91d1\u5e01",i[E_ResourceType.GiftCard]="\u793c\u5238",i[E_ResourceType.TRANSFERNUM]="\u5151\u6362\u6b21\u6570",i),window.E_UserStatus={USER_STATUS_DEFAULT:0,USER_STATUS_WATCH:1,USER_STATUS_SITING:2,USER_STATUS_AGREE:3,USER_STATUS_PLAYING:4},window.E_ReasonKickout={REASON_KICKOUT_DEFAULT:0,REASON_KICKOUT_STAND:1,REASON_KICKOUT_STAND_MINLIMIT:2,REASON_KICKOUT_STAND_MAXLIMIT:3,REASON_KICKOUT_NOTAGREE:4,REASON_KICKOUT_STAND_FIRECOIN_MINLIMIT:5,REASON_KICKOUT_STAND_FIRECOIN_MAXLIMIT:6,REASON_KICKOUT_LONG_TIME_NOOPERATION:7,REASON_KICKOUT_BARRIERMATCH_FAIL:8},window.E_MJ_TYPE={NONE:0,W1:1,W2:2,W3:3,W4:4,W5:5,W6:6,W7:7,W8:8,W9:9,W10:10,T1:11,T2:12,T3:13,T4:14,T5:15,T6:16,T7:17,T8:18,T9:19,T10:20,B1:21,B2:22,B3:23,B4:24,B5:25,B6:26,B7:27,B8:28,B9:29,B10:30,FD:31,FN:32,FX:33,FB:34,ZHONG:35,FA:36,BAI:37,FCHUN:41,FXIA:42,FQIU:43,FDONG:44,FMEI:45,FLAN:46,FZHU:47,FJU:48,CAISHEN:49,YUANBAO:50,MAO:51,LAOSHU:52},window.E_LobbyView={LOBBY:0,CREATE:1,GOLD:2,ROOM:3},window.E_PlatformVersionType={IOS:1,ANDROID:2},window.E_ResourceChangeReason={DEFAULT:0,CREATE_ROOM:1,GAME_BEGIN:2,GAME_FINISHED:3,GAME_SELLETE_ROLLBACK:4,GAME_SELLETE_NORAML:5,GAME_SELLETE_AA:6,GOLD_ROOM_PUMP:7,ROOM_PUMP_CONSUME:8,SYSTEM_SUBSIDY:9,REGISTER:10,MAGIC_EXPRESS:11,BANK_SAVE:1e3,BANK_TAKE:1001,BANK_TRAN:1002,GIVE:1003,SUPPORT:1004,SIGN:1005,BACK_RECHARE:1006,PAY_RECHARE:1007,AGENT_RECHARE:1008,TURNTABLE:1009,SHARE:1010,FRIEND_REWARD:1011,BIND_PHONE:1012,SEND_HORN:1013,USER_MAIL:1014,BIND_AGENT:1015,INVITE_ENTER:1016,AGENT_GIVE:1017,CLUB_RECHARGE:1018,BACK_CLUB_RECHARGE:1019,EXIT_CLUB:1020,SYSTEM_MAIL:1021,APP_PAY_TAKE:1022,APPLY_POS:1023,LOTTERY_PURCHASE:1040,GOLD_COLOR:1041,FADEOUT:1042,ACHIEVEMENT:1043,BATTERY_MALL_PURCHASE:1044,USE_RED_PACKET:1045,MATCH_REWARDS:1046,GAME_MATCH_FEE:1047,MATCH_FAIL:1048,ACHIEVEMENT_REWARDS:1049},window.E_LoginStatus={FAILURE:0,CANCEL:-1,SUCCEED:1},window.E_FeedbackType={GAME:1,LOGIN:2,PAY:3,REPORT:4,ONTHER:5},window.E_FeedbackStatus={NONE:0,NO_READ:1,READ:2,CLOSE:3},window.E_LobbyLayoutType={TYPT_1:1,TYPT_2:2},window.E_BankRecordType={SAVE:1,TAKE:2,TRANSFER:3},window.E_SHARE_WAY={DEFAULT:1,IMAGE_LOCAL:2,IMAGE_URL:3,TEXT_AND_IMAGE_URL:4,TEXT_AND_IMAGE_LOCAL:5,TEXT:6},window.E_FriendNotifyType={REQ_ADD:1,ANSWER_ADD:2,REWARD:3,MESSAGE:4,INVITE_PLAYGAME:5,DEL:6},window.E_FriendOnlineStatus={OFF:0,ON:1},window.E_FriendRewardStatus={OFF:0,ON:1},window.E_AnswerAddFriendsGroup={AGREE:1,REFUSE:2},window.E_FriendsGroupNotifyType={REQ_JOIN:1,INVITE_JOIN:2,DELETED:3,QUIT:4,DISMISS:5,REQ_JOIN_OK:6,REQ_JOIN_FAIL:7,ECV_INVITE_JOIN:8,REFUSE_JOIN:9,AGREE_JOIN:10,TRANSFER:11,AUTH:12},window.E_FriendsGroupMsgType={ROOM:1,ACCO:2},window.E_FriendsGroupMemberStatus={NORMAL:0,KING:1,MANAGER:2},window.E_FriendsGroupPowerType={NO:0,DEL:1,DESK:2,VIP:4,FIRE_COIN:8,SET:16,ALL:31},window.E_NOTIFY_MSG_TYPE={SMT_CHAT:1,SMT_EJECT:2,SMT_GLOBAL:4,SMT_PROMPT:8,SMT_TABLE_ROLL:16},window.E_GameType={PK:1,MJ:2,BR:3,DW:4,QT:5},window.E_PayWay={WEI_XIN:1,ZHI_FU_BAO:2,QQ_QIAN_BAO:3},window.E_PayType={PING_GUO:1,WEI_XIN:2,HUI_FU_BAO:3,WANG_SHI_FU:4,JIAN_FU:5,XIN_BAO:6,HUI_FU_BAO_ZL:7,QU_ZHI_FU:8,ZHI_YI_FU:9,JUN_FU_TONG:10,ZHI_FU_GOU:100,MO_FANG:200},window.E_PAIWEI_INFO={Sign_ENTER:1,Sign_LEFT:2,LobbyID:1e4},window.rankMatchLevel={NOVICE_ONE_STAR:0,NOVICE_TWO_STAR:1,NOVICE_THREE_STAR:2,NOVICE_FOUR_STAR:3,NOVICE_FIVE_STAR:4,ELITE_ONE_STAR:5,ELITE_TWO_STAR:6,ELITE_THREE_STAR:7,ELITE_FOUR_STAR:8,ELITE_FIVE_STAR:9,MASTER_ONE_STAR:10,MASTER_TWO_STAR:11,MASTER_THREE_STAR:12,MASTER_FOUR_STAR:13,MASTER_FIVE_STAR:14,EXPERT_ONE_STAR:15,EXPERT_TWO_STAR:16,EXPERT_THREE_STAR:17,EXPERT_FOUR_STAR:18,EXPERT_FIVE_STAR:19,ARTIST_ONE_STAR:20,ARTIST_TWO_STAR:21,ARTIST_THREE_STAR:22,ARTIST_FOUR_STAR:23,ARTIST_FIVE_STAR:24,KING_ONE_STAR:25,KING_TWO_STAR:26,KING_THREE_STAR:27,KING_FOUR_STAR:28,KING_FIVE_STAR:29,SUPREME_ONE_STAR:30,SUPREME_TWO_STAR:31,SUPREME_THREE_STAR:32,SUPREME_FOUR_STAR:33,SUPREME_FIVE_STAR:34},window.E_BANNER_TYPE={IMG:1,VEDIO:2,OTHER:3},cc._RF.pop()},{}],GlobalError:[function(e,t){"use strict";function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"bce97RK4XdPArZvfWfPhsYh","GlobalError"),window.GlobalError=window.GlobalError?window.GlobalError:{},GlobalError.ERROR_GAME_CONNECT_FAILED=-3,GlobalError.ERROR_LOBBY_CONNECT_FAILED=-2,GlobalError.ERROR_CONNECT_TIMEOUT=-1,GlobalError.ERROR_ACCOUNT_EXISTS=1,GlobalError.ERROR_ACCOUNT_NOTEXISTS=2,GlobalError.ERROR_PASSWD_FALSE=3,GlobalError.ERROR_NO_USER_DATA=4,GlobalError.ERROR_ALREADY_LOGON=5,GlobalError.ERROR_DESK_FULL=6,GlobalError.ERROR_NO_THIS_DESK=7,GlobalError.ERROR_DESKSTATION_HAVENOUSER=8,GlobalError.ERROR_INVALID_DESK=9,GlobalError.ERROR_DESK_NOT_INDISMISSS=10,GlobalError.ERROR_NO_BUY_DESK_CONFIG=11,GlobalError.ERROR_USER_ALREADY_LOGON=12,GlobalError.ERROR_TARGET_USER_NOT_EXISTS=13,GlobalError.ERROR_ACCOUNT_NOT_MATCH=14,GlobalError.ERROR_SERVICE_FULL=15,GlobalError.ERROR_SERVICE_ROOM_NO_MONEYEQUIRE=16,GlobalError.ERROR_ROOM_EXISTING=17,GlobalError.ERROR_NOT_ENOUGH_JEWELS=18,GlobalError.ERROR_CANNOT_SEND_MYSELF=19,GlobalError.ERROR_NO_MATCH_DATA=20,GlobalError.ERROR_NO_THIS_ROOM=21,GlobalError.ERROR_NO_GRADE_DATA=22,GlobalError.ERROR_NO_ROOMOPENED_DATA=23,GlobalError.ERROR_ROOM_TOKEN_NOTMATCH=24,GlobalError.ERROR_NO_MAIL_DATA=25,GlobalError.ERROR_NO_REQ_SUPPORT_TIMES=26,GlobalError.ERROR_INVITE_CODE=27,GlobalError.ERROR_TOKEN_IS_INVALID=28,GlobalError.ERROR_CANNOT_BUYDESK_INROOM=29,GlobalError.ERROR_CANNOT_ENTERDESK_INROOM=30,GlobalError.ERROR_ACCOUNT_INVALID=31,GlobalError.ERROR_INVALID_MAIL=32,GlobalError.ERROR_NOVAILD_DESK=33,GlobalError.ERROR_HAVE_DIRTYWORD=34,GlobalError.ERROR_NEED_SET_BANKPASSWD=35,GlobalError.ERROR_BANKPASSWD_FALSE=36,GlobalError.ERROR_BANK_SAVEMONEY_TOOMUCH=37,GlobalError.ERROR_BANK_TAKEMONEY_TOOMUCH=38,GlobalError.ERROR_BUY_DESK_TOPLIMIT=39,GlobalError.ERROR_FRIEND_ALREADY_EXISTS=40,GlobalError.ERROR_FRIEND_ALREDAY_REQADD=41,GlobalError.ERROR_FIRNED_CANNOT_ADDMYSELF=42,GlobalError.ERROR_FRIEND_ISNOT_FRIEND=43,GlobalError.ERROR_FRIEND_ALREADY_INVITE=44,GlobalError.ERROR_GAME_CANNOT_GAMEBEGIN=45,GlobalError.ERROR_ACCOUNT_SEAL=46,GlobalError.ERROR_FRIENDSGROUP_NOT_EXISTS=47,GlobalError.ERROR_FRIENDSGROUP_NO_MASTER=48,GlobalError.ERROR_FRIENDSGROUP_EVE_LIMIT=49,GlobalError.ERROR_FRIENDSGROUP_ALL_LIMIT=50,GlobalError.ERROR_FRIENDSGROUP_JOIN_LIMIT=51,GlobalError.ERROR_FRIENDSGROUP_PEOPLE_FULL=52,GlobalError.ERROR_FRIENDSGROUP_REPEAT_SEND=53,GlobalError.ERROR_FRIENDSGROUP_ALREADY_IN=54,GlobalError.ERROR_FRIENDSGROUP_NOT_NOTIY=55,GlobalError.ERROR_FRIENDSGROUP_ERROR_NOTIY=56,GlobalError.ERROR_FRIENDSGROUP_ERROR_WORD=57,GlobalError.ERROR_FRIENDSGROUP_CREATE_FULL=58,GlobalError.ERROR_FRIENDSGROUP_ERROR_ID=59,GlobalError.ERROR_FRIENDSGROUP_ILLEGAL_OPER=60,GlobalError.ERROR_FRIENDSGROUP_ERR_DISMISS=61,GlobalError.ERROR_FRIEND_ERR_REWARDCOUNT=62,GlobalError.ERROR_FRIENDSGROUP_ERR_JOIN_ROOM=63,GlobalError.ERROR_STOP_JOIN=64,GlobalError.ERROR_FRIENDSGROUP_DESK_NOT_EXISTS=65,GlobalError.ERROR_FRIENDSGROUP_DESK_PLAYING=66,GlobalError.ERROR_PHONE_NO_BIND=67,GlobalError.ERROR_DESKSTATION_NOTEXISTS=68,GlobalError.ERROR_DESKSTATION_HAVEUSER=69,GlobalError.ERROR_NO_MANAGER=70,GlobalError.ERROR_FRIENDSGROUP_MANA_LIMIT=71,GlobalError.ERROR_FRIENDSGROUP_ALREADY_NOTIY=72,GlobalError.ERROR_FRIEND_ROOM_DESK_FULL=73,GlobalError.ERROR_NO_SET_PEOPLE=74,GlobalError.ERROR_NOT_ENOUGH_MONEY=75,GlobalError.ERROR_CANNOT_DEL_USER=76,GlobalError.ERROR_FRIENDSGROUP_ERR_CREATE_ROOM=77,GlobalError.ERROR_FRIENDSGROUP_FIRECOIN_LIMIT=78,GlobalError.ERROR_FRIENDSGROUP_NO_FIRECOIN_INROOM=79,GlobalError.ERROR_NOT_AGENT=80,GlobalError.ERROR_FRIENDSGROUP_FIRECOIN_RECOVER=81,GlobalError.ERROR_GAME_PLAYING_ERR_SIT=82,GlobalError.ERROR_FRIENDSGROUP_OPP_CREATE_FULL=83,GlobalError.ERROR_SERVER_CLOSE=84,GlobalError.ERROR_NAME_REPEAT=85,GlobalError.ERROR_FRIENDSGROUP_HAVE_ROOM=86,GlobalError.ERROR_FRIENDSGROUP_NOT_JEWELS=87,GlobalError.ERROR_FRIENDSGROUP_NOT_MONEY=88,GlobalError.ERROR_GAME_NO_START=89,GlobalError.ERROR_MAC_NOTMATCH=90,GlobalError.ERROR_CREATE_ROOM=91,GlobalError.ERROR_XIANLIAO_NO_BIND=92,GlobalError.ERROR_MATCH_PLAYING=93,GlobalError.ERROR_MATCH_OVER=94,GlobalError.ERROR_LOCATION_CLOSED=95,GlobalError.ERROR_RANKMATCH_OVER=96,GlobalError.ERROR_CHECKPOINTS_INVALID=97,GlobalError.ERROR_BARRIERMATCH_NO_SET=98,GlobalError.ERROR_BARRIERMATCH_OVER=99,GlobalError.ERROR_MATCH_START_SOON=100,GlobalError.ERROR_NO_CHAT_DATA=101,GlobalError.ERROR_CHAT_DATA_TOPLIMIT=102,GlobalError.ERROR_ACCOUNT_TALK=103,GlobalError.ERROR_NOT_ENOUGH_GIFTCARD=104,GlobalError.ERROR_NOT_REVIVE_GAMESTATUS=105,GlobalError.ERROR_MATCH_NOTEXISTS=106,GlobalError.KEY_VALUE_TAB=[[[GlobalError.ERROR_GAME_CONNECT_FAILED],"\u6e38\u620f\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25"],[[GlobalError.ERROR_LOBBY_CONNECT_FAILED],"\u5927\u5385\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25"],[[GlobalError.ERROR_CONNECT_TIMEOUT],"\u8bf7\u6c42\u8fde\u63a5\u670d\u52a1\u5668\u8d85\u65f6"],[[GlobalError.ERROR_ACCOUNT_EXISTS],"\u8d26\u53f7\u5df2\u7ecf\u5b58\u5728"],[[GlobalError.ERROR_ACCOUNT_NOTEXISTS],"\u8d26\u53f7\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_PASSWD_FALSE],"\u5bc6\u7801\u9519\u8bef"],[[GlobalError.ERROR_NO_USER_DATA],"\u6ca1\u6709\u73a9\u5bb6\u6570\u636e"],[[GlobalError.ERROR_ALREADY_LOGON],"\u73a9\u5bb6\u5df2\u7ecf\u767b\u5f55\u6e38\u620f"],[[GlobalError.ERROR_DESK_FULL],"\u684c\u5b50\u4eba\u6570\u6ee1\u4e86"],[[GlobalError.ERROR_NO_THIS_DESK],"\u6ca1\u6709\u8fd9\u4e2a\u684c\u5b50"],[[GlobalError.ERROR_DESKSTATION_HAVENOUSER],"\u8fd9\u4e2a\u5ea7\u4f4d\u4e0a\u6ca1\u6709\u73a9\u5bb6"],[[GlobalError.ERROR_INVALID_DESK],"\u684c\u5b50\u4e0d\u53ef\u7528"],[[GlobalError.ERROR_DESK_NOT_INDISMISSS],"\u684c\u5b50\u6ca1\u6709\u5904\u4e8e\u89e3\u6563\u72b6\u6001"],[[GlobalError.ERROR_NO_BUY_DESK_CONFIG],"\u6ca1\u6709\u8fd9\u4e2a\u914d\u7f6e"],[[GlobalError.ERROR_USER_ALREADY_LOGON],"\u73a9\u5bb6\u5df2\u7ecf\u767b\u5f55\u4e86"],[[GlobalError.ERROR_TARGET_USER_NOT_EXISTS],"\u76ee\u6807\u73a9\u5bb6\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_ACCOUNT_NOT_MATCH],"\u8d26\u53f7\u4e0d\u5339\u914d"],[[GlobalError.ERROR_SERVICE_FULL],"\u670d\u52a1\u5668\u4eba\u6570\u5df2\u6ee1"],[[GlobalError.ERROR_SERVICE_ROOM_NO_MONEYEQUIRE],"\u4e0d\u6ee1\u8db3\u8fdb\u5165\u623f\u95f4\u6761\u4ef6"],[[GlobalError.ERROR_ROOM_EXISTING],"\u6e38\u620f\u4e2d\u4e0d\u80fd\u79bb\u5f00\u623f\u95f4"],[[GlobalError.ERROR_NOT_ENOUGH_JEWELS],"\u94bb\u77f3\u4e0d\u8db3"],[[GlobalError.ERROR_CANNOT_SEND_MYSELF],"\u4e0d\u80fd\u8d60\u9001\u7ed9\u81ea\u5df1"],[[GlobalError.ERROR_NO_MATCH_DATA],"\u76ee\u6807\u6570\u636e\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_NO_THIS_ROOM],"\u623f\u95f4\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_NO_GRADE_DATA],""],[[GlobalError.ERROR_NO_ROOMOPENED_DATA],""],[[GlobalError.ERROR_NO_MAIL_DATA],""],[[GlobalError.ERROR_ROOM_TOKEN_NOTMATCH],"token\u4e0d\u5339\u914d"],[[GlobalError.ERROR_NO_REQ_SUPPORT_TIMES],"\u4eca\u5929\u53ef\u7533\u6e05\u7834\u4ea7\u6b21\u6570\u4e0d\u8db3"],[[GlobalError.ERROR_INVITE_CODE],"\u9080\u8bf7\u7801\u9519\u8bef"],[[GlobalError.ERROR_TOKEN_IS_INVALID],"token\u65e0\u6548"],[[GlobalError.ERROR_CANNOT_BUYDESK_INROOM],"\u4f60\u4ee5\u5728\u623f\u95f4\u4e2d\u65e0\u6cd5\u521b\u5efa\u623f\u95f4 \u81ea\u52a8\u52a0\u5165\u4e2d.."],[[GlobalError.ERROR_CANNOT_ENTERDESK_INROOM],""],[[GlobalError.ERROR_ACCOUNT_INVALID],"\u8d26\u53f7\u4e0d\u5408\u6cd5"],[[GlobalError.ERROR_INVALID_MAIL],"\u6ca1\u6709\u8fd9\u4e2a\u90ae\u4ef6"],[[GlobalError.ERROR_NOVAILD_DESK],"\u684c\u5b50\u5df2\u8d2d\u4e70\u5b8c"],[[GlobalError.ERROR_HAVE_DIRTYWORD],"\u8f93\u5165\u5185\u5bb9\u542b\u654f\u611f\u8bcd\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"],[[GlobalError.ERROR_NEED_SET_BANKPASSWD],"\u8bf7\u5148\u8bbe\u7f6e\u94f6\u884c\u5bc6\u7801"],[[GlobalError.ERROR_BANKPASSWD_FALSE],"\u94f6\u884c\u5bc6\u7801\u9519\u8bef"],[[GlobalError.ERROR_BANK_SAVEMONEY_TOOMUCH],"\u5b58\u7684\u91d1\u5e01\u4e0d\u80fd\u8d85\u8fc7\u8eab\u4e0a\u7684\u91d1\u5e01"],[[GlobalError.ERROR_BANK_TAKEMONEY_TOOMUCH],"\u53d6\u7684\u91d1\u5e01\u4e0d\u80fd\u8d85\u8fc7\u94f6\u884c\u7684\u91d1\u5e01"],[[GlobalError.ERROR_BUY_DESK_TOPLIMIT],"\u521b\u5efa\u623f\u95f4\u5df2\u8fbe\u4e0a\u9650"],[[GlobalError.ERROR_FRIEND_ALREADY_EXISTS],"\u5df2\u7ecf\u662f\u597d\u53cb\u4e86"],[[GlobalError.ERROR_FRIEND_ALREDAY_REQADD],"\u5df2\u7ecf\u53d1\u9001\u6dfb\u52a0\u597d\u53cb\u8bf7\u6c42"],[[GlobalError.ERROR_FIRNED_CANNOT_ADDMYSELF],"\u4e0d\u80fd\u52a0\u81ea\u5df1\u4e3a\u597d\u53cb"],[[GlobalError.ERROR_FRIEND_ISNOT_FRIEND],"\u5bf9\u65b9\u8fd8\u4e0d\u662f\u597d\u53cb"],[[GlobalError.ERROR_FRIEND_ALREADY_INVITE],"\u5df2\u7ecf\u6536\u5230\u9080\u8bf7\u4e86"],[[GlobalError.ERROR_GAME_CANNOT_GAMEBEGIN],"\u672a\u6ee1\u8db3\u6e38\u620f\u5f00\u59cb\u6761\u4ef6"],[[GlobalError.ERROR_ACCOUNT_SEAL],""],[[GlobalError.ERROR_FRIENDSGROUP_NOT_EXISTS],"\u4ff1\u4e50\u90e8\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_FRIENDSGROUP_NO_MASTER],"\u4e0d\u662f\u7fa4\u4e3b"],[[GlobalError.ERROR_FRIENDSGROUP_EVE_LIMIT],"\u6bcf\u5929\u53ea\u80fd\u66f4\u65391\u6b21\u540d\u5b57"],[[GlobalError.ERROR_FRIENDSGROUP_ALL_LIMIT],"\u6700\u591a\u53ea\u80fd\u66f4\u65393\u6b21\u540d\u5b57"],[[GlobalError.ERROR_FRIENDSGROUP_JOIN_LIMIT],"\u52a0\u5165\u4ff1\u4e50\u90e8\u5df2\u8fbe\u4e0a\u9650"],[[GlobalError.ERROR_FRIENDSGROUP_PEOPLE_FULL],"\u4ff1\u4e50\u90e8\u4eba\u6570\u5df2\u6ee1"],[[GlobalError.ERROR_FRIENDSGROUP_REPEAT_SEND],"\u91cd\u590d\u53d1\u9001\u6d88\u606f"],[[GlobalError.ERROR_FRIENDSGROUP_ALREADY_IN],"\u5df2\u7ecf\u5728\u4ff1\u4e50\u90e8\u4e2d"],[[GlobalError.ERROR_FRIENDSGROUP_NOT_NOTIY],"\u901a\u77e5\u6d88\u606f\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_FRIENDSGROUP_ERROR_NOTIY],"\u901a\u77e5\u6d88\u606f\u5f02\u5e38"],[[GlobalError.ERROR_FRIENDSGROUP_ERROR_WORD],"\u5305\u542b\u975e\u6cd5\u5b57\u7b26"],[[GlobalError.ERROR_FRIENDSGROUP_CREATE_FULL],"\u521b\u5efa\u4ff1\u4e50\u90e8\u6570\u91cf\u5df2\u7ecf\u5230\u4e0a\u9650"],[[GlobalError.ERROR_FRIENDSGROUP_ERROR_ID],"\u76ee\u6807id\u9519\u8bef"],[[GlobalError.ERROR_FRIENDSGROUP_ILLEGAL_OPER],"\u975e\u6cd5\u64cd\u4f5c"],[[GlobalError.ERROR_FRIENDSGROUP_ERR_DISMISS],"\u4ff1\u4e50\u90e8\u521b\u5efa\u4e00\u5929\u540e\u624d\u80fd\u89e3\u6563"],[[GlobalError.ERROR_FRIEND_ERR_REWARDCOUNT],"\u6bcf\u5929\u6253\u8d4f\u597d\u53cb\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"],[[GlobalError.ERROR_FRIENDSGROUP_ERR_JOIN_ROOM],"\u975e\u4ff1\u4e50\u90e8\u6210\u5458\u7981\u6b62\u52a0\u5165\u4ff1\u4e50\u90e8\u623f\u95f4"],[[GlobalError.ERROR_STOP_JOIN],"\u6e38\u620f\u4e2d\u9014\u7981\u6b62\u52a0\u5165"],[[GlobalError.ERROR_FRIENDSGROUP_DESK_NOT_EXISTS],"\u4ff1\u4e50\u90e8\u724c\u684c\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_FRIENDSGROUP_DESK_PLAYING],"\u6e38\u620f\u8fdb\u884c\u4e2d\uff0c\u724c\u5c40\u7ed3\u675f\u540e\u89e3\u6563"],[[GlobalError.ERROR_PHONE_NO_BIND],"\u624b\u673a\u672a\u7ed1\u5b9a"],[[GlobalError.ERROR_DESKSTATION_NOTEXISTS],"\u5ea7\u4f4d\u4e0d\u5b58\u5728"],[[GlobalError.ERROR_DESKSTATION_HAVEUSER],"\u8fd9\u4e2a\u5ea7\u4f4d\u4e0a\u5df2\u7ecf\u6709\u73a9\u5bb6"],[[GlobalError.ERROR_NO_MANAGER],"\u6ca1\u6709\u6743\u9650\u7684\u64cd\u4f5c"],[[GlobalError.ERROR_FRIENDSGROUP_MANA_LIMIT],"\u4ff1\u4e50\u90e8\u7ba1\u7406\u5458\u5df2\u8fbe\u4e0a\u9650"],[[GlobalError.ERROR_FRIENDSGROUP_ALREADY_NOTIY],"\u6d88\u606f\u5df2\u7ecf\u88ab\u5176\u5b83\u73a9\u5bb6\u64cd\u4f5c"],[[GlobalError.ERROR_FRIEND_ROOM_DESK_FULL],"\u623f\u95f4\u4eba\u6570\u5df2\u6ee1\uff0c\u4e0d\u80fd\u8fdb\u5165\u623f\u95f4"],[[GlobalError.ERROR_NO_SET_PEOPLE],"\u6ca1\u6709\u8bbe\u7f6e\u4eba\u6570"],[[GlobalError.ERROR_NOT_ENOUGH_MONEY],"\u91d1\u5e01\u4e0d\u8db3"],[[GlobalError.ERROR_CANNOT_DEL_USER],"\u5728\u6e38\u620f\u4e2d\u65e0\u6cd5\u5220\u9664\u8be5\u73a9\u5bb6"],[[GlobalError.ERROR_FRIENDSGROUP_ERR_CREATE_ROOM],"\u521b\u5efa\u4ff1\u4e50\u90e8\u623f\u95f4\u5931\u8d25"],[[GlobalError.ERROR_FRIENDSGROUP_FIRECOIN_LIMIT],"\u706b\u5e01\u4e0d\u8db3"],[[GlobalError.ERROR_FRIENDSGROUP_NO_FIRECOIN_INROOM],"\u6e38\u620f\u4e2d\u65e0\u6cd5\u5145\u503c\u5151\u6362\u706b\u5e01"],[[GlobalError.ERROR_NOT_AGENT],"\u4e0d\u662f\u4ee3\u7406\uff0c\u65e0\u6cd5\u64cd\u4f5c"],[[GlobalError.ERROR_FRIENDSGROUP_FIRECOIN_RECOVER],"\u706b\u5e01\u56de\u6536\u8d85\u8fc7\u9650\u5236"],[[GlobalError.ERROR_GAME_PLAYING_ERR_SIT],"\u6e38\u620f\u4e2d\u7981\u6b62\u5750\u4e0b"],[[GlobalError.ERROR_FRIENDSGROUP_OPP_CREATE_FULL],"\u5bf9\u65b9\u521b\u5efa\u4ff1\u4e50\u90e8\u6570\u91cf\u4e0a\u9650"],[[GlobalError.ERROR_SERVER_CLOSE],"\u670d\u52a1\u5668\u505c\u670d\u7ef4\u62a4\u4e2d"],[[GlobalError.ERROR_NAME_REPEAT],"\u8be5\u540d\u5b57\u5df2\u88ab\u5360\u7528"],[[GlobalError.ERROR_FRIENDSGROUP_HAVE_ROOM],"\u60a8\u8fd8\u6709\u672a\u89e3\u6563\u7684\u724c\u684c\u6216vip\u623f\uff0c\u4e0d\u80fd\u8fdb\u884c\u6b64\u64cd\u4f5c\uff01"],[[GlobalError.ERROR_FRIENDSGROUP_NOT_JEWELS],"\u7fa4\u4e3b\u94bb\u77f3\u4e0d\u8db3"],[[GlobalError.ERROR_FRIENDSGROUP_NOT_MONEY],"\u7fa4\u4e3b\u91d1\u5e01\u4e0d\u8db3"],[[GlobalError.ERROR_NO_MAIL_DATA],"\u6ca1\u6709\u90ae\u4ef6\u6570\u636e"],[[GlobalError.ERROR_GAME_NO_START],"\u6e38\u620f\u670d\u52a1\u5668\u672a\u542f\u52a8"],[[GlobalError.ERROR_MAC_NOTMATCH],"\u8be5\u8d26\u53f7\u5df2\u88ab\u5176\u4ed6\u8bbe\u5907\u7ed1\u5b9a\uff0c\u5982\u662f\u672c\u4eba\u8d26\u53f7\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u89e3\u7ed1"],[[GlobalError.ERROR_CREATE_ROOM],"\u8bbe\u7f6e\u7684\u5165\u573a\u9650\u5236\u4e0d\u80fd\u4f4e\u4e8e\u5e95\u6ce8"],[[GlobalError.ERROR_XIANLIAO_NO_BIND],"\u8be5\u95f2\u804a\u672a\u7ed1\u5b9a\u5fae\u4fe1\u8d26\u53f7"],[[GlobalError.ERROR_MATCH_PLAYING],"\u6bd4\u8d5b\u4e2d"],[[GlobalError.ERROR_MATCH_OVER],"\u6bd4\u8d5b\u5df2\u7ecf\u7ed3\u675f"],[[GlobalError.ERROR_LOCATION_CLOSED],"\u8fdb\u5165\u623f\u95f4\u524d\u8bf7\u5148\u5f00\u542f\u6e38\u620f\u83b7\u53d6\u4f4d\u7f6e\u529f\u80fd"],[[GlobalError.ERROR_RANKMATCH_OVER],"\u6392\u4f4d\u8d5b\u5df2\u7ecf\u7ed3\u675f"],[[GlobalError.ERROR_CHECKPOINTS_INVALID],"\u73a9\u5bb6\u4e0d\u80fd\u8fdb\u5165\u8be5\u5173\u5361"],[[GlobalError.ERROR_BARRIERMATCH_NO_SET],"\u95ef\u5173\u8d5b\u672a\u8bbe\u7f6e"],[[GlobalError.ERROR_BARRIERMATCH_OVER],"\u95ef\u5173\u8d5b\u5df2\u7ecf\u7ed3\u675f"],[[GlobalError.ERROR_MATCH_START_SOON],"\u6bd4\u8d5b\u573a\u5373\u5c06\u5f00\u59cb\uff0c\u8bf7\u7b49\u5f85\u6bd4\u8d5b"],[[GlobalError.ERROR_NO_CHAT_DATA],"\u6ca1\u6709\u804a\u5929\u8bb0\u5f55"],[[GlobalError.ERROR_CHAT_DATA_TOPLIMIT],"\u83b7\u53d6\u804a\u5929\u8bb0\u5f55\u8fbe\u5230\u4e0a\u9650"],[[GlobalError.ERROR_ACCOUNT_TALK],"\u8d26\u53f7\u5df2\u7ecf\u88ab\u7981\u8a00"],[[GlobalError.ERROR_NOT_ENOUGH_GIFTCARD],"\u793c\u5238\u4e0d\u8db3"],[[GlobalError.ERROR_NOT_REVIVE_GAMESTATUS],"\u4e0d\u662f\u6bd4\u8d5b\u590d\u6d3b\u9636\u6bb5"],[[GlobalError.ERROR_MATCH_NOTEXISTS],"\u4e0d\u5b58\u5728\u8fd9\u573a\u6bd4\u8d5b"]];for(var o,a={},r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=i(e))){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(GlobalError.KEY_VALUE_TAB);!(o=r()).done;){var s=o.value;a[s[0].toString()]=s[1]}GlobalError.getErrorStr=function(e){return a[e.toString()]||tools.stringFormat("\u672a\u5b9a\u4e49\u7684\u9519\u8bef code = {0}",e)},cc._RF.pop()},{}],GlobalFunction:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"45dd6wQ+n5NJJl4n678p0nw","GlobalFunction"),window.getResourcePrefab=function(e,t){e="prefab/"+e;var i=null;cc.loader.loadRes(e,function(e,n){e?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e):n instanceof cc.Prefab?(i=cc.instantiate(n),t(i)):cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},String.prototype.format=function(e){var t=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof e){for(var i in e)if(null!=e[i]){var n=new RegExp("({"+i+"})","g");t=t.replace(n,e[i])}}else for(var o=0;o<arguments.length;o++)null!=arguments[o]&&(n=new RegExp("({)"+o+"(})","g"),t=t.replace(n,arguments[o]));return t},cc.Node.prototype.loadTexture=function(e){var t=this.getComponent(cc.Sprite);t?cc.loader.loadRes(e,cc.SpriteFrame,function(e,i){e?cc.error("get res erro"):t&&(t.spriteFrame=i)}):cc.error(" node \u6ca1\u6709sprite\u63a7\u4ef6 ")},cc.Node.prototype.newSetTag=function(e){this.customTag=e},cc.Node.prototype.newGetTag=function(){return null!=this.customTag&&null!=this.customTag||cc.error(" tag is null or undifiend "),this.customTag},cc.Button.prototype._onTouchEnded=function(e){this.interactable&&this.enabledInHierarchy&&(this._pressed&&(MYAudioEngine.playClickSound(),cc.Component.EventHandler.emitEvents(this.clickEvents,e),this.node.emit("click",this)),this._pressed=!1,this._updateState(),e.stopPropagation())},window.cloneObject=function(e){if(e&&("array"!=typeof e||0!=e.length))return JSON.parse(JSON.stringify(e))},window.F_InitListView=function(e,t,i,n){var o=i.getComponent(cc.ScrollView),a=o.content;for(var r in a.removeAllChildren(),e){var s=cc.instantiate(n);a.addChild(s),s.active=!0,t(i,s,e[r],r)}o.horizontal&&o.scheduleOnce(function(){o.scrollToPercentHorizontal(.01,.1)},.016)},window.createSprite=function(e){var t=new cc.Node,i=t.addComponent(cc.Sprite);return cc.loader.loadRes(e,cc.SpriteFrame,function(t,n){e&&(i.spriteFrame=n)}),t},window.setTexture=function(e,t){cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){t?cc.log(t):e.spriteFrame=i})},window.F_CreateRichColorLabel=function(e){for(var t,n=new cc.Node,o=n.addComponent(cc.RichText),a="",r=i(e);!(t=r()).done;){var s=t.value,c=s.str,l=s.color.toHEX("rrggbb");a+="<color=#"+String(l)+">"+c+"</color>"}return o.string=a,n},window.createLabel=function(e){var t=new cc.Node;return t.addComponent(cc.Label).string=e,t},window.createAtlasLabel=function(e,t){var i=new cc.Node,n=i.addComponent(cc.Label);return n.string=e,cc.loader.loadRes(t,cc.LabelAtlas,function(e,t){e&&cc.log(e),n.font=t}),i},window.createBitmapFontLabel=function(e,t){var i=new cc.Node,n=i.addComponent(cc.Label);n.string=e;var o=window.prefabMap.get("bitmapFont"+t);return o?n.font=o:cc.loader.loadRes(t,cc.BitmapFont,function(e,i){e&&cc.log(e),window.prefabMap.get("bitmapFont"+t),n.font=i}),i},window.skeletonAnimationCreate=function(e,t,i){var n=new cc.Node,o=n.addComponent(sp.Skeleton);return cc.loader.loadRes(e,sp.SkeletonData,function(e,n){o.skeletonData=n,o.animation=t,i&&setTimeout(function(){o.setSkin(i)},100)}),o.premultipliedAlpha=!1,o.loop=!1,n},window.printInfo=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);if(DEBUG>=2){var n;if(0!==t.length)return void cc.log((n=tools).stringFormat.apply(n,[e].concat(t)));cc.log(e)}},window.dump=function(e,t){!DEBUG>=2||cc.log(cloneObject(e),t)},window.objIsEmpty=function(e){return null==e||null==e},window.tableIsEmpty=function(e){if(null==e||null==e)return!0;for(var t in e)return!1;return!0},window.getDateTime=function(e){var t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate(),o=e.getHours(),a=e.getMinutes(),r=e.getSeconds();return t+" / "+(i=i<10?"0"+i:i)+" / "+(n=n<10?"0"+n:n)+"     "+(o=o<10?"0"+o:o)+" : "+(a=a<10?"0"+a:a)+" : "+(r<10?"0"+r:r)},window.F_CreateWebViewLayer=function(e){var t=new cc.Node;return t.addComponent(cc.WebView).url=e,t.width=2*C_WinSize.width,t.height=2*C_WinSize.height,t.x=C_WinSize.width,t.y=C_WinSize.height,cc.director.getScene().addChild(t),t},window.F_GetDateStringByTime=function(e){var t=new Date(1e3*e);return t.toLocaleDateString().replace(/V/g,"-")+" "+t.toTimeString().substr(0,8)},window.F_GetDateNoTimeStringByTime=function(e){return new Date(1e3*e).toLocaleDateString().replace(/V/g,"-")},window.F_GetTime=function(){return Date.parse(new Date)/1e3},window.F_RandomNum=function(e,t){return parseInt(Math.random()*(t-e+1)+e,10)},window.F_Object2Arr=function(e){var t=[];for(var i in e){var n=e[i];t.push(n)}return t},window.objectGetArr=function(e){var t=[];for(var i in e){var n=e[i];t.push(n)}return t},window.F_GetMoneyDisplay=function(e){return e/G_MULTI_NUM},window.F_ChangeShowMulNum=function(e,t){if(void 0!==e){if(G_IS_SHOW_POINT){var i=e/G_MULTI_NUM;return t?i.toFixed(2):i}return e}},window.gameCommon={},gameCommon.RESPATH={sound_began_bet:"sound/GameCommonRes/audio/sound/began_bet",sound_stop_bet:"sound/GameCommonRes/audio/sound/stop_bet",sound_fly_card:"sound/GameCommonRes/audio/sound/fly_card",sound_bet_chip:"sound/GameCommonRes/audio/sound/bet_chip_mp3",sound_shouchouma:"sound/GameCommonRes/audio/sound/shouchouma",sound_flock_chip:"sound/GameCommonRes/audio/sound/flock_chip",sound_xiu:"sound/GameCommonRes/audio/sound/xiu",sound_clock:"sound/GameCommonRes/audio/sound/clock",sound_countDown:"sound/GameCommonRes/audio/sound/countDown"},window.filterShangzhuangList=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.userID&&0!=n.userID&&t.push(n)}return t},window.getFloatScore=function(e,t,i,n,o){if(e&&t){var a=null;a=t>=0?createBitmapFontLabel("+"+Math.abs(t)/G_MULTI_NUM,"font/result_font_num_win_yellow"):createBitmapFontLabel("-"+Math.abs(t)/G_MULTI_NUM,"font/result_font_num_lose_blue"),e.addChild(a),cc.log("---------scoreNode:",a),a.x=i||0,a.y=n||0;var r,s,c,l,u,h,d;d=i||-65,o?(r=cc.moveBy(.4,cc.v2(60,35)),s=cc.fadeIn(.4),c=cc.moveBy(.5,cc.v2(0,35)),l=cc.fadeOut(.5),u=cc.spawn(c,l),h=cc.delayTime(1.5)):(r=cc.moveBy(.4,cc.v2(0,50)),s=cc.fadeIn(.4),c=cc.moveBy(.5,cc.v2(d,20)),l=cc.fadeOut(.5),u=cc.spawn(c,l),h=cc.delayTime(1.5)),a.runAction(cc.sequence(cc.spawn(r,s),h,cc.spawn(l,u),cc.callFunc(function(){a.removeFromParent()})))}},window.pengArrowDirection=function(e,t){if(0==e){if(1==t)return 90;if(2==t)return 0;if(3==t)return 270}else if(1==e){if(2==t)return 0;if(3==t)return 270;if(0==t)return 180}else if(2==e){if(1==t)return 90;if(3==t)return 270;if(0==t)return 180}else if(3==e){if(1==t)return 90;if(2==t)return 0;if(0==t)return 180}},window.F_GetMoneyWithRatio=function(e,t){return void 0!==e?Number(e)*t:0},window.F_GetMoneyInput=function(e){return F_GetMoneyWithRatio(e,G_MULTI_NUM)},window.Utf8ToGb2312=function(e){var t="",i="",n="",o="",a=-1;if(-1==(a=e.indexOf("%")))return e;for(;-1!=a;){if(a<3)if(t+=e.substr(0,a-1),i=(e=e.substr(a+1,e.length-a)).substr(0,2),e=e.substr(2,e.length-2),!1&parseInt("0x"+i))t+=String.fromCharCode(parseInt("0x"+i));else if(!1&parseInt("0x"+i)){n=e.substr(1,2),e=e.substr(3,e.length-3);var r=(31&parseInt("0x"+i))<<6;r|=63&parseInt("0x"+n),t+=String.fromCharCode(r)}else n=e.substr(1,2),o=(e=e.substr(3,e.length-3)).substr(1,2),e=e.substr(3,e.length-3),r=(15&parseInt("0x"+i))<<12,r|=(63&parseInt("0x"+n))<<6,r|=63&parseInt("0x"+o),t+=String.fromCharCode(r);else t+=e.substring(0,a),e=e.substring(a);a=e.indexOf("%")}return t+e},window.randomInt=function(e,t){return Math.floor(Math.random()*(t-e)+e)},window.getRankInfo=function(e,t){for(var i=0,n=0;n<window.rankInfoArr.length;n++)if(window.rankInfoArr[n].gameExp>e){i=n;break}return 0!=i&&(i-=1),t?i:rankInfoArr[i]},window.getNextRankInfo=function(e){var t=getRankInfo(e,!0);return rankInfoArr[t+1]},cc._RF.pop()},{}],GlobelContext:[function(e,t,i){"use strict";cc._RF.push(t,"d52c7CqhixGMpdToUdxzngT","GlobelContext"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventType=i.AudioQuality=i.VideoQuality=i.IdentityType=i.DeviceType=i.LIVE_BROADCAST_STATUS=void 0;var n=function(){function e(){}return e.TXYLicenseURL="https://license.vod2.myqcloud.com/license/v2/1311608929_1/v_cube.license",e.TXYPushKey="85fcf25bd2f894e16cb461fe37c0ab83",e.AppName="ouone",e.PushStreamUrl="168799.livepush.myqcloud.com",e.PullStreamUrl="push.ouwan.hmzb.top",e.url="https://ouwan.hmzb.top/",e}();i.default=n,function(e){e[e.IN_LIVE_BROADCAST=0]="IN_LIVE_BROADCAST",e[e.ANCHOR_ENTRY=1]="ANCHOR_ENTRY",e[e.USER_ENTRY=2]="USER_ENTRY",e[e.END_OF_LIVE_BROADCAST=3]="END_OF_LIVE_BROADCAST"}(i.LIVE_BROADCAST_STATUS||(i.LIVE_BROADCAST_STATUS={})),function(e){e.AUDIO="audio",e.VIDEO="video"}(i.DeviceType||(i.DeviceType={})),function(e){e[e.ANCHOR=0]="ANCHOR",e[e.USER=1]="USER"}(i.IdentityType||(i.IdentityType={})),function(e){e["120p"]="120p",e["180p"]="180p",e["240p"]="240p",e["360p"]="360p",e["480p"]="480p",e["720p"]="720p",e["1080p"]="1080p",e["2K"]="2K",e["4K"]="4K"}(i.VideoQuality||(i.VideoQuality={})),function(e){e.STANDARD="standard",e.HIGH="high"}(i.AudioQuality||(i.AudioQuality={})),function(e){e.FAILED_TO_OPEN_THE_CAMERA="FAILED_TO_OPEN_THE_CAMERA",e.FAILED_TO_OPEN_THE_MICROPHONE="FAILED_TO_OPEN_THE_MICROPHONE"}(i.EventType||(i.EventType={})),cc._RF.pop()},{}],GongGaoItem:[function(e,t){"use strict";cc._RF.push(t,"003a4IwCKNPapBz9ZVOOAxE","GongGaoItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,NeiRongLabel:cc.Label,timeLabel:cc.Label,yidu:cc.Node,xiangqing:cc.Node,bgSprite:cc.Node,fromLabel:cc.Label},onLoad:function(){this.SystemNoticeLogic=new(e("SystemNoticeLogic"))},start:function(){},init:function(e,t,i){if(this.layer=t,this.view=i,this.ID=e.id,e.title&&(this.titleLabel.string=e.title),this.NeiRongLabel.string=e.content,e.time){var n=new Date(1e3*e.time),o=n.getFullYear()+"",a=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"",r=(n.getDate()<10?"0"+n.getDate():n.getDate())+"",s=(n.getHours()<10?"0"+n.getHours():n.getHours())+":",c=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();this.timeLabel.string=o+"/"+a+"/"+r+"  "+s+c}1==e.type?this.fromLabel.string="\u53d1\u4ef6\u4eba: \u666e\u901a\u516c\u544a":this.fromLabel.string="\u53d1\u4ef6\u4eba: \u7279\u6b8a\u516c\u544a"},doButton:function(){1==this.xiangqing.active?(this.xiangqing.active=!1,this.node.height=this.bgSprite.height):(this.xiangqing.active=!0,this.node.height=this.bgSprite.height+this.xiangqing.height)},doButton_del:function(){var e=this;this.SystemNoticeLogic.requestdelNotice(this.ID,function(){createTips("\u5220\u9664\u6210\u529f"),e.view.removeAllChildren(),e.layer.getComponent("GongGaoLayer").initUI()})}}),cc._RF.pop()},{SystemNoticeLogic:"SystemNoticeLogic"}],GongGaoLayer:[function(e,t){"use strict";cc._RF.push(t,"60d15edZ+hJyIXpodCwj2A+","GongGaoLayer"),cc.Class({extends:e("BaseLayer"),properties:{NoticeItem:cc.Prefab,NoticeView:cc.Node,NoticeNode:cc.Node,LiftNode:cc.Node,Jzdbsm:cc.Button,Wgsm:cc.Button},onLoad:function(){cc.winSize.width/1280<1&&(this.NoticeNode.setScale(cc.winSize.width/1280),this.LiftNode.setScale(cc.winSize.width/1280)),this.initUI()},initUI:function(){this.SystemNoticeLogic=new(e("SystemNoticeLogic")),this.SystemNoticeManager=new(e("NoticeManager")),this.loadContent(null,"jzdbsm")},loadContent:function(e,t){if(t&&""!=t){var i=this.NoticeView;this.m_contentStr!=t&&(this.m_contentStr=t,i.removeAllChildren(),"jzdbsm"==t?(this.Jzdbsm.interactable=!1,this.Wgsm.interactable=!0):"wgsm"==t&&(this.Jzdbsm.interactable=!0,this.Wgsm.interactable=!1)),cc.loader.loadRes("lobby/ui/gonggao/"+t,cc.SpriteFrame,function(e,t){if(e)cc.error(e);else{var n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=t,i.addChild(n)}})}},start:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer",NoticeManager:"NoticeManager",SystemNoticeLogic:"SystemNoticeLogic"}],HZMJ_Common:[function(e,t){"use strict";var i,n;cc._RF.push(t,"99e5f0XtT9Ij6/ZW7gpc3W3","HZMJ_Common"),window.HZMJ_MACROS_DEF=((i={PLAY_COUNT:4,MEN_CARD_NUM:28,HAND_CARD_NUM:14,OUT_CARD_NUM:60,HUA_CARD_NUM:8,MAX_HUPAI_TYPE:4,MAX_CANHU_CARD_NUM:34,MAX_COUNT_GANG_FEN:13,MAX_COUNT_HUPAI_FEN:3,MAX_COUNT_HORSE_FEN:8,MAX_COUNT_GEN_ZHUANG_FEN:1}).MEN_CARD_NUM=28,i.MAX_REMAIN_MEN_PAI_NUM=110,i.GANG_TYPE_MAX=7,i.MAX_GANG_TYPE_INDEX=16,i.MAX_GENZHUANG_INDEX=3,i.MJTABLE_CARDTYPE0=0,i.MJTABLE_CARDTYPE1=1,i.ACTION_NO=0,i.ACTION_CHI=1,i.ACTION_CHI_FRONT=2,i.ACTION_CHI_MID=3,i.ACTION_CHI_BACK=3,i.ACTION_PENG=5,i.ACTION_KAN=6,i.ACTION_GANG=7,i.ACTION_AN_GANG=8,i.ACTION_BU_GANG=9,i.ACTION_MING_GANG=10,i.ACTION_CHI_TNG=11,i.ACTION_TING_PAI=12,i.ACTION_HU=13,i.ACTION_PASS=16,i.ACTION_FANCAI=14,i.ACTION_GANGKAI=15,i.OUT=20,i.Start_HandCount=13,i.MAX_GANG_UION_NUM=4,i.MAX_CHI_UION_NUM=3,i.CPG_MAX_PILE_NUM=4,i.Out_Time=15,i.MAX_MAIMA_COUNT=6,i),window.HZMJ_CPG_TIMES={TIMES_TWO:2,TIMES_THREE:3,TIMES_EACH_OTHER_THREE:4},window.HZMJ_HUTYPE_NAME_DEF={},window.HZMJ_HUTYPE_NAME_DEF[255]="",window.HZMJ_HUTYPE_NAME_DEF[3]="\u5e73\u80e1",window.HZMJ_HUTYPE_NAME_DEF[6]="\u6760\u4e0a\u82b1",window.HZMJ_HUTYPE_NAME_DEF[32]="\u5927\u80e1",window.HZMJ_HUTYPE_NAME_DEF[58]="\u4e03\u5c0f\u5bf9",window.HZMJ_HUTYPE_NAME_DEF[91]="\u5355\u540a",window.HZMJ_HUTYPE_NAME_DEF[61]="\u6e05\u4e00\u8272",window.HZMJ_HUTYPE_NAME_DEF[75]="\u98ce\u4e00\u8272",window.HZMJ_HUTYPE_NAME_DEF[79]="\u5927\u4e09\u5143",window.HZMJ_HUTYPE_NAME_DEF[84]="\u5341\u4e09\u5e7a",window.HZMJ_HUTYPE_NAME_DEF[91]="\u5355\u540a",window.HZMJ_HUTYPE_NAME_DEF[92]="\u5355\u8c6a\u534e",window.HZMJ_HUTYPE_NAME_DEF[93]="\u53cc\u8c6a\u534e",window.HZMJ_HUTYPE_NAME_DEF[94]="\u4e09\u8c6a\u534e",window.HZMJ_HUTYPE_NAME_DEF[95]="\u8e72\u8e72\u9f50",window.HZMJ_HUTYPE_NAME_DEF[96]="\u53cd\u8e29",window.HZMJ_HUTYPE_Cardtype={},window.HZMJ_HUTYPE_Cardtype[255]="",window.HZMJ_HUTYPE_Cardtype[3]=1,window.HZMJ_HUTYPE_Cardtype[6]=1,window.HZMJ_HUTYPE_Cardtype[32]=2,window.HZMJ_HUTYPE_Cardtype[46]=2,window.HZMJ_HUTYPE_Cardtype[58]=4,window.HZMJ_HUTYPE_Cardtype[61]=5,window.HZMJ_HUTYPE_Cardtype[79]=8,window.HZMJ_HUTYPE_Cardtype[91]=3,window.HZMJ_HUTYPE_Cardtype[92]=8,window.HZMJ_HUTYPE_Cardtype[93]=16,window.HZMJ_HUTYPE_Cardtype[94]=32,window.HZMJ_HUTYPE_Cardtype[95]=8,window.HZMJ_HUTYPE_Cardtype[96]=1,window.HZMJ_HU_FEN_TYPE={},window.HZMJ_HU_FEN_TYPE[0]="",window.HZMJ_HU_FEN_TYPE[1]="\u81ea\u6478",window.HZMJ_HU_FEN_TYPE[2]="\u88ab\u81ea\u6478",window.HZMJ_HU_FEN_TYPE[3]="\u70b9\u70ae",window.HZMJ_HU_FEN_TYPE[4]="\u5403\u80e1",window.HZMJ_HU_FEN_TYPE[5]="\u627f\u5305",window.HZMJ_GANG_FEN_TYPE={},window.HZMJ_GANG_FEN_TYPE[0]="",window.HZMJ_GANG_FEN_TYPE[1]="\u6697\u6760",window.HZMJ_GANG_FEN_TYPE[2]="\u660e\u6760",window.HZMJ_GANG_FEN_TYPE[3]="\u660e\u6760",window.HZMJ_GANG_FEN_TYPE[4]="\u88ab\u6697\u6760",window.HZMJ_GANG_FEN_TYPE[5]="\u70b9\u6760",window.HZMJ_GANG_FEN_TYPE[6]="\u88ab\u660e\u6760",window.HZMJ_GANG_FEN_TYPE[7]="\u88ab\u660e\u6760",window.HZMJ_STATION={},window.HZMJ_STATION[0]="",window.HZMJ_STATION[1]="\u672c\u5bb6",window.HZMJ_STATION[2]="\u4e0b\u5bb6",window.HZMJ_STATION[4]="\u5bf9\u5bb6",window.HZMJ_STATION[8]="\u4e0a\u5bb6",window.HZMJ_STATION[10]="\u4e0a\u5bb6\u4e0e\u4e0b\u5bb6",window.HZMJ_STATION[6]="\u5bf9\u5bb6\u4e0e\u4e0b\u5bb6",window.HZMJ_STATION[12]="\u4e0a\u5bb6\u4e0e\u5bf9\u5bb6",window.HZMJ_STATION[14]="\u4e09\u5bb6",window.HZMJ_GENZHUANG_TYPE={},window.HZMJ_GENZHUANG_TYPE[0]="\u8bf7\u5145\u503c",window.HZMJ_GENZHUANG_TYPE[1]="\u8ddf\u5e84",window.HZMJ_GENZHUANG_TYPE[2]="\u88ab\u8ddf\u5e84",window.HZMJ_HORSE_FEN_TYPE={},window.HZMJ_HORSE_FEN_TYPE[0]="",window.HZMJ_HORSE_FEN_TYPE[1]="\u8d62\u9a6c",window.HZMJ_HORSE_FEN_TYPE[2]="\u8f93\u9a6c",window.HZMJ_NOTIFY_AssistantID=((n={SUB_C_OUT_CARD:50,SUB_C_OPERATE_CARD:51,SUB_C_TRUSTEE:52,SUB_C_ZUO_SHENG_YI:53,SUB_C_CHOOSE_CHI:54,SUB_S_GAME_START:100,SUB_S_OUT_CARD:101,SUB_S_SEND_CARD:102,SUB_S_OPERATE_NOTIFY:103,SUB_S_OPERATE_RESULT:104,SUB_S_GAME_END:105,SUB_S_TRUSTEE:106,SUB_S_GAME_END_ALL:107,SUB_S_QIHU_NOTIFY:108,SUB_S_OUT_CARD_RESULT:109,SUB_S_PICK_FOLLOWER:110,SUB_S_ZHUA_AFTER_PICK:111,SUB_S_LIMIT_OUT:112,SUB_S_REMOV_OUT_LIMIT:113}).SUB_S_REMOV_OUT_LIMIT=114,n.SUB_S_ZSY_POPUP=117,n.SUB_S_CPG_TIMES_PROMPT=118,n),window.HZMJ_GameStation={GS_STATUS_FREE:0,GS_STATUS_PLAYING:1,GS_FOLLOWER_CHECK:2},window.HZMJ_TYPE={MJ_TYPE_NONE:0,MJ_TYPE_W1:1,MJ_TYPE_W2:2,MJ_TYPE_W3:3,MJ_TYPE_W4:4,MJ_TYPE_W5:5,MJ_TYPE_W6:6,MJ_TYPE_W7:7,MJ_TYPE_W8:8,MJ_TYPE_W9:9,MJ_TYPE_T1:11,MJ_TYPE_T2:12,MJ_TYPE_T3:13,MJ_TYPE_T4:14,MJ_TYPE_T5:15,MJ_TYPE_T6:16,MJ_TYPE_T7:17,MJ_TYPE_T8:18,MJ_TYPE_T9:19,MJ_TYPE_B1:21,MJ_TYPE_B2:22,MJ_TYPE_B3:23,MJ_TYPE_B4:24,MJ_TYPE_B5:25,MJ_TYPE_B6:26,MJ_TYPE_B7:27,MJ_TYPE_B8:28,MJ_TYPE_B9:29,MJ_TYPE_FD:31,MJ_TYPE_FN:32,MJ_TYPE_FX:33,MJ_TYPE_FB:34,MJ_TYPE_ZHONG:35,MJ_TYPE_FA:36,MJ_TYPE_BAI:37,MJ_TYPE_FCHUN:41,MJ_TYPE_FXIA:42,MJ_TYPE_FQIU:43,MJ_TYPE_FDONG:44,MJ_TYPE_FMEI:45,MJ_TYPE_FLAN:46,MJ_TYPE_FZHU:47,MJ_TYPE_FJU:48,MJ_TYPE_CAISHEN:49,MJ_TYPE_YUANBAO:50,MJ_TYPE_MAO:51,MJ_TYPE_LAOXU:52},cc._RF.pop()},{}],HZMJ_CtrlBtns:[function(e,t){"use strict";cc._RF.push(t,"2658erCVm1ONIq/0xnnHvpm","HZMJ_CtrlBtns"),cc.Class({extends:cc.Component,properties:{ctrlBtnsBg:cc.Node,tingBtn:cc.Node,chiBtn:cc.Node,pengBtn:cc.Node,gangBtn:cc.Node,huBtn:cc.Node,zimoBtn:cc.Node,guoBtn:cc.Node,chiNode:cc.Node,ChiLayout:cc.Node,ChiCardsPre:cc.Prefab},onLoad:function(){this.node.children.forEach(function(e){return e.active=!1}),this.initEvent()},initEvent:function(){GameEvent.on("onHandleCard",this.show,this),GameEvent.on("onGuo",this.guoEvent,this),GameEvent.on("onHideCtrlBtn",this.hide,this)},closeEvent:function(){GameEvent.off("onHandleCard",this.show,this),GameEvent.off("onGuo",this.guoEvent,this),GameEvent.off("onHideCtrlBtn",this.hide,this)},show:function(e,t){if(t&&(this.deskComponentTarget=t),!cc.mj.Data.isPlayback){var i=e;cc.mj.Data.showCtrlBtns=!0,this.ctrlBtnsBg&&(this.ctrlBtnsBg.active=!0),i.isGuo&&(this.guoBtn.active=!0,this.guoBtn.getChildByName("nomor_2").active=!1),i.isPeng&&(this.pengBtn.active=!0),i.isChi&&(this.chiBtn.active=!0,this.chiValue={},this.chiValue=e.chiUion),e.gangUion.length>0?this.gangValue=e.gangUion[0]:this.gangValue=null,(i.isGang||i.isBuGang||i.isAnGang)&&(this.gangHandType={isGang:!0},i.isBuGang?this.gangHandType={isBuGang:!0}:i.isAnGang&&(this.gangHandType={isAnGang:!0}),this.gangBtn.active=!0),i.isTing&&(this.tingBtn.active=!0,this.huHandType={isTing:!0}),i.isHu&&(this.huBtn.active=!0,this.huHandType={isHu:!0},this.guoBtn.getChildByName("nomor_2").active=!0),i.isZiMo&&(this.zimoBtn.active=!0,this.huHandType={isZiMo:!0}),this.byMJCardType=e.byMJCardType,this.eventData=e}},guoEvent:function(e){e.uid===cc.mj.Data.uid&&this.hide()},hide:function(){cc.mj.Data.showCtrlBtns=!1,this.ctrlBtnsBg&&(this.ctrlBtnsBg.active=!1),this.chiNode&&(this.chiNode.active=!1),this.node.children.forEach(function(e){return e.active=!1}),this.gangHandType=null,this.huHandType=null},btnClickEvent:function(e,t){var i=this;switch(t){case"ting":if(this.deskComponentTarget){var n={eventType:HZMJ_MACROS_DEF.ACTION_TING_PAI};this.deskComponentTarget.userResponseEvent(n)}this.hide();break;case"chi":if(this.chiValue.length>1){this.chiNode.active=!0,this.SendChoosedChi(),this.ChiLayout.children.forEach(function(e){e.destroy()});for(var o=0;o<this.chiValue.length;o++){var a=this.chiValue[o];this.setChiCard(a)}}else{if(this.deskComponentTarget){var r={eventType:HZMJ_MACROS_DEF.ACTION_CHI,chiValue:this.chiValue[0]};this.deskComponentTarget.userResponseEvent(r)}this.hide()}break;case"peng":if(this.deskComponentTarget){var s={eventType:HZMJ_MACROS_DEF.ACTION_PENG};this.deskComponentTarget.userResponseEvent(s)}this.hide();break;case"gang":if(this.deskComponentTarget&&this.gangValue){var c={eventType:HZMJ_MACROS_DEF.ACTION_GANG,gangValue:this.gangValue};this.deskComponentTarget.userResponseEvent(c)}this.hide();break;case"hu":case"zm":if(this.deskComponentTarget){var l={eventType:HZMJ_MACROS_DEF.ACTION_HU};this.deskComponentTarget.userResponseEvent(l)}this.hide();break;case"guo":if(this.deskComponentTarget){var u=function(e){var t={eventType:HZMJ_MACROS_DEF.ACTION_PASS,iSGuoAction:e};i.deskComponentTarget.userResponseEvent(t)};if(this.huBtn.active)createMsgBox({msg:"\u786e\u5b9a\u8981\u9009\u62e9\u8fc7\u7684\u64cd\u4f5c\u5417?",btn1:"\u786e  \u5b9a",btn2:"\u53d6  \u6d88",callbackFun:function(e){"\u786e  \u5b9a"==e?u(!0):i.show(i.eventData,i.deskComponentTarget)}});else this.gangBtn.active?u(!0):u(!1)}this.hide()}},setChiCard:function(e){var t=this,i=cc.instantiate(this.ChiCardsPre);this.ChiLayout.addChild(i),i.active=!0;var n=i.getChildByName("btn").getComponent(cc.Button),o=new cc.Component.EventHandler;o.target=this.node,o.component="HZMJ_CtrlBtns",o.handler="Chicallback",o.customEventData=e,n.clickEvents.push(o),i.getChildByName("cards").getComponentsInChildren("MJCommon_Card").forEach(function(i,n){i.init(e[n],!0,!1,"daoCard",0,t.byMJCardType)})},Chicallback:function(e,t){if(this.deskComponentTarget){this.chiNode.active=!0;var i={eventType:HZMJ_MACROS_DEF.ACTION_CHI,chiValue:t};this.deskComponentTarget.userResponseEvent(i)}this.hide()},SendChoosedChi:function(){this.deskComponentTarget&&this.deskComponentTarget.SendChoosedChi()},onDestroy:function(){this.closeEvent()}}),cc._RF.pop()},{}],HZMJ_Data:[function(e,t){"use strict";cc._RF.push(t,"859f1uS/BBOLIx7fpKgj845","HZMJ_Data"),cc.Class({extends:cc.Component,properties:{uid:null,isGaming:!1,isWatchMode:!1,roomResult:null,isPlayback:!1,playbackData:null,playbackNum:0},init:function(){},getPlayerByKeyValue:function(e,t){if("uid"==e){var i=GameSocket.getDeskUserList();for(var n in i){var o=i[n];if(o.userID==t)return o}}},getPlayerData:function(){return this.getPlayerByKeyValue("uid",cc.mj.userInfoMgr.uid)},onSync:function(){this.deleteData()},getPlayerInfo:function(){},deleteData:function(){this.uid=null,this.roomResult=null,this.isGaming=!1,this.isPlayback=!1,this.playbackData=null,this.playbackNum=0,this.showCtrlBtns=null,this.selectedCard=null,this.notcanPutCard=null,this.moveFlag=null,this.isDingZhuang=null,this.turnFlag=null,this.showRoomOverFlag=!1,this.curPutCard=null,this.mopaiAction=!1}}),cc._RF.pop()},{}],HZMJ_EditTool:[function(e,t,i){"use strict";cc._RF.push(t,"33388i4mJ1O/b6o80sdAXwE","HZMJ_EditTool");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e._nameMap={playOne:"Bottom",playTwo:"Left",playThree:"Top",playFour:"Right"},e.playerRootNode=null,e.cardItemNode=null,e.path="assets/resources/HZMJ/cards.json",e._isCleaning=!1,e._isLoading=!1,e._isSaving=!1,e}return o(i,t),Object.defineProperty(i.prototype,"clean",{get:function(){return this._isCleaning},set:function(){if(!this._isCleaning){this._isCleaning=!0;for(var e=0,t=this.playerRootNode.children;e<t.length;e++){var i=t[e],n=i.getChildByName("showHandCards"),o=i.getChildByName("handCards");o||(o=i.getChildByName("handCards3D"));var a=i.getChildByName("pushCards3D");o.removeAllChildren(),a.removeAllChildren(),n&&n.removeAllChildren()}this._isCleaning=!1}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"load",{get:function(){return this._isLoading},set:function(){var e=this;this._isLoading||(this._isLoading=!0,this.readFile(this.path,function(t,i){if(e._isLoading=!1,t)cc.error(t);else{cc.log("load data",i);var n=JSON.parse(i);for(var o in n)e._deserializePlayerCard(n[o],e.playerRootNode.getChildByName(o))}}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"save",{get:function(){return this._isSaving},set:function(){var e=this;if(!this._isSaving){this._isSaving=!0;for(var t={},i=0,n=this.playerRootNode.children;i<n.length;i++){var o=n[i];t[o.name]=this._serializePlayerCard(o)}this.writeFile(this.path,JSON.stringify(t),function(i){e._isSaving=!1,i?cc.error(i):cc.log("write data sucess",JSON.stringify(t))})}},enumerable:!1,configurable:!0}),i.prototype._deserializePlayerCard=function(e,t){var i=t.getChildByName("showHandCards"),n=t.getChildByName("handCards");n||(n=t.getChildByName("handCards3D"));var o=t.getChildByName("pushCards3D");n.removeAllChildren(),o.removeAllChildren(),i&&i.removeAllChildren();for(var a=new Map,r=0,s=this.cardItemNode.children;r<s.length;r++){var c=s[r];a.set(c.name,c)}for(var l=0,u=e.hand_cards;l<u.length;l++){var h=u[l];(m=a.get(h.name))||cc.error("get card item from scene CardItem failed",h.name),(_=cc.instantiate(m)).active=h.active,_.x=h.x,_.y=h.y,_.parent=n}for(var d=0,f=e.push_cards;d<f.length;d++)h=f[d],(m=a.get(h.name))||cc.error("get card item from scene CardItem failed",h.name),(_=cc.instantiate(m)).active=h.active,_.x=h.x,_.y=h.y,_.parent=o;if(i)for(var p=0,g=e.show_hand_cards;p<g.length;p++){var m,_;h=g[p],(m=a.get(h.name))||cc.error("get card item from scene CardItem failed",h.name),(_=cc.instantiate(m)).active=h.active,_.x=h.x,_.y=h.y,_.parent=i}},i.prototype._serializePlayerCard=function(e){var t={hand_cards:[],push_cards:[],show_hand_cards:[]},i=e.getChildByName("showHandCards"),n=e.getChildByName("handCards");n||(n=e.getChildByName("handCards3D"));for(var o=e.getChildByName("pushCards3D"),a=0,r=n?n.children:[];a<r.length;a++){-1!==(f=(d=r[a]).name).indexOf("-")&&(f=f.split("-")[0]);var s={name:f=this._nameMap[e.name]+"HandCard",active:d.active,x:Number(d.x.toFixed(2)),y:Number(d.y.toFixed(2))};t.hand_cards.push(s)}for(var c=0,l=o?o.children:[];c<l.length;c++)-1!==(f=(d=l[c]).name).indexOf("-")&&(f=f.split("-")[0]),s={name:f=this._nameMap[e.name]+"PushCard",active:d.active,x:Number(d.x.toFixed(2)),y:Number(d.y.toFixed(2))},t.push_cards.push(s);for(var u=0,h=i?i.children:[];u<h.length;u++){var d,f;-1!==(f=(d=h[u]).name).indexOf("-")&&(f=f.split("-")[0]),s={name:f=this._nameMap[e.name]+"ShowHandCard",active:d.active,x:Number(d.x.toFixed(2)),y:Number(d.y.toFixed(2))},t.show_hand_cards.push(s)}return t},i.prototype.readFile=function(t,i){var n=Editor.Project.path.replace("\\","/")+"/"+t;e("fs").readFile(n,"utf-8",function(e,t){if(e)return console.error("load "+n+" error:",e),void(i&&i(e,null));console.info("load "+n+" sucess"),i&&i(null,t)})},i.prototype.writeFile=function(t,i,n){var o=Editor.Project.path.replace("\\","/")+"/"+t,a=o.substr(0,o.lastIndexOf("/")+1),r=e("fs"),s=function(){r.writeFile(o,i,function(e){if(e)return console.error("save "+o+" error:",e),void(n&&n(null));console.info("save "+o+" sucess:"),n&&n(null)})};r.exists(a,function(e){e?s():r.mkdir(a,function(e){if(e)return console.error("save "+o+" mkdir error:",e),void(n&&n(e));s()})})},a([c(cc.Node)],i.prototype,"playerRootNode",void 0),a([c(cc.Node)],i.prototype,"cardItemNode",void 0),a([c({displayName:"\u914d\u7f6e\u8def\u5f84"})],i.prototype,"path",void 0),a([c({displayName:"\u6e05\u7406"})],i.prototype,"clean",null),a([c({displayName:"\u52a0\u8f7d"})],i.prototype,"load",null),a([c({displayName:"\u4fdd\u5b58"})],i.prototype,"save",null),a([s],i)}(cc.Component);i.default=l,cc._RF.pop()},{fs:void 0}],HZMJ_GameOver:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"8eeb8PPDJRFvajN7tB1FlIS","HZMJ_GameOver"),cc.Class({extends:cc.Component,properties:{gameCards:cc.Node,huangZhuang:cc.Node,gameOverplayers:cc.Node,gameBtn:cc.Node,closeBtn:cc.Node,returnBtn:cc.Node,gameBtnSpriteFame:[cc.SpriteFrame],rewardRichText:cc.RichText,bgNode:cc.Node,contentBGNode:cc.Node,bgSpines:[sp.Skeleton],titleSpines:[sp.Skeleton],gaungQuanSpine:sp.Skeleton,contentBGSpines:[sp.Skeleton],leftBGSpines:[sp.Skeleton],leftBGSpriteFame:[cc.Node],leftBGWinSpriteFame:[cc.Node],leftEffectSpines:[sp.Skeleton],drawSpine:sp.Skeleton},onLoad:function(){this._isShowSettle=!0,this._recordNodeShow={},this.resize()},start:function(){},resize:function(){var e=cc.Canvas.instance,t=cc.view.getFrameSize(),i=cc.sourceDesignSize;if(i||(i=cc.view.getDesignResolutionSize()),t.width/t.height>i.width/i.height){e.fitWidth=!1,e.fitHeight=!0;var n=i.height/t.height*t.width/i.width;this.bgNode.scaleX=n,this.bgNode.scaleY=n,this.contentBGNode.scaleX=n,this.contentBGNode.scaleY=n,console.log("GameOverUI \u9002\u914d \u957f\u5c4f \u9002\u914d\u9ad8\u5ea6",i.width,i.height,t.width,t.height)}else e.fitWidth=!0,e.fitHeight=!1,t.height,i.height,this.bgNode.scale=i.width/t.width*t.height/i.height,console.log("GameOverUI \u9002\u914d \u77ed\u5c4f \u9002\u914d\u9ad8\u5ea6",i.width,i.height,t.width,t.height)},show:function(e){var t=this;this.unscheduleAllCallbacks(),this.node.stopAllActions();var i=e.isReplay,n=e.resultType,o=e.playsData;console.log(tools.getCurTime()+" \u5355\u5c40\u7ed3\u7b97",JSON.stringify(e)),this._isShowSettle=!0,this.node.active=!0,this.gameBtn.getComponent(cc.Sprite).spriteFrame=this.gameBtnSpriteFame[0],this.node.children.forEach(function(e){return e.active=!0}),this.gameCards.children.forEach(function(e){return e.active=!1}),this.returnBtn.active=!1,this.rewardRichText.node.active=!1,this.gameOverplayers.active=!1,this.gameOverplayers.children.forEach(function(e){return e.active=!1}),this.huangZhuang.active=!1,this.bgSpines.forEach(function(e){e.node.active=!1});var a=this.bgSpines[n];a.node.active=!0,this.titleSpines.forEach(function(e){e.node.active=!1});var r=this.titleSpines[n];r.node.active=!0,this.contentBGSpines.forEach(function(e){e.node.active=!1});var s=this.contentBGSpines[n];s.node.active=!0,this.leftBGSpines.forEach(function(e){e.node.active=!1});var c=this.leftBGSpines[n];c.node.active=!1,this.leftBGSpriteFame.forEach(function(e){e.active=!1}),this.leftBGWinSpriteFame.forEach(function(e){e.active=!1});var l=this.leftBGSpriteFame[n];if(1==n){l.active=!0;for(var u=e.playsData[e.mySeatNo],h=0,d=0;d<4;d++)255!=u.byHuDouble[d]&&(h=32==u.byHuDouble[d]||91==u.byHuDouble[d]||3==u.byHuDouble[d]?0:61==u.byHuDouble[d]||58==u.byHuDouble[d]?1:2);var f="";if(1==h)this.scheduleOnce(function(){(f=l.getChildByName("zhonghu")).active=!0,f.getChildByName("amition").active=!0},1);else{var p=0;2==h?((f=l.getChildByName("dahu")).active=!0,p=.5):0==h&&((f=l.getChildByName("xiaohu")).active=!0,p=.2);var g=f.getChildByName("amition1"),m=f.getChildByName("amition2");g.active=!1,m.active=!1;var _=g.getComponent(sp.Skeleton),y=function(){m.active=!0,g.active=!1;var e=m.getComponent(sp.Skeleton);t.playSkelenAnimation(e,"xunhuan",!0,null)};this.scheduleOnce(function(){g.active=!0,m.active=!1,t.playSkelenAnimation(_,"tiao",!1,y)},p)}}else{var v=0;0==n?v=.5:2==n&&(v=.7),this.scheduleOnce(function(){l.active=!0},v)}this.leftEffectSpines.forEach(function(e){e.node.active=!1});var C=this.leftEffectSpines[n];C.node.active=!0,this.gaungQuanSpine.node.active=1===n,this.drawSpine.node.active=0===n,i||(c.node.active=!1,C.node.active=!0);var b=[a,r,s,c,C,this.gaungQuanSpine,this.drawSpine];b.forEach(function(e){t.playSkelenAnimation(e,"KaiShi",!1,null)}),this.scheduleOnce(function(){var i;i=e.rewardGiftCard,t.scheduleOnce(function(){if(i>0){t.rewardRichText.node.active=!0;var e=0;t.rewardRichText.string="\u793c\u5238 "+e,t.rewardGift=function(){e+=i/100>=1?10:i/1e3>=1?100:i/1e4>=1?1e3:1,++e>i?(t.unschedule(t.rewardGift),t.rewardRichText.string="\u793c\u5238 "+i):t.rewardRichText.string="\u793c\u5238 "+e},t.schedule(t.rewardGift,.001/i)}},.1),0!==n&&(t.gameCards.active=!0,t.gameOverplayers.active=!0,t.gameCards.active=!0,o.forEach(function(e,i){if(!(e.userID<=0)){if(1==e.resultType){var n=t.gameCards.children[0];n.getComponent("HZMJ_gameOverItem").initData(e),n.active=!0}var o=t.gameOverplayers.children[i];o.active=!0,o.getChildByName("name").getComponent(cc.Label).string=tools.getCutStringByCount(decodeURI(e.name),5),o.getChildByName("name").color=1==e.resultType?cc.color(255,234,20):cc.color(87,40,40),o.getChildByName("score").getComponent(cc.Label).string=e.score,o.getChildByName("score").color=1==e.resultType?cc.color(255,255,255):cc.color(176,59,52),o.getChildByName("bg").getComponent("SpriteArray").index=1==e.resultType?1:0;var a=o.getChildByName("head").getChildByName("avatar"),r=function(e){a&&cc.isValid(a)&&(a.getComponent(cc.Sprite).spriteFrame=e)}.bind(t),s=e.avatar;AvatarManager.requestHeadRes(s,e.userID,r,null),o.getChildByName("bank").active=e.isBanker,o.getChildByName("image_Hu").active=1==e.resultType}})),b.forEach(function(e){t.playSkelenAnimation(e,"XunHuan",!0,null)})},1),this.gameBtn.active=!1,this.closeBtn.active=!1,i&&(this.gameBtn.active=!1,this.closeBtn.active=!1),e.isGoldRoom&&(this.returnBtn.active=!0,this.closeBtn.active=!0)},hide:function(){this.node.active=!1},onContinueBtnClick:function(){GameEvent.emit("closeGameOver"),new(e("GameLogicBase")),GameEvent.emit("onclosebtn")},onBtnreturnClick:function(){GameSocket.requestStand()},onHePaiBtnClick:function(){if(this._isShowSettle){this._isShowSettle=!this._isShowSettle,this.gameBtn.getComponent(cc.Sprite).spriteFrame=this.gameBtnSpriteFame[1];for(var e,t=i(this.node.children);!(e=t()).done;){var n=e.value;n!=this.gameBtn&&n!=this.closeBtn&&(n.active=!1)}}},playSkelenAnimation:function(e,t,i,n){e.loop=i,e.animation=t,e.setCompleteListener(function(){n&&this.scheduleOnce(n,.2)}.bind(this))}}),cc._RF.pop()},{GameLogicBase:"GameLogicBase"}],HZMJ_GameTableLogic:[function(e,t){"use strict";cc._RF.push(t,"7bc2dRvWdRHFa9AQnni4KZx","HZMJ_GameTableLogic");var i=[{people:2,roomids:[7,8,9,10,11]},{people:3,roomids:[12,13,14,15,16]},{people:4,roomids:[2,3,4,5,6]}];cc.Class({extends:e("GameLogicBase"),properties:{},ctor:function(){},ctorData:function(){if(GameManager.setLogic(this,this.setPlayInfo.bind(this)),this.playCount=4,this._outTime=0,this._blockTime=0,this._autoBlockTime=5,this._restMahjongNum=136,this._bSuperClient=!1,this._playType=G_INVALID_BYTE_VALUE,this._gameBeginStatus=!1,this.m_StartVisible=!1,this.m_OverVisible=!1,G_SHOW_GAME_VOICE=!1,this._oldGetCardList={},this._oldGetCardCount=0,this.playInfo||this.__initData(),(this.isMatchRoom()||this.isBarrierMatchRoom())&&(this.playCount=2,this._logicInfo.seatCount=this.playCount),this.isGoldRoom())for(var e=RoomListManager.getRoomInfo().roomID,t=0;t<i.length;t++)for(var n=i[t].roomids,o=0;o<n.length;o++)if(e==n[o])return this.playCount=i[t].people,void(this._logicInfo.seatCount=this.playCount)},onLoad:function(){cc.log("********\u8fdb\u5165\u9ebb\u5c06\u903b\u8f91\u754c\u9762***********"),this.ctorData()},__initData:function(){this._restMahjongNum=136,this.handArrData={},this.handArrCount={},this._cpgArrData={},this.roomCardAllScore={},this._isMeTuoGuan=!1;for(var e=0;e<HZMJ_MACROS_DEF.PLAY_COUNT;e++){this.handArrData[e]={};for(var t=0;t<HZMJ_MACROS_DEF.HAND_CARD_NUM;t++)this.handArrData[e][t]=G_INVALID_BYTE_VALUE;this.handArrCount[e]=HZMJ_MACROS_DEF.HAND_CARD_NUM-1,this.roomCardAllScore[e]=0}this.__recordAllUserName()},__recordAllUserName:function(){this._nameList={},this._UserIdList={};for(var e=0;e<HZMJ_MACROS_DEF.PLAY_COUNT;e++)this._nameList[e]=this.getUserNameBySeat(e),this._UserIdList[e]=this.getUserIdBySeat(e)},setPlayInfo:function(e){this.playInfo=e;var t={seatCount:HZMJ_MACROS_DEF.PLAY_COUNT,playInfo:e},i=GameManager.getGameUI();this._super(i,t)},start:function(){},_initReplayData:function(){RoomListManager.setRoomInfo({gameID:this.playInfo.gameID}),RoomListManager.setCurRuleInfo(this.playInfo.gameRules);for(var e=0,t=0;t<HZMJ_MACROS_DEF.PLAY_COUNT;t++)this.playInfo.user[t]&&e++;this.playCount=e;var i={deskPasswd:this.playInfo.bRoomPassward,masterID:"",masterName:this.playInfo.bRoomMasterName,runGameCount:this.playInfo.bCurPlayCount,totalGameCount:this.playInfo.bAllPlayCount};for(this.tableUI.showVipRoomInfo(i),this.tableUI.setRoomPswText(this.playInfo.bCurPlayCount,this.playInfo.bCurQuanFeng),t=0;t<this.playCount;t++){var n=this.playInfo.user[t],o={};o.nickName=n.nickName,o.dwUserID=n.dwUserID,o.money=0,o.hearUrl=n.hearUrl,o.bBoy=n.bBoy,o.score=n.iScore,o.headURL=n.hearUrl,o.userID=n.dwUserID,o.name=n.nickName,this.tableUI.addUser(o,this.logicToViewSeatNo(t))}},startReplayGame:function(){var e=this;cc.mj.Data.isPlayback=!0,this._initReplayData(),this.__initData(),this.__recordAllUserName(),this.tableUI.setReplayUI(),this.tableUI.ShowNetWork(!1);var t={};t.byNtStation=this.playInfo.bBankerPos,t.byCard=[],t.byCradCount=[];for(var i=0;i<this.playCount;i++){for(var n=this.playInfo.handArrData[i],o=0,a=[],r=0;r<HZMJ_MACROS_DEF.HAND_CARD_NUM;r++)a.push(n[r]),n[r]!=G_INVALID_BYTE_VALUE&&(o+=1);t.byCard.push(a),t.byCradCount.push(o)}this.handArrData=cloneObject(t.byCard),this.handArrCount=cloneObject(t.byCradCount),t.iMenNums=this.playInfo.bMenRestNum,t.iPlayintCount=this.playInfo.bCurPlayCount,this.mySeatNo=0,this.curBankerSeatNO=t.byNtStation,this._iMenNums=t.iMenNums,this.tableUI.Showdirection(t.byNtStation,this.playInfo.byLackFengWei),this.gameStationLogic(t),this.tableUI.setChuPaiEnabled(-1),this.tmpDelay=function(){var t=0;e.playMahjong=function(){var i=e.playInfo.event[t];if(i){switch(i.eventType){case"get":e._replayOptionGetCard(i);break;case"out":e._replayOptionOutCard(i);break;case"chi":e._replayOptionChi(i);break;case"peng":e._replayOptionPeng(i);break;case"gang":case"bugang":case"angang":e._replayOptionGang(i);break;case"hua":e._replayOptionHua(i);break;case"getAfterPickFlower":e._replayOptionPickFlower(i);break;case"hu":e._replayOptionHu(i);break;case"GameEnd":e.unschedule(e.playMahjong),e._replayOptionGameEnd(i)}t+=1}else t+=1},e.schedule(e.playMahjong,.5),e.unschedule(e.tmpDelay)},this.schedule(this.tmpDelay,.1)},getUserdwUserIDBySeat:function(e){if(this.playInfo)return this.playInfo.user[e].dwUserID},getUserSexBySeat:function(e){return this.playInfo?(console.log("getUserSexBySeat replay",e,this.playInfo),this.playInfo.user[e.toString()].bBoy):(console.log("getUserSexBySeat normal",null),this._super(e))},_formatCards:function(e,t){for(var i={count:0,cards:[]},n=0;n<t;n++){var o=e[n];o&&(o!=G_INVALID_BYTE_VALUE&&i.count++,i.cards.push(o))}return i},_replayOptionGetCard:function(e){this.tableUI.getCard(e.bUser,e.cardValue,15)},_replayOptionOutCard:function(e){var t=this._formatCards(e.handData,HZMJ_MACROS_DEF.HAND_CARD_NUM);this.tableUI.outCard(e.bUser,e.cardValue,t.cards,t.count,e.handCardIndex)},_replayOptionChi:function(e){var t=this._formatCards(e.handData,HZMJ_MACROS_DEF.HAND_CARD_NUM),i={eventType:HZMJ_MACROS_DEF.ACTION_CHI,byStation:e.bUser,eventSendPlayerViewSeatNO:this.logicToViewSeatNo(e.bUser),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(e.bBeUser),curMahJongValue:e.cardValue,resultList:[e.chiList[0],e.chiList[1],e.chiList[2],G_INVALID_BYTE_VALUE],handCount:t.count,handList:t.cards};this.tableUI.eventChiPengGang(i)},_replayOptionPeng:function(e){var t=this._formatCards(e.handData,HZMJ_MACROS_DEF.HAND_CARD_NUM),i={eventType:HZMJ_MACROS_DEF.ACTION_PENG,byStation:e.bUser,eventSendPlayerViewSeatNO:this.logicToViewSeatNo(e.bUser),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(e.bBeUser),curMahJongValue:e.cardValue,handCount:t.count,handList:t.cards};this.tableUI.eventChiPengGang(i)},_replayOptionGang:function(e){var t=HZMJ_MACROS_DEF.ACTION_MING_GANG;"bugang"===e.eventType?t=HZMJ_MACROS_DEF.ACTION_BU_GANG:"angang"===e.eventType&&(t=HZMJ_MACROS_DEF.ACTION_AN_GANG);var i=this._formatCards(e.handData,HZMJ_MACROS_DEF.HAND_CARD_NUM),n={eventType:t,byStation:e.bUser,eventSendPlayerViewSeatNO:this.logicToViewSeatNo(e.bUser),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(e.bBeUser),curMahJongValue:e.cardValue,handCount:i.count,handList:i.cards};this.tableUI.eventChiPengGang(n)},_replayOptionHua:function(e){var t={};t.byCurrentUser=e.bUser,t.byCardCount=e.cardCount,t.byHuaCard={};for(var i=0;i<=HZMJ_MACROS_DEF.HUA_CARD_NUM-1;i++)t.byHuaCard[i]=e.byHuaCard[i];t.byHuaCardCount=e.huaCardCount,t.byWildHuaCard={};for(var n=0;n<=HZMJ_MACROS_DEF.HUA_CARD_NUM-1;n++)t.byWildHuaCard[n]=e.byWildHuaCard[n];t.byWildHuaCardCount=e.wildHuaCardCount;for(var o=[],a=0;a<HZMJ_MACROS_DEF.HUA_CARD_NUM;a++)t.byHuaCard[a]!=G_INVALID_BYTE_VALUE&&o.push(t.byHuaCard[a]);for(var r=0;r<HZMJ_MACROS_DEF.HUA_CARD_NUM;r++)t.byWildHuaCard[r]!=G_INVALID_BYTE_VALUE&&o.push(t.byWildHuaCard[r]);this.tableUI.ShowflowerCard(this.logicToViewSeatNo(t.byCurrentUser),o,t.byHuaCardCount,t.byWildHuaCardCount),this.tableUI.ShowMyHandCard(this.logicToViewSeatNo(t.byCurrentUser),e.handData)},_replayOptionPickFlower:function(e){this.tableUI.ShowMyHandCard(this.logicToViewSeatNo(e.bUser),e.handData),this.tableUI.showRestNum(!0,e.iMenNums)},_replayOptionHu:function(e){this.tableUI.eventHu(this.logicToViewSeatNo(e.bUser),this.logicToViewSeatNo(e.bBeUser))},_replayOptionGameEnd:function(e){for(var t=this.getGameCountInfo(),i=[],n=0;n<35&&e.UserHuPaiLeiXing[n];n++)i.push(e.UserHuPaiLeiXing[n]);for(var o={bZimo:e.bZimo,bIsLiuJu:e.bIsLiuJu,byDianPao:[],byBeDianPao:e.byBeDianPao,byPs:e.byPs,byArHandPai:[],byArHandPaiCount:[],byBaoCard:255,byHorsePai:[],byHaveHorsePai:[],iHaveHorseCount:[],iHorseCount:[],iHuTypeEx:[],iFanCount:[],bycountGangFen:[],llGameScore:[],llAllScore:[],UserGCPData:[],HuPaiLeiXing:[],UserHuPaiLeiXing:i,byHuDouble:[],byDouble:[],byHuaCardCount:[],byWildHuaCardCount:[],byOtherUserHuaType:[],byTaiCount:e.byTaiCount,byHuMode:[],bNotPrompt:e.bNotPrompt,curGameCount:void 0,allGameCount:t,byNtStation:this.getCurBankerSeatNO(),userID:[],userName:[],usersHeadUrl:[]},a=0;a<HZMJ_MACROS_DEF.PLAY_COUNT;a++){var r=e.userList[a];if(r){var s=this.playInfo.user[a];o.userID[a]=s.dwUserID,o.userName[a]=s.nickName,o.usersHeadUrl[a]=s.hearUrl,o.byDianPao[a]=e.bDianPao[a],o.byArHandPai[a]=r.handData,o.byArHandPaiCount[a]=r.handCardCount,o.llGameScore[a]=r.llGameScore,o.llAllScore[a]=r.llAllScore;for(var c=0;c<=4;c++)r.UserGCPData&&r.UserGCPData[c]&&(r.UserGCPData[c].byData=r.UserGCPData[c].handData);o.UserGCPData[a]=r.UserGCPData,o.byHuDouble[a]=r.byHuDouble,o.byDouble[a]=r.byDouble,o.byHuaCardCount[a]=r.byHuaCardCount,o.byWildHuaCardCount[a]=r.byWildHuaCardCount,o.byOtherUserHuaType[a]=r.byOtherUserHuaType,o.byHuMode[a]=r.byHuMode}}o.tableUIComponent=this.tableUI,GameEvent.emit("showGameOver",o,!0)},userResponse:function(e){var t,i=e.eventType;switch(i==HZMJ_MACROS_DEF.ACTION_PASS&&0==e.iSGuoAction&&this.tableUI.setChuPaiEnabled(-1),i){case HZMJ_MACROS_DEF.OUT:t=null,t=GameSocket.createNetMsg(6,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_OUT_CARD),e.bClickTingOut?(t.pushBOOL(!0),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u51fa\u724c \u542c \u6570\u636e","true")):(t.pushBOOL(!1),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u51fa\u724c \u542c \u6570\u636e","false")),t.pushBYTE(e.curMahJongValue),t.crossedARMPush(4),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u51fa\u724c \u6570\u636e",e.curMahJongValue),GameSocket.sendData(t);break;case HZMJ_MACROS_DEF.ACTION_PASS:case HZMJ_MACROS_DEF.ACTION_TING_PAI:case HZMJ_MACROS_DEF.ACTION_PENG:case HZMJ_MACROS_DEF.ACTION_HU:t=null,(t=GameSocket.createNetMsg(5,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_OPERATE_CARD)).pushBYTE(e.eventType),t.crossedARMPush(4),GameSocket.sendData(t),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u78b0 \u6570\u636e",e.eventType);break;case HZMJ_MACROS_DEF.ACTION_GANG:t=null,(t=GameSocket.createNetMsg(5,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_OPERATE_CARD)).pushBYTE(HZMJ_MACROS_DEF.ACTION_GANG);for(var n=0;n<=3;n++)t.pushBYTE(e.gangValue);GameSocket.sendData(t),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u6760 \u6570\u636e",e.gangValue);break;case HZMJ_MACROS_DEF.ACTION_CHI:t=null,(t=GameSocket.createNetMsg(5,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_OPERATE_CARD)).pushBYTE(HZMJ_MACROS_DEF.ACTION_CHI);for(var o=0;o<=2;o++)t.pushBYTE(e.chiValue[o]);t.pushBYTE(G_INVALID_BYTE_VALUE),GameSocket.sendData(t),console.log("\u64cd\u4f5c\u65e5\u5fd7 \u5403 \u6570\u636e",e.chiValue)}},SendDataZSY:function(e){var t=null;(t=GameSocket.createNetMsg(1,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_ZUO_SHENG_YI)).pushBOOL(e),GameSocket.sendData(t)},SendChoosedChi:function(){var e=null;(e=GameSocket.createNetMsg(1,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_CHOOSE_CHI)).pushBOOL(!0),GameSocket.sendData(e)},dealGameStationResp:function(e){if(HZMJ_GameStation.GS_STATUS_FREE==this.gameStatus){var t={};t.bAgree=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),t.byOutTime=e.popBYTE(),t.byBlockTime=e.popBYTE(),t.byMJCardType=e.popBYTE(),t.isMenNums=e.popINT(),t.iPlayintCount=e.popINT(),t.iBaseFen=e.popINT(),t.llAllScore=tools.popArray("LONGLONG",e,HZMJ_MACROS_DEF.PLAY_COUNT),t.bSuperFlag=e.popBOOL(),t.iTimeRemaining=e.popINT(),t.playCount=e.popBYTE(),this.playCount=t.playCount,this._logicInfo.seatCount=this.playCount,this.tableUI.setRoomPswText(t.iPlayintCount,t.byQuanFeng),this._GameRules=t,this._outTime=t.byOutTime,this._blockTime=t.byBlockTime;var i=this.getGameCountInfo();t.curCount=i,console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u6e38\u620f\u72b6\u6001Free \u6570\u636e",t),this.tableUI.ShowNetWork(!1),this.tableUI.showTableBtn(!0),this.tableUI.StartTimeschedule(t.iTimeRemaining,!0),0!=i&&(this.tableUI.uiInfo.startBtn&&(this.tableUI.uiInfo.startBtn.active=!1),this.sendAgreeGame()),this.tableUI.onGameStationFree(t),this.isMatchRoom()||this.isBarrierMatchRoom()?this.tableUI.playerinforOrGameRulerStatic(!1):this.tableUI.playerinforOrGameRulerStatic(!0),this.m_OverVisible=!1}else if(HZMJ_GameStation.GS_STATUS_PLAYING==this.gameStatus||HZMJ_GameStation.GS_FOLLOWER_CHECK==this.gameStatus){var n={};n.bTing=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),n.bTinging=e.popBOOL(),n.bTuoGuan=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),n.byOutTime=e.popBYTE(),n.byBlockTime=e.popBYTE(),n.byArHandPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.HAND_CARD_NUM),n.byArHandPaiCount=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT),this.handArrData=cloneObject(n.byArHandPai),this.handArrCount=cloneObject(n.byArHandPaiCount),n.byArOutPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.OUT_CARD_NUM),n.byArOutPaiCount=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT),n.byMJCardType=e.popBYTE();var o=Number(cc.sys.localStorage.getItem(G_CARD_COLOR)||0);n.byMJCardType=o,n.byNowOutStation=e.popBYTE(),n.byTingCanOut=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),n.byNtStation=e.popBYTE(),n.byArMenPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.MEN_CARD_NUM),n.byBaoCard=e.popBYTE(),n.iMenNums=e.popINT(),n.iPlayintCount=e.popINT(),n.iBaseFen=e.popINT(),n.llAllScore=tools.popArray("LONGLONG",e,HZMJ_MACROS_DEF.PLAY_COUNT),n.CPGNotifyMes=this.__tagCPGNotifyMes(e),n.UserGCPData=this.__resolveChiPengGangData(e),n.bSuperFlag=e.popBOOL(),n.byOutAfterHuCard=tools.popArray("BYTE",e,34),n.remainingTimer=e.popINT(),n.iTimeRemaining=e.popINT(),n.playCount=e.popBYTE(),this.playCount=n.playCount,this._logicInfo.seatCount=this.playCount,this.__recordAllUserName(),this.tableUI.playerinforOrGameRulerStatic(!1),this.tableUI.ShowNetWork(!0),this.tableUI.Showdirection(n.byNtStation,n.byLackFengWei),this.tableUI.setRoomPswText(n.iPlayintCount,n.byQuanFeng),this.tableUI.StartTimeschedule(n.iTimeRemaining),this._iMenNums=n.iMenNums,this._GameRules=n,this.mySeatNo=this.getMySeatNO(),this._playType=n.byJingType,this._outTime=n.byOutTime,this._blockTime=n.byBlockTime,this.curBankerSeatNO=n.byNtStation,this.tableUI.showTableBtn(!1),this.tableUI.hideGameStatic(!1),this.m_OverVisible=!1,cc.mj.Data.zhuangUid=this.getUserIdBySeat(this.curBankerSeatNO);for(var a=0;a<HZMJ_MACROS_DEF.PLAY_COUNT;a++)this.tableUI.addPlayer(this.getUserIdBySeat(a),this.getViewSeatByID(this.getUserIdBySeat(a)),n.byMJCardType);cc.mj.Data.isWatchMode=this.isMeWatching();for(var r=0;r<HZMJ_MACROS_DEF.PLAY_COUNT;r++){var s=r,c=[];if(n.byHuaCard)for(var l=0;l<HZMJ_MACROS_DEF.HUA_CARD_NUM;l++)n.byHuaCard[r][l]!=G_INVALID_BYTE_VALUE&&c.push(n.byHuaCard[r][l]);if(n.byWildHuaCard)for(var u=0;u<HZMJ_MACROS_DEF.HUA_CARD_NUM;u++)n.byWildHuaCard[r][u]!=G_INVALID_BYTE_VALUE&&c.push(n.byWildHuaCard[r][u]);n.byHuaCardCount&&n.byWildHuaCardCount&&(0==n.byHuaCardCount[r]&&0==n.byWildHuaCardCount[r]||this.tableUI.ShowflowerCard(this.logicToViewSeatNo(s),c,n.byHuaCardCount[r],n.byWildHuaCardCount[r]))}if(n.bankerViewSeat=this.logicToViewSeatNo(this.getCurBankerSeatNO()),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u6e38\u620f\u72b6\u6001Free \u6570\u636e",n),this.tableUI.onGameStationGame(n),this.tableUI.showUserBankerbShow(this.logicToViewSeatNo(n.byNtStation),!0),this.isGoldRoom())for(var h=0;h<=HZMJ_MACROS_DEF.PLAY_COUNT-1;h++)h==this.getMySeatNO()&&(this._isMeTuoGuan=n.bTuoGuan[h]),this.tableUI.showUserAuto(this.logicToViewSeatNo(h),n.bTuoGuan[h]);this.tableUI.showCurCanHUCard(n.byOutAfterHuCard);var d=[];if(n.byCannotOutPai)for(var f=0;f<n.byCannotOutPai.length;f++)G_INVALID_BYTE_VALUE!=n.byCannotOutPai[f]&&d.push(n.byCannotOutPai[f]);for(var p=0;p<d.length;p++)this.tableUI.checkhandCardList(this.logicToViewSeatNo(this.getMySeatNO()),d[p]);for(var g=n.CPGNotifyMes[this.getMySeatNO()],m=[],_=0;_<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1&&G_INVALID_BYTE_VALUE!=g.byTingCanOut[_];_++)m.push(g.byTingCanOut[_]);var y=G_INVALID_BYTE_VALUE,v=[];if(g.bHu&&v.push(HZMJ_MACROS_DEF.ACTION_HU),g.bTing)for(var C=0;C<m.length;C++)this.tableUI.showTingsanjiao(this.logicToViewSeatNo(this.getMySeatNO()),m[C]);if(g.bGang&&(y=g.iGangData[0][1],v.push(HZMJ_MACROS_DEF.ACTION_GANG)),g.bPeng&&(y=g.byPeng,v.push(HZMJ_MACROS_DEF.ACTION_PENG)),g.bChi&&v.push(HZMJ_MACROS_DEF.ACTION_CHI),v.length<1)return;n.bHaveChoosedChi&&g.bChi||v.push(HZMJ_MACROS_DEF.ACTION_PASS);var b=g.byUser;G_INVALID_BYTE_VALUE==b&&(b=this.getMySeatNO());for(var S=[],L=0;L<=HZMJ_MACROS_DEF.MAX_CHI_UION_NUM-1&&G_INVALID_BYTE_VALUE!=g.byChi[L][0];L++)S.push(g.byChi[L]);for(var I=[],R=[],N=0;N<=HZMJ_MACROS_DEF.MAX_GANG_UION_NUM-1&&G_INVALID_BYTE_VALUE!=g.iGangData[N][1];N++)R.push(g.iGangData[N][0]),I.push(g.iGangData[N][1]);var T={eventSendPlayerViewSeatNO:this.logicToViewSeatNo(this.getMySeatNO()),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(b),eventType:HZMJ_MACROS_DEF.ACTION_NO,eventTypeList:v,curMahJongValue:y,outTime:this._blockTime,chiUion:S,gangUion:I,gangTypeList:R,handList:this.handArrData[this.getMySeatNO()],handCount:this.handArrCount[this.getMySeatNO()]};cc.mj.Data.isWatchMode||this.tableUI.waitUserResponse(T)}},__resolveChiPengGangNotify:function(e){for(var t={},i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++){t[i]={},t[i].bZhuaPai=e.popBOOL(),t[i].bChi=e.popBOOL(),t[i].bPeng=e.popBOOL(),t[i].bGang=e.popBOOL(),t[i].bKan=e.popBOOL(),t[i].bSaoHu=e.popBOOL(),t[i].bTing=e.popBOOL(),t[i].bHu=e.popBOOL(),t[i].bHaveReturn=e.popBOOL(),t[i].bCanAction=e.popBOOL(),t[i].bCanChi={};for(var n=0;n<=2;n++)t[i].bCanChi[n]=e.popBOOL();t[i].byPeng=e.popBYTE(),t[i].byChi={};for(var o=0;o<=2;o++){t[i].byChi[o]={};for(var a=0;a<=2;a++)t[i].byChi[o][a]=e.popBYTE()}t[i].iGangData={};for(var r=0;r<=3;r++){t[i].iGangData[r]={};for(var s=0;s<=1;s++)t[i].iGangData[r][s]=e.popBYTE()}t[i].byTingCanOut={};for(var c=0;c<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1;c++)t[i].byTingCanOut[c]=e.popBYTE();t[i].byMaxThing=e.popBYTE(),t[i].byHuType={};for(var l=0;l<=HZMJ_MACROS_DEF.MAX_HUPAI_TYPE-1;l++)t[i].byHuType[l]=e.popBYTE();t[i].iHuPs=e.popBYTE(),t[i].byDianPao=e.popBYTE(),t[i].byBeDianPao=e.popBYTE(),t[i].byBlockTime=e.popBYTE(),t[i].byUser=e.popBYTE(),t[i].byPs=e.popBYTE()}return t},gameStationLogic:function(e){if(this.curBankerSeatNO=e.byNtStation,cc.mj.Data.zhuangUid=this.getUserIdBySeat(this.curBankerSeatNO),this.tableUI.showUserBankerbShow(this.logicToViewSeatNo(this.getCurBankerSeatNO()),!0),this.playInfo)for(var t=0;t<this.playCount;t++)this.tableUI.addPlayer(this.playInfo.user[t].dwUserID,this.logicToViewSeatNo(t),e.byMJCardType);else for(var i=0;i<HZMJ_MACROS_DEF.PLAY_COUNT;i++)this.tableUI.addPlayer(this.getUserIdBySeat(i),this.getViewSeatByID(this.getUserIdBySeat(i)),e.byMJCardType);e.bankerViewSeat=this.logicToViewSeatNo(this.getCurBankerSeatNO()),cc.mj.Data.isGaming=!0,cc.mj.Data.uid=this.getMyID(),this.tableUI.onGameBeginMessage(e),this.tableUI.showRestNum(!0,e.iMenNums)},getUserNameList:function(){return this._nameList},getUserIdList:function(){return this._UserIdList},dealGameMessage:function(e){var t=e.bAssistantID;switch(new Date,t){case HZMJ_NOTIFY_AssistantID.SUB_S_GAME_START:this.__initData(),this.m_StartVisible=!0,this.m_OverVisible=!1,this.__recordAllUserName();var i={};this.setGameStatus(HZMJ_GameStation.GS_STATUS_PLAYING),i.byNtStation=e.popBYTE(),i.byCard=this.__resolveHandData(e),i.byCradCount=this.__resolveHandCount(e),i.byArMenPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.MEN_CARD_NUM),i.bySezi0=e.popBYTE(),i.bySezi1=e.popBYTE(),i.byGetPaiDir=e.popBYTE(),i.byGetPai=e.popBYTE(),i.byMJCardType=e.popBYTE();var n=Number(cc.sys.localStorage.getItem(G_CARD_COLOR)||0);if(i.byMJCardType=n,i.byBaoCard=e.popBYTE(),i.iMenNums=e.popINT(),i.iPlayintCount=e.popINT(),i.bSuperFlag=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),i.iTimeRemaining=e.popINT(),i.byLackFengWei=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),i.byHuCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM,HZMJ_MACROS_DEF.MAX_CANHU_CARD_NUM),i.byCardRemainNum=tools.popArray("BYTE",e,255),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u6e38\u620f\u5f00\u59cb \u6570\u636e",i),this.tableUI.setRoomPswText(i.iPlayintCount,i.byQuanFeng),this.mySeatNo=this.getMySeatNO(),this.curBankerSeatNO=i.byNtStation,this._iMenNums=i.iMenNums,this.tableUI.showUserBankerbShow(this.logicToViewSeatNo(i.byNtStation),!0),this.tableUI.Showdirection(i.byNtStation,i.byLackFengWei),this.tableUI.showTableBtn(!1),this._gameBeginStatus=!0,this.tableUI.ShowNetWork(!0),this.tableUI.hideGameStatic(!1),this.gameStationLogic(i),this.tableUI.playerinforOrGameRulerStatic(!1),this.tableUI.TimeUnschedule(),this.tableUI.StartTimeschedule(i.iTimeRemaining),this.isGoldRoom())for(var o=0;o<=HZMJ_MACROS_DEF.PLAY_COUNT-1;o++)this.tableUI.showUserAuto(this.logicToViewSeatNo(o),!1);cc.mj.Data.isWatchMode=this.isMeWatching();break;case HZMJ_NOTIFY_AssistantID.SUB_S_PICK_FOLLOWER:(w={}).byCurrentUser=e.popBYTE(),w.byCard=this.__resolveHandData(e,w.byCurrentUser),w.byCardCount=e.popBYTE(),w.byHuaCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HUA_CARD_NUM),w.byHuaCardCount=e.popBYTE(),w.byWildHuaCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HUA_CARD_NUM),w.byWildHuaCardCount=e.popBYTE();for(var a=[],r=0;r<HZMJ_MACROS_DEF.HUA_CARD_NUM;r++)w.byHuaCard[r]!=G_INVALID_BYTE_VALUE&&a.push(w.byHuaCard[r]);for(var s=0;s<HZMJ_MACROS_DEF.HUA_CARD_NUM;s++)w.byWildHuaCard[s]!=G_INVALID_BYTE_VALUE&&a.push(w.byWildHuaCard[s]);this.tableUI.ShowflowerCard(this.logicToViewSeatNo(w.byCurrentUser),a,w.byHuaCardCount,w.byWildHuaCardCount),this.tableUI.ShowMyHandCard(this.logicToViewSeatNo(w.byCurrentUser),w.byCard),this.m_StartVisible,this.tableUI.setChuPaiEnabled(-1);break;case HZMJ_NOTIFY_AssistantID.SUB_S_ZHUA_AFTER_PICK:(w={}).byPaiIndex=e.popBYTE(),w.byCardData=e.popBYTE(),w.byCurrentUser=e.popBYTE(),w.byCard=this.__resolveHandData(e,w.byCurrentUser),w.byArMenPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.MEN_CARD_NUM),w.byCardCount=e.popBYTE(),w.iMenNums=e.popINT(),w.bCanOutCard=e.popBOOL();for(var c=!1,l=0;l<HZMJ_MACROS_DEF.HAND_CARD_NUM;l++)41==w.byCard[l]?c=!0:42==w.byCard[l]?c=!0:43==w.byCard[l]?c=!0:44==w.byCard[l]?c=!0:45==w.byCard[l]?c=!0:46==w.byCard[l]?c=!0:47==w.byCard[l]?c=!0:48==w.byCard[l]&&(c=!0);if(this._iMenNums=w.iMenNums,this.tableUI.ShowMyHandCard(this.logicToViewSeatNo(w.byCurrentUser),w.byCard),this.tableUI.showRestNum(!0,w.iMenNums),this.logicToViewSeatNo(this.getMySeatNO())==this.logicToViewSeatNo(w.byCurrentUser)&&0==c&&1==w.bCanOutCard)if(this.m_StartVisible){var u=this.logicToViewSeatNo(this.getCurBankerSeatNO());this.tableUI.setChuPaiEnabled(u)}else{var h=this.logicToViewSeatNo(w.byCurrentUser);this.tableUI.setChuPaiEnabled(h)}break;case HZMJ_NOTIFY_AssistantID.SUB_S_OUT_CARD:this.m_StartVisible=!1,(w={}).bTing=e.popBOOL(),w.byDeskStation=e.popBYTE(),w.byOutCardValue=e.popBYTE(),w.byHandCard=this.__resolveHandData(e,w.byDeskStation),w.byCardCount=e.popBYTE(),w.byHuCard=tools.popArray("BYTE",e,34),w.handCardIndex=e.popINT(),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u51fa\u724c \u6570\u636e",w),this.tableUI.outCard(w.byDeskStation,w.byOutCardValue,w.byHandCard,w.byCardCount,w.handCardIndex),w.bTing&&this.tableUI.eventTing(this.logicToViewSeatNo(w.byDeskStation)),w.byDeskStation==this.getMySeatNO()&&(this.tableUI.showCurCanHUCard(w.byHuCard),this.tableUI.setChuPaiEnabled(-1));break;case HZMJ_NOTIFY_AssistantID.SUB_S_OUT_CARD_RESULT:this.m_StartVisible=!1,(w={}).bResult=e.popBOOL(),w.byErrorCode=e.popBYTE(),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u51fa\u724c\u7ed3\u679c \u6570\u636e",w),w.bResult;break;case HZMJ_NOTIFY_AssistantID.SUB_S_SEND_CARD:w={},this._gameBeginStatus=!1,w.byPaiIndex=e.popBYTE(),w.byCardData=e.popBYTE(),w.byCurrentUser=e.popBYTE(),w.byCard=this.__resolveHandData(e,w.byCurrentUser),w.byArMenPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.MEN_CARD_NUM),w.byCardCount=e.popBYTE(),w.iMenNums=e.popINT(),w.bCanOutCard=e.popBOOL(),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u6293\u724c \u6570\u636e",w),this._iMenNums=w.iMenNums,GameEvent.emit("onHideCtrlBtn"),this.tableUI.getCard(w.byCurrentUser,w.byCardData,this._outTime,w),this.tableUI.showRestNum(!0,w.iMenNums);break;case HZMJ_NOTIFY_AssistantID.SUB_S_OPERATE_NOTIFY:(w={}).bChi=e.popBOOL(),w.bPeng=e.popBOOL(),w.bGang=e.popBOOL(),w.bHu=e.popBOOL(),w.bTing=e.popBOOL(),w.byUser=e.popBYTE(),w.byChi=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_CHI_UION_NUM,3),w.byPeng=e.popBYTE(),w.byGangData=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_GANG_UION_NUM,2),w.byTingCanOut=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),w.byHuCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),w.byCardRemainNum=tools.popArray("BYTE",e,255),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u5403\u78b0\u6760\u80e1\u901a\u77e5\u4e8b\u4ef6\u4e8b\u4ef6 \u6570\u636e",w);for(var d=w,f=[],p=0;p<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1&&G_INVALID_BYTE_VALUE!=d.byTingCanOut[p];p++)f.push(d.byTingCanOut[p]);var g=G_INVALID_BYTE_VALUE,m=[];if(d.bHu&&m.push(HZMJ_MACROS_DEF.ACTION_HU),d.bTing)for(var _=0;_<f.length;_++)this.tableUI.showTingsanjiao(this.logicToViewSeatNo(w.byUser),f[_]);if(d.bGang&&(g=d.byGangData[0][1],m.push(HZMJ_MACROS_DEF.ACTION_GANG)),d.bPeng&&(g=d.byPeng,m.push(HZMJ_MACROS_DEF.ACTION_PENG)),d.bChi&&(g=d.byGangData[0][1],m.push(HZMJ_MACROS_DEF.ACTION_CHI)),m.length<1)return;m.push(HZMJ_MACROS_DEF.ACTION_PASS);var y=d.byUser;G_INVALID_BYTE_VALUE==y&&(y=this.getMySeatNO()),d.bHu&&(this._HuPosition=y);for(var v=[],C=0;C<=HZMJ_MACROS_DEF.MAX_CHI_UION_NUM-1&&G_INVALID_BYTE_VALUE!=d.byChi[C][0];C++)v.push(d.byChi[C]);for(var b=[],S=[],L=0;L<=HZMJ_MACROS_DEF.MAX_GANG_UION_NUM-1&&G_INVALID_BYTE_VALUE!=d.byGangData[L][1];L++)S.push(d.byGangData[L][0]),b.push(d.byGangData[L][1]);var I={eventSendPlayerViewSeatNO:this.logicToViewSeatNo(this.getMySeatNO()),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(y),eventType:HZMJ_MACROS_DEF.ACTION_NO,eventTypeList:m,curMahJongValue:g,outTime:this._blockTime,chiUion:v,gangUion:b,gangTypeList:S,handCount:this.handArrCount[this.getMySeatNO()]};if(this._isMeTuoGuan&&(I.outTime=this._autoBlockTime),this.handArrData)for(var R=0;R<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1&&G_INVALID_BYTE_VALUE!=this.handArrData[this.getMySeatNO()][R];R++)this.handArrCount[this.getMySeatNO()]=R+1;this.handArrCount&&(I.handCount=this.handArrCount[this.getMySeatNO()]),this.tableUI.waitUserResponse(I);break;case HZMJ_NOTIFY_AssistantID.SUB_S_OPERATE_RESULT:if((w={}).bClearAction=e.popBOOL(),w.bZhua=e.popBOOL(),w.byActionType=e.popBYTE(),w.byStation=e.popBYTE(),w.byBeStation=e.popBYTE(),w.byCardValue=e.popBYTE(),w.byData=tools.popArray("BYTE",e,4),w.byCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),w.byArOutPai=tools.popArray("BYTE",e,60),w.byCardCount=e.popBYTE(),w.byOutCanHuCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),w.byHuCard=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM,HZMJ_MACROS_DEF.MAX_CANHU_CARD_NUM),w.byCardRemainNum=tools.popArray("BYTE",e,255),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u64cd\u4f5c\u7ed3\u679c \u6570\u636e",w),13!=w.byActionType&&14!=w.byActionType&&15!=w.byActionType&&w.byCardValue==G_INVALID_BYTE_VALUE)return;this.handArrData=cloneObject(w.byArHandPai);var N={eventType:w.byActionType,byStation:w.byStation,eventSendPlayerViewSeatNO:this.logicToViewSeatNo(w.byStation),eventRecvPlayerViewSeatNO:this.logicToViewSeatNo(w.byBeStation),curMahJongValue:w.byCardValue,resultList:[w.byData[0],w.byData[1],w.byData[2],w.byData[3]],handList:w.byArHandPai,handCount:w.byHandCardCount,outTime:this._outTime};if(GameEvent.emit("onHideCtrlBtn"),this.getUserIdBySeat(N.byStation)===cc.mj.Data.uid||cc.mj.Data.isPlayback||(cc.mj.Data.notcanPutCard=!1),HZMJ_MACROS_DEF.ACTION_AN_GANG==w.byActionType)N.resultList=[w.byData[3],w.byData[3],w.byData[3],w.byData[3]];else{if(HZMJ_MACROS_DEF.ACTION_TING_PAI==w.byActionType)return void this.tableUI.eventTing(this.logicToViewSeatNo(w.byStation));if(HZMJ_MACROS_DEF.ACTION_HU==w.byActionType)return void this.tableUI.eventHu(this.logicToViewSeatNo(w.byStation),this.logicToViewSeatNo(w.byBeStation));if(HZMJ_MACROS_DEF.ACTION_FANCAI==w.byActionType)return void this.tableUI.eventFanCai(this.logicToViewSeatNo(w.byStation),this.logicToViewSeatNo(w.byBeStation));if(HZMJ_MACROS_DEF.ACTION_GANGKAI==w.byActionType)return void this.tableUI.eventGngKai(this.logicToViewSeatNo(w.byStation),this.logicToViewSeatNo(w.byBeStation))}this.tableUI.eventChiPengGang(N);break;case HZMJ_NOTIFY_AssistantID.SUB_S_LIMIT_OUT:(w={}).byUser=e.popBYTE(),w.byCannotOutCard=tools.popArray("BYTE",e,2);for(var T=[],E=0;E<w.byCannotOutCard.length;E++)G_INVALID_BYTE_VALUE!=w.byCannotOutCard[E]&&T.push(w.byCannotOutCard[E]);for(var M=0;M<T.length;M++)this.tableUI.checkhandCardList(this.logicToViewSeatNo(w.byUser),T[M]);break;case HZMJ_NOTIFY_AssistantID.SUB_S_REMOV_OUT_LIMIT:(w={}).byUser=e.popBYTE(),w.byCannotOutCard=tools.popArray("BYTE",e,2),this.tableUI.CanlehandCardColor(this.logicToViewSeatNo(w.byUser));break;case HZMJ_NOTIFY_AssistantID.SUB_S_CPG_TIMES_PROMPT:(w={}).CPGTimesType=e.popBYTE(),w.name=e.popNCHAR(64),w.bCPGUser=e.popBOOL();var D=w.name,A="";2==w.CPGTimesType?A=1==w.bCPGUser?"\u60a8\u628a\u3010"+D+"\u3011\u5403\u78b0\u6760\u4e862\u6b21":"\u60a8\u88ab\u3010"+D+"\u3011\u5403\u78b0\u6760\u4e862\u6b21":3==w.CPGTimesType?A=1==w.bCPGUser?"\u60a8\u628a\u3010"+D+"\u3011\u505a\u751f\u610f\u4e86":"\u60a8\u88ab\u3010"+D+"\u3011\u505a\u751f\u610f\u4e86":4==w.CPGTimesType&&(A="\u60a8\u548c\u3010"+D+"\u3011\u4e92\u76f8\u505a\u751f\u610f"),this.tableUI.ShowChiPengGangtips(A);break;case HZMJ_NOTIFY_AssistantID.SUB_S_GAME_END:if(this.m_OverVisible)return;this.m_OverVisible=!0;var w={};if(w.bZimo=e.popBOOL(),w.bIsLiuJu=e.popBOOL(),w.byDianPao=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.byBeDianPao=e.popBYTE(),w.byPs=e.popBYTE(),w.byArHandPai=this.__resolveHandData(e),w.byArHandPaiCount=this.__resolveHandCount(e),w.byHuDouble=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.PLAY_COUNT,HZMJ_MACROS_DEF.MAX_HUPAI_TYPE),w.iFanCount=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.bTing=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.GoldRoom=this.isGoldRoom()&&!this.isBarrierMatchRoom(),w.llGameScore=tools.popArray("LONGLONG",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.llWinFailDouble=tools.popArray("LONGLONG",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.bycountGangFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iGenZhuangScore=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iHuFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iMaFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iMaiMaShu=e.popINT(),w.GoldRoom)for(var O=0;O<4;O++)0!=w.llGameScore[O]&&(w.llGameScore[O]=F_GetMoneyDisplay(Number(w.llGameScore[O])));w.byMaPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_MAIMA_COUNT,2),w.iJiZhuangTimes=e.popINT(),w.bHuType=e.popBYTE(),w.UserGCPData=this.__resolveChiPengGangData(e),w.byRemainMenPai=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_REMAIN_MEN_PAI_NUM),w.byRemainMenPaiCount=e.popBYTE(),w.CountHuFenStruct=this._resolveCountHuFenStruct(e,HZMJ_MACROS_DEF.PLAY_COUNT),w.CountGangFenStruct=this._resolveCountGangFenStruct(e,HZMJ_MACROS_DEF.PLAY_COUNT),w.CountGenZhuangFenStruct=this._resolveCountGenZhuangFenStruct(e,HZMJ_MACROS_DEF.PLAY_COUNT),w.CountHorseFenStruct=this._resolveCountHorseFenStruct(e,HZMJ_MACROS_DEF.PLAY_COUNT),w.rewardGiftCard=e.popINT();var G=this.getGameCountInfo();w.curGameCount=void 0,w.allGameCount=G,w.byNtStation=this.getCurBankerSeatNO(),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u5c0f\u7d50\u7b97\u4e8b\u4ef6 \u6570\u636e",w),this.tableUI.setbNotPrompt(w.bNotPrompt);for(var B=0;B<HZMJ_MACROS_DEF.PLAY_COUNT;B++)this.tableUI.ShowPlayHandCard(this.logicToViewSeatNo(B),w.byArHandPai[B],w.byArHandPaiCount[B],w.byDianPao[B],w.byPs);GameEvent.emit("onGameOver",w);break;case HZMJ_NOTIFY_AssistantID.SUB_S_GAME_END_ALL:(w={}).iHuCount=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iZimo=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iJiePao=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iDianPao=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iDianGang=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iBuGang=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.iAnGangCount=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.llGameScore=tools.popArray("LONGLONG",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.userID=tools.popArray("INT",e,HZMJ_MACROS_DEF.PLAY_COUNT),w.wanfa=this.tableUI._wanfaString,w.sumCount=this.getGameCountInfo(),w.roomPsw=window.deskPasswd,w.roomMastId=this.getRoomMasterId(),console.log(tools.getCurTime()+" \u724c\u5c40\u65e5\u5fd7 \u603b\u7ed3\u7b97 \u6570\u636e",w),this.m_OverVisible=!1,this.tableUI.setAllResultData(w),this.tableUI.setAllResultData(w,this.getGameCountInfo());break;case HZMJ_NOTIFY_AssistantID.ASS_CHANGE_PAI_RESULT:e.crossedARM(3),e.popBOOL();for(var k={},P=0;HZMJ_MACROS_DEF.HAND_CARD_NUM-1;P++)k[P]=e.popBYTE();e.popBYTE();break;case HZMJ_NOTIFY_AssistantID.SUB_S_TRUSTEE:(w={}).bTrustee=e.popBOOL()}},__resolveGangFenData:function(e){for(var t=[],i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++)t[i]={},t[i].byGangType=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),t[i].byXiangYingStation=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),t[i].bBaoTing=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),t[i].byGangNums=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),t[i].iAllFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),t[i].byNums=e.popBYTE();return t},_resolveCountHuFenStruct:function(e,t){for(var i=[],n=0;n<t;n++)i[n]={},i[n].byNameType=tools.popArray("BYTE",e,3),i[n].byXiangYingStation=tools.popArray("BYTE",e,3),i[n].byXiangYingStationEx=tools.popArray("BYTE",e,3),i[n].iAllFen=tools.popArray("INT",e,3),i[n].byNums=e.popBYTE();return i},_resolveCountGangFenStruct:function(e,t){for(var i={},n=0;n<t;n++)i[n]={},i[n].byGangType=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),i[n].byXiangYingStation=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),i[n].bBaoTing=tools.popArray("BOOL",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),i[n].byGangNums=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),i[n].iAllFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.MAX_COUNT_GANG_FEN),i[n].byNums=e.popBYTE();return i},_resolveCountGenZhuangFenStruct:function(e,t){for(var i={},n=0;n<t;n++)i[n]={},i[n].byGenZhuangType=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GEN_ZHUANG_FEN),i[n].byXiangYingStation=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_GEN_ZHUANG_FEN),i[n].iAllFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.MAX_COUNT_GEN_ZHUANG_FEN),i[n].byNums=e.popBYTE();return i},_resolveCountHorseFenStruct:function(e,t){for(var i={},n=0;n<t;n++)i[n]={},i[n].byBuyHorseType=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_HORSE_FEN),i[n].byMaiStation=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_HORSE_FEN),i[n].byBeiMaiStation=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_COUNT_HORSE_FEN),i[n].iAllFen=tools.popArray("INT",e,HZMJ_MACROS_DEF.MAX_COUNT_HORSE_FEN),i[n].byNums=e.popBYTE();return i},__resolveHuPaiData:function(e){for(var t={},i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++)t[i]={},t[i].byNameType=tools.popArray("BYTE",e,3),t[i].byXiangYingStation=tools.popArray("BYTE",e,3),t[i].byXiangYingStationEx=tools.popArray("BYTE",e,3),t[i].iAllFen=tools.popArray("INT",e,3),t[i].byNums=e.popBYTE();return t},__resolveChiPengGangData:function(e){for(var t={},i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++){t[i]={};for(var n=0;n<=4;n++){t[i][n]={},t[i][n].byType=e.popBYTE(),t[i][n].iStation=e.popBYTE(),t[i][n].iBeStation=e.popBYTE(),t[i][n].iOutpai=e.popBYTE(),t[i][n].byData={};for(var o=0;o<=3;o++)t[i][n].byData[o]=e.popBYTE()}}return this._cpgArrData=cloneObject(t),t},__resolveHandData:function(e,t){if(void 0!==t&&null!=t){for(var i={},n=0;n<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1;n++)i[n]=e.popBYTE();return this.handArrData&&(this.handArrData[t]=cloneObject(i)),i}for(var o={},a=0;a<=HZMJ_MACROS_DEF.PLAY_COUNT-1;a++){o[a]=[];for(var r=0;r<=HZMJ_MACROS_DEF.HAND_CARD_NUM-1;r++)o[a].push(e.popBYTE())}return this.handArrData=cloneObject(o),o},__resolveHandCount:function(e,t){if(void 0!==t&&null!=t){var i=e.popBYTE();return this.handArrCount[t]=i,i}for(var n={},o=0;o<=HZMJ_MACROS_DEF.PLAY_COUNT-1;o++)n[o]=e.popBYTE();return this.handArrCount=cloneObject(n),n},getHandArrData:function(){return this.handArrData},getHandArrCount:function(){return this.handArrCount},sendPao:function(e){var t=GameSocket.createNetMsg(1,MSG_MAIN_LOADER_GAME,HZMJ_NOTIFY_AssistantID.SUB_C_DIANPAO);t.pushBYTE(e),GameSocket.sendData(t)},sendMing:function(){},clearUI:function(){this.tableUI.clearUI()},showAllResultUI:function(){this.tableUI.showAllResult()},logicToViewSeatNo:function(e){if(null==e)return G_INVALID_BYTE_VALUE;if(e<0||e>=this._logicInfo.seatCount)return G_INVALID_BYTE_VALUE;var t=(e+this.seatOffset+this._logicInfo.seatCount)%this._logicInfo.seatCount;return this.playCount&&2==this.playCount&&(1==t?t=2:3==t&&(t=2)),this.playCount&&3==this.playCount&&(2==t&&(t=3),3==e&&(t=G_INVALID_BYTE_VALUE)),cc.log("\u903b\u8f91\u5ea7\u4f4d\u53f7\u8f6c\u4e3a\u89c6\u56fe\u5ea7\u4f4d\u53f7 deskStation:"+e+" viewSeat:"+t+" seatOffset:"+this.seatOffset+" seatCount:"+this._logicInfo.seatCount+" playCount:"+this.playCount),t},__tagCPGNotifyMes:function(e){for(var t=[],i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++)t[i]=[],t[i].bZhuaPai=e.popBOOL(),t[i].bChi=e.popBOOL(),t[i].bPeng=e.popBOOL(),t[i].bGang=e.popBOOL(),t[i].bKan=e.popBOOL(),t[i].bSaoHu=e.popBOOL(),t[i].bTing=e.popBOOL(),t[i].bHu=e.popBOOL(),t[i].bHaveReturn=e.popBOOL(),t[i].bCanAction=e.popBOOL(),t[i].bCanChi=tools.popArray("BOOL",e,3),t[i].byPeng=e.popBYTE(),t[i].byChi=tools.popArray("BYTE",e,3,3),t[i].iGangData=tools.popArray("BYTE",e,4,2),t[i].byTingCanOut=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.HAND_CARD_NUM),t[i].byMaxThing=e.popBYTE(),t[i].byHuType=tools.popArray("BYTE",e,HZMJ_MACROS_DEF.MAX_HUPAI_TYPE),t[i].iHuPs=e.popBYTE(),t[i].byDianPao=e.popBYTE(),t[i].byBeDianPao=e.popBYTE(),t[i].byBlockTime=e.popBYTE(),t[i].byUser=e.popBYTE(),t[i].byPs=e.popBYTE();return t},changeTabIndex:function(e){for(var t=[],i=0;i<e.length;i++){t[i+1]=[];for(var n=0;n<e[i].length;n++)t[i+1][n+1]=e[i][n]}return t},gameBeginClearUI:function(){this.tableUI.onGameBeginClearUI()},getRate:function(){return this.isGoldRoom()||this.isPrivateRoom()?G_MULTI_NUM:1},getLeftReadyTime:function(){return 30},getIsMeTuoGuan:function(){return this._isMeTuoGuan},setGameRuleInfo:function(){this.playCount=this.tableUI.getGameRulesRs()}}),cc._RF.pop()},{GameLogicBase:"GameLogicBase"}],HZMJ_GameTableUI:[function(e,t){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function n(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=o(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"f21a4rNNxFD95KI0LvE68H8","HZMJ_GameTableUI");var r=e("EventEmiter").GlobalEvent;cc.Class({extends:e("GameViewBase"),properties:{PlayerUIPrefab:cc.Prefab,PlayersLayer:cc.Node,sitPos0:cc.Node,sitPos1:cc.Node,sitPos2:cc.Node,sitPos3:cc.Node,setup_Node:[cc.Node],BankNode_Node:[cc.Node],bg_count:cc.Node,roomPswText:cc.Node,masterNameText:cc.Node,Text_time:cc.Node,Text_RoomWanfa:cc.Node,Text_GameRuler:cc.Node,Text_GameName:cc.Label,Text_Homeowner:cc.Label,Text_GameTime:cc.Label,btn_chat:cc.Node,btn_voice:cc.Node,changeBtn:cc.Node,baoPaiBox:cc.Node,pointNode:cc.Node,centerBar:cc.Node,playInfo:cc.Node,ctrlBtns:e("HZMJ_CtrlBtns"),players:[e("HZMJ_User")],back_node:cc.Node,mjSpriteAlt:cc.SpriteAtlas,overGameNode:cc.Node,overGameMaskNode:cc.Node,Button_SuperClient:cc.Node,Skeleton:[sp.SkeletonData],Button_Ting:cc.Node,Image_GuoHu:cc.Node,HuPaiLayer:cc.Node,HuPaiLayerPrefab:cc.Prefab,img_createrCard:cc.Node,background_1:cc.Node,background_2:cc.Node,loading_Start:cc.Node,btn_img:cc.Node,btn_Start:cc.Node,btn_Table:cc.Node,Text_Infortips:cc.Node,Text_Playtips:cc.Node,Text_Metips:cc.Node,ChangeNode:cc.Node,Voice_Node:cc.Node,cardPrefabs:[cc.Prefab],cardsJson:cc.JsonAsset,LabelNoticeNode:cc.Node},ctor:function(){cc.log("")},setPlayInfo:function(e){this.onLoadSuper(),this._allResultInfo=null,this._playInfo=e},onEnable:function(){this._super(),DataNotify.addListener(this),MYAudioEngine.stopMusic(),this._playBGMusic(),cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1),r.instance.on("NORMAL_NOTICE",this.onNormalNotice,this)},onDisable:function(){this._super(),DataNotify.removeListener(this),r.instance.off("NORMAL_NOTICE",this.onNormalNotice,this)},start:function(){cc.log("********start***********"),this.resetSize(this.node),this.initUI(),this.uiInfo&&this.uiInfo.playInfo&&this.tableLogic.startReplayGame()},onEnter:function(){this.super.onEnter(this),this.initUI()},onLoad:function(){cc.log("********\u8fdb\u5165\u9ebb\u5c06UI\u754c\u9762***********");var t=cc.view.getFrameSize();if(cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),t.height>t.width&&cc.view.setFrameSize(t.height,t.width),cc.mjSpriteAlt=this.mjSpriteAlt,this._initCards(),cc.mj={},!cc.mj.Data){var i=e("HZMJ_Data");cc.mj.Data=new i,cc.mj.Data.init()}this.gameInforArry=[],this.TouristInforArry=[],this.onLoadSuper=this._super,GameManager.setUI(this,this.setPlayInfo.bind(this)),this.pointNode.active=!1,this.playInfo.active=!1,this.initEvent(),this.m_deskStation=-1,cc.mj.Data.CardType=!1,this.isShowStopSvr=!0,this.isShowNotice=!1,this.LabelNoticeNode.active=!0,this.noticeList=[],this.noticeListSpec=[],this.nPlayIndex=0},resetSize:function(){var e=cc.Canvas.instance,t=cc.view.getFrameSize(),i=cc.view.getDesignResolutionSize();t.width/t.height>i.width/i.height?(e.fitHeight=!0,e.fitWidth=!1,console.log("TableUI \u9002\u914d \u957f\u5c4f \u56fa\u5b9a\u9ad8\u5ea6",i.width,i.height,t.width,t.height)):(e.fitWidth=!0,e.fitHeight=!1,console.log("TableUI \u9002\u914d \u77ed\u5c4f \u56fa\u5b9a\u5bbd\u5ea6",i.width,i.height,t.width,t.height)),cc.sourceDesignSize=i,this.fitBg()},fitBg:function(){var e=this.node.getChildByName("Bg").getChildByName("back"),t=cc.view.getFrameSize(),i=cc.sourceDesignSize;if(t.width/t.height>i.width/i.height){var n=i.height/t.height*t.width/i.width;e.scaleX=n,e.scaleY=n}else{var o=i.width/t.width*t.height/i.height;e.scaleX=o,e.scaleY=o}},fitScreen:function(e,t){var i=e.width/t.width,n=e.height/t.height,o=e.getChildByName("Bg").getChildByName("back"),a=e.height/o.height;o.width*=a,o.height*=a,i>n&&(a=e.width/o.width,o.width*=a,o.height*=a)},initUI:function(){this.initUIData()},initUIData:function(){var e=this,t={};t.seatCount=HZMJ_MACROS_DEF.PLAY_COUNT,t.roomMasterText=this.masterNameText,t.voiceBtn=this.btn_voice,t.chatBtn=this.btn_chat,t.changeBtn=this.changeBtn,t.beginBtn=this.btn_Start,t.playInfo=this._playInfo,t.playerPrefab=this.PlayerUIPrefab,t.btn_loading_Startimg=this.loading_Start,t.img_createrCard=this.img_createrCard,t.btn_img=this.btn_img,t.btn_room=this.btn_Table,t.sitPosArr={},this.playPOS=[];for(var i=0;i<4;i++)t.sitPosArr[i]=this["sitPos"+i],this.playPOS[i]=t.sitPosArr[i].getPosition();t.sitInforArr={};for(var n=0;n<4;n++)t.sitInforArr[n]=this.setup_Node[n];if(this.setUiInfo(t),this.setCardIsCanTuoGuan(!1),this.setGoldIsCanTuoGuan(!0),this.setBarrierMatchIsCanTuoGuan(!0),this.setPrivateIsCanTuoGuan(!0),this._tingFlagList={},this._mingFlag={},this.isTingPai=!1,this.upsideGroupTing=!1,this.m_bNotPrompt=!1,this._isInforChangeSeat=!1,this.playerinforOrGameRulerStatic(!1),this._playInfo){a=this._playInfo.gameID;var o=GameManager.getRegistGameNameByGameID(a);document.title=G_APP_NAME_CH+"-"+o}else{var a=RoomListManager.getRoomInfo().gameID,r=GameManager.getRegistGameNameByGameID(a);document.title=G_APP_NAME_CH+"-"+r}var s=document.getElementById("lobbyQRCode");s&&s.remove();var c=document.getElementById("GAMEQRCode");c&&c.remove();var l=document.getElementById("GameZhanjiQRCode");l&&l.remove(),this.setShowPlaytips(!1),this._playInfo?(this.btn_img.active=!1,this.centerBar.active=!1):(this.InitWXvoiceconfig(),this.scheduleOnce(function(){e.setShareInfo(),e.requestSystemNotice();var t="G_RULES_ITEM"+window.deskPasswd;0==Number(cc.sys.localStorage.getItem(t)||0)&&(e.initGameRuler(),cc.sys.localStorage.setItem(t,1))},.5)),this.overGameNode&&(this.overGameNode.zIndex=G_GAME_SET_ZORDER_TAG+1),this.showGameBackColor(Number(cc.sys.localStorage.getItem(G_GAME_BACK)||0))},_initCards:function(){var e=this.cardsJson.json,t=!1,i=cc.view.getFrameSize();i.width/i.height>2&&(t=!0);for(var n=0;n<this.players.length;n++){var o=this.players[n].node,a=e[o.name];this._deserializePlayerCard(a,o,n,t)}},_deserializePlayerCard:function(e,t,i,o){var a={BottomHandCard:0,BottomPushCard:1,BottomShowHandCard:2,LeftHandCard:3,LeftPushCard:4,LeftShowHandCard:5,TopHandCard:6,TopPushCard:7,TopShowHandCard:8,RightHandCard:9,RightPushCard:10,RightShowHandCard:11},r=t.getChildByName("showHandCards"),s=t.getChildByName("handCards");s||(s=t.getChildByName("handCards3D"));var c=t.getChildByName("pushCards3D");s.removeAllChildren(),c.removeAllChildren(),r&&r.removeAllChildren();for(var l,u=n(e.hand_cards);!(l=u()).done;){var h=l.value,d=this.cardPrefabs[a[h.name]],f=cc.instantiate(d);f.active=h.active,f.x=h.x,f.y=h.y,f.parent=s}for(var p,g=n(e.push_cards);!(p=g()).done;){var m=p.value,_=this.cardPrefabs[a[m.name]],y=cc.instantiate(_);y.active=m.active,y.x=m.x,y.y=m.y,1==i&&o&&(y.x=y.x+50),3==i&&o&&(y.x=y.x-50),y.parent=c}if(r)for(var v,C=n(e.show_hand_cards);!(v=C()).done;){var b=v.value,S=this.cardPrefabs[a[b.name]],L=cc.instantiate(S);L.active=b.active,L.x=b.x,L.y=b.y,L.parent=r}},_playBGMusic:function(){var e=this;if(this.bgMusic)MYAudioEngine.playMusic(this.bgMusic),console.log("play game bgmusic");else{var t="";this.tableLogic.isGoldRoom()&&(t="sound/HZMJ/background/bg_Private"),this.bg_count.active=!1,this.tableLogic.isMatchRoom()&&(t="sound/HZMJ/background/bg_Match",this.bg_count.active=!0),this.tableLogic.isBarrierMatchRoom()&&(t="sound/HZMJ/background/bg_BarrierMatch"),cc.loader.loadRes(t,cc.AudioClip,function(t,i){t?console.error(t):(e.bgMusic=i,MYAudioEngine.playMusic(e.bgMusic),console.log("play game bgmusic async"))})}},doSitBtn_TouchEnded:function(e,t){var i=Number(t),n=this.getGameRulesRs();2==n?0!=i&&(i=1):3==n&&(3==i&&(i=2),this.m_deskStatio=i),console.log("\u70b9\u51fb\u5750\u4e0b\u6309\u94ae\u53d1\u9001\u5750\u4e0b\u547d\u4ee4"+i),this.tableLogic.sendSit(i)},playerinforOrGameRulerStatic:function(e){if(this.setup_Node[0].active=e,this.setup_Node[1].active=e,this.setup_Node[2].active=e,this.setup_Node[3].active=e,this.Text_GameRuler.active=e,this.PlayersLayer.active=!e,console.log("playerinforOrGameRulerStatic:",this.getGameRulesRs()),e){var t=this.getGameRulesRs();2==t?(this.setup_Node[1].active=!1,this.setup_Node[3].active=!1):3==t&&(this.setup_Node[2].active=!1)}},getPlayer:function(e){if(this.uiInfo&&this.uiInfo.playInfo){if(this.players&&this.players[e])return this.players[e]}else if(this.players&&this.players[this.tableLogic.getViewSeatByID(e)])return this.players[this.tableLogic.getViewSeatByID(e)]},addPlayer:function(e,t,i){null!=t&&255!=t&&(this.m_byMJCardType=i,this.players[t].initShow(e,i,this))},startCountdownEvent:function(){this.turnCenterBar(!0,-1,15)},turnCenterBar:function(e,t,i){var n=this;if(this.timeDownCb&&this.unschedule(this.timeDownCb,1),this.centerBar.active=e,e){this.m_flag=e,this.m_index=t,this.m_time=15;var o=this.centerBar.getChildByName("pointer").children,a=this.centerBar.getChildByName("time").getComponent(cc.Label);if(a.node.active=!1,o.forEach(function(e){return e.active=!1}),-1!==t||i){if(!cc.mj.Data.isPlayback){a.node.active=!0;var r=i||15;a.string=(r<10?"0"+r:r)+"",this.timeDownCb=function(){--r<0?(n.unschedule(n.timeDownCb),a.string="",n.turnCenterBar(n.m_flag,n.m_index,n.m_time)):a.string=(r<10?"0"+r:r)+""},this.schedule(this.timeDownCb,1)}if(-1===t)return;cc.mj.Data.turnFlag=t,cc.turnFlag=t,o[t].active=!0,o[t].getComponent(cc.Animation).play()}}},Showdirection:function(e,t){var i=this.getGameRulesRs(),n=this.tableLogic.logicToViewSeatNo(e),o=this.centerBar.getChildByName("bg").children;if(!i||4!=i&&2!=i){if((!i||3==i)&&t)switch(t){case 1:0==n?(o[0].getComponent(cc.Label).string="\u4e1c",o[3].getComponent(cc.Label).string="\u897f",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u5317"):1==n?(o[0].getComponent(cc.Label).string="\u897f",o[3].getComponent(cc.Label).string="\u5317",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u4e1c"):3==n&&(o[0].getComponent(cc.Label).string="\u5317",o[3].getComponent(cc.Label).string="\u4e1c",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u897f");break;case 2:0==n?(o[0].getComponent(cc.Label).string="\u4e1c",o[3].getComponent(cc.Label).string="\u5357",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u5317"):1==n?(o[0].getComponent(cc.Label).string="\u5357",o[3].getComponent(cc.Label).string="\u5317",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u4e1c"):3==n&&(o[0].getComponent(cc.Label).string="\u5317",o[3].getComponent(cc.Label).string="\u4e1c",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u5357");break;case 3:0==n?(o[0].getComponent(cc.Label).string="\u4e1c",o[3].getComponent(cc.Label).string="\u5357",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u897f"):1==n?(o[0].getComponent(cc.Label).string="\u5357",o[3].getComponent(cc.Label).string="\u897f",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u4e1c"):3==n&&(o[0].getComponent(cc.Label).string="\u897f",o[3].getComponent(cc.Label).string="\u4e1c",o[2].getComponent(cc.Label).string="",o[1].getComponent(cc.Label).string="\u5357")}}else 0==n?(o[0].getComponent(cc.Label).string="\u4e1c",o[1].getComponent(cc.Label).string="\u5317",o[2].getComponent(cc.Label).string="\u897f",o[3].getComponent(cc.Label).string="\u5357"):1==n?(o[0].getComponent(cc.Label).string="\u5357",o[3].getComponent(cc.Label).string="\u897f",o[2].getComponent(cc.Label).string="\u5317",o[1].getComponent(cc.Label).string="\u4e1c"):2==n?(o[0].getComponent(cc.Label).string="\u897f",o[3].getComponent(cc.Label).string="\u5317",o[2].getComponent(cc.Label).string="\u4e1c",o[1].getComponent(cc.Label).string="\u5357"):3==n&&(o[0].getComponent(cc.Label).string="\u5317",o[3].getComponent(cc.Label).string="\u4e1c",o[2].getComponent(cc.Label).string="\u5357",o[1].getComponent(cc.Label).string="\u897f")},movePointNode:function(e){var t=e;if(this.pointNode.active=t.flag,t.flag){var i=this.pointNode.parent.convertToNodeSpaceAR(t.worldPos);this.pointNode.setPosition(i),this.pointNode.stopAllActions();var n=0;switch(t.deviation){case 0:case 2:n=40;break;case 1:case 3:n=30}var o=cc.sequence(cc.moveTo(.5,i.x,i.y+n+15),cc.moveTo(.5,i.x,i.y+n));this.pointNode.runAction(o.repeatForever())}},sendPutPai:function(e){var t=e,i={eventType:HZMJ_MACROS_DEF.OUT,bClickTingOut:!1,curMahJongValue:t.card,curMahJongIndex:0};this.tableLogic.userResponse(i)},getCard:function(e,t,i,n){var o=this;if(this.scheduleOnce(function(){for(var e=0;e<4;e++)o.players[e].setHideCurChuPai(!0)},.8),MYAudioEngine.playEffect("sound/HZMJ/sound_res/zhuapai"),this.uiInfo&&this.uiInfo.playInfo){var a={uid:this.tableLogic.getUserdwUserIDBySeat(e),deskStation:e};this.nextPushUidEvent(a);var r={uid:this.tableLogic.logicToViewSeatNo(e),card:t,isBack:!1,lastCardNum:null};this.drawCardEvent(r)}else{var s={uid:this.tableLogic.getUserIdBySeat(e),deskStation:e};if(this.nextPushUidEvent(s),n){var c={uid:this.tableLogic.getUserIdBySeat(e),card:t,isBack:!1,lastCardNum:null,HandCard:n.byCard};this.drawCardEvent(c)}else{var l={uid:this.tableLogic.getUserIdBySeat(e),card:t,isBack:!1,lastCardNum:null};this.drawCardEvent(l)}}},outCard:function(e,t,i,n){if(this.uiInfo&&this.uiInfo.playInfo){var o={deskStation:this.tableLogic.logicToViewSeatNo(e),uid:this.tableLogic.getUserdwUserIDBySeat(e),card:t,isBack:!1,handList:i,handCount:n};this.sendCardEvent(o)}else{var a={uid:this.tableLogic.getUserIdBySeat(e),card:t};this.sendCardEvent(a)}this.playGameVoice(this.tableLogic.logicToViewSeatNo(e),t)},playGameVoice:function(e,t){var i=this.tableLogic.getUserSexBySeat(this.tableLogic.viewToLogicSeatNo(e));if(0==e){var n=Number(cc.sys.localStorage.getItem(G_SOUND_TYPE)||3);0==n?i=!0:1==n&&(i=!1)}i?MYAudioEngine.playEffect("sound/HZMJ/sound_res/man/"+t):MYAudioEngine.playEffect("sound/HZMJ/sound_res/woman/"+t)},__dealGameBase:function(e){e.bSuperFlag&&(this.Button_SuperClient.active=!0),this._superClientLayer&&(this._superClientLayer.active=!1)},onGameStationFree:function(e){this.__dealGameBase(e),this.Text_RoomWanfa.active=this.tableLogic.isRoom(),this.setBackground(),this.tableLogic.isRoom()&&(this.Text_RoomWanfa.getComponent(cc.Label).string=this.getGameWanfa()),this.showRestNum(!1,0),this.turnCenterBar(!1,0,0)},onGameStationGame:function(e){this.__dealGameBase(e),this.setBaoPai(!0,e.byBaoCard),this.setHandCard(),this.showRestNum(!0,e.iMenNums),this.setBackground(),this.Text_RoomWanfa.active=this.tableLogic.isRoom(),this.tableLogic.isRoom()&&(this.Text_RoomWanfa.getComponent(cc.Label).string=this.getGameWanfa()),RoomListManager.getRoomInfo();for(var t=[],i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++){var n={uid:null,handleCard:[],hasSendCards:[],drawCard:[],handCards:[],chiCards:[],pengCards:[],gangCards:[],anGangCards:[],BeChiCard:[],viewSeatNoBeChi:[],viewSeatNoBePeng:[],viewSeatNoBeGang:[]};if(n.uid=this.tableLogic.getUserIdBySeat(i),t.push(n),0!=e.byArOutPaiCount[i])for(var o=0;o<e.byArOutPaiCount[i];o++)t[i].hasSendCards.push(e.byArOutPai[i][o]);for(var a=e.UserGCPData[i],r=0;r<=HZMJ_MACROS_DEF.CPG_MAX_PILE_NUM-1&&HZMJ_MACROS_DEF.ACTION_NO!=a[r].byType;r++){for(var s=a[r].byType,c=[],l=0;l<=3;l++)G_INVALID_BYTE_VALUE!=a[r].byData[l]?c.push(a[r].byData[l]):HZMJ_MACROS_DEF.ACTION_AN_GANG==s&&c.push(a[r].byData[3]);var u={eventType:s,eventSendPlayerViewSeatNO:this.tableLogic.logicToViewSeatNo(a[r].iStation),eventRecvPlayerViewSeatNO:this.tableLogic.logicToViewSeatNo(a[r].iBeStation),curMahJongValue:a[r].iOutpai,resultList:c};switch(u.eventType){case HZMJ_MACROS_DEF.ACTION_CHI:for(var h=0;h<u.resultList.length;h++)t[i].chiCards.push(u.resultList[h]);t[i].BeChiCard.push(u.curMahJongValue),t[i].viewSeatNoBeChi.push(u.eventRecvPlayerViewSeatNO);break;case HZMJ_MACROS_DEF.ACTION_PENG:t[i].pengCards.push(u.curMahJongValue),t[i].viewSeatNoBePeng.push(u.eventRecvPlayerViewSeatNO);break;case HZMJ_MACROS_DEF.ACTION_MING_GANG:case HZMJ_MACROS_DEF.ACTION_BU_GANG:t[i].gangCards.push(u.curMahJongValue),t[i].viewSeatNoBeGang.push(u.eventRecvPlayerViewSeatNO);break;case HZMJ_MACROS_DEF.ACTION_AN_GANG:t[i].anGangCards.push(u.curMahJongValue)}}}var d={nextPushCardUid:this.tableLogic.getUserIdBySeat(e.byNowOutStation),roomOverResult:null,gameOverResult:null,players:t};GameEvent.emit("onSync",d),e.byNowOutStation==G_INVALID_BYTE_VALUE&&(this.turnCenterBar(!0,0),this.setChuPaiEnabled(-1))},userResponseEvent:function(e){this.tableLogic.userResponse(e)},SendChoosedChi:function(){this.tableLogic.SendChoosedChi()},waitUserResponse:function(e){if(this.turnCenterBar(!0,e.eventSendPlayerViewSeatNO,15),this.setChuPaiEnabled(e.eventSendPlayerViewSeatNO),0==e.eventSendPlayerViewSeatNO){var t=e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_GANG),i={isGuo:e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_PASS),isPeng:e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_PENG),isTing:e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_TING_PAI),isChi:e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_CHI),isGang:t,isBuGang:t,isAnGang:t,isHu:e.eventTypeList.includes(HZMJ_MACROS_DEF.ACTION_HU),isZiMo:!1,gangUion:e.gangUion,chiUion:e.chiUion,byMJCardType:this.m_byMJCardType};cc.mj.Data.isGetedCards?this.ctrlBtns.show(i,this):cc.mj.Data.ctrlOperateData=i}},eventHu:function(e){this.playGameVoice(e,"hu"),this.players[e]&&this.players[e].showCardType(3);for(var t=0;t<4;t++)this.players[t].setHideCurChuPai(!0)},eventFanCai:function(e){this.playGameVoice(e,"qiangganghu"),this.players[e]&&this.players[e].showGangHuType(3);for(var t=0;t<4;t++)this.players[t].setHideCurChuPai(!0)},eventGngKai:function(e){this.playGameVoice(e,"gangshanghua"),this.players[e]&&this.players[e].showGangHuType(3);for(var t=0;t<4;t++)this.players[t].setHideCurChuPai(!0)},eventTing:function(e){this.playGameVoice(e,"ting"),this.players[e]&&this.players[e].showCardType(5)},addPlayerBaiscInfo:function(e){return e.userName=this.tableLogic.getUserNameList(),e.userID=this.tableLogic.getUserIdList(),e.usersHeadUrl=this.tableLogic.getHeadURLList(),e},setAllResultData:function(e){e=this.addPlayerBaiscInfo(e),this._allResultInfo=cloneObject(e),console.log(">>>>resultInfo"+JSON.stringify(e)),GameEvent.emit("onRoomOver",this._allResultInfo)},showAllResult:function(e){GameEvent.emit("showRoomOver",e)},showResult:function(){},eventChiPengGangUI:function(e,t){for(var i=0;i<4;i++)this.players[i].setHideCurChuPai(!0);if(t)switch(t){case"chi":var n=e.byStation,o=0,a=0;this.uiInfo&&this.uiInfo.playInfo?(o=this.tableLogic.getUserdwUserIDBySeat(n),a=this.tableLogic.logicToViewSeatNo(n)):a=this.tableLogic.getUserIdBySeat(n);var r={uid:a,uidd:o,chiCard:e.resultList,curMahJongValue:e.curMahJongValue,isBack:!1,viewSeatNoBeChi:e.eventRecvPlayerViewSeatNO,handCount:e.handCount,handList:e.handList};this.chiEvent(r);break;case"peng":var s=e.byStation;a=0,o=0,this.uiInfo&&this.uiInfo.playInfo?(o=this.tableLogic.getUserdwUserIDBySeat(s),a=this.tableLogic.logicToViewSeatNo(s)):a=this.tableLogic.getUserIdBySeat(s);var c={uid:a,uidd:o,pengCard:e.curMahJongValue,isBack:!1,viewSeatNoBePeng:e.eventRecvPlayerViewSeatNO};this.pengEvent(c),0!=e.eventSendPlayerViewSeatNO&&this.getCard(s,255,15);break;case"gang":var l=e.byStation,u=(a=0,o=0,{uid:a=this.uiInfo&&this.uiInfo.playInfo?this.tableLogic.logicToViewSeatNo(l):this.tableLogic.getUserIdBySeat(l),card:e.curMahJongValue,type:e.gangType,isBack:!1,viewSeatNoBeGang:e.eventRecvPlayerViewSeatNO});this.gangEvent(u)}},eventChiPengGang:function(e){var t="";if(HZMJ_MACROS_DEF.ACTION_CHI==e.eventType)t="chi";else if(HZMJ_MACROS_DEF.ACTION_PENG==e.eventType)t="peng";else if(HZMJ_MACROS_DEF.ACTION_AN_GANG==e.eventType||HZMJ_MACROS_DEF.ACTION_BU_GANG==e.eventType||HZMJ_MACROS_DEF.ACTION_MING_GANG==e.eventType){var i=1;switch(e.eventType){case HZMJ_MACROS_DEF.ACTION_AN_GANG:i=3;break;case HZMJ_MACROS_DEF.ACTION_BU_GANG:i=2;break;case HZMJ_MACROS_DEF.ACTION_MING_GANG:i=1}e.gangType=i,e.bAnGang,t="gang"}this.playGameVoice(e.eventSendPlayerViewSeatNO,t),"anGang"!=t&&"mingGang"!=t||(t="gang"),this.eventChiPengGangUI(e,t),this.uiInfo.playInfo||(this.turnCenterBar(!0,this.tableLogic.logicToViewSeatNo(e.byStation),15),this.setChuPaiEnabled(this.tableLogic.logicToViewSeatNo(e.byStation)))},onGameBeginMessage:function(e){GameEvent.emit("hideOverLayout"),this.setBaoPai(!0,e.byBaoCard),this.setHandCard(),this._playInfo||(this.turnCenterBar(!0,e.bankerViewSeat),this.setChuPaiEnabled(e.bankerViewSeat))},showRestNum:function(e,t){void 0!==t&&(this.playInfo.active=e,this.playInfo.getChildByName("zhangshu").children[0].getComponent(cc.Label).string=""+(t||0))},closeCard:function(){GameEvent.emit("closeCard")},dealCards:function(e,t,i){var n=this;cc.mj.Data.isGetedCards=!0;var o={drawCard:null,handCards:[]};if(14===t){o.drawCard=i[13];for(var a=0;a<t-1;a++)o.handCards.push(i[a])}else for(var r=0;r<t;r++)o.handCards.push(i[r]);this.players[e].showHandCard(o),cc.mj.Data.ctrlOperateData&&!cc.mj.Data.isWatchMode&&this.scheduleOnce(function(){n.ctrlBtns.show(cc.mj.Data.ctrlOperateData,n)},.3)},setBaoPai:function(e,t){t==G_INVALID_BYTE_VALUE&&(e=!1),this.baoPaiBox.active=e,e&&(cc.mj.Data.ghostCard=[],t!=G_INVALID_BYTE_VALUE&&(this._baoPaiValue=t,cc.mj.Data.ghostCard.push(t),this.baoPaiBox.children[0].getComponent("MJCommon_Card").init(t,!1,!1,"outCard",0)))},setHandCard:function(){for(var e=this.tableLogic.getHandArrData(),t=this.tableLogic.getHandArrCount(),i=0;i<=HZMJ_MACROS_DEF.PLAY_COUNT-1;i++){var n=this.tableLogic.logicToViewSeatNo(i);n!==G_INVALID_BYTE_VALUE&&this.dealCards(n,t[i],e[i])}},syncEvent:function(e){var t=this,i=e;cc.mj.Data.showCtrlBtns=!1,cc.mj.Data.onSync(i),cc.mj.Data.isGaming=!0,cc.mj.Data.uid=this.tableLogic.getMyID(),void 0!==i.nextPushCardUid&&(cc.mj.Data.isGaming=!0);for(var n=function(e){var n=t.tableLogic.getViewSeatByID(t.tableLogic.getUserIdBySeat(e));if(null==n)return"break";var o=t.players[n];if(o.data.hasSendCards=i.players[e].hasSendCards,o.data.chiCards=i.players[e].chiCards,o.data.pengCards=i.players[e].pengCards,o.data.gangCards=i.players[e].gangCards,o.data.anGangCards=i.players[e].anGangCards,o.data.viewSeatNoBeChis=i.players[e].viewSeatNoBeChi,o.data.viewSeatNoBePengs=i.players[e].viewSeatNoBePeng,o.data.viewSeatNoBeGangs=i.players[e].viewSeatNoBeGang,o.data.chiCards.forEach(function(a,r){if(3==o.data.chiCards.length)0==r&&t.players[n].setChiPengGang(o.data.chiCards,3,5,!1,o.data.viewSeatNoBeChis[r],!0,i.players[e].BeChiCard[0]);else if(6==o.data.chiCards.length){if(0==r){for(var s=[],c=0;c<3;c++)s.push(o.data.chiCards[c]);t.players[n].setChiPengGang(s,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[0])}if(4==r){for(var l=[],u=3;u<6;u++)l.push(o.data.chiCards[u]);t.players[n].setChiPengGang(l,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[1])}}else if(9==o.data.chiCards.length){if(0==r){for(var h=[],d=0;d<3;d++)h.push(o.data.chiCards[d]);t.players[n].setChiPengGang(h,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[0])}if(3==r){for(var f=[],p=3;p<6;p++)f.push(o.data.chiCards[p]);t.players[n].setChiPengGang(f,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[1])}if(6==r){for(var g=[],m=6;m<9;m++)g.push(o.data.chiCards[m]);t.players[n].setChiPengGang(g,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[2])}}else if(12==o.data.chiCards.length){if(0==r){for(var _=[],y=0;y<3;y++)_.push(o.data.chiCards[y]);t.players[n].setChiPengGang(_,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[0])}if(3==r){for(var v=[],C=3;C<6;C++)v.push(o.data.chiCards[C]);t.players[n].setChiPengGang(v,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[1])}if(6==r){for(var b=[],S=6;S<9;S++)b.push(o.data.chiCards[S]);t.players[n].setChiPengGang(b,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[2])}if(9==r){for(var L=[],I=9;I<12;I++)L.push(o.data.chiCards[I]);t.players[n].setChiPengGang(L,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[3])}}else if(15==o.data.chiCards.length){if(0==r){for(var R=[],N=0;N<3;N++)R.push(o.data.chiCards[N]);t.players[n].setChiPengGang(R,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[0])}if(3==r){for(var T=[],E=3;E<6;E++)T.push(o.data.chiCards[E]);t.players[n].setChiPengGang(T,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[1])}if(6==r){for(var M=[],D=6;D<9;D++)M.push(o.data.chiCards[D]);t.players[n].setChiPengGang(M,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[2])}if(9==r){for(var A=[],w=9;w<12;w++)A.push(o.data.chiCards[w]);t.players[n].setChiPengGang(A,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[3])}if(12==r){for(var O=[],G=12;G<15;G++)O.push(o.data.chiCards[G]);t.players[n].setChiPengGang(O,3,5,!1,o.data.viewSeatNoBeChis[0],!0,i.players[e].BeChiCard[4])}}o.data.chiCards[r]=a}),o.data.pengCards.forEach(function(e,i){t.players[n].setChiPengGang(e,3,1,!1,o.data.viewSeatNoBePengs[i]),o.data.pengCards[i]=e}),o.data.gangCards.forEach(function(e,i){t.players[n].setChiPengGang(e,4,1,!1,o.data.viewSeatNoBeGangs[i]),o.data.gangCards[i]=e}),o.data.anGangCards.forEach(function(e,i){t.players[n].setChiPengGang(e,4,3),o.data.anGangCards[i]=e}),t.players[n].data.chiCards=o.data.chiCards,t.players[n].data.pengCards=o.data.pengCards,t.players[n].data.gangCards=o.data.gangCards,t.players[n].data.anGangCards=o.data.anGangCards,o.data.uid===i.nextPushCardUid&&o.data.uid===cc.mj.Data.uid){for(var a=255,r=t.players[n].data.handCards.length-1;r>=0;r--)if(255!=t.players[n].data.handCards[r]){a=t.players[n].data.handCards[r],t.players[n].data.handCards.splice(r,1);break}t.players[n].initHandCards(),255!=a&&t.players[n].getCardInTurn(a)}else t.players[n].initHandCards(),0!=i.nextPushCardUid&&n==t.tableLogic.logicToViewSeatNo(t.tableLogic.getSeatByID(i.nextPushCardUid))&&t.players[n].getCardInTurn(255);o.data.hasSendCards.forEach(function(e){t.players[n].chupaiAction(e,!0)}),i.nextPushCardUid===cc.mj.Data.uid&&(cc.mj.Data.notcanPutCard=!1)},o=0;o<=HZMJ_MACROS_DEF.PLAY_COUNT-1&&"break"!==n(o);o++);void 0!==i.nextPushCardUid&&GameEvent.emit("onNextPushUid",{uid:i.nextPushCardUid,deskStation:this.tableLogic.getSeatByID(i.nextPushCardUid),time:5}),this.tableLogic.isBarrierMatchRoom()||(i.roomOverResult&&i.roomOverResult.length&&GameEvent.emit("onRoomOver",{data:i.roomOverResult}),i.gameOverResult&&i.gameOverResult.length&&0===cc.mj.Data.getPlayerData().state?GameEvent.emit("onGameOver",{data:i.gameOverResult,noDelayTime:!0}):GameEvent.emit("hideOverLayout"))},ShowMyHandCard:function(e,t){this.players&&this.players[e]&&this.players[e].setHandCard(t)},ShowflowerCard:function(e,t,i,n){this.players&&this.players[e]&&this.players[e].setflowerCard(e,t,i,n)},setChuPaiEnabled:function(e){this.players&&this.players[0]&&(0==e?this.players[0].setChuPaiEnabled(!1):this.players[0].setChuPaiEnabled(!0))},checkhandCardList:function(e,t){this.players&&this.players[e]&&this.players[e].checkhandCardList(t)},showTingsanjiao:function(e,t){this.players&&this.players[e]&&(-1==t?this.players[e].showTingsanjiao(t,!1):this.players[e].showTingsanjiao(t))},CanlehandCardColor:function(e){this.players&&this.players[e]&&this.players[e].CanlehandCardColor()},ShowPlayHandCard:function(e,t,i,n,o){this.players&&this.players[e]&&this.players[e].ShowPlayHandCard(t,i,n,o)},ShowZSYpopup:function(){var e=function(e){"\u505a\u751f\u610f"==e?this.tableLogic.SendDataZSY(!0):this.tableLogic.SendDataZSY(!1)}.bind(this),t={msg:"\u662f\u5426\u505a\u751f\u610f",btn1:"\u505a\u751f\u610f",btn2:"\u53d6  \u6d88"};t.callbackFun=e,createMsgBox(t)},ShowChiPengGangtips:function(e){this.playTipsAmition(this.Text_Metips,e)},playTipsAmition:function(e,t,i){e.active=!0,t&&(e.getChildByName("text").getComponent(cc.Label).string=t+"");var n=function(){e.active=!1}.bind(this),o=i||3,a=cc.callFunc(n),r=cc.delayTime(o);e.runAction(cc.sequence(r,a))},doButtonTipClick:function(){},onCurMatchComeSoon:function(){this.setShowPlaytips(!0)},setShowPlaytips:function(e){var t=this;void 0===e&&(e=!1),this.Text_Playtips.active=e,1==e&&this.scheduleOnce(function(){t.Text_Playtips.active=!1},5)},setMyHandCard:function(){},backToLobby:function(){console.log("\u8fd4\u56de\u5927\u5385"),this.tableLogic.backLobby()},initEvent:function(){GameEvent.on("onSync",this.syncEvent,this),GameEvent.on("onStartCountdown",this.startCountdownEvent,this),GameEvent.on("onConfirmBanker",this.showBankerEvent,this),GameEvent.on("onSendCard",this.sendCardEvent,this),GameEvent.on("onReSendCard",this.reSendCardEvent,this),GameEvent.on("onDrawCard",this.drawCardEvent,this),GameEvent.on("onNextPushUid",this.nextPushUidEvent,this),GameEvent.on("onPeng",this.pengEvent,this),GameEvent.on("onGang",this.gangEvent,this),GameEvent.on("onHu",this.huEvent,this),GameEvent.on("movePoint",this.movePointNode,this),GameEvent.on("reSendPutPai",this.sendPutPai,this),GameEvent.on("reSetGame",this.reSetGame,this),GameEvent.on("onGameOver",this.gameOverEvent,this),GameEvent.on("onRoomOver",this.roomOverEvent,this),GameEvent.on("sendStartGame",this.sendStartGame,this),GameEvent.on("onBackToLobby",this.backToLobby,this),GameEvent.on("onclosebtn",this.onclosebtn,this)},closeEvent:function(){GameEvent.off("onSync",this.syncEvent,this),GameEvent.off("onStartCountdown",this.startCountdownEvent,this),GameEvent.off("onConfirmBanker",this.showBankerEvent,this),GameEvent.off("onSendCard",this.sendCardEvent,this),GameEvent.off("onReSendCard",this.reSendCardEvent,this),GameEvent.off("onDrawCard",this.drawCardEvent,this),GameEvent.off("onNextPushUid",this.nextPushUidEvent,this),GameEvent.off("onPeng",this.pengEvent,this),GameEvent.off("onGang",this.gangEvent,this),GameEvent.off("onHu",this.huEvent,this),GameEvent.off("movePoint",this.movePointNode,this),GameEvent.off("reSendPutPai",this.sendPutPai,this),GameEvent.off("reSetGame",this.reSetGame,this),GameEvent.off("onGameOver",this.gameOverEvent,this),GameEvent.off("onRoomOver",this.roomOverEvent,this),GameEvent.off("sendStartGame",this.sendStartGame,this),GameEvent.off("onBackToLobby",this.backToLobby,this),GameEvent.off("onclosebtn",this.onclosebtn,this)},showBankerEvent:function(e){var t=e.getUserData().data;cc.mj.Data.zhuangUid=t.BankerUid;var i=cc.mj.Data.getPlayerByKeyValue("uid",t.BankerUid);i&&this.players[i.localId]&&(this.players[i.localId].showZhuangInfo(t.BankerCount),this.turnCenterBar(!0,i.localId),this.setChuPaiEnabled(i.localId))},showUserBankerbShow:function(e,t){for(var i=0;i<this.uiInfo.seatCount;i++)this.BankNode_Node[i]&&(this.BankNode_Node[i].active=!1);this.BankNode_Node[e]&&(this.BankNode_Node[e].active=t)},onclosebtn:function(){this.btn_Start.active=!1},sendCardEvent:function(e){var t,i=e;this.reSendLength=0,t=this.uiInfo&&this.uiInfo.playInfo?this.getPlayer(i.deskStation):this.getPlayer(i.uid),i.uid!==this.tableLogic.getMyID()||cc.mj.Data.isPlayback?GameEvent.emit("chupai",{uid:i.uid,card:i.card,isBack:i.isBack,handList:i.handList,handCount:i.handCount}):(this.uiInfo&&this.uiInfo.playInfo?GameEvent.emit("chupai",{uid:i.uid,card:i.card,isBack:i.isBack,handList:i.handList,handCount:i.handCount}):GameEvent.emit("chupai",{uid:i.uid,card:i.card,isBack:i.isBack}),GameEvent.emit("selectPai",{isShow:!1}),cc.mj.Data.notcanPutCard=!0),t&&(t.chupaied=!1)},reSendCardEvent:function(e){e.getUserData().data,GameEvent.emit("initHandTouch")},playSkelenAnimation:function(e,t,i,n,o){t=t||!1;var a=new cc.Node,r=a.addComponent(sp.Skeleton),s=0;"xiaojiesuan"==e&&(s=1),r.skeletonData=this.Skeleton[s],r.premultipliedAlpha=!1,r.loop=t,r.animation="animation",r.timeScale=1,o&&this.scheduleOnce(function(){r.setSkin(o)},.1),n?n.addChild(a):this.node.addChild(a),a.setScale(1.5,1.5),a.name=e,r.setCompleteListener(function(){i&&i(),this.scheduleOnce(function(){a.destroy()},.25)}.bind(this))},setSuperLookResult:function(e){null==this._superClientLayer?(this._superClientLayer=this.addLayer(this.studio.layout,"SXTDH/src/SuperClient",e,function(e){this.tableLogic.userResponse(e)}),this._superClientLayer.setLocalZOrder(G_PLAYERUI_ZORDER_TAG+1)):(this._superClientLayer.setIsVisible(!0),this._superClientLayer.updateAllData(e))},showCurCanHUCard:function(e){var t=this,i=[];for(var n in e){var o=e[n];null!=o&&o!=G_INVALID_BYTE_VALUE&&i.push(o)}if(i.length>0){var a=Number(cc.sys.localStorage.getItem(G_TING_CARD)||0);this.HuPaiLayer.active=0==a;var r=this.HuPaiLayer.children[0];r.children.forEach(function(e){e.destroy()}),i.forEach(function(e){var i=cc.instantiate(t.HuPaiLayerPrefab);i.setScale(1.3,1.3),r.addChild(i),i.getComponent("MJCommon_Card").init(e,!0,!1,"outCard",0,!0)})}else this.HuPaiLayer.active=!1},setBackground:function(){var e;20161004==(e=RoomListManager.getRoomInfo()).gameID?(this.background_1.active=!1,this.background_2.active=!0):20211004==e.gameID&&(this.background_1.active=!0,this.background_2.active=!1)},StartTimeschedule:function(e,t){var i,n=this;if(this.tableLogic.isGoldRoom()||this.tableLogic.isMatchRoom()||this.tableLogic.isBarrierMatchRoom())(i={}).count=20;else{var o=RoomListManager.getCurRuleInfo();i=JSON.parse(o)}8==i.count||16==i.count||(this.RoomTime=e,this.timePlay&&this.unschedule(this.timePlay),this.timePlay=function(){if(n.RoomTime--,n.RoomTime<0)n.unschedule(n.timePlay),n.tableLogic.getGameStatus()==HZMJ_GameStation.GS_STATUS_PLAYING?cc.log("*****************************************\u6e38\u620f\u72b6\u6001**********************************************"):t&&(n.tableLogic.isMeWatching()?n.tableLogic.doLeftRoom():n.tableLogic.sendDismissRoom());else{var e,i,o=Math.floor(n.RoomTime/60),a=n.RoomTime%60;if(e=o<10?"0"+o:o,i=a<10?"0"+a:a,n.Text_GameName.getComponent(cc.Label).string=e+":"+i,t){var r=Number(e);n.Text_GameTime.getComponent(cc.Label).string=r<=0?i+" \u79d2\u672a\u5f00\u5c40\u623f\u95f4\u5c06\u89e3\u6563":e+":"+i+" \u672a\u5f00\u5c40\u623f\u95f4\u5c06\u89e3\u6563"}}},this.schedule(this.timePlay,1))},ShowNetWork:function(){},TimeUnschedule:function(){this.unschedule(this.timePlay),this.Text_GameName.getComponent(cc.Label).string="00:00",this.Text_GameTime.getComponent(cc.Label).string=" "},setRoomPswText:function(e){var t="";this.roomInfor&&(t=t+tools.stringFormat("\u623f\u53f7: {0}",this.roomInfor.deskPasswd)+"         ",this.Text_Homeowner.getComponent(cc.Label).string="\u623f\u4e3b\uff1a"+this.roomInfor.masterName),this.uiInfo&&this.uiInfo.playInfo?t+="                ":t=t+tools.stringFormat("\u7b2c{0}\u8f6e",e)+"         ",this.roomPswText.active=!0,this.roomPswText.getComponent(cc.Label).string=t,this.Text_time.active=!1,this.uiInfo&&this.uiInfo.playInfo&&(this.Text_time.active=!1,this.Text_GameTime.active=!1)},doOtherThings:function(e){this.roomInfor=e},getGameRulesRs:function(){if(this.tableLogic.isGoldRoom()||this.tableLogic.isMatchRoom()||this.tableLogic.isBarrierMatchRoom())return this.tableLogic.isBarrierMatchRoom()?2:this.tableLogic.playCount;var e=RoomListManager.getCurRuleInfo();return JSON.parse(e).rs},getGameWanfa:function(){var e;if(this.tableLogic.isGoldRoom())return"";e=RoomListManager.getCurRuleInfo();var t,i="";return 15==(t=JSON.parse(e)).count?i+="\u672c\u5c40\u65f6\u957f\uff1a15\u5206\u949f ":24==t.count?i+="\u672c\u5c40\u65f6\u957f\uff1a24\u5206\u949f ":30==t.count?i+="\u672c\u5c40\u65f6\u957f\uff1a30\u5206\u949f ":60==t.count?i+="\u672c\u5c40\u65f6\u957f\uff1a30\u5206\u949f ":8==t.count?i+="\u672c\u5c40\u603b\u5c40\uff1a8\u5c40 ":16==t.count&&(i+="\u672c\u5c40\u603b\u5c40\uff1a16\u5c40 "),i},onGameBeginClearUI:function(){this.clearUI()},clearUI:function(){this.resetAllViewToGame()},cleanSendPai:function(){},drawCardEvent:function(e){var t=e,i=this.getPlayer(t.uid);i&&i.getCardInTurn(t.card,null,null,t.isBack,t.HandCard)},nextPushUidEvent:function(e){var t=e;0===cc.mj.Data.turnFlag&&t.uid==cc.mj.Data.uid&&(cc.mj.Data.notcanPutCard=!1);var i=cc.mj.Data.getPlayerByKeyValue("uid",t.uid),n=this.tableLogic.logicToViewSeatNo(t.deskStation);i&&this.players[n]&&(this.turnCenterBar(!0,n,t.time),this.setChuPaiEnabled(n),t.uid===cc.mj.Data.uid||cc.mj.Data.isPlayback||(cc.mj.Data.notcanPutCard=!1)),GameEvent.emit("hideOverLayout")},chiEvent:function(e){var t=e,i=this.getPlayer(t.uid);i&&(this.uiInfo&&this.uiInfo.playInfo?i.chi(t.chiCard,t.curMahJongValue,t.uidd===cc.mj.Data.uid,t.isBack,t.viewSeatNoBeChi,t.handCount,t.handList):i.chi(t.chiCard,t.curMahJongValue,t.uid===cc.mj.Data.uid,t.isBack,t.viewSeatNoBeChi,t.handCount,t.handList))},pengEvent:function(e){var t=e,i=this.getPlayer(t.uid);i&&(this.uiInfo&&this.uiInfo.playInfo?i.peng(t.pengCard,t.uidd===cc.mj.Data.uid,t.isBack,t.viewSeatNoBePeng):i.peng(t.pengCard,t.uid===cc.mj.Data.uid,t.isBack,t.viewSeatNoBePeng))},gangEvent:function(e){var t=e,i=this.getPlayer(t.uid);i&&i.gang(t)},huEvent:function(e){var t=e,i=this.getPlayer(t.uid),n=3;t.huPaiResult&&t.huPaiResult.isZiMo&&(n=4),this.scheduleOnce(function(){i&&i.showCardType(n)},0)},gameOverEvent:function(e){var t=this,i=e;cc.mj.Data.isGaming=!1;for(var n=0;n<4;n++)this.showUserAuto(n,!1);this.turnCenterBar(!0,-1),this.showRestNum(!0,0),GameEvent.emit("onHideCtrlBtn");var o=0;e.noDelayTime&&(o=0),this.turnCenterBar(!0,0,60),this.scheduleOnce(function(){var e=t.tableLogic.isGoldRoom();i.mySeatNo=t.tableLogic.getMySeatNO(),i.goldRoom=e,i.isBarrierMatchRoom=t.tableLogic.isBarrierMatchRoom(),i.byMJCardType=t.m_byMJCardType,i=t.addPlayerBaiscInfo(i),t.showResult(i),t.showRestNum(!1,0),GameEvent.emit("showGameOver",i)},o)},roomOverEvent:function(e){var t=e;cc.mj.Data.roomResult=t},sendStartGame:function(){for(var e=0;e<4;e++)this.players[e].flowerCardsdestroy();this.btn_Start.active=!1,this.tableLogic.sendAgreeGame(),this.m_bNotPrompt},setbNotPrompt:function(e){this.m_bNotPrompt=e},reSetGame:function(){cc.mj.Data.zhuangUid=null,cc.mj.Data.isGetedCards=!1,cc.mj.Data.ctrlOperateData=null,cc.mj.Data.ghostCard=null,cc.mj.Data.roomResult=null,cc.mj.Data.isGaming=!1,cc.mj.Data.isPlayback=!1,cc.mj.Data.playbackData=null,cc.mj.Data.playbackNum=0,cc.mj.Data.showCtrlBtns=null,cc.mj.Data.selectedCard=null,cc.mj.Data.notcanPutCard=null,cc.mj.Data.moveFlag=null,cc.mj.Data.isDingZhuang=null,cc.mj.Data.turnFlag=null,cc.mj.Data.showRoomOverFlag=!1,cc.mj.Data.curPutCard=null,cc.mj.Data.mopaiAction=!1,this.pointNode.active=!1,this.players.forEach(function(e){return e.reset()}),GameEvent.emit("onHideCtrlBtn"),this.btn_Start.active=!1,this.showCurCanHUCard({})},hidehideOverLayout:function(){this.overGameNode&&this.overGameNode.active&&GameEvent.emit("hideOverLayout")},resetAllViewToGame:function(){GameEvent.emit("hideOverLayout"),this.overGameMaskNode.active=!1,this.showRestNum(!1,0),this.reSetGame()},showGameBackColor:function(e){0==e?this.back_node.color=new cc.Color(48,110,90):1==e?this.back_node.color=new cc.Color(38,75,48):2==e?this.back_node.color=new cc.Color(40,75,113):3==e&&(this.back_node.color=new cc.Color(45,93,90))},dealNotifyDeskUserLogonORoutRoom:function(e){this.gameInforArry.push(e),this.playTipsAmition(this.Text_Infortips,e)},dealNotifyDeskUserIsTourist:function(e){var t=e.user;if(e.bTourist){for(var i=!1,n=0;n<this.TouristInforArry.length;n++){var o=this.TouristInforArry[n];if(o&&o.userID==t.userID){i=!0;break}}0==i&&this.TouristInforArry.push(t)}else for(var a=0;a<this.TouristInforArry.length;a++){var r=this.TouristInforArry[a];if(r&&r.userID==t.userID){this.TouristInforArry.splice(a,1);break}}},btnShareImage:function(){var e=this.tableLogic.getUserInfoListOfViewSeat();this.simpleAddLayer("prefab/GameCreaterImage",this.getGameRulesRs(),e)},btnGameLocation:function(){if(!this._playInfo){var e=this.tableLogic.getUserInfoListOfViewSeat();this.simpleAddLayer("prefab/GameLocation",this.getGameRulesRs(),e)}},btnGameInfor:function(){this._playInfo},btnGameRuler:function(){this.initGameRuler()},initGameRuler:function(){},requestSystemNotice:function(){var t=this,i=NoticeManager.getNormalNoticeList(),n=new(e("LobbyLogic"));tableIsEmpty(i)?n.requestSystemNotice(function(e){e?t.startSystemNotice():cc.log("\u83b7\u53d6\u7cfb\u7edf\u516c\u544a\u5931\u8d25.........")}):this.startSystemNotice()},startSystemNotice:function(){var e=NoticeManager.getNormalNoticeList();for(var t in e){var n=i({},e[t]),o=this.makeNoticeContent(n);n.content=o.newContent,n.Headurl=o.Headurl,n.type&&1==n.type?this.noticeList.push(n):n.type&&100==n.type?(this.noticeList=[],this.noticeListSpec=[],this.noticeList.push(n),this.isShowStopSvr=!0):this.noticeListSpec.push(n)}this.showNotice()},showNotice:function(){var e=this;if(!this.isShowNotice){var t=this;this.isShowNotice=!0,function i(){var n={};if(t.noticeListSpec.length>0)n=t.noticeListSpec[0];else{if(0==t.noticeList.length)return void(t.isShowNotice=!1);t.nPlayIndex=Math.floor(Math.random()*t.noticeList.length),n=t.noticeList[t.nPlayIndex]}var o=t.LabelNoticeNode.getChildByName("Image_Bg_Notice").getChildByName("mask").getChildByName("txt");t.curPlayingNode=o,t.curPlayingNotice=n,o.getComponent(cc.RichText).string=n.content;var a=o.getChildByName("Avata_Node");a.active=!1,e.makeNoticePlayHead(a,n),o.getComponent(cc.RichText)._updateRichText();var r=o.width+o.parent.width+10,s=r/128,c=o.x;o.runAction(cc.sequence(cc.moveBy(s,-r,0),cc.callFunc(function(){o.x=c,0==t.curPlayingNotice.type&&t.noticeListSpec.splice(0,1),i()})))}()}},makeNoticeContent:function(e){if("object"!=typeof e)return"";var t=e.tag,i=e.content,n="",o="        ",a=i.split("#");if(a.length>=1&&t&&t>=1){var r=decodeURI(a[0]);t&&1==t?a[1]?(n=a[1],i="\u6b22\u8fce\u7528\u6237"+o+"<color=#00FF00> "+r+" </color>\u7684\u5230\u6765,\u8ba9\u6211\u4eec\u4e00\u8d77\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01"):i="\u6b22\u8fce\u7528\u6237<color=#00FF00> "+r+" </color>\u7684\u5230\u6765,\u8ba9\u6211\u4eec\u4e00\u8d77\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01":t&&2==t?a[3]?(n=a[3],i="\u606d\u559c\u7528\u6237"+o+"<color=#00FF00> "+r+" </color>\u5728<color=#00FF00> "+a[1]+" </color>\u4e2d\u8d62\u5f97<color=#00FF00> "+a[2]+" </color>"):i="\u606d\u559c\u7528\u6237<color=#00FF00> "+r+" </color>\u5728<color=#00FF00> "+a[1]+" </color>\u4e2d\u8d62\u5f97<color=#00FF00> "+a[2]+" </color>":t&&3==t?a[3]?(n=a[3],i="\u606d\u559c\u7528\u6237"+o+"<color=#00FF00> "+r+" </color>\u5728<color=#00FF00> "+a[1]+" </color>\u4e2d<color=#00FF00> "+a[2]+" </color>"):i="\u606d\u559c\u7528\u6237<color=#00FF00> "+r+" </color>\u5728<color=#00FF00> "+a[1]+" </color>\u4e2d<color=#00FF00> "+a[2]+" </color>":t&&4==t?a[2]?(n=a[2],i="\u7528\u6237"+o+"<color=#00FF00> "+r+" </color>\u62a5\u540d\u4e86<color=#00FF00> "+a[1]+" </color>"):i="\u7528\u6237<color=#00FF00> "+r+" </color>\u62a5\u540d\u4e86<color=#00FF00> "+a[1]+" </color>":t&&5==t&&(a[2]?(n=a[2],i="\u7528\u6237"+o+"<color=#00FF00> "+r+" </color>\u9886\u53d6\u4e86<color=#00FF00> "+a[1]+" </color>"):i="\u7528\u6237<color=#00FF00> "+r+" </color>\u9886\u53d6\u4e86<color=#00FF00> "+a[1]+" </color>")}var s={};return s.newContent=i,s.Headurl=n,s},makeNoticePlayHead:function(e,t){var i=e.getChildByName("Image_Avata").getComponent(cc.Sprite),n=t.tag,o=t.Headurl;n&&e&&""!=o&&(1==n||2==n||3==n?(e.active=!0,e.x=120):4!=n&&5!=n||(e.active=!0,e.x=75),cc.loader.load({url:o,type:"png"},function(e,t){if(e)console.error("load remote spriteframe res failed url:"+url,e.message||e);else{var n=new cc.SpriteFrame(t);i.node&&cc.isValid(i.node)&&(i.spriteFrame=n)}}))},onNormalNotice:function(e){if(!this.isShowStopSvr){var t={};if("object"!=typeof e)return t.content=e,t.type=1,this.noticeList.push(t),void this.showNotice();t=i({},e);var n=this.makeNoticeContent(t);t.content=n.newContent,t.Headurl=n.Headurl,e.type&&1==e.type?this.noticeList.push(t):e.type&&100==e.type?(this.noticeList=[],this.noticeListSpec=[],this.noticeList.push(t),this.isShowStopSvr=!0):this.noticeListSpec.push(t),this.showNotice()}},showTableBtn:function(){this.btn_Table.active=!1},hideGameStatic:function(){this.img_createrCard.active=!1,this.loading_Start.active=!1,this.btn_img.active=!1,this.btn_Start.active=!1},btnGameTable:function(){var e=this;if(!this._playInfo){if(this.tableLogic.isGoldRoom())return void cc.log("\u91d1\u5e01\u573a\u6ca1\u6709\u6362\u684c");this.tableLogic.requestCreaterDesk(function(){buyDesk;var t=RoomListManager.getRoomInfo().gameID,i=RoomListManager.getCurRuleInfo(),n=JSON.parse(i).count;e.lobbyRoomLogic.buyDesk(t,n,i)})}},setReplayUI:function(){for(var e=0;e<this.tableLogic.playCount;e++)this.showUserReady(this.tableLogic.logicToViewSeatNo(e),!1);this.Text_time.active=!1,this.btn_Table.active=!1,this.uiInfo.voiceBtn.active=!1,this.uiInfo.voiceBtn.active=!1,this.uiInfo.chatBtn.active=!1},onDestroy:function(){this.closeEvent()},dealNotifyRandomChangeSeat:function(e,t){if(!this._isInforChangeSeat){this._isInforChangeSeat=!0;var i=this.tableLogic.getUserInfoListOfViewSeat(),n=[],o=this.getGameRulesRs();if(2!=o){if(4==o)for(var a=0;a<this.tableLogic._logicInfo.seatCount;a++)n[this.tableLogic.logicToViewSeatNo(a)]=this.getUserByUserID(a,e);else if(3==o)for(var r=0;r<this.tableLogic._logicInfo.seatCount;r++)n[this.tableLogic.logicToViewSeatNo(r)]=this.getUserByUserID(r,e);this.playTipsAmition(this.ChangeNode,null,1);for(var s=0;s<this.tableLogic._logicInfo.seatCount;s++)for(var c=0;c<this.tableLogic._logicInfo.seatCount;c++){var l,u;if(l=3==o&&2==s?i[3]:i[s],u=3==o&&2==c?n[3]:n[c],l.userID==u.userID){this.PlayMovePoint(l.deskStation,u.deskStation,o);break}}this.scheduleOnce(function(){t&&t(e)},1)}}},getUserByUserID:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.deskStation==e)return n}return null},PlayMovePoint:function(e,t,i){3==i&&(2==e&&(e=3),2==t&&(t=3));var n=this.setup_Node[e],o=this.playPOS[t];n.runAction(cc.moveTo(.5,o.x,o.y))},playVoiceH5:function(e){this.Voice_Node.active=!0,G_SHOW_GAME_VOICE=!0;var t=function(){this.Voice_Node.active=!1,G_SHOW_GAME_VOICE=!1}.bind(this),i=function(e){wx.playVoice({localId:e}),wx.onVoicePlayEnd({success:function(e){var i=e.localId;t&&t(i)}})}.bind(this);wx.downloadVoice({serverId:e,isShowProgressTips:0,success:function(e){var t=e.localId;i&&i(t)}})},InitWXvoiceconfig:function(){var t=(new(e("LobbyLogic"))).getUserID(),i=function(e){var t=t||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);(function(){var e=t,i=(a=e.lib).WordArray,n=a.Hasher,o=[],a=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+o[l],u=20>l?u+(1518500249+(a&r|~a&s)):40>l?u+(1859775393+(a^r^s)):60>l?u+((a&r|a&s|r&s)-1894007588):u+((a^r^s)-899497514),c=s,s=r,r=a<<30|a>>>2,a=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a)})();var i=WechatAppID,n=(new Date).getTime().toString(),o=(1e3*Math.random()).toString(),a="jsapi_ticket="+e.jsapi_ticket+"&noncestr="+o+"&timestamp="+n+"&url="+location.href.split("#")[0],r=t.SHA1(a,{string:!0}).toString();wx.config({debug:!1,appId:i,timestamp:n,nonceStr:o,signature:r,jsApiList:["startRecord","stopRecord","playVoice","uploadVoice","downloadVoice","onVoicePlayEnd","translateVoice","updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(function(){})}.bind(this);ConfigDataManager.getWXjsapi_ticket(t,i)},scheduleNETWork:function(){}}),cc._RF.pop()},{EventEmiter:"EventEmiter",GameViewBase:"GameViewBase",HZMJ_CtrlBtns:"HZMJ_CtrlBtns",HZMJ_Data:"HZMJ_Data",HZMJ_User:"HZMJ_User",LobbyLogic:"LobbyLogic"}],HZMJ_OverLayout:[function(e,t){"use strict";cc._RF.push(t,"9bdb6TSp7tHKKDCx8JpLnCo","HZMJ_OverLayout"),cc.Class({extends:e("BaseLayer"),properties:{bgMask:cc.Node,overView:cc.Node,startBtn:cc.Node,changeBtn:cc.Node,gameOver:e("HZMJ_GameOver"),roomOver:e("HZMJ_RoomOver")},onLoad:function(){GameEvent.on("showGameOver",this.initGameOver,this),GameEvent.on("showRoomOver",this.initRoomOver,this),GameEvent.on("onReady",this.readyHide,this),GameEvent.on("onStart",this.hide,this),GameEvent.on("onDealCards",this.hide,this),GameEvent.on("hideOverLayout",this.hide,this),GameEvent.on("closeGameOver",this.btnClick,this),GameEvent.on("shareRecord",this.shareRecord,this)},getHuType:function(e,t){var i=RoomListManager.getRoomInfo(),n="";if(1==e)n="\u5e73\u80e11\u53f0 ";else if(2==e)n="\u8fb9\u50121\u53f0 ";else if(3==e)n="\u5bf9\u50121\u53f0 ";else if(4==e)n="\u5d4c\u50121\u53f0 ";else if(5==e)n="\u5355\u540a1\u53f0 ";else if(6==e)n="\u95e8\u6e051\u53f0 ";else if(7==e)n="\u81ea\u64781\u53f0 ";else if(8==e)n="\u5927\u540a"+this.getGameScore(2)+" ";else if(9==e)n="\u5bf9\u5bf9\u80e1"+this.getGameScore(2)+" ";else if(10==e)n="\u6760\u5f001\u53f0 ";else if(11==e)n="\u9001\u67601\u53f0 ";else if(12==e)n="\u62c9\u67601\u53f0\u3001 ";else if(13==e){if(20161004==i.gameID)return"\u5929\u80e113\u53f0";20211004==i.gameID&&(n="\u5929\u80e124\u53f0 ")}else 14==e?20161004==i.gameID?n="\u5730\u80e113\u53f0 ":20211004==i.gameID&&(n="\u5730\u80e112\u53f0 "):15==e?n="\u6e05\u4e00\u8272"+this.getGameScore(1)+" ":16==e?n="\u6df7\u4e00\u8272"+this.getGameScore(2)+" ":17==e?20161004==i.gameID?n="\u5b57\u4e00\u827220\u53f0 ":20211004==i.gameID&&(n="\u5b57\u4e00\u827240\u53f0 "):18==e?n="\u6d77\u5e95\u635e\u67081\u53f0 ":19==e?20161004==i.gameID?n="\u4e1c\u5357\u897f\u531720\u53f0 ":20211004==i.gameID&&(n="\u4e1c\u5357\u897f\u531750\u53f0 "):20==e?20161004==i.gameID?n="\u516b\u82b113\u53f0 ":20211004==i.gameID&&(n="\u516b\u82b125\u53f0 "):21==e?20161004==i.gameID?n="\u56db\u82b18\u53f0 ":20211004==i.gameID&&(n="\u56db\u82b112\u53f0 "):22==e?n="\u7ea2\u4e2d1\u53f0 ":23==e?n="\u53d1\u8d221\u53f0 ":24==e?n="\u767d\u677f1\u53f0 ":25==e?20161004==i.gameID?n="\u4e2d\u53d1\u767d10\u53f0 ":20211004==i.gameID&&(n="\u4e2d\u53d1\u767d25\u53f0 "):26==e?n="\u6b63\u98ce1\u53f0 ":27==e?n="\u5708\u98ce1\u53f0 ":28==e?n="\u6b63\u82b1"+2*this.byHuaCardCount[t]+"\u53f0 ":29==e?n="\u91ce\u82b1"+1*this.byWildHuaCardCount[t]+"\u53f0 ":30==e?n="\u65ad\u5e7a\u4e5d2\u53f0 ":31==e?n="\u677f\u9ad86\u53f0 ":32==e?n="\u592a\u677f\u9ad825\u53f0 ":33==e?n="\u592a\u592a\u677f\u9ad850\u53f0 ":34==e?n="\u53cc\u677f\u9ad815\u53f0 ":35==e?n="":36==e&&(n="\u677f\u9ad812\u53f0");return n},getGameScore:function(e){var t="",i=RoomListManager.getCurRuleInfo();if(""==i)return t;var n=JSON.parse(i).model;return 1==e?7==n?t="10\u53f0":8==n?t="12\u53f0":9==n?t="12\u53f0":10==n?t="14\u53f0":11==n?t="16\u53f0":12==n&&(t="18\u53f0"):2==e&&(7==n?t="8\u53f0":8==n?t="8\u53f0":9==n?t="10\u53f0":10==n?t="12\u53f0":11==n?t="14\u53f0":12==n&&(t="16\u53f0")),t},genCPGData:function(e,t){if(t)for(var i=0;i<=4;i++)if(t[i]){if(G_INVALID_BYTE_VALUE==t.byType)break;var n=!1;if(HZMJ_MACROS_DEF.ACTION_AN_GANG==t.byType&&(n=!0),n)for(var o=0;o<=3;o++)t[i].byData[o]=t[i].byData[3];for(var a=void 0,r=0,s=0;s<=3;s++)G_INVALID_BYTE_VALUE!=t[i].byData[s]&&0!=t[i].byData[s]&&(0==s&&(a=t[i].byData[s]),r++);if(3==r)if(HZMJ_MACROS_DEF.ACTION_CHI==t[i].byType)for(var c=0;c<3;c++){var l=t[i].byData[c];e.ChiCards.push(l)}else e.pengCards.push(a);else 4==r&&(n?e.anGangCards.push(a):e.gangCards.push(a))}},initGameOver:function(e,t){var i=this;if(console.log("\u724c\u5c40\u65e5\u5fd7\uff1a\u5c0f\u7ed3\u7b97\u6570\u636e\u5c55\u793a",e,t),e){for(var n={isReplay:t||!1,mySeatNo:e.mySeatNo,resultType:0,isGoldRoom:e.goldRoom,isBarrierMatchRoom:e.isBarrierMatchRoom,byMJCardType:e.byMJCardType,playsData:[],rewardGiftCard:e.rewardGiftCard},o=0;o<=HZMJ_MACROS_DEF.PLAY_COUNT-1;o++){var a=e.bIsLiuJu?0:e.byDianPao[o]?1:2;o==e.mySeatNo&&(n.resultType=a);for(var r={userID:e.userID[o],name:e.userName[o],avatar:e.usersHeadUrl[o],score:e.llGameScore[o],isBanker:o==e.byNtStation,byHuMode:255,resultType:a,handCards:[],ChiCards:[],pengCards:[],gangCards:[],anGangCards:[],gangCount:0,buGangCount:0,anGangCount:0,byTaiCount:e.byTaiCount,handCardCount:e.byArHandPaiCount[o],byPs:e.byDianPao[o]?e.byPs:255,byHuDouble:e.byHuDouble[o],iFanCount:e.iFanCount[o],iHuFen:e.iHuFen[o],bycountGangFen:e.bycountGangFen[o],iJiZhuangTimes:1==a?e.iJiZhuangTimes:255,byMJCardType:e.byMJCardType},s=0;s<=e.byArHandPaiCount[o]-1;s++)r.handCards.push(e.byArHandPai[o][s]);this.genCPGData(r,e.UserGCPData[o]),n.playsData.push(r)}n.isBarrierMatchRoom?window.gameResultInfo=n:(this.gameOver?this.gameOver.show(n):cc.loader.loadRes("HZMJ/gameOver",function(e,t){if(e)cc.log("\u8f7d\u5165\u9884\u5236HZMJ/gameOver\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e);else{var o=cc.instantiate(t);o.parent=i.overView,i.gameOver=o.getComponent("HZMJ_GameOver"),i.gameOver.show(n)}}),this.bgMask.active=!0,this.overView.active=!0)}},changeIndex:function(e){for(var t=[],i=0;i<e.length;i++)e[i]!=G_INVALID_BYTE_VALUE&&t.push(e[i]);return t},backToHall:function(){console.log("\u8fd4\u56de\u5927\u5385\u8fd4\u56de\u5927\u5385"),GameEvent.emit("onBackToLobby")},shareRecord:function(e,t){var i=RoomListManager.getCurRuleInfo();if(""!=i){var n=RoomListManager.getRoomInfo().gameID;this.simpleAddLayer("prefab/GameZhanjiCreaterImage",n,e,i,t)}},initRoomOver:function(){var e=this;GameEvent.emit("hideChatDialog"),cc.mj.Data.showRoomOverFlag=!0;var t=cc.mj.Data.roomResult;this.changeType(2);for(var i,n={index:-1,llGameScore:0},o=[],a=0;a<HZMJ_MACROS_DEF.PLAY_COUNT;a++)(i={avatar:"",uid:"",nickname:"",llGameScore:0,iHuCount:0,iMingGangCount:0,iAnGangCount:0}).uid=t.userID[a],i.nickname=t.userName[a],i.avatar=t.usersHeadUrl[a],i.llGameScore=t.llGameScore[a],i.iHuCount=t.iHuCount[a],i.iMingGangCount=t.iDianGang[a]+t.iBuGang[a],i.iAnGangCount=t.iAnGangCount[a],o.push(i);this.roomOver?this.roomOver.show(t,o,n):cc.loader.loadRes("HZMJ/roomOver",function(i,a){if(i)cc.log("\u8f7d\u5165\u9884\u5236HZMJ/roomOver\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+i);else{var r=cc.instantiate(a);r.parent=e.overView,e.roomOver=r.getComponent("HZMJ_RoomOver"),e.roomOver.show(t,o,n)}}),this.bgMask.active=!0,this.overView.active=!0},changeType:function(e){this.typeFlag=e,1!==e&&this.gameOver&&this.gameOver.hide(),2!==e&&this.roomOver&&this.roomOver.hide()},btnClick:function(){if(cc.mj.Data.roomResult)return this.initRoomOver();GameEvent.emit("reSetGame"),GameEvent.emit("sendStartGame"),this.gameOver&&this.gameOver.hide(),this.bgMask.active=!1,this.startBtn.active=!0},backToHome:function(){GameEvent.emit("onDismiss")},readyHide:function(e){e.getUserData().data.uid===cc.mj.Data.uid&&this.hide()},hide:function(){this.bgMask.active=!1,this.overView.active=!1},onDestroy:function(){GameEvent.off("showGameOver",this.initGameOver,this),GameEvent.off("showRoomOver",this.initRoomOver,this),GameEvent.off("onReady",this.readyHide,this),GameEvent.off("onStart",this.hide,this),GameEvent.off("onDealCards",this.hide,this),GameEvent.off("hideOverLayout",this.hide,this)}}),cc._RF.pop()},{BaseLayer:"BaseLayer",HZMJ_GameOver:"HZMJ_GameOver",HZMJ_RoomOver:"HZMJ_RoomOver"}],HZMJ_RoomOver:[function(e,t){"use strict";cc._RF.push(t,"8f258Zyh81Kgpk6Xn+5zpYj","HZMJ_RoomOver"),cc.Class({extends:cc.Component,properties:{roomOverItemPre:cc.Prefab,roomOverPlayers:cc.Node,timeText:cc.Label,wanfaText:cc.Label,sumCountText:cc.Label,roomPswText:cc.Label},show:function(e,t,i){var n=this;this.node.active=!0,this.roomOverPlayers.children.forEach(function(e){return e.active=!1}),this.userInfoList=[];var o=this;t.forEach(function(t,a){if(0!=t.uid){var r=n.roomOverPlayers.children[a];r||(r=cc.instantiate(n.roomOverItemPre),n.roomOverPlayers.addChild(r));var s={name:"",face:"",score:0};s.name=t.nickname,s.face=t.avatar,s.score=t.llGameScore,o.userInfoList.push(s),cc.winSize.width/1280<1&&(n.roomOverPlayers.getComponent(cc.Layout).spacingX=-70,n.roomOverPlayers.getComponent(cc.Layout).paddingLeft=-40,r.setScale(.78)),r.getComponent("HZMJ_roomOverItem").initData(t,e.roomMastId),r.active=!0,t.llGameScore>i.llGameScore&&(i={index:a,llGameScore:t.llGameScore})}}),-1!==i.index&&this.roomOverPlayers.getComponentsInChildren("HZMJ_roomOverItem")[i.index].setBigWin(),this.timeText.string=tools.getCurTime(),this.sumCountText.string="\u5c40\u6570:"+e.sumCount[1],this.roomPswText.string="\u623f\u95f4\u53f7:"+e.roomPsw,this.deskPasswd=e.roomPsw},hide:function(){this.node.active=!1},onShareBtnClick:function(){GameEvent.emit("shareRecord",deskPasswd,this.userInfoList)},onBackBtnClick:function(){console.log("\u8fd4\u56de\u5927\u5385\u8fd4\u56de\u5927\u5385"),GameEvent.emit("onBackToLobby")}}),cc._RF.pop()},{}],HZMJ_TingTipsCard:[function(e,t){"use strict";cc._RF.push(t,"412e1MgffxHTo5GcM7A44J0","HZMJ_TingTipsCard"),cc.Class({extends:cc.Component,properties:{cardComponent:e("MJCommon_Card"),beiLvLabel:cc.Label},setViewData:function(e,t){this.beiLvLabel.string="x "+t,this.cardComponent.init(e,!1,!1,"outCard",0)}}),cc._RF.pop()},{MJCommon_Card:"MJCommon_Card"}],HZMJ_User:[function(e,t){"use strict";cc._RF.push(t,"0bd3c9bcmVHpZqg8m/mJ7xH","HZMJ_User"),cc.Class({extends:cc.Component,properties:{sitIndex:0,handCards:cc.Node,showHandCards:cc.Node,pushCards:cc.Node,chuPai:cc.Node,showCurChuPai:cc.Node,cardType:cc.Node,pengGangs:cc.Node,pengGangsPre:cc.Prefab,flowerCards:cc.Node,flowerCardsPre:cc.Prefab,flowerNumber:cc.Node,flowerNumberPre:cc.Prefab,flowerCardSprite:[cc.SpriteFrame]},onLoad:function(){this.node.active=!1,GameEvent.on("chupai",this.chupaiEvent,this),GameEvent.on("initHandTouch",this.initHandTouch,this),cc.winSize.width/1280<1&&(0!=this.sitIndex?this.handCards.setScale(.9):this.handCards.setScale(.775),this.pushCards.setScale(.9),this.pengGangs.setScale(.9));var e=cc.view.getFrameSize();e.width/e.height>2&&0==this.sitIndex&&this.handCards.setScale(1.1)},onDestroy:function(){GameEvent.off("chupai",this.chupaiEvent,this),GameEvent.off("initHandTouch",this.initHandTouch,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},initShow:function(e,t,i){this.data||(this.data={}),this.data.uid=e,this.byMJCardType=t,this.reset(),this.node.active=!0,this.targetComponent=i},remove:function(){this.data=null,this.node.active=!1},showHandCard:function(e){var t=this;if(e&&this.data){var i=this.byMJCardType;if(this.data.handCards=[].concat(e.handCards)||[],0===this.sitIndex&&e||cc.mj.Data.isPlayback){var n=this.handCards.getComponentsInChildren("MJCommon_Card");cc.mj.Data.isPlayback&&0!==this.sitIndex&&(n=this.showHandCards.getComponentsInChildren("MJCommon_Card")),3===this.sitIndex&&(n=n.reverse()),e.handCards.forEach(function(e,o){n[o]&&(n[o].init(e,!1,!0,"handCard",t.sitIndex,i),n[o].index=o,n[o].sitIndex=0)}),e.drawCard&&0!==e.drawCard&&this.getCardInTurn(e.drawCard)}else this.handCards.active=!0,this.handCards.children.forEach(function(e){e.active=!0,e.getChildByName("bg").active=1==i}),3===this.sitIndex?this.handCards.children[0].active=!1:this.handCards.children[13].active=!1}},getCardInTurn:function(e,t,i,n,o){n&&(3===this.sitIndex?this.showHandCards.children[0].active=!1:0===this.sitIndex?this.handCards.children[13].active=!1:this.showHandCards.children[13].active=!1,this.data.handCards=[].concat(this.lastHandCards));var a=null;if(0===this.sitIndex)o?this.copyCard(o):this.addCard(e),(a=this.handCards.children[13].getComponent("MJCommon_Card")).init(e,!1,!0,"handCard",this.sitIndex,this.byMJCardType),a.index=13,a.sitIndex=this.sitIndex;else{var r=this.handCards;switch(cc.mj.Data.isPlayback&&(r=this.showHandCards,o?this.copyCard(o):this.addCard(e)),this.sitIndex){case 3:(a=r.children[0].getComponent("MJCommon_Card")).node.active=!0,cc.mj.Data.isPlayback&&a.init(e,!1,!1,"handCard",this.sitIndex,this.byMJCardType),a.node.y+=20;break;case 2:(a=r.children[13].getComponent("MJCommon_Card")).node.active=!0,cc.mj.Data.isPlayback&&a.init(e,!1,!1,"handCard",this.sitIndex,this.byMJCardType),a.node.x-=20;break;case 1:(a=r.children[13].getComponent("MJCommon_Card")).node.active=!0,cc.mj.Data.isPlayback&&a.init(e,!1,!1,"handCard",this.sitIndex,this.byMJCardType),a.node.y-=20}a.sitIndex=this.sitIndex}this.currMoPai=a},addCard:function(e){this.lastHandCards=[].concat(this.data.handCards),this.data.handCards.push(e)},copyCard:function(e){this.lastHandCards=[].concat(this.data.handCards),this.data.handCards=[];for(var t=0;t<14;t++)this.data.handCards.push(e[t])},chupaiEvent:function(e){var t=e;this.data&&t.uid===this.data.uid?(cc.log("\u76f8\u540c"),(!this.curChupaiEventTime||(new Date).getTime()-this.curChupaiEventTime>500)&&(this.chupaied=!1,this.setChupai(t.card,t.isBack,t.handList),this.curChupaiEventTime=(new Date).getTime())):cc.log("\u4e0d\u76f8\u540c")},setChupai:function(e,t,i){if(t)return this.chupaiAction(e,!0,t);this.chupaied||(this.chupaied=!0,cc.mj.Data.curPlayer=this,this.chupaiAction(e,null,null,i),0===this.sitIndex||cc.mj.Data.isPlayback||this.initHandCards())},serverChupai:function(e){var t=this.curChupai.getComponent("MJCommon_Card");t&&t.id!==e&&(this.chuPai&&(this.chuPai.active=!1),this.initHandCards(),t.init(e))},setHandCard:function(e){this.data.handCards=[];for(var t=0;t<14;t++)this.data.handCards.push(e[t]);this.initHandCards()},chupaiAction:function(e,t,i){if(i)return this.lastPutCard&&(this.pushCards.children[this.lastPutCard].active=!1),void(this.data.handCards=[].concat(this.lastHandCards));var n=null,o=this.pushCards.children,a=4,r=RoomListManager.getCurRuleInfo();""!==r&&(a=JSON.parse(r).rs);var s=[],c=!0;0==this.sitIndex?2==a?s=[[0,19],[20,39],[40,54]]:3==a?s=[[5,14],[25,34],[45,54]]:4==a&&(s=[[5,14],[25,34],[45,54]]):1==this.sitIndex?s=3==a?[[1,10],[13,22],[25,34]]:[[1,10],[13,22],[28,33]]:2==this.sitIndex?(c=!1,2==a?s=[[54,35],[34,15],[14,0]]:3==a?s=[[49,40],[29,20],[9,0]]:4==a&&(s=[[49,40],[29,20],[9,0]])):3==this.sitIndex&&(c=!1,s=[[33,24],[21,12],[9,1]]);for(var l=0;l<s.length&&!n;l++)if(c){for(var u=s[l][0];u<=s[l][1];u++)if(!o[u].active){n=o[u],this.lastPutCard=u;break}}else for(var h=s[l][0];h>=s[l][1];h--)if(!o[h].active){n=o[h],this.lastPutCard=h;break}if(n&&(this.curChupai=n,n.getComponent("MJCommon_Card").init(e,!0,!1,"outCard",this.sitIndex,this.byMJCardType)),!t){if(this.curChupai&&(this.curChupai.active=!1),this.chuPai.oldPos||(this.chuPai.oldPos=this.chuPai.getPosition()),this.chuPai.getComponentInChildren("MJCommon_Card").init(e,!1,!1,"handCard",0,this.byMJCardType),this.showCurChuPai.getComponentInChildren("MJCommon_Card").init(e,!1,!1,"handCard",0,this.byMJCardType),this.chuPai&&(this.chuPai.active=!0),cc.v2(0,0),0===this.sitIndex){var d=cc.mj.Data.selectedCard;d&&e===d.id?d=cc.mj.Data.selectedCard.node:(d=this.handCards.getComponentsInChildren("MJCommon_Card").find(function(t){return t.id>=e}))?d=d.node:this.currMoPai&&(d=this.currMoPai.node),this.lastHandCards=[].concat(this.data.handCards),d.convertToWorldSpaceAR(cc.v2(0,0)),cc.mj.Data.isWatchMode?this.removeHandCard(255):this.removeHandCard(e),this.moveHand()}else this.currMoPai&&this.currMoPai.node.convertToWorldSpaceAR(cc.v2(0,0)),cc.mj.Data.isPlayback&&(this.lastHandCards=[].concat(this.data.handCards),this.removeHandCard(e),this.moveHand());this.moveCardToPut()}},setHideCurChuPai:function(e){void 0===e&&(e=!0),this.showCurChuPai.active&&(this.showCurChuPai.active=!1)},moveCardToPut:function(){var e=this;if(this.chuPai&&this.curChupai){this.showCurChuPai.active=!1;var t=this.showCurChuPai,i=function(){t.active=!1}.bind(this),n=cc.callFunc(i),o=cc.delayTime(.1);t.runAction(cc.sequence(o,n));var a=this.curChupai.convertToWorldSpaceAR(cc.v2(0,0)),r=this.chuPai.parent.convertToNodeSpaceAR(a);this.chuPai.runAction(cc.sequence(cc.moveTo(.15,r),cc.scaleTo(.06,.5),cc.callFunc(function(){e.chuPai.active=!1,e.curChupai&&(e.curChupai.active=!0),GameEvent.emit("movePoint",{flag:!0,worldPos:e.curChupai.convertToWorldSpaceAR(cc.v2(0,0)),deviation:e.sitIndex})})))}},removeHandCard:function(e){if(cc.mj.Data.curPutCard&&cc.mj.Data.curPutCard.id===e)cc.mj.Data.curPutCard.hide();else{var t=this.handCards.getComponentsInChildren("MJCommon_Card");cc.mj.Data.isPlayback&&0!==this.sitIndex&&(t=this.showHandCards.getComponentsInChildren("MJCommon_Card"));for(var i=0;i<t.length;i++)if(t[i].id===e){t[i].hide();break}}for(var n=0;n<this.data.handCards.length;n++)if(this.data.handCards[n]===e)return this.data.handCards.splice(n,1)},moveHand:function(){var e=this;if(cc.mj.Data.isPlayback)return this.initHandCards();var t=this.handCards.getComponentsInChildren("MJCommon_Card"),i=t[t.length-1];if(1===this.sitIndex&&(i=t[0]),!i.node.active)return this.initHandCards(this.data.handCards);var n=cc.mj.Data.curPutCard;if(n&&!n.num&&(n.num=t.indexOf(n)),!n)return this.initHandCards();var o=t.indexOf(t.find(function(e){return e.id>=i.id})),a=t[o];o>n.num?(i.id<a.id&&(a=t[o-=1]),t.forEach(function(e,t){t>n.num&&t<=o&&e.node.runAction(cc.moveTo(.12,e.node.x-e.node.width,e.node.y))})):o<n.num&&t.forEach(function(e,t){t>=o&&t<n.num&&e.node.runAction(cc.moveTo(.12,e.node.x+e.node.width,e.node.y))}),13===o||n.num<=12&&12===o?i.node.runAction(cc.sequence(cc.moveTo(.12,a.oldPos.x,0),cc.callFunc(function(){t.forEach(function(e){e.oldPos&&e.node.setPosition(e.oldPos)}),e.initHandCards()}))):i.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.1,i.node.x,120),cc.rotateBy(.01,15)),cc.moveTo(.12,a.oldPos.x,120),cc.spawn(cc.moveTo(.1,a.oldPos.x,0),cc.rotateBy(.01,0)),cc.callFunc(function(){t.forEach(function(e){e.oldPos&&e.node.setPosition(e.oldPos)}),e.initHandCards()}))),this.initHandTouch()},initHandTouch:function(){0===this.sitIndex&&this.handCards.getComponentsInChildren("MJCommon_Card").forEach(function(e){e.isUnEnabled?cc.log("\u9650\u5236\u51fa\u724c"):(e.isSelected=!1,e.node.y=0,e.node.color=cc.Color.WHITE)})},setChuPaiEnabled:function(e){if(0===this.sitIndex)for(var t=this.handCards.getComponentsInChildren("MJCommon_Card"),i=0;i<t.length;i++)t[i].setChuPaiEnabled(e)},showTingsanjiao:function(e,t){if(void 0===t&&(t=!0),0===this.sitIndex)for(var i=this.handCards.getComponentsInChildren("MJCommon_Card"),n=0;n<i.length;n++)t?i[n].id===e&&i[n].showTingsanjiao(!0):i[n].showTingsanjiao(!1)},checkhandCardList:function(e){if(0===this.sitIndex)for(var t=this.handCards.getComponentsInChildren("MJCommon_Card"),i=0;i<t.length;i++)t[i].id===e&&t[i].setPaiEnabled(!1)},CanlehandCardColor:function(){if(0===this.sitIndex)for(var e=this.handCards.getComponentsInChildren("MJCommon_Card"),t=0;t<e.length;t++)e[t].setPaiEnabled(!0)},setShowAllPengGang:function(e){void 0===e&&(e=!1),this.pengGangs.active=e},initHandCards:function(e,t){var i=this;e=e||this.data.handCards,this.handCards.active=!0;var n=this.data;e&&0===this.sitIndex&&(n.handCards=e.sort(function(e,t){return e-t})),cc.mj.Data.isPlayback&&0!==this.sitIndex&&(n.handCards=e.sort(function(e,t){return e-t}));var o,a=n.handCards,r=3*(n.pengCards.length+n.anGangCards.length+n.gangCards.length)+n.chiCards.length;if((o=cc.mj.Data.isPlayback&&0!==this.sitIndex?this.showHandCards.getComponentsInChildren("MJCommon_Card"):this.handCards.getComponentsInChildren("MJCommon_Card")).forEach(function(e){e.reset(),e.sitIndex=i.sitIndex}),0===this.sitIndex||cc.mj.Data.isPlayback){3===this.sitIndex&&(o=o.reverse());var s=this.byMJCardType;a.forEach(function(e,n){var a=o[n+r];a&&(a.init(e,!1,!0,"handCard",i.sitIndex,s),a.index=n,a.sitIndex=i.sitIndex,t&&a.hide())}),r>13&&(cc,log("ERROR"));var c=o[r].node.convertToWorldSpaceAR(cc.v2(0,0)),l=this.pengGangs.parent.convertToNodeSpaceAR(c);0==this.sitIndex?this.pengGangs.x=l.x-70:3===this.sitIndex?(cc.mj.Data.isPlayback,this.pengGangs.y=l.y-40):2===this.sitIndex?this.pengGangs.x=l.x+30:this.pengGangs.y=l.y+40}else{var u=o;if(3===this.sitIndex&&(u=o.reverse()),!(u&&u.length&&u[r]))return;var h=u[r].node.convertToWorldSpaceAR(cc.v2(0,0)),d=this.pengGangs.parent.convertToNodeSpaceAR(h);3===this.sitIndex?this.pengGangs.y=d.y-40:2===this.sitIndex?this.pengGangs.x=d.x+30:this.pengGangs.y=d.y+40;for(var f=r;f<u.length-1;f++){var p=u[f];p.index=f,p.oldPos&&p.node.setPosition(p.oldPos),p.node.active=!0,t&&p.hide()}}},ShowPlayHandCard:function(e,t,i,n){console.log("ShowPlayHandCard "+this.node.name+" "+this.sitIndex,e,t);var o,a=0;if(i){for(var r=[],s=0;s<14;s++)255!=e[s]&&r.push(e[s]);r.push(n),a=t+1,o=r}else a=t,o=e;var c,l=this.data,u=3*(l.pengCards.length+l.anGangCards.length+l.gangCards.length)+l.chiCards.length;0==this.sitIndex?c=this.handCards.getComponentsInChildren("MJCommon_Card"):(c=this.showHandCards.getComponentsInChildren("MJCommon_Card"),3===this.sitIndex&&(c=c.reverse()),this.handCards.active=!1,this.showHandCards&&(this.showHandCards.active=!0));var h=this.byMJCardType,d=this.sitIndex;o.forEach(function(e,t){if(!(t+1>a)){var n=t+u,o=c[n];o&&(o.init(e,!1,!0,"handCard",d,h),o.index=n,o.sitIndex=d,t+1==a&&1==i&&(1===d?o.node.y-=20:2===d?o.node.x-=20:3===d&&(o.node.y+=20)),console.log("\u663e\u793a\u660e\u724c",d,u,n,e))}})},playGameAudio:function(e){this.targetComponent.playGameVoice(this.sitIndex,e)},showCardType:function(e){var t="peng";switch(e){case 0:t="Chi";break;case 1:t="Peng";break;case 2:t="Gang";break;case 3:t="Hu";break;case 4:t="ZiMo";break;case 5:t="Ting"}this.playGameAudio(t),this.targetComponent.playSkelenAnimation(t,!1,null,this.cardType,t)},showGangHuType:function(e){var t="Peng";switch(e){case 0:t="Chi";break;case 1:t="Peng";break;case 2:t="Gang";break;case 3:t="Hu";break;case 4:t="ZiMo";break;case 5:t="Ting"}this.targetComponent.playSkelenAnimation(t,!1,null,this.cardType,t)},setChiPengGang:function(e,t,i,n,o,a,r){var s=this;void 0===n&&(n=!1);var c=this.pengGangs.children.find(function(t){return t.pai==e});if(c||(c=this.pengGangs.children.find(function(e){return!e.active})),n&&c)2===i?c.getChildByName("topCard").active=!1:c.active=!1;else{c||(c=cc.instantiate(this.pengGangsPre),this.pengGangs.addChild(c)),c.active=!0,c.pai=e;var l=c.getChildByName("cards").getComponentsInChildren("MJCommon_Card");l.push(c.getChildByName("topCard").getComponent("MJCommon_Card"));var u=this.byMJCardType;l.forEach(function(n,c){n.node.active=!1,c+1>t||(0==s.sitIndex?a?n.init(e[c],!0,!1,"daoCard",s.sitIndex,u):n.init(e,!0,!1,"daoCard",s.sitIndex,u):a?n.init(e[c],!1,!1,"daoCard",s.sitIndex,u):n.init(e,!1,!1,"daoCard",s.sitIndex,u),3==t&&1==i?1==c&&s.setCardColor(n,o):3==t&&5==i?e[c]==r&&s.setCardColor(n,o):4==t&&1==i&&3==c&&s.setCardColor(n,o))}),c.getChildByName("backCards").active=!1,c.getChildByName("backCards2").active=!1,3==i&&(c.getChildByName("backCards").active=!0,1==this.byMJCardType?c.getChildByName("backCards2").active=!0:c.getChildByName("backCards2").active=!1)}},setCardColor:function(e,t){0==this.sitIndex?e.node.color=cc.color(180,180,180):e.node.color=cc.color(130,130,130),0==this.sitIndex?1==t?e.setImageTag(!0,0):2==t?e.setImageTag(!0,90):3==t&&e.setImageTag(!0,180):1==this.sitIndex?0==t?e.setImageTag(!0,270):2==t?e.setImageTag(!0,90):3==t&&e.setImageTag(!0,180):2==this.sitIndex?0==t?e.setImageTag(!0,270):1==t?e.setImageTag(!0,0):3==t&&e.setImageTag(!0,180):3==this.sitIndex&&(0==t?e.setImageTag(!0,270):1==t?e.setImageTag(!0,0):2==t&&e.setImageTag(!0,90))},setflowerCard:function(e,t,i,n,o){void 0===o&&(o=!1);var a=i+n,r=this.flowerCards.children.find(function(e){return e.pai==t});r||(r=this.flowerCards.children.find(function(e){return!e.active})),this.flowerCards.children.forEach(function(e){e.destroy()});var s=this.flowerNumber.children.find(function(e){return e.pai==t});s||(s=this.flowerNumber.children.find(function(e){return!e.active})),this.flowerNumber.children.forEach(function(e){e.destroy()}),r||(r=cc.instantiate(this.flowerCardsPre),this.flowerCards.addChild(r)),s||(s=cc.instantiate(this.flowerNumberPre),this.flowerNumber.addChild(s)),r.active=!0,r.pai=t,s.active=!0,s.pai=t;var c=s.getChildByName("image_just");c.active=!1;var l=s.getChildByName("image_wild");l.active=!1,i>0&&(c.active=!0,c.getChildByName("num").getComponent(cc.Sprite).spriteFrame=this.flowerCardSprite[i]),n>0&&(l.active=!0,l.getChildByName("num").getComponent(cc.Sprite).spriteFrame=this.flowerCardSprite[n]),3===this.sitIndex&&r.getChildByName("cards").getComponentsInChildren("MJCommon_Card").forEach(function(e,t){e.node.zIndex=100-t});var u=this.byMJCardType;r.getChildByName("cards").getComponentsInChildren("MJCommon_Card").forEach(function(i,n){i.node.active=!1,n+1>a||(0==e?i.init(t[n],!0,!1,"outCard",e,u):i.init(t[n],!1,!1,"outCard",e,u))})},chi:function(e,t,i,n,o){if(i||cc.mj.Data.isPlayback&&!n){this.lastHandCards=[].concat(this.data.handCards);for(var a=0;a<3;a++)e[a]!=t&&this._removeArrayChi(this.data.handCards,e[a])}if(n)this.data.handCards=[].concat(this.lastHandCards),this.data.chiCards=[].concat(this.lastChiCards);else for(var r=0;r<e.length-1;r++)this.lastChiCards=[].concat(this.data.chiCards),this.data.chiCards.push(e[r]);if(this.setChiPengGang(e,3,5,n,o,!0,t),this.initHandCards(),!n){if(0===this.sitIndex)for(var s=this.handCards.children,c=s.length-1;c>=0;c--)if(s[c].active){s[c].x-=20,s[c].getComponent("MJCommon_Card").index=13;break}this.showCardType(0),GameEvent.emit("movePoint",{flag:!1}),cc.mj.Data.curPlayer&&cc.mj.Data.curPlayer.curChupai&&(cc.mj.Data.curPlayer.curChupai.active=!1,cc.mj.Data.curPlayer.curChupai=null)}},peng:function(e,t,i,n){if(t||cc.mj.Data.isPlayback&&!i){var o={};this.data.handCards.forEach(function(e){o[e]?o[e]++:o[e]=1}),this.lastHandCards=[].concat(this.data.handCards),this._removeArray(this.data.handCards,e),3===o[e+""]&&this.data.handCards.push(e)}if(i?(this.data.handCards=[].concat(this.lastHandCards),this.data.pengCards=[].concat(this.lastPengCards)):(this._removeArray(this.data.pengCards,e),this.lastPengCards=[].concat(this.data.pengCards),this.data.pengCards.push(e)),this.setChiPengGang(e,3,1,i,n,!1),this.initHandCards(),!i){if(0===this.sitIndex)for(var a=this.handCards.children,r=a.length-1;r>=0;r--)if(a[r].active){a[r].getComponent("MJCommon_Card").index=13;break}this.showCardType(1),GameEvent.emit("movePoint",{flag:!1}),cc.mj.Data.curPlayer&&cc.mj.Data.curPlayer.curChupai&&(cc.mj.Data.curPlayer.curChupai.active=!1,cc.mj.Data.curPlayer.curChupai=null)}},gang:function(e){var t=e.type,i=e.card||e.pengCard,n=e.isBack,o=e.viewSeatNoBeGang;n||(3===t?(this._removeArray(this.data.anGangCards,i),this.lastAnGangCards=[].concat(this.data.anGangCards),this.data.anGangCards.push(i)):(this._removeArray(this.data.gangCards,i),this.lastGangCards=[].concat(this.data.gangCards),this.data.gangCards.push(i))),this.setChiPengGang(i,4,t,n,o,!1),n?(this.data.pengCards=[].concat(this.lastPengCards),this.data.anGangCards=[].concat(this.lastAnGangCards),this.data.gangCards=[].concat(this.lastGangCards),this.data.handCards=[].concat(this.lastHandCards)):(this.lastPengCards=[].concat(this.data.pengCards),this._removeArray(this.data.pengCards,i),this.lastHandCards=[].concat(this.data.handCards),this._removeArray(this.data.handCards,i)),this.initHandCards(),n||(this.showCardType(2),GameEvent.emit("movePoint",{flag:!1}),cc.mj.Data.curPlayer&&cc.mj.Data.curPlayer.curChupai&&2!==t&&3!==t&&(cc.mj.Data.curPlayer.curChupai.active=!1,cc.mj.Data.curPlayer.curChupai=null))},_removeArray:function(e,t){if(e&&e.length)for(;;){for(var i=!1,n=0;n<e.length;n++)if(e[n]===t){i=!0,e.splice(n,1);break}if(!i)break}},_removeArrayChi:function(e,t){if(e&&e.length)for(var i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)},flowerCardsdestroy:function(){this.flowerCards&&this.flowerCards.children.forEach(function(e){e.destroy()}),this.flowerNumber&&this.flowerNumber.children.forEach(function(e){e.destroy()})},reset:function(){this.handCards.children.forEach(function(e){return e.active=!1}),this.showHandCards&&this.showHandCards.children.forEach(function(e){return e.active=!1}),this.pushCards.children.forEach(function(e){return e.active=!1}),this.pengGangs.children.forEach(function(e){return e.active=!1}),this.data&&(this.data.handCards=[],this.data.pengCards=[],this.data.chiCards=[],this.data.gangCards=[],this.data.anGangCards=[]),this.lastHandCards=null,this.lastPutCard=null,this.lastPengCards=null,this.lastChiCards=null,this.lastGangCards=null,this.lastAnGangCards=null,this.chuPai&&(this.chuPai.active=!1),this.showCurChuPai&&(this.showCurChuPai.active=!1),this.curChupai=null}}),cc._RF.pop()},{}],HZMJ_gameOverItem:[function(e,t){"use strict";cc._RF.push(t,"a37159RSc5KOpr3D4nK10sZ","HZMJ_gameOverItem"),cc.Class({extends:cc.Component,properties:{ruleLabel:cc.Label,cardsNode:cc.Node,penGangPre:cc.Prefab,countLabel:cc.Label},initData:function(e){var t=this,i=this.cardsNode.getChildByName("penGangs"),n=this.cardsNode.getChildByName("showCards");this.byMJCardType=e.byMJCardType,i.children.forEach(function(e){return e.active=!1}),n.children.forEach(function(e){return e.active=!1});var o=0;e.anGangCards.forEach(function(e){t.addPenGang(o,3,e,i),o+=1}),e.gangCards.forEach(function(e){t.addPenGang(o,2,e,i),o+=1}),e.pengCards.forEach(function(e){t.addPenGang(o,1,e,i),o+=1}),e.ChiCards.forEach(function(n,a){if(3==e.ChiCards.length){if(0==a){for(var r=[],s=0;s<3;s++)r.push(e.ChiCards[s]);t.addChi(o,1,r,i),o+=1}}else if(6==e.ChiCards.length){if(0==a){for(var c=[],l=0;l<3;l++)c.push(e.ChiCards[l]);t.addChi(o,1,c,i),o+=1}if(4==a){for(var u=[],h=3;h<6;h++)u.push(e.ChiCards[h]);t.addChi(o,1,u,i),o+=1}}else if(9==e.ChiCards.length){if(0==a){for(var d=[],f=0;f<3;f++)d.push(e.ChiCards[f]);t.addChi(o,1,d,i),o+=1}if(3==a){for(var p=[],g=3;g<6;g++)p.push(e.ChiCards[g]);t.addChi(o,1,p,i),o+=1}if(6==a){for(var m=[],_=6;_<9;_++)m.push(e.ChiCards[_]);t.addChi(o,1,m,i),o+=1}}else if(12==e.ChiCards.length){if(0==a){for(var y=[],v=0;v<3;v++)y.push(e.ChiCards[v]);t.addChi(o,1,y,i),o+=1}if(3==a){for(var C=[],b=3;b<6;b++)C.push(e.ChiCards[b]);t.addChi(o,1,C,i),o+=1}if(6==a){for(var S=[],L=6;L<9;L++)S.push(e.ChiCards[L]);t.addChi(o,1,S,i),o+=1}if(9==a){for(var I=[],R=9;R<12;R++)I.push(e.ChiCards[R]);t.addChi(o,1,I,i),o+=1}}else if(15==e.ChiCards.length){if(0==a){for(var N=[],T=0;T<3;T++)N.push(e.ChiCards[T]);t.addChi(o,1,N,i),o+=1}if(3==a){for(var E=[],M=3;M<6;M++)E.push(e.ChiCards[M]);t.addChi(o,1,E,i),o+=1}if(6==a){for(var D=[],A=6;A<9;A++)D.push(e.ChiCards[A]);t.addChi(o,1,D,i),o+=1}if(9==a){for(var w=[],O=9;O<12;O++)w.push(e.ChiCards[O]);t.addChi(o,1,w,i),o+=1}if(12==a){for(var G=[],B=12;B<15;B++)G.push(e.ChiCards[B]);t.addChi(o,1,G,i),o+=1}}});var a=this.byMJCardType,r=e.handCardCount;e.handCards.forEach(function(e,t){var i=n.children[t];i.active=!0,i.getComponent("MJCommon_Card").init(e,!1,!1,"outCard",0,a),t>=r&&(i.x+=10)}),e.isBanker;var s="",c="";if(1==e.resultType){c="\u500d\u6570:"+e.iFanCount+"\u500d";for(var l="",u=(HZMJ_HUTYPE_NAME_DEF[1],0);u<4;u++)255!=e.byHuDouble[u]&&(l=l+" "+HZMJ_HUTYPE_NAME_DEF[e.byHuDouble[u]]);var h="\u6760\u5206\u6570:"+e.bycountGangFen+"\u5206",d="\u80e1\u724c\u5206\u6570:"+e.iHuFen+"\u5206",f="";2==e.iJiZhuangTimes&&(f=" \u6025\u8f6c"),s="  \u724c\u578b:"+l+"  "+h+"  "+d+f}this.countLabel.string=c,this.ruleLabel.string=s},addPenGang:function(e,t,i,n){var o=n.children[e];o||(o=cc.instantiate(this.penGangPre),n.addChild(o)),o.active=!0;var a=o.getChildByName("cards").getComponentsInChildren("MJCommon_Card"),r=o.getChildByName("backCards"),s=o.getChildByName("backCards2"),c=o.getChildByName("topCard");a.push(c.getComponent("MJCommon_Card"));var l=this.byMJCardType;a.forEach(function(e){e.node.active=!1,e.init(i,!1,!1,"outCard",0,l)}),r.active=!1,s.active=!1,3==t&&(r.active=!0,1==this.byMJCardType?s.active=!0:s.active=!1),c.active=1!==t},addChi:function(e,t,i,n){var o=n.children[e];o||(o=cc.instantiate(this.penGangPre),n.addChild(o)),o.active=!0;var a=o.getChildByName("cards").getComponentsInChildren("MJCommon_Card"),r=o.getChildByName("backCards"),s=o.getChildByName("backCards2"),c=o.getChildByName("topCard");a.push(c.getComponent("MJCommon_Card"));var l=this.byMJCardType;a.forEach(function(e,t){e.node.active=!1,e.init(i[t],!1,!1,"outCard",0,l)}),r.active=3===t,s.active=!1,c.active=1!==t}}),cc._RF.pop()},{}],HZMJ_roomOverItem:[function(e,t){"use strict";cc._RF.push(t,"766fep8R51I0ISA+b5e64zS","HZMJ_roomOverItem"),cc.Class({extends:cc.Component,properties:{infoNodes:[cc.Node],resultNodes:cc.Node},initData:function(e,t){this.infoNodes.forEach(function(e){return e.active=!1});var i=this.infoNodes[0],n=i.getChildByName("header").children[0].children[0].getComponent(cc.Sprite),o=i.getChildByName("nickName").getComponent(cc.Label),a=i.getChildByName("id").getComponent(cc.Label),r=i.getChildByName("hp").getComponent(cc.Label),s=i.getChildByName("mg").getComponent(cc.Label),c=i.getChildByName("ag").getComponent(cc.Label),l=i.getChildByName("scoreLabel").getComponent(cc.Label),u=i.getChildByName("roomMaster");e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){n&&(n.spriteFrame=e)}),o.string=e.nickname,a.string="ID:"+e.uid,r.string=""+e.iHuCount,s.string=""+e.iMingGangCount,c.string=""+e.iAnGangCount;var h=RoomListManager.getRoomInfo();h.type==E_ROOM_TYPE.PRIVATE||h.type==E_ROOM_TYPE.TABLE||h.type==E_ROOM_TYPE.GOLD?l.string=F_GetMoneyDisplay(e.llGameScore,2):l.string=e.llGameScore,e.totalScore>0&&(l.string="+"+l.string),i.active=!0,this.resultNodes.children.forEach(function(e){return e.active=!1}),e.uid==t?u.active=!0:u.active=!1},setBigWin:function(){this.resultNodes.getChildByName("icon_winner").active=!0}}),cc._RF.pop()},{}],HisRecord:[function(e,t){"use strict";cc._RF.push(t,"cf5108tAGNOw5frKzKyeGoA","HisRecord"),cc.Class({extends:e("BaseLayer"),properties:{panel_record:cc.ScrollView,prefab_record:cc.Prefab,page_text:cc.Label,buttonPre:cc.Button,buttonNext:cc.Button,node_jiangjin:cc.Node,node_lishi:cc.Node},init:function(e){"lishi"==e?(this.node_jiangjin.active=!1,this.node_lishi.active=!0):(this.node_jiangjin.active=!0,this.node_lishi.active=!1),this.panleRecordContent=this.panel_record.content,this.PAGE_COUNT_Record=8,this.curPage_Record=0,this.maxPage_Record=0,this.setPageInfo()},setPageInfo:function(){var e=this.page_text,t=this.buttonPre,i=this.buttonNext,n=this.curPage_Record,o=this.maxPage_Record;e.string=n+" / "+o,t.interactable=!(n<=1),i.interactable=!(n>=o)},onButtonPre:function(){this.curPage_Record=this.curPage_Record-1,this.curPage_Record<=0&&(this.curPage_Record=1),this.requestInfo()},onButtonNext:function(){this.curPage_Record=this.curPage_Record+1,this.curPage_Record>this.maxPage_Record&&(this.curPage_Record=this.maxPage_Record),this.requestInfo()},start:function(){},requestInfo:function(){var e=this;MatchManager.requestMatchRankRecordList(this.curPage_Record,this.PAGE_COUNT_Record,function(t){var i=t.data;null==t.page?(e.buttonPre.active=!1,e.buttonNext.active=!1,e.page_text.active=!1):(e.buttonPre.active=!0,e.buttonNext.active=!0,e.page_text.active=!0,e.curPage_Record=Number(t.page||1),e.maxPage_Record=Number(t.totalPage||1),0==t.totalPage&&(t.page=0,e.curPage_Record=0,e.maxPage_Record=0),e.setPageInfo()),e.panleRecordContent.children.forEach(function(e){e.destroy()});for(var n=0;n<i.length;n++){var o=cc.instantiate(e.prefab_record);e.panleRecordContent.addChild(o),o.getComponent("Item_DuanWei_Record").setData(i[n])}})},onEnable:function(){this.requestInfo()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],HttpConst:[function(e,t){"use strict";cc._RF.push(t,"d0b53cWcOpFSbwQ3DYPoYyX","HttpConst"),t.exports={web:"http://192.168.1.227",GameInfoAddress:"/API/index.php?action=GetGameInfo",RoomInfoAddress:"/API/index.php?action=GetRoomInfo"},cc._RF.pop()},{}],HttpHelper:[function(e,t){"use strict";cc._RF.push(t,"8bd56djgO9E6YhmaKQNO4BX","HttpHelper");var i={get:function(e,t,i){var n=cc.loader.getXMLHttpRequest();n.open("GET",e+t,!0),n.onreadystatechange=function(){if(2==n.readyState||3==n.readyState);else if(4==n.readyState&&n.status>=200&&n.status<=207){n.statusText;var e=n.responseText;i(!1,e)}else i(!0,e)},n.send()},post:function(e,t,i){var n=cc.loader.getXMLHttpRequest();n.open("POST",e);var o=!1;n.onreadystatechange=function(){2==n.readyState||3==n.readyState||(o=!(4==n.readyState&&n.status>=200&&n.status<=207));var e=n.responseText;i(o,e)},n.send(t)}};t.exports=i,cc._RF.pop()},{}],InviteCodeManager:[function(e,t){"use strict";cc._RF.push(t,"3a71fpc2wBJnonWuf+AKI3f","InviteCodeManager");var i=cc.Class({ctor:function(){this.InviteCodeInfo={}},getInviteCodeInfo:function(e,t){var i=this;if(!this.InviteCodeInfo)return t(!0);var n=[];n.params={api:"agent",action:"bindInviteInfo",userID:e},n.sCallback=function(e){0==e.status?(console.log(">>>>>InviteCodeInfoInviteCodeInfoInviteCodeInfo>"),i.InviteCodeInfo=e.data,t&&t(!0)):createTips(e.msg)},n.fCallback=function(){t(!1)},n.requestDesc="\u83b7\u53d6\u9080\u8bf7\u7801\u4fe1\u606f",MyHttpRequest.doRequest(n)},bindInviteCode:function(e,t,i){var n=this;if(this.InviteCodeInfo&&void 0!==this.InviteCodeInfo.agentID&&""!=this.InviteCodeInfo.agentID)return createTips("\u5df2\u7ecf\u7ed1\u5b9a\u9080\u8bf7\u7801"),void i(!1);var o=[];o.params={api:"agent",action:"bindInviteCode",userID:e,inviteCode:t},o.sCallback=function(e){0==e.status?(console.log(">>>>>>>>>>this.InviteCodeInfo"+JSON.stringify(n.InviteCodeInfo)),console.log(">>>>>>>>>>this.InviteCodeInfo"+t),n.InviteCodeInfo.agentID=t,i(!0)):createTips(e.msg)},o.fCallback=function(){i(!1)},o.requestDesc="\u8bf7\u6c42\u7ed1\u5b9a\u9080\u8bf7\u7801",MyHttpRequest.doRequest(o)},getMyInviteCodeInfo:function(){return console.log(">>>>>>>>>>>>>>>>>>>>>this.InviteCodeInfothis.InviteCodeInfothis.InviteCodeInfo"+this.InviteCodeInfo),console.log(">>>>>>>>>>>>>>>>>>>>>this.InviteCodeInfothis.InviteCodeInfothis.InviteCodeInfo"+JSON.stringify(this.InviteCodeInfo)),this.InviteCodeInfo}});t.exports=i,cc._RF.pop()},{}],InviteFriendDialog:[function(e,t){"use strict";cc._RF.push(t,"398b56OzM1I76kDGMD/+UPV","InviteFriendDialog"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],InviteLayer:[function(e,t){"use strict";cc._RF.push(t,"d7461MMDIZBPaJsx22Ml82A","InviteLayer"),cc.Class({extends:e("BaseLayer"),properties:{editBox:cc.EditBox,btnBind:cc.Node,tipRichText:cc.RichText,editText:cc.Label},initUIData:function(){var e=this;this.InviteLogic.getInviteCodeInfo(function(t){t&&e.showInviteCodeInfo()})},onEnable:function(){this.initUIData()},onLoad:function(){this.InviteLogic=new(e("InviteLogic"))},closeBtn:function(){this.node.destroy()},touchButton:function(){var e=this,t=this.editBox.string;if(""==t)return createTips("\u8bf7\u8f93\u5165\u9080\u8bf7\u7801");this.InviteLogic.bindInviteCode(t,function(t){e.onCloseBtn(),t&&e.showInviteCodeInfo()})},showInviteCodeInfo:function(){var e=this.InviteLogic.getMyInviteCodeInfo(),t=ConfigDataManager.getConfigDataByKey("bind_agentID_send_jewels",10);if(this.tipRichText){var i="<color=#B05919>\u8d60\u9001</c>";t>0&&(i+="<color=#FF3333>"+t+"</color><color=#B05919>\u9897\u94bb\u77f3</c>"),this.tipRichText.string=i}e.agentID?(this.btnBind.getComponent(cc.Button).interactable=!1,this.editBox.string=e.agentID+"",this.editBox.node.active=!1,this.editText&&(this.editText.string=e.agentID+"")):(this.btnBind.getComponent(cc.Button).interactable=!0,this.editBox.node.active=!0,this.editText&&(this.editText.string=""))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",InviteLogic:"InviteLogic"}],InviteLogic:[function(e,t){"use strict";cc._RF.push(t,"8fd125gz75G95g8Md+EEzyJ","InviteLogic"),cc.Class({extends:e("LogicBasis"),ctor:function(){},getInviteCodeInfo:function(e){InviteCodeManager.getInviteCodeInfo(this.getUserID(),e)},bindInviteCode:function(e,t){InviteCodeManager.bindInviteCode(this.getUserID(),e,t)},getMyInviteCodeInfo:function(){return InviteCodeManager.getMyInviteCodeInfo()}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],ItemListManager:[function(e,t){"use strict";cc._RF.push(t,"1563airacxEqKAsLIVJrpya","ItemListManager"),t.exports=cc.Class({extends:e("LogicBasis"),properties:{},ctor:function(){this.diamondItemList=[],this.goldItemList=[],this.propItemList=[],this.substanceList=[]},getItemById:function(e){var t=this.getDiamondItemById(e);return t||(t=this.getGoldItemById(e)),t||(t=this.getPropItemById(e)),t||(t=this.getSubstanceItemById(e)),t},getDiamondItemById:function(e){for(var t in this.diamondItemList){var i=this.diamondItemList[t];if(i.itemId==e)return tools.copyTable(i)}return null},getGoldItemById:function(e){for(var t in this.goldItemList){var i=this.goldItemList[t];if(i.itemId==e)return i}return null},getPropItemById:function(e){for(var t in this.propItemList){var i=this.propItemList[t];if(i.itemId==e)return i}return null},getSubstanceItemById:function(e){for(var t in this.substanceList){var i=this.substanceList[t];if(i.itemId==e)return i}return null},requestDiamondItemList:function(e){var t=this;if(0==this.diamondItemList.length){var i={};i.params={api:"pay",action:"goodsList",goodsType:E_ItemType.DIAMOND,userID:UserInfoManager.getMyInfo().userID},i.fCallback=function(){createTips("\u8bf7\u6c42goodsList\u8d85\u65f6")},i.sCallback=function(i){0==i.status?(t.diamondItemList=i.data,e&&e(t.diamondItemList)):createTips(i.msg)},MyHttpRequest.doRequest(i)}else e(this.diamondItemList)},requestGoldItemList:function(e){var t=this;if(0==this.goldItemList.length){var i={};i.params={api:"pay",action:"goodsList",goodsType:E_ItemType.GOLD,userID:UserInfoManager.getMyInfo().userID},i.fCallback=function(){createTips("\u8bf7\u6c42goodsList\u8d85\u65f6")},i.sCallback=function(i){0==i.status?(t.goldItemList=i.data,e&&e(t.goldItemList)):createTips(i.msg)},MyHttpRequest.doRequest(i)}else e(this.goldItemList)},requestPropItemList:function(e){var t=this;if(0==this.propItemList.length){var i={};i.params={api:"pay",action:"goodsList",goodsType:E_ItemType.PROP,userID:UserInfoManager.getMyInfo().userID},i.fCallback=function(){createTips("\u8bf7\u6c42goodsList\u8d85\u65f6")},i.sCallback=function(i){0==i.status?(t.propItemList=i.data,e&&e(t.propItemList)):createTips(i.msg)},MyHttpRequest.doRequest(i)}else e(this.propItemList)},requestSubstanceItemList:function(e){var t=this;if(0==this.substanceList.length){var i={};i.params={api:"pay",action:"goodsList",goodsType:E_ItemType.SUBSTANCE,userID:UserInfoManager.getMyInfo().userID},i.fCallback=function(){createTips("\u8bf7\u6c42goodsList\u8d85\u65f6")},i.sCallback=function(i){0==i.status?(t.substanceList=i.data,e&&e(t.substanceList)):createTips(i.msg)},MyHttpRequest.doRequest(i)}else e(this.substanceList)},getGoldPicIndexByNum:function(e){for(var t=6,i=[1e3,2e3,5e3,1e4,5e4],n=1;n<=i.length;n++)if(e>(i[n-1]||0)&&e<=i[n]){t=n;break}return t},getCardPicIndexByNum:function(e){for(var t=6,i=[1,2,5,10,50],n=1;n<=i.length;n++)if(e>(i[n-1]||0)&&e<=i[n]){t=n;break}return t},clear:function(){this.diamondItemList=[],this.goldItemList=[],this.propItemList=[],this.substanceList=[],instance=null}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],Item_ChuangGuan_Award:[function(e,t){"use strict";cc._RF.push(t,"2af5bwUBC1NWLYKhTwGGKx4","Item_ChuangGuan_Award"),cc.Class({extends:cc.Component,properties:{guanqiaIndex:cc.Label,guanqiaChu:cc.Label,guanqiaZhong:cc.Label,guanqiaGao:cc.Label,guanqiaZhizun:cc.Label},setData:function(e){1==e.level&&(this.guanqiaChu.string=e.money+"",this.guanqiaIndex.string="\u521d\u7ea7\u7b2c"+e.checkpoint+"\u5173"),2==e.level&&(this.guanqiaZhong.string=e.money+"",this.guanqiaIndex.string="\u4e2d\u7ea7\u7b2c"+e.checkpoint+"\u5173"),3==e.level&&(this.guanqiaGao.string=e.money+"",this.guanqiaIndex.string="\u9ad8\u7ea7\u7b2c"+e.checkpoint+"\u5173")}}),cc._RF.pop()},{}],Item_DuanWei_Award:[function(e,t){"use strict";cc._RF.push(t,"f0b05ggBtRKursftOYqnv6A","Item_DuanWei_Award"),cc.Class({extends:cc.Component,properties:{rankLevelName:cc.Label,rankLevelImage:cc.Sprite,rankImages:[cc.SpriteFrame],rankState:cc.Label,rankAward:cc.Label},setData:function(e){this.rankLevelName.string=e.remark+"",this.rankLevelImage.spriteFrame=this.rankImages[parseInt(e.level/5)],this.rankAward.string=e.award,UserInfoManager.getMyInfo().UserLevel>=e.level+1?this.rankState.string=curFinishState[1]:this.rankState.string=curFinishState[0]}}),cc._RF.pop()},{}],Item_DuanWei_Rank:[function(e,t){"use strict";cc._RF.push(t,"152ebBHfxxJAJVmm+H7qUA6","Item_DuanWei_Rank"),cc.Class({extends:cc.Component,properties:{rankIndex:cc.Label,rankName:cc.Label,rankAvata:cc.Sprite,rankLevelName:cc.Label,rankLevelImage:cc.Sprite,rankImages:[cc.SpriteFrame],awardText:cc.Label,gameExpText:cc.Label},setData:function(e,t){this.rankIndex.string=t+"",this.rankName.string=e.name+"",this.rankLevelName.string=e.levelName+"",this.awardText.string=e.award+"",this.gameExpText.string=e.gameExp+"";var i=function(e){this.rankAvata&&(this.rankAvata.spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(e.headURL,e.userID,i,null),this.rankLevelImage.spriteFrame=this.rankImages[parseInt(e.level/5)]}}),cc._RF.pop()},{}],Item_DuanWei_Record:[function(e,t){"use strict";cc._RF.push(t,"6d1ffEVautDpIKCAKvvZxdT","Item_DuanWei_Record"),cc.Class({extends:cc.Component,properties:{recordSaiJi:cc.Label,recordDuanWei:cc.Label,recordAward:cc.Label,recordTime:cc.Label},setData:function(e){this.recordSaiJi.string=e.sequence,this.recordDuanWei.string=e.levelName+"",this.recordAward.string=e.money+"",this.recordTime.string=e.receive_time+""}}),cc._RF.pop()},{}],JoinRoomDialog:[function(e,t){"use strict";cc._RF.push(t,"c1636vFeqZI+KhtT1o30jZB","JoinRoomDialog"),cc.Class({extends:e("BaseLayer"),properties:{nums:[cc.Label],annimetions:cc.Node},onLoad:function(){this.onClear()},start:function(){var e=this;setTimeout(function(){e.annimetions&&cc.isValid(e.annimetions)&&(e.annimetions.active=!0)},2500)},init:function(){},onNumClick:function(e,t){var i="";console.log("\u65e5\u5fd7:"+t);for(var n=0;n<this.nums.length;n++)if(i+=this.nums[n].string,""==this.nums[n].string){this.nums[n].string=t,i+=this.nums[n].string,5==n&&this.sendJoinRoom(i);break}},sendJoinRoom:function(t){cc.log("JoinRoomLayer:sendJoinRoom[input = {0}]",t),this.LobbyRoomLogic=new(e("LobbyRoomLogic")),this.LobbyRoomLogic.joinRoom(t,function(){loadsceneRes("Texture",function(){})})},onClear:function(){for(var e=this.nums.length-1;e>=0;e--)this.nums[e].string=""},onBack:function(){for(var e=this.nums.length-1;e>=0;e--)if(""!=this.nums[e].string)return void(this.nums[e].string="")},onButtonClick:function(e,t){switch(t){case"Button_Num_1":case"Button_Num_2":case"Button_Num_3":case"Button_Num_4":case"Button_Num_5":case"Button_Num_6":case"Button_Num_7":case"Button_Num_8":case"Button_Num_9":case"Button_Num_0":case"Button_Reset":case"Button_Del":case"Button_Bg_Box":break;case"Button_Bg":this.node.parent=null}},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyRoomLogic:"LobbyRoomLogic"}],JsbMgr:[function(e,t){"use strict";cc._RF.push(t,"266365pGwlACIeh2WYHNvE4","JsbMgr"),cc.Class({extends:cc.Component,properties:{magicWindowRoomId:0},getNetState:function(){return cc.sys.OS_ANDROID==cc.sys.os?0==jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getNetState","()I"):cc.sys.os!=cc.sys.OS_IOS||"2"!=jsb.reflection.callStaticMethod("NativeJSForOC","getNetState")},getNetType:function(){if(cc.sys.OS_ANDROID==cc.sys.os){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getNetWorkType","()Ljava/lang/String;");return"4"==e?"wifi":"0"==e?"null":"1"==e||"2"==e?"2G":"3"==e?"3G":"4G"}if(cc.sys.os==cc.sys.OS_IOS){var t=jsb.reflection.callStaticMethod("NativeJSForOC","getNetState");if("2"==t)return"null";if("0"==t)return"wifi";if("1"==t)return"4G"}return"wifi"},getIsWifi:function(){return cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","isWifi","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?"0"==jsb.reflection.callStaticMethod("NativeJSForOC","getNetState")?"1":"0":void 0},setLocalStorageToNative:function(e,t){if(cc.sys.OS_ANDROID==cc.sys.os)try{jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jsToSetLocalStorageData","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}catch(i){}else if(cc.sys.os==cc.sys.OS_IOS)try{jsb.reflection.callStaticMethod("AppController","jsToSetLocalStorageData:value:",e+"",t+"")}catch(i){}},getBatteryPercent:function(){if(cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getBatteryPercent","()I");if(cc.sys.os==cc.sys.OS_IOS){var e=jsb.reflection.callStaticMethod("NativeJSForOC","getBatteryPercent");if(null!=e&&e.length>0)return parseInt(e)}return 80},getPingNum:function(){if(cc.sys.OS_ANDROID==cc.sys.os){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getPingNum","(Ljava/lang/String;)I",cc.wsfp.serverUrl);return e>=3?20:2==e?100:200}if(cc.sys.os==cc.sys.OS_IOS){var t=jsb.reflection.callStaticMethod("NativeJSForOC","getSignalStrengthVoid");return null!=t&&t.length>0?(t=parseInt(t))>=3?20:2==t?100:200:20}return 100},getStrFromClipboard:function(){return cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getStrFromClipboard","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("NativeJSForOC","getStrFromClipboard"):""},clearClipboard:function(){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","clearClipboard","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeJSForOC","clearClipboard")},copyToClipboard:function(e){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","copyToClipboard","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeJSForOC","copyToClipboard:",e+"")},getIp:function(){return cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","getIp","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("NativeJSForOC","getIp"):"127.0.0.1"},wxLogin:function(){cc.sys.OS_ANDROID!=cc.sys.os?cc.sys.os!=cc.sys.OS_IOS||jsb.reflection.callStaticMethod("NativeJSForOC","wxLogin"):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","wxLogin","()V")},shareText:function(e,t){cc.sys.OS_ANDROID!=cc.sys.os?cc.sys.os!=cc.sys.OS_IOS||jsb.reflection.callStaticMethod("NativeJSForOC","wxShareText:shareType:",e+"",t+""):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","wxShareText","(Ljava/lang/String;I)V",e,t)},shareUrl:function(e,t,i,n){cc.sys.OS_ANDROID!=cc.sys.os?cc.sys.os!=cc.sys.OS_IOS||jsb.reflection.callStaticMethod("NativeJSForOC","wxShareRoom:shareTitle:shareDescription:shareType:",e,t,i,n+""):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","wxShareUrl","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V",e,t,i,n)},shareImg:function(e,t){if(cc.sys.OS_ANDROID!=cc.sys.os){if(cc.sys.os==cc.sys.OS_IOS)try{return void jsb.reflection.callStaticMethod("NativeJSForOC","wxShareImg:shareType:",e+"",t+"")}catch(i){}}else jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","wxShareImg","(Ljava/lang/String;I)V",e,t)},setScreenDirection:function(e){cc.log(">><<\u8bbe\u7f6e\u5b89\u5353activity\u7684\u5c4f\u5e55\u65b9\u5411\u8bbe\u7f6e\u5b89\u5353activity\u7684\u5c4f\u5e55\u65b9\u5411\u8bbe\u7f6e\u5b89\u5353activity\u7684\u5c4f\u5e55\u65b9\u5411<"+e),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","setOpritation","(I)V",e):(cc.sys.os,cc.sys.OS_IOS)},toastToJava:function(e,t){void 0===t&&(t=!1),cc.log("\u5ba2\u6237\u7aeftoast>"+e),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","jsToast","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeJSForOC","jsToast:isSuccess:",e,t)},debugToast:function(e){cc.log(e)},javaLogE:function(e){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/JsbService","javaLogE","(Ljava/lang/String;)V","js-Msg :"+e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("NativeJSForOC","iosLogE:","js-Msg :"+e)},exit:function(){cc.game.end()},wxLoginSuccessed:function(e){e.indexOf("access_token")>=0&&e.indexOf("openid")>=0&&JSON.parse(e)},wxShareSuccessed:function(){},wxGetInfoSuccess:function(e){JSON.parse(e).unionid&&(cc.sys.OS_ANDROID,cc.sys.os)},magicWindowJoinGame:function(e){this.magicWindowRoomId=e}}),cc._RF.pop()},{}],KeFuItem:[function(e,t){"use strict";cc._RF.push(t,"b9ab7GXTx9KEoFojBrPpO4Q","KeFuItem"),cc.Class({extends:cc.Component,properties:{XiangQing:cc.Node,item:cc.Prefab,wenben:cc.Prefab,shanchu:cc.Node,xin:cc.Node,yidu:cc.Node,weidu:cc.Node},start:function(){},init:function(t,i,n){this.ItemNode=n,this.id=t,this.xin.active=1==i,(new(e("FeedbackLogic"))).getFeedbackDetails(t,function(e){cc.log(e)})},isDianKai:function(){var t=this;this.xin.active=!1,this.yidu.active=!0,this.weidu.active=!1;var i=cc.instantiate(this.item),n=this.node.getComponent(cc.Component).node.children[0].children[3]._components[0].string;i.getComponent("KeFuNode").id=this.id;for(var o=n.split(""),a=0;a<o.length;a++)" "==o[a]&&o.splice(a,1,"\n");var r=o.join("");i.children[2].children[2]._components[0].string=r,1==this.shanchu.active&&(i.children[2].children[3].children[0].children[3].children[1].active=!0,i.children[2].children[3].children[0].children[4].children[1].active=!0,i.children[2].children[1]._components[1].interactable=!1,i.children[2].children[6].active=!0),this.ItemNode.addChild(i),this.WenItem=i.children[2].children[4].children[1].children[0].children[0];var s=new(e("FeedbackLogic")),c=cc.instantiate(this.wenben);c.children[0].children[1]._components[0].string=this.node.getComponent(cc.Component).node.children[0].children[3]._components[0].string;for(var l=this.node.children[0].children[2]._components[0].string.split(""),u=0;u<l.length;u++)19==u&&l.splice(u,0,"\n"),39==u&&l.splice(u,0,"\n"),59==u&&l.splice(u,0,"\n"),79==u&&l.splice(u,0,"\n"),l.length<20?(c.children[0].children[2].width=40*l.length+20,c.children[0].children[2].height=65):l.length<40&&l.length>20?(c.children[0].children[2].width=820,c.children[0].children[2].height=110):l.length<60&&l.length>40?(c.children[0].children[2].width=820,c.children[0].children[2].height=155):l.length<80&&l.length>60?(c.children[0].children[2].width=820,c.children[0].children[2].heighty=200):l.length>80&&(c.children[0].children[2].width=820,c.children[0].children[2].height=245);var h=l.join("");c.children[0].children[2].children[0]._components[0].string=h,this.WenItem.addChild(c),s.getFeedbackDetails(this.id,function(e){if(0!=e.length||""!=e.length)for(var n=0;n<e.length;n++){var o=cc.instantiate(t.wenben);o.children[0].children[1]._components[0].string=F_GetDateStringByTime(e[n].c_time);for(var a=e[n].c_content.split(""),r=0;r<a.length;r++)if(19==r&&a.splice(r,0,"\n"),39==r&&a.splice(r,0,"\n"),59==r&&a.splice(r,0,"\n"),79==r&&a.splice(r,0,"\n"),a.length<20?(o.children[0].children[2].width=40*a.length+20,o.children[0].children[2].height=65):a.length<40&&a.length>20?(o.children[0].children[2].width=820,o.children[0].children[2].height=110):a.length<60&&a.length>40?(o.children[0].children[2].width=820,o.children[0].children[2].height=155):a.length<80&&a.length>60?(o.children[0].children[2].width=820,o.children[0].children[2].heighty=200):a.length>80&&(o.children[0].children[2].width=820,o.children[0].children[2].height=245),1==e[n].c_type){o.children[0].children[3].active=!0,o.children[0].children[4].active=!0,o.children[0].children[0].active=!1,o.children[0].children[1].active=!1,o.children[0].children[4]._components[0].string=F_GetDateStringByTime(e[n].c_time),i.children[2].children[3].children[0].children[1].children[1].active=!0,i.children[2].children[3].children[0].children[2].children[1].active=!0,i.children[2].children[5].active=!0;for(var s=F_GetDateStringByTime(e[n].c_time).split(""),c=0;c<s.length;c++)" "==s[c]&&s.splice(c,1,"\n");var l=s.join("");i.children[2].children[5]._components[0].string=l,1==i.children[2].children[6].active&&(i.children[2].children[6]._components[0].string=l)}else o.children[0].children[3].active=!1,o.children[0].children[4].active=!1,o.children[0].children[0].active=!0,o.children[0].children[1].active=!0;var u=a.join("");o.children[0].children[2].children[0]._components[0].string=u,t.WenItem.addChild(o),e.length}})},isShanChu:function(){var t=this;(new(e("FeedbackLogic"))).deleteFeedback(this.id,function(e){e&&(createTips("\u5220\u9664\u6210\u529f"),t.node.active=!1)})}}),cc._RF.pop()},{FeedbackLogic:"FeedbackLogic"}],KeFuNode:[function(e,t){"use strict";cc._RF.push(t,"dd292bdIv9PFro4GIyAd/+x","KeFuNode"),cc.Class({extends:e("BaseLayer"),properties:{Eidbox:cc.EditBox,item:cc.Prefab,itemScr:cc.Node,fankuiJieShu:cc.Node,fankuiJieShuShu:cc.Node,fasongBTN:cc.Button,time3Lab:cc.Node},start:function(){cc.winSize.width/1280<1&&this.node.setScale(cc.winSize.width/1280)},init:function(e){this.id=e},isFaSong:function(){var t=this;if(""!=this.Eidbox.string){var i=new(e("FeedbackLogic"));(new(e("FeedbackManager"))).getFeedbackList(),i.sendFeedbackCallback(this.id,this.Eidbox.string,function(e){if(1==e){for(var i=cc.instantiate(t.item),n=(new Date).toLocaleString().split(""),o=0;o<n.length;o++)if("\u4e0a"==n[o])n.splice(o,2);else if("\u4e0b"==n[o]){var a=String(Number(n[o+2])+12);n.splice(o+2,1,a),n.splice(o,2)}var r=n.join("");i.children[0].children[1]._components[0].string=r;for(var s=t.Eidbox.string.split(""),c=0;c<s.length;c++)19==c&&s.splice(c,0,"\n"),39==c&&s.splice(c,0,"\n"),59==c&&s.splice(c,0,"\n"),79==c&&s.splice(c,0,"\n"),s.length<20?(i.children[0].children[2].width=40*s.length+20,i.children[0].children[2].height=65):s.length<40&&s.length>20?(i.children[0].children[2].width=820,i.children[0].children[2].height=110):s.length<60&&s.length>40?(i.children[0].children[2].width=820,i.children[0].children[2].height=155):s.length<80&&s.length>60?(i.children[0].children[2].width=820,i.children[0].children[2].heighty=200):s.length>80&&(i.children[0].children[2].width=820,i.children[0].children[2].height=245);var l=s.join("");i.children[0].children[2].children[0]._components[0].string=l,t.itemScr.addChild(i)}else t.fankuiJieShu.active=!0,t.fankuiJieShuShu.active=!0,t.fasongBTN.interactable=!1})}else createTips("\u8bf7\u8f93\u5165\u8981\u53cd\u9988\u7684\u5185\u5bb9")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",FeedbackLogic:"FeedbackLogic",FeedbackManager:"FeedbackManager"}],KefuLayer:[function(e,t){"use strict";cc._RF.push(t,"c314eZITY1PMYGtjvlMV1l+","KefuLayer"),cc.Class({extends:cc.Component,properties:{wxLabel:cc.Label},onBtnCopyWx:function(){if(this.wxLabel){var e=this.wxLabel.string;e&&tools.copyTextFun(e)?createTips("\u590d\u5236\u6210\u529f:"+this.wxLabel.string):createTips("\u590d\u5236\u5931\u8d25\uff01")}}}),cc._RF.pop()},{}],LayerGameRules:[function(e,t){"use strict";cc._RF.push(t,"27ccb29005LgZTA54sDF898","LayerGameRules"),cc.Class({extends:e("BaseLayer"),properties:{gameRuleSprite:cc.Sprite,gameRuleScrollView:cc.ScrollView},onLoad:function(){cc.winSize.width/1280<1&&this.node.setScale(.85,.85),this.setGameRuleImg(null,"njj")},setGameRuleImg:function(e,t){var i=this;cc.loader.loadRes("lobby/ui/GameRule/Rule/"+t,cc.SpriteFrame,function(e,n){e?(cc.log("\u6ca1\u6709\u627e\u5230\u5f53\u524d\u7684\u5b50\u6e38\u620f\u89c4\u5219\u56fe",t),i.gameRuleSprite.spriteFrame=null):(i.gameRuleSprite.node.opacity=0,i.gameRuleSprite.spriteFrame=n,i.scheduleOnce(function(){i.gameRuleScrollView.scrollToTop(),i.gameRuleSprite.node.opacity=255},.35))})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],LayerMask:[function(e,t){"use strict";cc._RF.push(t,"eafe96mOvNIdK0qPpH+fWRD","LayerMask"),cc.Class({extends:cc.Component,properties:{maskOpacity:{type:cc.Integer,default:150},customColor:{default:new cc.Color},clickToClose:!0,clickToHide:!1},clickCallback:null,start:function(){this.maskWidth=null,this.maskHeight=null},onLoad:function(){var e=this,t=new cc.Node;t.zIndex=-1;var i=t.addComponent(cc.Sprite);i.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.width=this.maskWidth||2e3,t.height=this.maskHeight||2e3,this.customColor?(cc.loader.loadRes("lobby/image_bg_white",cc.SpriteFrame,function(e,t){i&&(i.spriteFrame=t)}),t.color=this.customColor):(cc.loader.loadRes("lobby/image_bg_black",cc.SpriteFrame,function(e,t){i&&(i.spriteFrame=t)}),this.customColor&&(t.color=this.customColor)),t.opacity=this.maskOpacity,this.LayerMaskButton=new cc.Node,this.LayerMaskButton.width=t.width,this.LayerMaskButton.height=t.height,this.LayerMaskButton.addComponent(cc.Button),t.addChild(this.LayerMaskButton),this.clickToClose&&this.LayerMaskButton.on("click",function(){e.clickCallback&&e.clickCallback(),e.node.destroy()}),this.clickToHide&&this.LayerMaskButton.on("click",function(){e.clickCallback&&e.clickCallback(),e.node.active=!1}),this.mask=t,this.node.addChild(t)},setLayerMaskButton:function(e){e&&this.LayerMaskButton&&this.LayerMaskButton.destroy()},setLayerClickCallback:function(e){this.clickCallback=e},update:function(){},onCloseBtn:function(){this.node.destroy()}}),cc._RF.pop()},{}],LayoutActivity:[function(e,t){"use strict";cc._RF.push(t,"c4697OXur5KmJKWN6nbbyCQ","LayoutActivity");var i=e("VideoManager"),n=e("EventEmiter").GlobalEvent;cc.Class({extends:cc.Component,properties:{rollViewleft:cc.Node,rollViewRight:cc.Node,rollContentLeft:cc.Node,Demoleft:cc.Node,rollContentRight:cc.Node,DemoRight:cc.Node,annimetions:cc.Node,MyName:cc.Label,MyNumbers:cc.Label,MyRanking:cc.Label,MyAvatar:cc.Node,ownNode:cc.Node},onLoad:function(){this.currentContent=0,this.RightBtnData=!1,this.RoomListManager=new(e("RankManager")),this.requestRight()},start:function(){},onToggleContainerClick:function(e){switch(e.node.name){case"toggle1":this.btnLeftClick(0);break;case"toggle2":this.btnLeftClick(1);break;case"toggle3":this.btnLeftClick(2);break;case"toggle4":this.btnLeftClick(3)}},requestRight:function(){var e=this;this.RoomListManager.requestRankingInformation(function(t){e.RightBtnData=t,e.initRight(t)},this.currentContent,{})},initRight:function(e){var t=this;null==e.list&&(e.list=e);var i=e.list;this.MyName.string=decodeURI(e.my.name),-1==e.my.giftCard&&(e.my.giftCard=0),-1==e.my.rank&&(e.my.giftCard="0"),null==e.my.giftCard&&(e.my.giftCard=e.my.score),this.MyNumbers.string=e.my.giftCard,this.MyRanking.string=e.my.rank+1;var n=function(e){this.MyAvatar&&cc.isValid(this.MyAvatar)&&(this.MyAvatar.getComponent(cc.Sprite).spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(e.my.headURL,e.my.userID,n,null),this.ownNode.active=!0,this.addVedioTouch(this.ownNode,e.my.userID);for(var o=0;o<i.length;o++){var a,r=i[o],s=cc.instantiate(this.DemoRight);if(0==o&&(s.getComponent(cc.Sprite).SpriteFrame=""),0<=o&&o<=2)switch(cc.find("ranking",s).getComponent(cc.Label).string="",o){case 0:cc.find("ranking",s).getChildByName("ranking1").active=!0;break;case 1:cc.find("ranking",s).getChildByName("ranking2").active=!0;break;case 2:cc.find("ranking",s).getChildByName("ranking3").active=!0}if(!r)return;(function(){null==r.giftCard&&(r.giftCard=r.score),(a=decodeURI(r.name)).length>8?cc.find("name",s).getComponent(cc.Label).string=a.substring(0,8)+"..":cc.find("name",s).getComponent(cc.Label).string=a,cc.find("numbers",s).getComponent(cc.Label).string=r.giftCard,cc.find("ranking",s).getComponent(cc.Label).string=o+1;var e=cc.find("avatar/head",s),i=function(t){e&&cc.isValid(e)&&(e.getComponent(cc.Sprite).spriteFrame=t)}.bind(t);AvatarManager.requestHeadRes(r.headURL,r.userID,i,null)})(),s.active=!0,s.parent=this.rollContentRight,this.addVedioTouch(s,r.userID)}},addVedioTouch:function(e,t){var o=function(){i.instance.requestUserVideoList(t,function(e){e.length>0&&(window.tempVedioList=e),n.instance.emit("switch_page_msg","livebroadcast")})}.bind(this);e.on("touchend",o)},btnLeftClick:function(e){this.currentContent=e,this.rollContentRight.children.forEach(function(e){e.destroy()}),this.requestRight()},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{EventEmiter:"EventEmiter",RankManager:"RankManager",VideoManager:"VideoManager"}],LayoutChat:[function(e,t){"use strict";cc._RF.push(t,"a9fee4+P/1M76dWsjU3wMhJ","LayoutChat"),e("EventEmiter").GlobalEvent,cc.Class({extends:e("LobbyBaseLayer"),properties:{ScrollrollChat:cc.ScrollView,rollContentChat:cc.Node,DemoChatL:cc.Node,DemoChatR:cc.Node,edtChat:cc.EditBox,voiceNodePref:cc.Prefab,faceChatNode:cc.Node,faceChatNodeScroll:cc.ScrollView,voiceChatNode:cc.Node},dataArrsLen:0,nLastSendTime:0,onLoad:function(){DataNotify.addListener(this),this.InitWXvoiceconfig(),this.dataArrsLen=0,this.initChatList()},start:function(){},onDisable:function(){DataNotify.removeListener(this)},onLogonNewMsgComing2:function(e){this.onChatMsgComing(e)},onChatMsgComing:function(e){var t=this;if(e){this.addOneChatData(e,!1),this.dataArrsLen=this.dataArrsLen+1;var i=this.ScrollrollChat.getScrollOffset();(0==i.y||i.y>=100*(this.dataArrsLen-7))&&this.scheduleOnce(function(){t.ScrollrollChat.scrollToBottom(0)},0)}},onBtnClick:function(e){switch(e.target._name){case"btnFace":this.onShowFaceClick();break;case"btnSound":this.onShowSoundClick();break;case"btnSend":this.btnSendMsgClick()}},initChatList:function(){var e=this,t=window.G_chatList;this.rollContentChat.removeAllChildren();var i=Object.keys(t).length;for(var n in t){var o=t[n];this.addOneChatData(o,!0)}this.dataArrsLen=i,this.scheduleOnce(function(){e.ScrollrollChat.scrollToBottom(0)},0)},addOneChatData:function(e,t){var i=UserInfoManager.getMyInfo().userID;if(e){var n=null;n=e.userID==i?cc.instantiate(this.DemoChatR):cc.instantiate(this.DemoChatL),cc.find("name",n).getComponent(cc.Label).string=decodeURI(e.name);var o=e.chatContent;if(0==e.tag)if(o.length<10){var a=cc.find("type2",n);a.active=!0,cc.find("txt1",a).getComponent(cc.Label).string=o}else if(o.length>=10&&o.length<15){var r=cc.find("type1",n);r.active=!0;var s=cc.find("txt1",r);s.active=!0,s.getComponent(cc.Label).string=o,s.y=0}else{var c=cc.find("type1",n);c.active=!0;var l=cc.find("txt1",c);l.active=!0,l.getComponent(cc.Label).string=o}else if(1==e.tag){var u=cc.find("faceImg",n);u.active=!0,u&&cc.isValid(u)&&"im"==o.substring(0,2)&&cc.loader.loadRes("Emoticons/"+o,cc.SpriteFrame,function(e,t){null==e&&(u.getComponent(cc.Sprite).spriteFrame=t)}.bind(this))}else if(2==e.tag){var h=cc.find("type2",n);h.active=!0,cc.find("txt1",h).active=!1;var d=cc.find("bg",h);e.userID==i?d.setScale(cc.v2(-1,1.4)):d.setScale(cc.v2(1,1.4));var f=cc.find("spVoice",h);f.name=""+e.chatContent,f.active=!0,t||this.playVoiceH5(e.chatContent,f,null)}var p=cc.find("avatar/head",n),g=function(e){p&&cc.isValid(p)&&(p.getComponent(cc.Sprite).spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(e.headURL,e.userID,g,null),n.active=!0,n.parent=this.rollContentChat;var m=this.rollContentChat.getContentSize();m.height+=n.getContentSize().height,this.rollContentChat.setContentSize(m)}},onShowFaceClick:function(){this.faceChatNode.active=!0},onShowSoundClick:function(){var e=(new Date).getTime();if(e-this.nLastSendTime<4e3)createTips("\u4e0d\u80fd\u9891\u7e41\u53d1\u9001\u804a\u5929\u6d88\u606f");else{this.nLastSendTime=e;var t=cc.instantiate(this.voiceChatNode);t.parent=this.node,t.active=!0}},btnSendMsgClick:function(){var e=this.edtChat.string;if(cc.log("btnSendMsgClick 1"),!(e.length<=0)){cc.log("btnSendMsgClick 2");var t=(new Date).getTime();t-this.nLastSendTime<4e3?createTips("\u4e0d\u80fd\u9891\u7e41\u53d1\u9001\u804a\u5929\u6d88\u606f"):(cc.log("btnSendMsgClick 3"),this.nLastSendTime=t,this.edtChat.string="",LobbySocket.sendChat(0,e,0,0))}},btnPlayVoiceClick:function(e){var t=e.target.name;t&&"0"!=t&&this.playVoiceH5(t,e.target,null)},onTouchNode:function(){this.faceChatNode.active=!1},onTouchImg:function(e,t){var i=(new Date).getTime();i-this.nLastSendTime<4e3?createTips("\u4e0d\u80fd\u9891\u7e41\u53d1\u9001\u804a\u5929\u6d88\u606f"):(this.nLastSendTime=i,this.faceChatNode.active=!1,LobbySocket.sendChat(0,t,1,0))},playVoiceH5:function(e,t,i){var n=t.getComponent(cc.Animation),o=(i=function(){}.bind(this),function(e){n.play(0),wx.playVoice({localId:e}),wx.onVoicePlayEnd({success:function(e){n.stop();var t=e.localId;i&&i(t)}})}.bind(this));wx.downloadVoice({serverId:e,isShowProgressTips:0,success:function(e){var t=e.localId;o&&o(t)}})},InitWXvoiceconfig:function(){var t=(new(e("LobbyLogic"))).getUserID(),i=function(e){var t=t||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);(function(){var e=t,i=(a=e.lib).WordArray,n=a.Hasher,o=[],a=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+o[l],u=20>l?u+(1518500249+(a&r|~a&s)):40>l?u+(1859775393+(a^r^s)):60>l?u+((a&r|a&s|r&s)-1894007588):u+((a^r^s)-899497514),c=s,s=r,r=a<<30|a>>>2,a=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a)})();var i=WechatAppID,n=(new Date).getTime().toString(),o=(1e3*Math.random()).toString(),a="jsapi_ticket="+e.jsapi_ticket+"&noncestr="+o+"&timestamp="+n+"&url="+location.href.split("#")[0],r=t.SHA1(a,{string:!0}).toString();wx.config({debug:!1,appId:i,timestamp:n,nonceStr:o,signature:r,jsApiList:["startRecord","stopRecord","playVoice","uploadVoice","downloadVoice","onVoicePlayEnd","translateVoice","updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(function(){})}.bind(this);ConfigDataManager.getWXjsapi_ticket(t,i)}}),cc._RF.pop()},{EventEmiter:"EventEmiter",LobbyBaseLayer:"LobbyBaseLayer",LobbyLogic:"LobbyLogic"}],LayoutExchange:[function(e,t,i){"use strict";cc._RF.push(t,"15264EqLq1F1asYPL63PN0S","LayoutExchange");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=e("Tools"),s=cc._decorator,c=s.ccclass,l=s.property,u=[{numer:1},{numer:50},{numer:200}],h={toggle1:0,toggle2:1,toggle3:2},d=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.annimetion=null,i.ShartNode=null,i.LayoutExchangeNode=null,i.newHandNode=null,i._index=0,i.LobbyLogic=new(e("LobbyLogic")),i}return o(i,t),i.prototype.start=function(){if(r.getCurScreen()){var e=this.ShartNode.getChildByName("topLayout"),t=e.getChildByName("tips_1"),i=e.getChildByName("tips_2"),n=e.getChildByName("tips_3"),o=e.getChildByName("tips_4"),a=this.ShartNode.getChildByName("img_read");t.y-=10,i.y-=20,n.y-=30,o.y-=40,e.y-=20,a.y-=115;var s=this.LayoutExchangeNode.getChildByName("topLayout"),c=this.LayoutExchangeNode.getChildByName("btn_ex_1"),l=this.LayoutExchangeNode.getChildByName("btn_ex_2"),u=this.LayoutExchangeNode.getChildByName("btn_ex_3");s.y-=20,c.y-=80,l.y-=95,u.y-=110}},i.prototype.onToggleContainerClick=function(e){this._index=h[e.node.name],console.log("\u89e6\u53d1\u4e86 ToggleContainer \u4e8b\u4ef6\uff0c\u70b9\u4e86"+e.node.name+"\u7684 Toggle index:"+this._index),0==this._index?(this.ShartNode.active=!0,this.LayoutExchangeNode.active=!1,this.newHandNode.active=!1):1==this._index?(this.ShartNode.active=!1,this.LayoutExchangeNode.active=!0,this.newHandNode.active=!1):2==this._index&&(this.ShartNode.active=!1,this.LayoutExchangeNode.active=!1,this.newHandNode.active=!0)},i.prototype.onBtnExchangeClick=function(e,t){var i=Number(t),n=u[i].numer,o=this,a={msg:"\u662f\u5426\u8981\u7528"+n+"\u793c\u5238\u5151\u6362"+200*n+"\u5076One\u8c46",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(e){"\u786e\u5b9a"==e&&o.LobbyLogic.requestExchangeRead(function(){},n)}};globalThis.createMsgBox(a)},i.prototype.onBtnShartClick=function(e,t){switch(t){case"btn_imgShart":globalThis.LobbyCreaterImage();break;case"btn_urlShart":globalThis.LobbyurlShart()}},i.prototype.onBtnCloseClick=function(){var e=this,t=document.getElementById("lobbyQRCode");t&&t.remove(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([l(cc.Node)],i.prototype,"annimetion",void 0),a([l(cc.Node)],i.prototype,"ShartNode",void 0),a([l(cc.Node)],i.prototype,"LayoutExchangeNode",void 0),a([l(cc.Node)],i.prototype,"newHandNode",void 0),a([c],i)}(cc.Component);i.default=d,cc._RF.pop()},{LobbyLogic:"LobbyLogic",Tools:"Tools"}],LayoutGoldArena:[function(e,t,i){"use strict";cc._RF.push(t,"468513i6apH5Zshut9K0hVm","LayoutGoldArena");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=e("../ui/SpriteArray"),s=cc._decorator,c=s.ccclass,l=s.property,u=[{people:2,roomids:[7,8,9,10,11]},{people:3,roomids:[12,13,14,15,16]},{people:4,roomids:[2,3,4,5,6]}],h={toggle1:0,toggle2:1,toggle3:2,toggle4:3},d=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.arenas=null,i.annimetion=null,i.LayoutGoldArenaNode=null,i.newHandNode=null,i._index=0,i.LobbyLogic=new(e("LobbyLogic")),i}return o(i,t),i.prototype.start=function(){},i.prototype.onToggleContainerClick=function(e){var t=this;this._index=h[e.node.name],console.log("\u89e6\u53d1\u4e86 ToggleContainer \u4e8b\u4ef6\uff0c\u70b9\u4e86"+e.node.name+"\u7684 Toggle index:"+this._index),3==this._index?(this.LayoutGoldArenaNode.active=!1,this.newHandNode.active=!0):(this.LayoutGoldArenaNode.active=!0,this.newHandNode.active=!1,this.arenas.children.forEach(function(e){e.getChildByName("Background").getComponent(r.default).index=t._index}))},i.prototype.onBtnJoinRoomClick=function(e,t){var i=this;this.LobbyLogic.requestLoaderCheckLogon(function(){var e=Number(t),n=u[i._index].roomids[e];0==n&&(n=Math.floor(5*Math.random()+2)),console.log("\u91d1\u5e01\u573a \u8bf7\u6c42\u52a0\u5165\u623f\u95f4 pepole:"+u[i._index].people+" roomID:"+n),i.LobbyLogic.enterGame(n)})},i.prototype.onBtnCloseClick=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([l(cc.Node)],i.prototype,"arenas",void 0),a([l(cc.Node)],i.prototype,"annimetion",void 0),a([l(cc.Node)],i.prototype,"LayoutGoldArenaNode",void 0),a([l(cc.Node)],i.prototype,"newHandNode",void 0),a([c],i)}(cc.Component);i.default=d,cc._RF.pop()},{"../ui/SpriteArray":"SpriteArray",LobbyLogic:"LobbyLogic"}],LayoutHallVideo:[function(e,t){"use strict";cc._RF.push(t,"8d3bbP5JqdDv6VSqgJMiIWF","LayoutHallVideo");var i=e("VideoManager"),n=e("EventEmiter").GlobalEvent,o="Button_Me";cc.Class({extends:e("LayoutVideo"),properties:{mask:cc.Node,btnBack:cc.Node,LayOutContent:cc.Node,BottomLayOutContent:cc.Node,topNodePrefab:cc.Prefab,bottomNodePrefab:cc.Prefab,userviewPrefab:cc.Prefab},onLoad:function(){n.instance.on("click_user_video",this.onEventClickUserVideo,this)},onDestroy:function(){this.close(),n.instance.off("click_user_video",this.onEventClickUserVideo,this)},start:function(){var e=this;if(window.vedioFileId=null,window.personVedio&&window.personVedio.list)this.initVideo(window.personVedio.startIdx,window.personVedio.list,!1),window.personVedio={},this.btnBack.active=!0,o="Button_Me";else if(window.tempVedioList)this.initVideo(0,window.tempVedioList,!0),this.btnBack.active=!1,window.tempVedioList=null;else{var t=i.instance.getVideoList();t.length>0?(this.initVideo(0,t,!0),this.btnBack.active=!1):i.instance.refreshVideo(function(t){e.initVideo(0,t,!0),e.btnBack.active=!1})}var n=cc.instantiate(this.bottomNodePrefab);n.zIndex=100,this.node.addChild(n),n.getComponent("LobbyBottomPanel").setParentNodeProxy(this,"livebroadcast")},showPersonVedios:function(e,t){this.initVideo(e,t,!1),this.btnBack.active=!0,o="Button_Person"},onEventClickUserVideo:function(e){console.log("onEventClickUserVideo =",e);var t=cc.instantiate(this.userviewPrefab);t.name="userVideoCenter",this.node.addChild(t),t.getComponent("personVideoView").init(e,this),this.userVideoNode=t},doButton_Close:function(){this.node&&("Button_Me"==o?n.instance.emit("switch_page_msg","Button_Me"):this.userVideoNode&&(this.userVideoNode.active=!0))}}),cc._RF.pop()},{EventEmiter:"EventEmiter",LayoutVideo:"LayoutVideo",VideoManager:"VideoManager"}],LayoutLobby:[function(e,t){"use strict";cc._RF.push(t,"ae17cswHMZKGJIciDVyLtaz","LayoutLobby"),cc.Class({extends:e("BaseLayer"),properties:{PeoplecountLabel:cc.Node},onLoad:function(){this._super(),this.callback=null,this.onLogonGamePeoplecountChange(UserInfoManager.getMyInfo().peopleCount)},onEnable:function(){DataNotify.addListener(this)},onDisable:function(){DataNotify.removeListener(this)},init:function(e){this.callback=e},onLogonGamePeoplecountChange:function(e){this.PeoplecountLabel&&(this.PeoplecountLabel.getComponent(cc.Label).string=e+"\u4eba\u5728\u73a9")},onButtonClick:function(e,t){this.callback&&this.callback(t)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],LayoutMyHome:[function(e,t,i){"use strict";cc._RF.push(t,"2dce0Udla5Hb7/QuvjJ/RXO","LayoutMyHome");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.annimetion=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.init()},t.prototype.init=function(){},t.prototype.onToggleContainerClick=function(e){e.node.name},t.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([c(cc.Node)],t.prototype,"annimetion",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],LayoutNotice:[function(e,t,i){"use strict";cc._RF.push(t,"38408uVkGxCk7HzbixiuPZe","LayoutNotice");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnSFS=new Array,t.NoticeNode=null,t.annimetion=null,t.HaveNode=null,t.statementNode=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onToggleContainerClick=function(e){switch(e.node.name){case"toggle1":this.doButton_Notice();break;case"toggle2":this.doButton_statement();break;case"toggle3":this.doButton_have()}},t.prototype.doButton_Notice=function(){this.NoticeNode.active=!0,this.HaveNode.active=!1,this.statementNode.active=!1},t.prototype.doButton_have=function(){this.NoticeNode.active=!1,this.HaveNode.active=!0,this.statementNode.active=!1},t.prototype.doButton_statement=function(){this.NoticeNode.active=!1,this.HaveNode.active=!1,this.statementNode.active=!0},t.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([c([cc.SpriteFrame])],t.prototype,"btnSFS",void 0),a([c(cc.Node)],t.prototype,"NoticeNode",void 0),a([c(cc.Node)],t.prototype,"annimetion",void 0),a([c(cc.Node)],t.prototype,"HaveNode",void 0),a([c(cc.Node)],t.prototype,"statementNode",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],LayoutShop:[function(e,t,i){"use strict";cc._RF.push(t,"415eb7W7eVIypFE/wd6uNAd","LayoutShop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../../framework/PoolMgr"),u=e("VideoManager"),h=e("EventEmiter").GlobalEvent,d=(e("Tools"),{toggle1:0,toggle2:1,toggle3:2,toggle4:3,toggle5:4}),f=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickBtn=null,e.costLabel=null,e.stockLabel=null,e.iconSp=null,e._goodsID=0,e._costNum=0,e._stockNum=100,e._maxBuyNum=0,e.callBack=null,e}return o(i,t),i.prototype.init=function(e,t,i){var n=this;this.callBack=i,this.node.getChildByName("img_nort").active=!1,this.node.getChildByName("icon_mask").active=!0;var o=this.node.getChildByName("num_bg");o.active=!0,o.getChildByName("num").active=!0;var a=o.getChildByName("img_giftcard");a.active=!0;var r=o.getChildByName("num_not");r.active=!1;var s=this.node.getChildByName("img_surplus");s.active=!0,this.node.getChildByName("btn").active=!0,this.clickBtn=this.node.getChildByName("btn").getComponent(cc.Button),this.clickBtn.interactable=!0;var c=this.node.getChildByName("img_title_1"),l=this.node.getChildByName("img_title_2");if(c.active=!1,l.active=!1,2==e.bargain_goods?c.active=!0:3==e.bargain_goods&&(l.active=!0),e.original_cost>0){r.active=!0;var d=e.original_cost.toFixed(1);r.getComponent(cc.Label).string="\xa5"+d}this.costLabel=this.node.getChildByName("num_bg").getChildByName("num").getComponent(cc.Label),this.iconSp=this.node.getChildByName("icon_mask").getChildByName("img").getComponent(cc.Sprite),this.node.getChildByName("imgsw").active=0==e.buyNum,this.clickBtn.interactable=0!=e.buyNum,this.stockLabel=s.getChildByName("txt").getComponent(cc.Label),this._goodsID=e.goodsID,this._stockNum=e.buyNum,this._costNum=e.consumeNum,this._maxBuyNum=e.countGoodsNum,this.costLabel._forceUpdateRenderData(!0),this.costLabel.string=e.consumeNum+"",this.costLabel._forceUpdateRenderData(!0),this.stockLabel.string=this._stockNum+" / "+this._maxBuyNum,a.x=this.costLabel.node.width+this.costLabel.node.x+5;var f="https://"+globalThis.NetConfig.getPHP_IP()+e.goods_img;cc.loader.load({url:f,type:"png"},function(e,t){if(e)console.error("load remote spriteframe res failed url:"+f,e.message||e);else{var i=new cc.SpriteFrame(t);n.iconSp.node&&cc.isValid(n.iconSp.node)&&(n.iconSp.spriteFrame=i)}}),this.clickBtn.node.on("click",this.But_ExchangeClick,this);var p=function(){e.fileID?u.instance.requestVedioByFileId(e.fileID,function(e){e.length>0&&(window.tempVedioList=e),h.instance.emit("switch_page_msg","livebroadcast")}):h.instance.emit("switch_page_msg","livebroadcast")}.bind(this);this.iconSp.node.on("touchend",p)},i.prototype.But_ExchangeClick=function(){var t=this,i=new(e("LobbyLogic"));if(""!=i.getPhone())if(""!=i.getGoodsAddress())if(this._stockNum<=0)globalThis.createTips("\u8be5\u7269\u54c1\u5df2\u552e\u7f44\u6362");else if(i.getWalletGiftCard()<this._costNum)globalThis.createTips("\u60a8\u62e5\u6709\u7684\u793c\u5238\u4e0d\u8db3\uff0c\u8bf7\u7ee7\u7eed\u52aa\u529b");else{var n=i.getTransferNum(),o=i.getRealName(),a=i.getIDCard();if(""==o&&""==a&&n<=0){var r=this,s={btn1:"\u8ba4\u8bc1",btn2:"\u53d6\u6d88",callbackFun:function(e){"\u8ba4\u8bc1"==e&&r.callBack&&r.callBack()}};globalThis.createPersonRealNameMsgBox(s)}else if(n<=0)globalThis.createTips("\u5f53\u6708\u5151\u6362\u6b21\u6570\u5df2\u7528\u5b8c,\u8bf7\u6765\u6708\u5151\u6362!");else{var c=this,l={msg:"\u662f\u5426\u786e\u8ba4\u5151\u6362\uff1f",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(i){"\u786e\u5b9a"==i&&globalThis.RankManager.requestpurchaseInfo(c._goodsID,function(i){c._stockNum=i.buyNum||0;var n=new(e("DataNotify"));t.stockLabel.string=c._stockNum+" / "+c._maxBuyNum,n.onTransfernumChanged(Number(i.userBuyNum))})}};globalThis.createMsgBox(l)}}else globalThis.createTips("\u8bf7\u5230\u201c\u6211\u7684\u201d\u754c\u9762\u586b\u5145\u5b8c\u5584\u8be6\u7ec6\u7684\u90ae\u653f\u5730\u5740");else globalThis.createTips("\u8bf7\u5230\u201c\u6211\u7684\u201d\u754c\u9762\u586b\u5145\u7535\u8bdd\u53f7\u7801\u4fe1\u606f")},i.prototype.NoBut_ExchangeClick=function(){globalThis.createTips("\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3")},i.prototype.But_ForSaleClick=function(){globalThis.createTips("\u6b63\u5728\u51c6\u5907\u5546\u54c1")},a([c(cc.Button)],i.prototype,"clickBtn",void 0),a([c(cc.Label)],i.prototype,"costLabel",void 0),a([c(cc.Label)],i.prototype,"stockLabel",void 0),a([c(cc.Sprite)],i.prototype,"iconSp",void 0),i}(cc.Component),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listNode=new Array,t.LayoutShopNode=null,t.newHandNode=null,t.ExChangeNode=null,t.ExChangelistNode=null,t.ExChangeItem=null,t.annimetion=null,t.ExchangeList=new Array,t.callBack=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.initcallBack=function(e){this.callBack=e,this._refreshGoodsList(1)},t.prototype.onToggleContainerbtn=function(e){var t=d[e.node.name];console.log("\u89e6\u53d1\u4e86 ToggleContainer \u4e8b\u4ef6\uff0c\u70b9\u4e86"+e.node.name),4==t?(this.LayoutShopNode.active=!1,this.newHandNode.active=!0,this.ExChangeNode.active=!1):3==t?(this.LayoutShopNode.active=!1,this.newHandNode.active=!1,this.ExChangeNode.active=!0,this.ExChangeNode.getChildByName("detailsNode").active=!1,this._refreshExchangeList()):(this.LayoutShopNode.active=!0,this.newHandNode.active=!1,this.ExChangeNode.active=!1,this._refreshGoodsList(t+1))},t.prototype._refreshGoodsList=function(e){var t=this;this.recyle(),globalThis.RankManager.requestProductlistInfo(function(e){for(var i=0;i<e.length;i++){var n=e[i],o=t.listNode[i];if(null!=o){o.active=!0;var a=o.getComponent(f);null==a&&(a=o.addComponent(f)),a.init(n,i,t.callBack)}}},e)},t.prototype._refreshExchangeList=function(){var e=this;this.deleterecyle();var t=this;this.ExchangeList=[],globalThis.RankManager.requestExchangeList(function(i){var n=t.ExChangeNode.getChildByName("exchangeScrollView"),o=t.ExChangeNode.getChildByName("Noexchange");n.active=0!=i.length,o.active=0==i.length;for(var a=0;a<i.length;a++){var r=i[a];e.ExchangeList[a]=i[a];var s=l.PoolMgr.instance.getNode(t.ExChangeItem,t.ExChangelistNode);t._initItemUI(s,r,a)}},1)},t.prototype._initItemUI=function(e,t,i){var n=new Date(t.create_time),o=n.getFullYear()+"."+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"."+(n.getDate()<10?"0"+n.getDate():n.getDate())+"   "+(n.getHours()<10?"0"+n.getHours():n.getHours())+":"+(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":"+(n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds());e.getChildByName("buyTIps").getComponent(cc.Label).string=""+t.content,e.getChildByName("TIps").getComponent(cc.Label).string=""+t.goodsStatus,e.getChildByName("time").getComponent(cc.Label).string=o;var a=e.getChildByName("btn").getComponent(cc.Button),r=new cc.Component.EventHandler;r.target=this.node,r.component="LayoutShop",r.handler="onActionBtnClick",r.customEventData=String(i),a.clickEvents=[],a.clickEvents.push(r)},t.prototype.onActionBtnClick=function(e,t){this.ExChangeNode.getChildByName("exchangeScrollView").active=!1;var i=this.ExChangeNode.getChildByName("detailsNode");i.active=!0;var n=Number(t),o=this.ExchangeList[n];if(o){var a=new Date(o.create_time),r=a.getFullYear(),s=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,c=a.getDate()<10?"0"+a.getDate():a.getDate();i.getChildByName("TIps_2").getComponent(cc.Label).string="\u2460 \u60a8\u4e8e"+r+"\u5e74"+s+"\u6708"+c+"\u65e5\u5728\u201c\u5076one\u5546\u57ce\u201d",i.getChildByName("TIps_3").getComponent(cc.Label).string=" "+o.content+"\u3002",i.getChildByName("TIps_8").getComponent(cc.Label).string=r+"."+s+"."+c}},t.prototype.onExChangeCloseClick=function(){this.ExChangeNode.getChildByName("exchangeScrollView").active=!0,this.ExChangeNode.getChildByName("Noexchange").active=!1,this.ExChangeNode.getChildByName("detailsNode").active=!1},t.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},t.prototype.initListItem=function(){},t.prototype.recyle=function(){var e=this;this.scheduleOnce(function(){e.ScrollrollShop.scrollToTop(0)},0),this.listNode.forEach(function(e){e.active=!0,e.getChildByName("img_nort").active=!0,e.getChildByName("icon_mask").active=!1,e.getChildByName("imgsw").active=!1;var t=e.getChildByName("num_bg");t.active=!0,e.getChildByName("img_title_1").active=!1,e.getChildByName("img_title_2").active=!1,t.getChildByName("num").active=!1,t.getChildByName("img_giftcard").active=!1,t.getChildByName("num_not").active=!1,e.getChildByName("img_surplus").active=!1,e.getChildByName("btn").getComponent(cc.Button).interactable=!1})},t.prototype.deleterecyle=function(){for(var e=0,t=this.ExChangelistNode.children;e<t.length;e++){var i=t[e];l.PoolMgr.instance.putNode(i)}this.ExChangelistNode.removeAllChildren()},a([c(cc.ScrollView)],t.prototype,"ScrollrollShop",void 0),a([c([cc.Node])],t.prototype,"listNode",void 0),a([c(cc.Node)],t.prototype,"LayoutShopNode",void 0),a([c(cc.Node)],t.prototype,"newHandNode",void 0),a([c(cc.Node)],t.prototype,"ExChangeNode",void 0),a([c(cc.Node)],t.prototype,"ExChangelistNode",void 0),a([c(cc.Node)],t.prototype,"ExChangeItem",void 0),a([c(cc.Node)],t.prototype,"annimetion",void 0),a([s],t)}(cc.Component);i.default=p,cc._RF.pop()},{"../../framework/PoolMgr":"PoolMgr",DataNotify:"DataNotify",EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic",Tools:"Tools",VideoManager:"VideoManager"}],LayoutUserVideo:[function(e,t){"use strict";cc._RF.push(t,"c58b6DGKG5IwrrtE4L+vISz","LayoutUserVideo"),cc.Class({extends:e("LayoutVideo"),properties:{mask:cc.Node,annimetions:cc.Node},onLoad:function(){},onDestroy:function(){this.close()},init:function(e,t){this.initVideo(e,t)},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85),this.doButton_GotoBack("Button_Me"))},doButton_GotoBack:function(e){switch(e){case"Button_Me":layerNameurl="prefab/lobby/LayoutPersonalInformation",cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"btn_Notice":layerNameurl="prefab/lobby/LayoutNotice",cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"livebroadcast":layerNameurl="prefab/lobby/LayoutVideo",MYAudioEngine.setMusicStatus(!1),MYAudioEngine.pauseMusic(),cc.sys.localStorage.setItem(G_LIVE_BROADCAST,0);break;case"btn_Action":layerNameurl="prefab/lobby/LayoutActivity",cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"LayoutLobby":LOOBBY_STATIC=!0,layerNameurl="prefab/lobby/LayoutLobby",cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1)}console.log("tag====>",e),cc.resources.load("prefab/lobby/LayoutHall",cc.Prefab,function(t,i){if(t)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t);else{var n=cc.instantiate(i);n.name="lobby",n.parent=window.LobbyCanvas.node,cc.resources.load(layerNameurl,cc.Prefab,function(t,i){if(t)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t);else{var o=cc.instantiate(i);o.name=e,o.parent=n.getComponent("LobbyScene").BottomLayOutContent,"Button_Me"==e&&o.getComponent("PersonalInformation").init(1)}})}})}}),cc._RF.pop()},{LayoutVideo:"LayoutVideo"}],LayoutVideo:[function(e,t){"use strict";cc._RF.push(t,"88fdfycC+BKnbsPfn8m8pan","LayoutVideo");var i=e("VideoManager"),n=e("EventEmiter").GlobalEvent;cc.Class({extends:cc.Component,properties:{pageView:cc.Node,itemPrefab:cc.Prefab,touchNode:cc.Node,curVideoData:[]},onLoad:function(){},close:function(){window.LobbyVideo=null,console.warn("\u9000\u51fa\u70b9\u64ad..."),i.instance.requestVideoState(0,function(){})},initVideo:function(e,t,n){var o=this;this.curVideoData=[],this.m_data=t,this.pageIndex=e,window.LobbyVideo=this,console.warn("\u8fdb\u5165\u70b9\u64ad...",t.length),i.instance.requestVideoState(1,function(){}),cc.director.setClearColor(new cc.Color(0,0,0,0));var a=this;this.isMoveing=!1,this.touchNode.on(cc.Node.EventType.TOUCH_START,function(e){a.beginPos=e.getLocation()}),this.touchNode.on(cc.Node.EventType.TOUCH_MOVE,function(){}),this.touchNode.on(cc.Node.EventType.TOUCH_END,function(e){a.endPos=e.getLocation();var t=a.beginPos.x-a.endPos.x,i=a.beginPos.y-a.endPos.y;if(Math.abs(t)<=20||Math.abs(i)<=20){var r="page"+o.pageIndex;console.log("\u70b9\u51fb\u4e86",r);for(var s=0;s<o.m_list.length;s++){var c=o.m_list[s],l=c.getComponent("CiveVideoLayer"),u=c.convertToNodeSpaceAR(cc.v2(a.endPos));if(l.starNode.getBoundingBox().contains(u)){if(c.name==r){n&&l.onBtnStar();break}}else if(l.headNode.getBoundingBox().contains(u)){if(c.name==r){n&&a.gotoUserVideo(l);break}}else if(l.shareBtn.getBoundingBox().contains(u)){if(c.name==r){a.shareVedioToFriend();break}}else if(c.name==r){l.onBtnPlay();break}}}else Math.abs(t)>Math.abs(i)?t>0?console.log("left"):console.log("right"):i>0?(console.log("down"),a.switchVideoPlay(1)):(console.log("up"),a.switchVideoPlay(2))}),this.m_list=[];var r=[];r.push(this.m_data.length-1),r.push(this.pageIndex),r.push(this.pageIndex+1),this.initVideoList(r)},gotoUserVideo:function(e){console.log("\u8df3\u8f6c\u7528\u6237\u89c6\u9891",e),n.instance.emit("click_user_video",e.videoData)},initVideoList:function(e){for(var t=0;t<this.m_list.length;t++)this.m_list[t].destroy();this.m_list=[];for(var i=[1334,0,-1334],n=0;n<e.length;n++){var o=this.m_data[e[n]];if(o){var a=cc.instantiate(this.itemPrefab);a.name="page"+e[n],a.parent=this.pageView,a.position=cc.v2(0,i[n]),a.getComponent("CiveVideoLayer").init(e[n],o),this.m_list.push(a),0==e[n]&&(this.curVideoData=o)}}this.test(),this.setShareVedioToFriendData(),this.initShareVedioToFriend()},removeVideoToList:function(e){console.log("\u5f53\u524d\u5220\u9664\u89c6\u9891\u4f4d\u7f6e\uff1a",e);for(var t=0;t<this.m_list.length;t++){var i=this.m_list[t];if(t==e){this.m_list.splice(t,1),i.destroy();break}}this.adjustVideoPos()},addVideoToList:function(e,t,i){console.log("\u5f53\u524d\u6dfb\u52a0\u89c6\u9891\u4f4d\u7f6e\uff1a",i);var n=cc.instantiate(this.itemPrefab);n.name="page"+t,n.parent=this.pageView,n.position=cc.v2(0,i),n.getComponent("CiveVideoLayer").init(t,this.m_data[t]),1==e?this.m_list.unshift(n):this.m_list.push(n)},adjustVideoPos:function(){for(var e=[1334,0,-1334],t=0;t<this.m_list.length;t++)this.m_list[t].y=e[t];this.isMoveing=!1,this.test()},switchVideoPlay:function(e){var t=this;if(!this.isMoveing){this.isMoveing=!0;for(var i=0;i<this.m_list.length;i++)this.m_list[i].getComponent("CiveVideoLayer").stopPlay();if(2===e){this.pageIndex++,this.pageIndex>this.m_data.length-1&&(this.pageIndex=0);var n=this.pageIndex+1;n>this.m_data.length-1&&(n=0),console.log("\u4e0b\u4e00\u9875\u6570\uff1a",this.pageIndex,n),this.addVideoToList(2,n,this.m_list[this.m_list.length-1].y-1334);for(var o=function(e){var i=t.m_list[e];i.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,i.y+1334)),cc.callFunc(function(){t.curVideoData=i,t.setShareVedioToFriendData(),e==t.m_list.length-1&&t.removeVideoToList(0)})))},a=0;a<this.m_list.length;a++)o(a)}else if(1===e){this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.m_data.length-1);var r=this.pageIndex-1;r<0&&(r=this.m_data.length-1),console.log("\u4e0b\u4e00\u9875\u6570\uff1a",this.pageIndex,r),this.addVideoToList(1,r,this.m_list[0].y+1334);for(var s=function(e){var i=t.m_list[e];i.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,i.y-1334)),cc.callFunc(function(){t.curVideoData=i,t.setShareVedioToFriendData(),e==t.m_list.length-1&&t.removeVideoToList(t.m_list.length-1)})))},c=0;c<this.m_list.length;c++)s(c)}}},test:function(){for(var e=0;e<this.m_list.length;e++){var t=this.m_list[e];console.log("\u9875\u9762\u4f4d\u7f6e\uff1a",e,t.name,t.y)}},shareVedioToFriend:function(){globalThis.LobbyurlShart()},setShareVedioToFriendData:function(){this.share_sTitle="\u5076ONE\u9189\u7f8e\u57ce",this.curVideoData&&this.curVideoData.upLoadName&&(this.share_sTitle=this.curVideoData.upLoadName),this.share_SDescTitle="\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u6253\u9020\u5bb6\u4e61\u6e38\u620f\u77ed\u89c6\u9891\u76f4\u64ad\u5e73\u53f0\uff0c\u4e3a\u5bb6\u4e61\u7684\u597d\u4ea7\u54c1\u63d0\u4f9b\u76f4\u9500\u6e20\u9053\uff0c\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01",this.curVideoData&&this.curVideoData.desc&&(this.share_SDescTitle=this.curVideoData.desc),this.share_sImg=wxShareAdvIMG,this.curVideoData&&this.curVideoData.CoverUrl&&(this.share_sImg=this.curVideoData.CoverUrl),this.share_sWxShareURL=wxShareURL,this.curVideoData&&this.curVideoData.fileID&&(this.share_sWxShareURL=wxShareURL+"?fileID="+this.curVideoData.fileID)},initShareVedioToFriend:function(){var t=this,i=!1,n=(new(e("LobbyLogic"))).getUserID();123363!=n&&124624!=n||(i=!0);var o=function(e){var n=n||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);(function(){var e=n,t=(a=e.lib).WordArray,i=a.Hasher,o=[],a=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+o[l],u=20>l?u+(1518500249+(a&r|~a&s)):40>l?u+(1859775393+(a^r^s)):60>l?u+((a&r|a&s|r&s)-1894007588):u+((a^r^s)-899497514),c=s,s=r,r=a<<30|a>>>2,a=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)})();var o=WechatAppID,a=(new Date).getTime().toString(),r=(1e3*Math.random()).toString(),s="jsapi_ticket="+e.jsapi_ticket+"&noncestr="+r+"&timestamp="+a+"&url="+location.href.split("#")[0],c=n.SHA1(s,{string:!0}).toString();wx.config({debug:i,appId:o,timestamp:a,nonceStr:r,signature:c,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(function(){wx.updateAppMessageShareData({title:t.share_sTitle,desc:t.share_SDescTitle,link:t.share_sWxShareURL,imgUrl:t.share_sImg,success:function(){},cancel:function(){},fail:function(){}}),wx.updateTimelineShareData({title:t.share_sTitle,desc:t.share_SDescTitle,link:t.share_sWxShareURL,imgUrl:t.share_sImg,success:function(){},cancel:function(){},fail:function(){}})})}.bind(this);ConfigDataManager.getWXjsapi_ticket(n,o)}}),cc._RF.pop()},{EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic",VideoManager:"VideoManager"}],LoadingLayer:[function(e,t){"use strict";cc._RF.push(t,"82658423bBAw5v7kU/2AJ9g","LoadingLayer"),cc.Class({extends:e("BaseLayer"),properties:{message:cc.Label,outTime:{default:10,type:cc.Integer},offset:{default:30,type:cc.Integer},otherThing:{default:null,type:cc.Node},loadingTextBgNode:cc.Node},start:function(){},init:function(e,t,i){var n=this;this.message.string=e,this.message._forceUpdateRenderData(!0),this.loadingTextBgNode.width=this.message.node.width+2*this.offset+(this.otherThing?this.otherThing.width:0),t=t||this.outTime,this.scheduleOnce(function(){n.node.parent=null},t),i&&(this.getComponent("LayerMask"),this.getComponent("LayerMask").enabled=!0)},onDestroy:function(){this.node.stopAllActions(),this.unscheduleAllCallbacks()},onDisable:function(){this.node.stopAllActions(),this.unscheduleAllCallbacks()}}),window.loadingLayer=null,window.loadingLayerPrefab=null,window.createLoading=function(e,t,i){var n=cc.director.getScene();if(t=t||G_COMMON_LOADING_TIME,removeLoading(e),loadingLayerPrefab){var o=cc.instantiate(loadingLayerPrefab);o.msg=e,o.zIndex=G_LOADING_ZORDER_TAG,o.name="LoadingLayer",n&&(n.addChild(o),window.loadingLayer=o,o.getComponent("LoadingLayer").init(e,t,i))}else cc.loader.loadRes("prefab/LoadingLayer",function(o,a){var r=cc.instantiate(a);r.msg=e,r.zIndex=G_LOADING_ZORDER_TAG,r.name="LoadingLayer",n&&(n.addChild(r),window.loadingLayer=r,loadingLayerPrefab=a,r.getComponent("LoadingLayer").init(e,t,i))})},window.removeLoading=function(){cc.director.getScene(),loadingLayer&&(loadingLayer.parent=null,loadingLayer=null)},cc._RF.pop()},{BaseLayer:"BaseLayer"}],LoadingPrefab:[function(e,t){"use strict";cc._RF.push(t,"e302dS5AyFPn4FZqxTtkO+b","LoadingPrefab"),cc.Class({extends:e("BaseLayer"),properties:{progressBar:cc.ProgressBar,BG:cc.Sprite},onLoad:function(){},start:function(){},init:function(){this.progressBar.progress=0,this.node.width=this.maskWidth||cc.view.getVisibleSize().width,this.node.height=this.maskHeight||cc.view.getVisibleSize().height}}),window.loadsceneRes=function(e,t){removeLoading(),t()},cc._RF.pop()},{BaseLayer:"BaseLayer"}],LobbyBaseLayer:[function(e,t){"use strict";cc._RF.push(t,"a9f87KWruJEOJeRkUmAHeLM","LobbyBaseLayer"),t.exports=cc.Class({extends:e("BaseLayer"),ctor:function(){},onLoad:function(){this._super()},onDiamondChanged:function(){},onMoneyChanged:function(){},onGiftCardChanged:function(){},onTransfernumChanged:function(){},onLogonGamePeoplecountChange:function(){},onLogonNewMsgComing1:function(){},onLogonNewMsgComing2:function(){},onScoreChanged:function(){},onPointChanged:function(){},onBgChanged:function(){},onMapChanged:function(){},onOpenRoomChanged:function(){},onLobbyLayoutTypeChanged:function(){},onBankMoneyChanged:function(){},onFriendNotifyAdd:function(){},onFriendNotifyDel:function(){},onFriendAdd:function(){},onFriendDel:function(){},onBuyDeskInfoDel:function(){},onBuyDeskInfoUpdate:function(){},onFriendOnlineStatusChange:function(){},onDeskUserSit:function(){},onDeskUserUp:function(){},onFriendRedSpotChange:function(){},onMailRedSpot:function(){},onFriendsGroupAdd:function(){},onFriendsGroupDel:function(){},onFriendsGroupNotifyAdd:function(){},onFriendsGroupNotifyDel:function(){},onFriendsGroupMemberAdd:function(){},onFriendsGroupMemberDel:function(){},onFriendsGroupRoomMsgAdd:function(){},onFriendsGroupRoomMsgDel:function(){},onFriendsGroupRoomMsgUpdate:function(){},onFriendsGroupAccoMsgAdd:function(){},onFriendsGroupAccoMsgDel:function(){},onFriendsGroupNameChange:function(){},onFriendsGroupRedSpotChange:function(){},onFriendsGroupNoticeChange:function(){},onFriendsGroupWechatChange:function(){},onFriendsGroupScoreChange:function(){},onFriendsGroupDeskAdd:function(){},onFriendsGroupDeskChange:function(){},onFriendsGroupDeskDel:function(){},onFriendsGroupVIPDeskAdd:function(){},onFriendsGroupVIPDeskChange:function(){},onFriendsGroupVIPDeskDel:function(){},onFriendsGroupStatusChange:function(){},onFriendsGroupPowerChange:function(){},onFriendsGroupMemberFireCoinChange:function(){},onCurMatchStart:function(){},onCurMatchChange:function(){},onCurMatchFail:function(){},onCurMatchComeSoon:function(){},onCurMatchResult:function(){},showMatchGameDeskInfo:function(){},onDestroy:function(){this._super()},onEnable:function(){DataNotify.addListener(this)},onDisable:function(){DataNotify.removeListener(this)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],LobbyBottomPanel:[function(e,t){"use strict";cc._RF.push(t,"1f9d0sakvFHEJilyRABqpdT","LobbyBottomPanel");var i=e("EventEmiter").GlobalEvent,n=e("SpriteArray").default;cc.Class({extends:e("LobbyBaseLayer"),properties:{ShopItem:cc.Prefab,zhanjiItem:cc.Prefab,animationDesk:[sp.Skeleton],bottomSpriteBtns:[n],bgTop:cc.Node,LayoutChat:cc.Prefab,chatingNode:cc.Node},onEnable:function(){this._super(),DataNotify.addListener(this),i.instance.on("SWITCH_LOBBY_BUTTONS_STATE",this.setBottomButtonStatus,this),i.instance.on("switch_page_msg",this.onSwitchPageMsg,this),this.setBottomButtonStatus(0),window.vedioFileId&&0!=window.vedioFileId&&this.onSwitchPageMsg("livebroadcast")},onDisable:function(){this._super(),DataNotify.removeListener(this),i.instance.off("SWITCH_LOBBY_BUTTONS_STATE",this.setBottomButtonStatus,this),i.instance.off("switch_page_msg",this.onSwitchPageMsg,this)},onLoad:function(){window.LobbyBottom=this,this.curTag=null,this.callback=null,this.defaultMsg={tag:0,tagExt:"fixed",chatContent:"\u5c0f\u5076\uff1a\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u4e3a\u5bb6\u4e61\u4ee3\u8a00"},this.curChatMsg={},this.arrChatMsg=[],this.onPlayChatMsgComing(this.defaultMsg),window.G_bGetChatList||this.requestChatListFromPHP()},onSwitchPageMsg:function(e){console.log("onSwitchPageMsg =",e),this.CreateRoomGameConfig(null,e)},handleAnnimation:function(){},closeAnimation:function(){for(var e=0;e<3;e++)this.animationDesk[e].clearTracks()},onDestroy:function(){this._super(),this.node.stopAllActions()},setBottomButtonStatus:function(e){void 0===e&&(e=0);for(var t=0;t<this.bottomSpriteBtns.length;t++)this.bottomSpriteBtns[t].index=0;e>=0&&e<this.bottomSpriteBtns.length&&(this.bottomSpriteBtns[e].index=1)},setBottomButton_Me:function(){window.backBtnTag=2,this.CreateRoomGameConfig(null,"Button_Me")},CreateRoomGameConfig:function(e,t){var i=this,n="",o=-1;switch(MYAudioEngine.setMusicStatus(!0),MYAudioEngine.resumeMusic(),t){case"Button_Me":n="prefab/lobby/LayoutPersonalInformation",o=4,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"btn_Notice":n="prefab/lobby/LayoutNotice",o=2,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"livebroadcast":n="prefab/lobby/LayoutVideo",o=1,MYAudioEngine.setMusicStatus(!1),MYAudioEngine.pauseMusic(),cc.sys.localStorage.setItem(G_LIVE_BROADCAST,0);break;case"btn_Action":n="prefab/lobby/LayoutActivity",o=3,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);break;case"LayoutLobby":LOOBBY_STATIC=!0,n="prefab/lobby/LayoutLobby",o=0,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1)}if("LayoutLobby"==t&&null==this.callback&&(t="lobby",LOOBBY_STATIC=!0,n="prefab/lobby/LayoutHall",o=0,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1)),"livebroadcast"!=this.curTag||"livebroadcast"!=t)if(""!=n){this.setBottomButtonStatus(o),this.parentNodeProxy&&(this.parentNodeProxy.BottomLayOutContent.children.forEach(function(e){e.destroy()}),this.parentNodeProxy.BottomLayOutContent.removeAllChildren());var a=window.LobbyCanvas.node.getChildByName(t);a&&a.destroy(),"livebroadcast"==this.curTag&&"livebroadcast"!=t?cc.resources.load("prefab/lobby/LayoutHall",cc.Prefab,function(e,o){var a=window.LobbyCanvas.node.getChildByName("livebroadcast");if(a&&a.destroy(),e)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e);else{if("lobby"==t){var r=cc.instantiate(o),s=window.LobbyCanvas.node.getChildByName("livebroadcast");return s&&s.destroy(),r.parent=window.LobbyCanvas.node,r.name=t,void(i.curTag=t)}var c=cc.instantiate(o);c.name="lobby",c.parent=window.LobbyCanvas.node,cc.resources.load(n,cc.Prefab,function(e,n){if(e)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e);else{var o=cc.instantiate(n);if(o.name=t,o.parent=c.getComponent("LobbyScene").BottomLayOutContent,i.curTag=t,"Button_Me"==t){var a=o.getComponent("PersonalInformation");window.backBtnTag?(a.init(window.backBtnTag),window.backBtnTag=null):a.init(0)}}})}}):cc.resources.load(n,cc.Prefab,function(e,n){if(e)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e);else{var o=cc.instantiate(n);if("livebroadcast"==t||"lobby"==t){if("livebroadcast"==t){var a=window.LobbyCanvas.node.getChildByName("lobby");a&&a.destroy()}else if("lobby"==t){var r=window.LobbyCanvas.node.getChildByName("livebroadcast");r&&r.destroy()}o.parent=window.LobbyCanvas.node}else o.parent=i.parentNodeProxy.BottomLayOutContent;if(o.name=t,i.curTag=t,"LayoutLobby"==t&&o.getComponent("LayoutLobby").init(i.callback),"Button_Me"==t){var s=o.getComponent("PersonalInformation");window.backBtnTag?(s.init(window.backBtnTag),window.backBtnTag=null):s.init(0)}}}),this.handleAnnimation()}else createTips("\u656c\u8bf7\u671f\u5f85");else createTips("\u5df2\u5728\u89c6\u9891\u9875")},showChatView:function(){var e=window.LobbyCanvas.node.getChildByName("LayoutChat");e&&e.removeFromParent(),cc.instantiate(this.LayoutChat).parent=window.LobbyCanvas.node},setParentNodeProxy:function(e,t,i){this.parentNodeProxy=e,this.curTag=t,this.callback=i},setParentbgTop:function(){this.bgTop.active=!0},onLogonNewMsgComing1:function(e){this.onPlayChatMsgComing(e)},onPlayChatMsgComing:function(e){if(!e||0==e.tag)if(e.tagExt){if(!this.isShowNotice){this.isShowNotice=!0;var t=this,i=this.defaultMsg;this.arrChatMsg.length>0&&(i=this.arrChatMsg[0],this.arrChatMsg.splice(0,1)),this.curChatMsg=i;var n=this.chatingNode.getChildByName("mask").getChildByName("lbChating");n.getComponent(cc.RichText).string=t.curChatMsg.chatContent,n.x=200,n.runAction(cc.sequence(cc.moveBy(4.6875,-600,0),cc.callFunc(function(){n.x=200,t.isShowNotice=!1,t.onPlayChatMsgComing(t.defaultMsg)})))}}else this.arrChatMsg.push(e)},requestChatListFromPHP:function(){var e={};e.params={userID:UserInfoManager.getMyInfo().userID,typeSort:0},e.url="https://"+G_PHP_IP+"/api/v1/User/userWorldchatInfo",e.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},e.sCallback=function(e){0==e.status?(window.G_bGetChatList=!0,window.G_chatList=e.data):createTips(e.msg)},MyHttpRequest.doRequest(e)}}),cc._RF.pop()},{EventEmiter:"EventEmiter",LobbyBaseLayer:"LobbyBaseLayer",SpriteArray:"SpriteArray"}],LobbyCanvas:[function(e,t){"use strict";cc._RF.push(t,"c3585zCyWhEr5ZwgzxHfE3r","LobbyCanvas");var i,n=(i=e("../LiveBroadcast/CanvasVideo"))&&i.__esModule?i:{default:i},o=e("../LiveBroadcast/GlobelContext");e("EventEmiter").GlobalEvent,e("VideoManager"),cc.Class({extends:cc.Component,properties:{hallNodePrefab:cc.Prefab,userVideoPrefab:cc.Prefab,conNetNodePrefab:cc.Prefab,Image_Bg:cc.Node,livePrefab:cc.Prefab,_liveNode:cc.Node},onLoad:function(){window.LobbyCanvas=this,this.showLiveView({identity:o.IdentityType.ANCHOR})},onDestroy:function(){},resetSize:function(e){var t=cc.Canvas.instance,i=cc.view.getFrameSize(),n=cc.view.getDesignResolutionSize();i.width/i.height>n.width/n.height?(t.fitHeight=!0,t.fitWidth=!1,console.log("\u9002\u914d\u9ad8\u5ea6")):(t.fitHeight=!1,t.fitWidth=!0,console.log("\u9002\u914d\u5bbd\u5ea6")),this.fitScreen(e,n)},fitScreen:function(e,t){var i=e.width/t.width,n=e.height/t.height,o=e.getChildByName("Image_Bg_1"),a=e.height/o.height;o.width*=a,o.height*=a,i>n&&(a=e.width/o.width,o.width*=a,o.height*=a)},showLiveView:function(e){null==this._liveNode&&(this._liveNode=cc.instantiate(this.livePrefab),this._liveNode.parent=this.node),this._liveNode.active=!0,this._liveNode.getComponent(n.default).ShowUI(e)},hideLiveView:function(){null!=this._liveNode&&(this._liveNode.active=!1)}}),cc._RF.pop()},{"../LiveBroadcast/CanvasVideo":"CanvasVideo","../LiveBroadcast/GlobelContext":"GlobelContext",EventEmiter:"EventEmiter",VideoManager:"VideoManager"}],LobbyCreaterImage:[function(e,t){"use strict";cc._RF.push(t,"bd37arJmU5C554apvlnS+Eb","LobbyCreaterImage"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){var t=document.getElementById("lobbyQRCode");t&&t.remove(),cc.log("*********************\u751f\u6210\u56fe\u7247\uff08\u5927\u5385\u5206\u4eab\uff09*********************"),this.LobbyLogic=new(e("LobbyLogic"));var i=this.LobbyLogic.getMyInfo(),n=cc.view.getFrameSize(),o=cc.view.getDesignResolutionSize(),a=n.width/o.width*596,r=n.height/o.height*683,s="https://ouwan.hmzb.top/image/share/play?";s+="gameName=\u5076ONE\u6700\u7f8e\u57ce\uff0c\u4e3a\u5bb6\u4e61\u4ee3\u8a00",s+="&headUrl="+i.headURL;var c="&userID="+i.userID;s+=c,s+="&userName="+i.name,s+="&shareUrl="+wxShareURL+"?state="+c,console.log("GameDesk share image url",s);var l=document.getElementById("Cocos2dGameContainer"),u=document.createElement("img");u.id="lobbyQRCode",u.src=s,u.alt="bigImg",u.width=a,u.height=r,u.style.position="absolute",u.style.top=parseInt(l.style.height.replace(/px/,""))/2-u.height/2+"px",u.style.left=parseInt(l.style.width.replace(/px/,""))/2-u.width/2+"px",l.appendChild(u)},doButton_Close:function(){var e=this,t=document.getElementById("lobbyQRCode");t&&t.remove(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],LobbyLogic:[function(e,t){"use strict";cc._RF.push(t,"2fefcSvgyxN8qszBQRZ+jh1","LobbyLogic"),t.exports=cc.Class({extends:e("LogicBasis"),ctor:function(){this.LoginRoomLogic=new(e("LoginRoomLogic")),this.LobbyRoomLogic=new(e("LobbyRoomLogic")),this.SystemNoticeLogic=new(e("SystemNoticeLogic"))},enterGame:function(e,t,i){cc.log("LobbyLogic.enterGame[roomID = {0}]"+e);var n=RoomListManager.getRoomByRoomID(e);cc.log(JSON.stringify(n)+"roomInfo>>>>>>>>>>>>>>>>>>>>>>>"),this.LoginRoomLogic.enterRoom(n,this.getUserID(),this.getUserToken(),t,i)},requestFriendsGroupList:function(){},getMyFeedback:function(e){this.FeedbackLogic.getMyFeedback(e)},requestSystemNotice:function(e,t,i){this.SystemNoticeLogic.requestSystemNotice(e,t,i)},requestPayPrepayID:function(e,t,i,n){this.SystemNoticeLogic.requestPayPrepayID(e,t,i,n)},requestShopMommodity:function(e){this.SystemNoticeLogic.requestShopMommodity(e)},requestPaijuList:function(e){this.SystemNoticeLogic.requestPaijuList(e)},requestZhanjiList:function(e,t){this.SystemNoticeLogic.requestZhanjiList(e,t)},requestZhanjiDetailsList:function(e,t){this.SystemNoticeLogic.requestZhanjiDetailsList(e,t)},requesSmalltZhanjiDetailsList:function(e,t){this.SystemNoticeLogic.requesSmalltZhanjiDetailsList(e,t)},requestGongGaoMommodity:function(e){this.SystemNoticeLogic.requestGongGaoMommodity(e)},requestShartReward:function(e){this.SystemNoticeLogic.requestShartReward(e)},requestQualifyingCount:function(e){this.LobbyRoomLogic.requestQualifyingCount(e)},requestLoaderCheckLogon:function(e){this.LobbyRoomLogic.requestLoaderCheckLogon(e)},requestExchangeRead:function(e,t){this.LobbyRoomLogic.requestExchangeRead(e,t)},requestCheckPointConfig:function(e){this.LobbyRoomLogic.requestCheckPointConfig(e)},requestRoomRecord:function(e){this.RoomRecordLogic.requestRoomRecord(e)},joinRoom:function(e){this.LobbyRoomLogic.joinRoom(e)},requestGameList:function(e){GameSocket.requestGameList(e)},requestWinRankList:function(e,t){RankManager.requestWinRankList(e,t)},requestRichRankList:function(e,t,i){RankManager.requestRichRankList(e,t,i)},requestMailList:function(e){MailManager.requestIsMailDate(e)},requestAllRoomList:function(e){RoomListManager.requestAllRoomList(e)},requestRoomListByGameID:function(e,t){RoomListManager.requestRoomListByGameID(e,t)},requestUserInfoByUserID:function(e,t){UserInfoManager.requestUserInfoByUserID(e,t)},getMyInfo:function(){return UserInfoManager.getMyInfo()},sendHornMessage:function(e){LobbySocket.requestHorn(e)},requestIsUseSign:function(e,t){SignInfoManager.requestIsUseSign(e,t)},requestIsUseTurntable:function(e,t){SignInfoManager.requestIsUseTurntable(e,t)},requestAgentConfig:function(e){LobbySocket.requestAgentConfig(e)},requestMyResource:function(){setTimeout(function(){LobbySocket.requestMyResource()},200);var e=this.createNetMsg(0,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_USERINFO_FLUSH);this.sendData(e,function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t={};t.jewels=e.popINT(),t.money=e.popLONGLONG(),cc.log(t,"_Resolve_LogonUserInfoFlush")}})},requestLogonUserinfoFlush:function(e,t){LobbySocket.requestLogonUserinfoFlush(e,t)},requestDissmissDesk:function(e){LobbySocket.requestDissmissDesk(e)},requestUserBuyRoomList:function(e){var t={};t.params={api:"lobby",action:"userBuyRoomList",userID:LobbySocket.getMyInfo().userID},t.fCallback=function(){createTips("\u8bf7\u6c42userBuyRoomList\u8d85\u65f6")},t.sCallback=function(t){0==t.status?(cc.log("\u83b7\u53d6\u623f\u95f4\u5217\u8868"),cc.log(t.data),RoomRecordManager.setRoomRecordList(t.data),e&&e(RoomRecordManager.getRoomRecordList())):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestDissmissRoom:function(e){var t={};t.params={api:"lobby",action:"dismissRoom",userID:LobbySocket.getMyInfo().userID,passwd:e},t.fCallback=function(){createTips("\u8bf7\u6c42dismissRoom\u8d85\u65f6")},t.sCallback=function(e){0==e.status||createTips(e.msg)},t.requestDesc="\u89e3\u6563\u623f\u95f4...",MyHttpRequest.doRequest(t)}}),cc._RF.pop()},{LobbyRoomLogic:"LobbyRoomLogic",LogicBasis:"LogicBasis",LoginRoomLogic:"LoginRoomLogic",SystemNoticeLogic:"SystemNoticeLogic"}],LobbyMoneyFieldItem:[function(e,t){"use strict";cc._RF.push(t,"87e6c0VxwFNj6qvOYWvUnZn","LobbyMoneyFieldItem"),cc.Class({extends:cc.Component,properties:{game1:cc.Sprite,game2:cc.Sprite,anim1:sp.Skeleton,anim2:sp.Skeleton,loading1:cc.Sprite,loading2:cc.Sprite,callBack:null},onLoad:function(){this.spriteFrameSession=null,this._onLoadCompleteHandler=null,this.loadComplete=!1,this.playAnim=!0,this.lastPlay=0,this.random=3+3*Math.random(),this.loading1.node.runAction(cc.repeatForever(cc.rotateBy(1,360))),this.loading2.node.runAction(cc.repeatForever(cc.rotateBy(1,360)))},onEnable:function(){this.game1.node.on(cc.Node.EventType.TOUCH_END,this._onClick1,this),this.game2.node.on(cc.Node.EventType.TOUCH_END,this._onClick2,this)},onDisable:function(){this.game1.node.off(cc.Node.EventType.TOUCH_END,this._onClick1,this),this.game2.node.off(cc.Node.EventType.TOUCH_END,this._onClick2,this)},onDestroy:function(){this.callBack=null,this.spriteFrameSession&&(this.spriteFrameSession.dispose(),this.spriteFrameSession=null),this._onLoadCompleteHandler=null},start:function(){},_playAnimation:function(){this.lastPlay=0,this.playAnim?this.anim1.setAnimation(0,"animation"):this.anim2.setAnimation(0,"animation"),this.playAnim=!this.playAnim},_onClick1:function(){this.callBack(this.id1,"playtype")},_onClick2:function(){this.callBack(this.id2,"playtype")},updateData:function(e,t){e||(e=0),t||(t=0),this.id1=e,this.id2=t,this._onLoadCompleteHandler=this.onLoadComplete.bind(this)},onLoadComplete:function(){this.loading1.node.active=!1,this.loading1.node.pauseAllActions(),this.loading2.node.active=!1,this.loading2.node.pauseAllActions(),this.loadComplete=!0,this._onLoadCompleteHandler=null,this.game1.getComponent(cc.Sprite).spriteFrame=this.spriteFrameSession.getTaskContent(0),this.game2.getComponent(cc.Sprite).spriteFrame=this.spriteFrameSession.getTaskContent(1),this._playAnimation()},update:function(e){this.loadComplete&&(this.lastPlay+=e,this.lastPlay>this.random&&(this.random=3+3*Math.random(),this._playAnimation()))}}),cc._RF.pop()},{}],LobbyMoneyFieldList:[function(e,t){"use strict";cc._RF.push(t,"7b316cxGKFLsp7NThbnWmgC","LobbyMoneyFieldList"),cc.Class({extends:cc.Component,properties:{lobbyAnimaton:{default:null,type:cc.Animation},listView:{type:cc.ScrollView,default:null},rankItem:cc.Prefab,callBack:null},onLoad:function(){var e,t,i=Global.Res.GameData;for(var n in i)(t=(e=cc.instantiate(this.rankItem)).getComponent("LobbyMoneyFieldItem")).callBack=this.callBack,this.listView.content.addChild(e),t.updateData(n,0)},onDestroy:function(){this.callBack=null},start:function(){}}),cc._RF.pop()},{}],LobbyPlayTypeItem:[function(e,t){"use strict";cc._RF.push(t,"32023xpzplByKnfmjqc0iIO","LobbyPlayTypeItem"),cc.Class({extends:cc.Component,properties:{texture:[cc.SpriteFrame],bg:cc.Sprite,nameLable:cc.Label,baseZhu:cc.Label,baseZhuStatic:cc.Label,baseMoney:cc.Label,baseMoneyStatic:cc.Node},start:function(){},updateData:function(e,t){this.id=e,this.index=t+1,this.bg.node.getComponent(cc.Sprite).spriteFrame=this.texture[t];var i=Global.Res.RoomData[10*e+t+1];i?(this.baseZhu.node.active=!0,this.baseZhuStatic.node.active=!0,this.baseMoney.node.active=!0,this.baseMoneyStatic.active=!0,this.nameLable.string=i.describe,this.baseZhu.string=i.basepoint,this.baseMoney.string=i.basemoney):(this.nameLable.string=Global.Strings.COMMON[1],this.baseZhu.node.active=!1,this.baseZhuStatic.node.active=!1,this.baseMoney.node.active=!1,this.baseMoneyStatic.active=!1)},onClick:function(){this.id}}),cc._RF.pop()},{}],LobbyPlayTypeList:[function(e,t){"use strict";cc._RF.push(t,"350d5r0SZBAM4IWbb9BYRp9","LobbyPlayTypeList"),cc.Class({extends:cc.Component,properties:{listView:{type:cc.ScrollView,default:null},rankItem:cc.Prefab,itemList:null},onLoad:function(){this.itemList=[]},start:function(){},updateShow:function(e){var t;this.id=e;for(var i=0;i<3;i++)null==(t=this.itemList[i])&&(t=cc.instantiate(this.rankItem),this.itemList[i]=t,this.listView.content.addChild(t)),t.getComponent("LobbyPlayTypeItem").updateData(e,i)}}),cc._RF.pop()},{}],LobbyProtocolId:[function(e,t){"use strict";cc._RF.push(t,"7950bWY/vBJgpenLnW1bkRg","LobbyProtocolId"),window.MSG_MAIN_LOGON_REGISTER=100,window.MSG_ASS_LOGON_REGISTER_NORMAL=1,window.MSG_ASS_LOGON_REGISTER_TENCENT=2,window.MSG_MAIN_LOGON_LOGON=101,window.MSG_ASS_LOGON_LOGON_BY_NAME=1,window.MSG_MAIN_LOGON_DESK=102,window.MSG_ASS_LOGON_BUY_DESK=1,window.MSG_ASS_LOGON_ENTER_DESK=2,window.MSG_MAIN_LOADER_LOGON=500,window.MSG_ASS_LOADER_LOGON=1,window.MSG_ADD_LOADER_LOGOUT=2,window.MSG_MAIN_LOGON_NOTIFY=103,window.MSG_NTF_LOGON_USER_SQUEEZE=1,window.MSG_NTF_LOGON_NOTICE=2,window.MSG_NTF_LOGON_HORN=3,window.MSG_NTF_LOGON_USER_EXIST=4,window.MSG_NTF_LOGON_RESOURCE_CHANGE=5,window.MSG_NTF_LOGON_SUPPORT_INFO=6,window.MSG_NTF_LOGON_USERCOUNT_CHANGE=7,window.MSG_NTF_LOGON_FRIEND_NOTIFY=8,window.MSG_NTF_LOGON_FRIEND_ADDOK=9,window.MSG_NTF_LOGON_FRIEND_DELOK=10,window.MSG_NTF_LOGON_FRIEND_DELNOTIFY=11,window.MSG_NTF_LOGON_FRIEND_LOGINOROUT=12,window.MSG_NTF_LOGON_FRIEND_REDSPOT=13,window.MSG_NTF_LOGON_CLOSE_SERVER=14,window.MSG_NTF_LOGON_EMAIL_REDSPOT=15,window.MSG_NTF_LOGON_GAME_PEOPLECOUNT_CHANGE=20,window.MSG_NTF_LOGON_WORLD_CHAT=21,window.MSG_NTF_LOGON_REWARD_NEW_USER=22,window.MSG_MAIN_LOGON_OTHER=104,window.MSG_ASS_LOGON_OTHER_SEND_HORN=1,window.MSG_ASS_LOGON_OTHER_SEND_GIFT=2,window.MSG_ASS_LOGON_OTHER_SEND_GRADE=3,window.MSG_ASS_LOGON_OTHER_SEND_ROOMOPENED=4,window.MSG_ASS_LOGON_OTHER_USERINFO_FLUSH=5,window.MSG_ASS_LOGON_OTHER_EMAIL_LIST=6,window.MSG_ASS_LOGON_OTHER_EMAIL_INFO=7,window.MSG_ASS_LOGON_OTHER_EMAIL_DELETE=8,window.MSG_ADD_LOGON_OTHER_REQ_SUPPORT=9,window.MSG_ASS_LOGON_OTHER_ROBOT_TAKEMONEY=10,window.MSG_ASS_LOGON_OTHER_REQ_SIMPLE_GRADELIST=11,window.MSG_ASS_LOGON_OTHER_REQ_SIMPLE_GRADEINFO=12,window.MSG_ASS_LOGON_OTHER_REQ_GRADELIST=13,window.MSG_ASS_LOGON_OTHER_REQ_GRADEINFO=14,window.MSG_ASS_LOGON_OTHER_REQ_USERINFO=15,window.MSG_ASS_LOGON_OTHER_REQ_DISSMISS_DESK=16,window.MSG_ASS_LOGON_OTHER_REQ_SAVE_POSITION=17,window.MSG_ASS_LOGON_OTHER_REQ_ENTERTHEGAMEROOM=18,window.MSG_ASS_LOGON_OTHER_JOIN_MATCH_SCENE=19,window.MSG_ASS_LOGON_OTHER_EXIT_MATCH_SCENE=20,window.MSG_ASS_LOGON_OTHER_GET_WORLD_CHAT=26,window.MSG_ASS_LOGON_OTHER_SEND_WORLD_CHAT=27,window.MSG_ASS_LOGON_OTHER_REWARD_NEW_USER=28,window.MSG_ASS_LOGON_OTHER_REQ_ENTER_OR_LEAVE_THE_GAMERO=18,window.MSG_MAIN_LOGON_BANK=105,window.MSG_ASS_LOGON_BANK_SAVE_MONEY=1,window.MSG_ASS_LOGON_BANK_TAKE_MONEY=2,window.MSG_ASS_LOGON_BANK_TRANSFER=3,window.MSG_ASS_LOGON_BANK_SETPASSWD=4,window.MSG_ASS_LOGON_BANK_RESETPASSWD=5,window.MSG_ASS_LOGON_BANK_RECORD=6,window.MSG_ASS_LOGON_BANK_MOENY_FOR_JEWELS=7,window.MSG_MAIN_LOGON_FRIEND=106,window.MSG_ASS_LOGON_FRIEND_LIST=1,window.MSG_ASS_LOGON_FRIEND_ADD=2,window.MSG_ASS_LOGON_FRIEND_ANSWER_ADD=3,window.MSG_ASS_LOGON_FRIEND_DEL=4,window.MSG_ASS_LOGON_FRIEND_REWARD=5,window.MSG_ASS_LOGON_FRIEND_TAKEREWARD=6,window.MSG_ASS_LOGON_FRIEND_SERACH=7,window.MSG_ASS_LOGON_FRIEND_CHANGEBATCH=8,window.MSG_ASS_LOGON_FRIEND_NOTIFYLIST=9,window.MSG_ASS_LOGON_FRIEND_DELNOTIFY=10,window.MSG_ASS_LOGON_FRIEND_INVITEPLAY=11,window.MSG_ASS_LOGON_FRIEND_DEL_REDSPOT=12,window.MSG_ASS_LOGON_FRIEND_ERROR=13,window.MSG_MAIN_LOGON_FRIENDSGROUP=107,window.MSG_ASS_LOGON_FRIENDSGROUP_LIST=1,window.MSG_ASS_LOGON_FRIENDSGROUP_MEMBER=2,window.MSG_ASS_LOGON_FRIENDSGROUP_ALL_NOTIFY_MSG=3,window.MSG_ASS_LOGON_FRIENDSGROUP_ALL_ROOM_MSG=4,window.MSG_ASS_LOGON_FRIENDSGROUP_ALL_ACCO_MSG=5,window.MSG_ASS_LOGON_FRIENDSGROUP_CREATE=6,window.MSG_ASS_LOGON_FRIENDSGROUP_REQ_JOIN=7,window.MSG_ASS_LOGON_FRIENDSGROUP_INVITE=8,window.MSG_ASS_LOGON_FRIENDSGROUP_ANSWER_OPER=9,window.MSG_ASS_LOGON_FRIENDSGROUP_DEL_MEMBER=10,window.MSG_ASS_LOGON_FRIENDSGROUP_QUIT=11,window.MSG_ASS_LOGON_FRIENDSGROUP_DISMISS=12,window.MSG_ASS_LOGON_FRIENDSGROUP_CHANGE_NAME=13,window.MSG_ASS_LOGON_FRIENDSGROUP_DEL_NOTIFY_MSG=14,window.MSG_ASS_LOGON_FRIENDSGROUP_SIMPLE_INFO=15,window.MSG_ASS_LOGON_FRIENDSGROUP_DEL_REDSPOT=16,window.MSG_ASS_LOGON_FRIENDSGROUP_SEND_NOTICE=17,window.MSG_ASS_LOGON_FRIENDSGROUP_QUERY_ACCO=18,window.MSG_ASS_LOGON_FRIENDSGROUP_DESK_LIST_MSG=19,window.MSG_ASS_LOGON_FRIENDSGROUP_DELETE_DESK_INFO=20,window.MSG_ASS_LOGON_FRIENDSGROUP_QUERY_DESK_ACCO=21,window.MSG_ASS_LOGON_FRIENDSGROUP_REQ_TRANSFER=22,window.MSG_ASS_LOGON_FRIENDSGROUP_REQ_AUTH_MEM=23,window.MSG_ASS_LOGON_FRIENDSGROUP_MODIFY_WECHAT=24,window.MSG_ASS_LOGON_FRIENDSGROUP_MODIFY_POWER=25,window.MSG_ASS_LOGON_FRIENDSGROUP_CHANGE_FIRECOIN=26,window.MSG_MAIN_FRIENDSGROUP_NOTIFY=108,window.MSG_NTF_LOGON_FRIENDSGROUP_NOTIFY_MSG=1,window.MSG_NTF_LOGON_FRIENDSGROUP_ROOM_MSG=2,window.MSG_NTF_LOGON_FRIENDSGROUP_ACCO_MSG=3,window.MSG_NTF_LOGON_FRIENDSGROUP_REDSPOT=4,window.MSG_NTF_LOGON_FRIENDSGROUP_MSG_HAVE_CHANGE=5,window.MSG_NTF_LOGON_FRIENDSGROUP_CREATE_FG=6,window.MSG_NTF_LOGON_FRIENDSGROUP_NAME_CHANGE=7,window.MSG_NTF_LOGON_FRIENDSGROUP_PEOPLE_CHANGE=8,window.MSG_NTF_LOGON_FRIENDSGROUP_DISMISS=9,window.MSG_NTF_LOGON_FRIENDSGROUP_NOTICE_CHANGE=10,window.MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_MSG=11,window.MSG_NTF_LOGON_FRIENDSGROUP_DESK_INFO_CHANGE=12,window.MSG_NTF_LOGON_FRIENDSGROUP_STATUS_CHANGE=13,window.MSG_NTF_LOGON_FRIENDSGROUP_WECHAT_CHANGE=14,window.MSG_NTF_LOGON_FRIENDSGROUP_POWER_CHANGE=15,window.MSG_NTF_LOGON_FRIENDSGROUP_NEW_VIPROOM_MSG=16,window.MSG_NTF_LOGON_FRIENDSGROUP_VIPROOM_CHANGE=17,window.MSG_NTF_LOGON_FRIENDSGROUP_FIRECOIN_CHANGE=18,window.MSG_MAIN_MATCH_NOTIFY=109,window.MSG_NTF_LOGON_MATCH_NOTIFY_SIGNUP_CHANGE=1,window.MSG_NTF_LOGON_MATCH_NOTIFY_START_MATCH=2,window.MSG_NTF_LOGON_MATCH_NOTIFY_START_CHANGE_TIME=3,window.MSG_NTF_LOGON_MATCH_NOTIFY_START_CHANGE_FAIL=4,window.MSG_NTF_LOGON_MATCH_NOTIFY_START_MATCH_RIGHTAWAY=5,cc._RF.pop()},{}],LobbyRankItem:[function(e,t){"use strict";cc._RF.push(t,"4fbd9dcc+FGL5cgS6hHUAJX","LobbyRankItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,rankImage:cc.Sprite,rankLabel:cc.Label,headImage:cc.Sprite,recodeLabel:cc.Label,rankImageList:null},updateData:function(e,t,i){this.rankImageList[t]?(this.rankLabel.node.active=!1,this.rankImage.node.active=!0,this.rankImage.spriteFrame=this.rankImageList[t]):(this.rankLabel.node.active=!0,this.rankImage.node.active=!1,this.rankLabel.string=t+1+""),this.nameLabel.string=i.name}}),cc._RF.pop()},{}],LobbyRankList:[function(e,t){"use strict";cc._RF.push(t,"ad438Y9vjlB/oAf2YhD2ObM","LobbyRankList"),cc.Class({extends:cc.Component,properties:{listView:{type:cc.ScrollView,default:null},rankItem:cc.Prefab,noroom:cc.Sprite,rankImageList:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.itemArray=[],this.onClick(null,"1")},start:function(){},onClick:function(e,t){for(var i,n=(void 0).length,o=0;o<n;o++)null==(i=this.itemArray[o])?(i=cc.instantiate(this.rankItem),this.itemArray[o]=i,i.getComponent("LobbyRankItem").rankImageList=this.rankImageList,this.listView.content.addChild(i)):null==i.parent&&this.listView.content.addChild(i),i.getComponent("LobbyRankItem").updateData(t,o,(void 0)[o]);if(0==o)this.noroom.node.active=!0,this.listView.node.active=!1;else{for(this.noroom.node.active=!1,this.listView.node.active=!0,n=this.itemArray.length;o<n;o++)(i=this.itemArray[o]).parent=null;this.listView.scrollToTop(.5)}}}),cc._RF.pop()},{}],LobbyRoomLogic:[function(e,t){"use strict";cc._RF.push(t,"9555cCFVJZJyqTbIXl7Kg6z","LobbyRoomLogic"),cc.Class({extends:e("LogicBasis"),ctor:function(){this.LoginRoomLogic=new(e("LoginRoomLogic"))},buyDesk:function(e,t,i,n){cc.log("buyDesk info:  "),cc.log("gameID = ",e),cc.log("count = ",t),cc.log("jsonStr = ",i);var o=Package.buildWritePack(282);o.writeBegin(MSG_MAIN_LOGON_DESK,MSG_ASS_LOGON_BUY_DESK),o.writeInt(this.getUserID()),o.writeInt(1),o.writeInt(e),o.writeInt(t),o.writeByte(0),o.writeString(i,256),o.writeByte(0),o.writeInt(0),o.writeInt(0);var a=function(e){var t=function(e){var t={};return t.userID=e.readInt(),t.roomID=e.readInt(),t.deskIdx=e.readInt(),t.passwd=e.readString(20),t.passwdLen=e.readInt(),t.jewels=e.readInt(),t.byMasterNotPlay=e.readByte(),window.testModule&&cc.sys.localStorage.setItem("roomNo",t.passwd),t};if(e.bHandleCode===G_HANDLE_CODE_OK){var i=t(e);cc.log("=====================\u521b\u5efa\u623f\u95f4\u6210\u529f\n",i),this.joinRoom(i.passwd),DataNotify.onOpenRoomChanged(),n&&n()}else if(GlobalError.ERROR_CANNOT_BUYDESK_INROOM==e.bHandleCode){var o=t(e),a=cc.director.getScene().getChildByName("Canvas").getChildByName("Hall_Node"),r=null;if(a&&(r=a.getComponent("LobbyScene")),null==r)return void cc.log("LobbyRoomLogic LobbyScene == null ");var s=function(){r.unschedule(s),r&&r.enterGameByRoomID&&(cc.log("LobbyScene.enterGameByRoomID()"),r.enterGameByRoomID(o.roomID))}.bind(this),c=RoomListManager.getRoomNameByRoomID(o.roomID);createLoading(tools.stringFormat("\u60a8\u5df2\u7ecf\u5728{0}\u6e38\u620f\u4e2d",c)),cc.log("\u5df2\u7ecf\u5728\u623f\u95f4\u91cc\u9762"),r.schedule(s,1,!0)}}.bind(this);LobbySocket.send(o,a,"\u8bf7\u6c42\u521b\u5efa\u623f\u95f4...")},getBuyConfig:function(e,t,i,n){var o=GameBuyConfigManager.getGameBuyConfigByGameID(e,t);if(0===o.length){var a={};a.url=NetConfig.getPHPUrl(),a.params={api:"lobby",action:"buyDeskList",gameID:null,userID:UserInfoManager.getMyInfo().userID,gameIDInfo:n},a.sCallback=function(n){if(0===n.status){for(var o=0;o<n.data.length;o++){var a=n.data[o];a.sort(function(e,t){return e.count-t.count}),GameBuyConfigManager.push(a[0].gameID,a)}var r=GameBuyConfigManager.getGameBuyConfigByGameID(e,t);i&&i(r)}else createTips(n.msg),i&&i({})},a.fCallback=function(){cc.log("\u8bf7\u6c42buyDeskList\u8d85\u65f6")},MyHttpRequest.doRequest(a)}else i&&i(o)},joinRoom:function(e,t){var i=MSG_MAIN_LOGON_DESK,n=MSG_ASS_LOGON_ENTER_DESK,o=this.createNetMsg(28,i,n);o.pushINT(this.getUserID()),o.pushINT(6),o.pushNCHAR(e,20);var a=function(e){var i=function(e){var t={};return t.userID=e.popINT(),t.roomID=e.popINT(),t.deskIdx=e.popINT(),t};if(e.bHandleCode===G_HANDLE_CODE_OK){var n=i(e);this.enterGame(n.roomID,n.deskIdx),t&&t()}else if(GlobalError.ERROR_CANNOT_ENTERDESK_INROOM==e.bHandleCode){var o=i(e),a=cc.director.getScene().getChildByName("Canvas").getChildByName("Hall_Node"),r=null;if(a&&(r=a.getComponent("LobbyScene")),null==r)return void cc.log("LobbyRoomLogic LobbyScene == null ");var s=function(){r.unschedule(s),r&&r.enterGameByRoomID&&(cc.log("LobbyScene.enterGameByRoomID()"),r.enterGameByRoomID(o.roomID))}.bind(this),c=RoomListManager.getRoomNameByRoomID(o.roomID);createLoading(tools.stringFormat("\u60a8\u5df2\u7ecf\u5728{0}\u6e38\u620f\u4e2d",c)),console.log("\u5df2\u7ecf\u5728\u623f\u95f4\u7684\u903b\u8f91\u5df2\u7ecf\u5728\u623f\u95f4\u7684\u903b\u8f91\u5df2\u7ecf\u5728\u623f\u95f4\u7684\u903b\u8f91"),r.schedule(s,1,!0)}}.bind(this);this.sendData(o,a,"\u6b63\u5728\u52a0\u5165\u623f\u95f4...")},enterGame:function(e){cc.log("enterGame beg");var t=RoomListManager.getRoomByRoomID(e);this.LoginRoomLogic.enterRoom(t,this.getUserID(),this.getUserToken())},requestQualifyingCount:function(e){if(window.rankInfoArr.length>0)return e&&e();var t={};t.url=NetConfig.getPHPUrl(),t.params={api:"lobby",action:"qualifyingCount"},t.sCallback=function(t){0==t.code?e&&(window.rankInfoArr=t.data,window.rankInfoData=t.info,e()):createTips(t.msg)},t.fCallback=function(){},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestCheckPointConfig:function(e){if(window.CheckPointInfoArr.length>0)return e&&e(window.CheckPointInfoArr);var t={};t.url=NetConfig.getPHPUrl(),t.params={api:"Checkpoint",action:"getCheckpointConfig"},t.sCallback=function(t){0==t.status?e&&(window.CheckPointInfoArr=t.data,e(window.CheckPointInfoArr)):createTips(t.msg)},t.fCallback=function(){},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestEnterGoldRoom:function(e){if(e<0||e>6||!e)console.error("\u623f\u95f4\u7c7b\u578b\u9519\u8bef\uff01\uff01\uff01",e);else{var t=MSG_MAIN_LOADER_LOGON,i=MSG_ASS_LOADER_LOGON,n=this.createNetMsg(4,t,i);n.pushINT(e),this.sendData(n,function(){console.log("\u65e5\u5fd7: \u63a5\u6536\u5230\u767b\u5165\u4fe1\u606f")},"\u767b\u5165\u623f\u95f4...")}},requestLoaderCheckLogon:function(e){var t={};t.url=NetConfig.getPHPUrl(),t.params={api:"match",action:"isAccessGame",userID:UserInfoManager.getMyInfo().userID},t.sCallback=function(t){0==t.status?e&&e():createTips(t.msg)},t.fCallback=function(){cc.log("\u8bf7\u6c42isAccessGame\u8d85\u65f6")},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestExchangeRead:function(e,t){var i={};i.url=NetConfig.getPHPUrl(),i.params={api:"Resource",action:"giftBuyFortunella",userID:UserInfoManager.getMyInfo().userID,giftCard:t},i.sCallback=function(t){0==t.status?(e&&e(),createTips(t.msg)):createTips(t.msg)},i.fCallback=function(){cc.log("\u8bf7\u6c42giftBuyFortunella\u8d85\u65f6")},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)}}),cc._RF.pop()},{LogicBasis:"LogicBasis",LoginRoomLogic:"LoginRoomLogic"}],LobbyScene:[function(e,t){"use strict";cc._RF.push(t,"bc5c4gJvUVHG4sJg1UgHGEH","LobbyScene");var i=e("LobbyRoomLogic"),n=e("VideoManager");cc.Class({extends:e("LobbyBaseLayer"),properties:{bgMusic:{type:cc.AudioClip,default:null},centerNode:cc.Node,img_bg:cc.Node,LayoutAdverNode:cc.Node,LayoutGameNode:cc.Node,LayOutContent:cc.Node,BottomLayOutContent:cc.Node,PeoplecountLabel:cc.Node,topNodePrefab:cc.Prefab,bottomNodePrefab:cc.Prefab},onEnable:function(){this._super()},onDisable:function(){this._super()},ctor:function(){window.GameManager=new(e("GameManager")),this.callBackPerson=null},onLoad:function(){var t=this;window.LobbyScene=this,n.instance.refreshVideo();var o=cc.view.getFrameSize(),a=cc.view.getDesignResolutionSize();o.width/o.height>a.width/a.height&&(this.centerNode.width=this.centerNode.height*(a.width/a.height)),this.LobbyRoomLogic=new i,cc.game.setFrameRate(45),cc.log("lobby scene on load"),this.inMoneyfield=!1,this.inCreatorRoom=!1,this.inPlayType=!1,this.gameID=null,cc.debug.setDisplayStats(!1),this.LobbyLogic=new(e("LobbyLogic")),this.initUI(),GameSocket.setIsSendLogoutRoom(!1),this.delayRequest(),this.scheduleOnce(function(){UserInfoManager.requestChangeUserName(t.LobbyLogic.getNickName(),null)},.15),document.title=G_APP_NAME_CH,cc.checkIsFrontBack||(cc.checkIsFrontBack=!0,this.checkIsFrontStage()),this._playBGMusic(),this.img_bg.active=!0,this.LayoutAdverNode.active=!0,this.LayoutGameNode.active=!0,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1);var r=E_ROOM_TYPE.PRIVATE,s="";for(var c in G_REGIST_GAME_LIST){var l=G_REGIST_GAME_LIST[c];l.id&&(s+=l.id+",")}var u=cc.view.getFrameSize();if(u.height/u.width>2)for(var h=1;h<=this.LayoutGameNode.length;h++){var d="game_"+h;this.LayoutGameNode.getChildByName(d).y+=32}tools.setCurScreen();var f=document.getElementById("lobbyQRCode");f&&f.remove();var p=document.getElementById("GAMEQRCode");p&&p.remove();var g=document.getElementById("GameZhanjiQRCode");g&&g.remove(),s.lastIndexOf(",")==s.length-1&&(s=s.substring(0,s.lastIndexOf(","))),this.LobbyRoomLogic.getBuyConfig(null,r,null,s),window.ShartuserID=null,this.onLogonGamePeoplecountChange(UserInfoManager.getMyInfo().peopleCount),window.ShartuserID=null,cc.sys.localStorage.setItem(G_SHARE_USERID,0),this.InitWXvoiceconfig(this.LobbyLogic.getUserID())},onLogonGamePeoplecountChange:function(e){this.PeoplecountLabel&&(this.PeoplecountLabel.getComponent(cc.Label).string=e+"\u4eba\u5728\u73a9")},_playBGMusic:function(){var e=this;LOOBBY_STATIC||(MYAudioEngine.stopMusic(),this.bgMusic?(MYAudioEngine.playMusic(this.bgMusic),console.log("play game bgmusic")):cc.loader.loadRes("sound/lobby/lobby_bg_1",cc.AudioClip,function(t,i){t?console.error(t):(e.bgMusic=i,MYAudioEngine.playMusic(e.bgMusic),console.log("play game bgmusic async"))}))},requestShopList:function(){var e=this;this.ShopScroview.content.removeAllChildren();var t=NoticeManager.getShopMommodityList();tableIsEmpty(t)?this.LobbyLogic.requestShopMommodity(function(t){t?e.startShopMommodity():cc.log("\u83b7\u53d6\u5546\u57ce\u5217\u8868\u5931\u8d25.........")}):this.startShopMommodity()},requestGongGaoList:function(){var e=this,t=NoticeManager.getGongGaoMommodityList();tableIsEmpty(t)?this.LobbyLogic.requestGongGaoMommodity(function(t){t?e.startGongGaoMommodity():cc.log("\u83b7\u53d6\u516c\u544a\u5931\u8d25.........")}):this.startGongGaoMommodity()},paycallback:function(e,t){var i=this;this.LobbyLogic.requestPayPrepayID(t.buyNum,t.consumeNum,t.goodsID,function(e){e&&i.onBridgeReady(e.prepay_id)})},onGiveGiftCardClick:function(){this.simpleAddLayer("prefab/lobby/GiveGiftCard")},startGongGaoMommodity:function(){for(var e=this,t=NoticeManager.getGongGaoMommodityList(),i=[],n=0;n<t.length;n++){var o=t[n];1==o.img_type&&n<6&&i.push(o)}for(var a=0;a<t.length;a++){var r=t[a];if(2==r.img_type){i.push(r);break}}i.forEach(function(t,i){if(1==t.img_type&&i<6){e.Text_GongGao[i].node.active=!0;var n=i+1;e.Text_GongGao[i].getComponent(cc.Label).string=n+"\u3001"+t.text}if(2==t.img_type){e.Image_code.active=!0;var o=e.Image_code.getChildByName("title"),a=i+1,r=e.Image_code.getChildByName("img");o.getComponent(cc.Label).string=a+"\u3001";var s=t.content;cc.loader.load(s,function(e,t){if(e)console.log(e);else{var i=new cc.SpriteFrame(t);r.getComponent(cc.Sprite).spriteFrame=i}})}})},delayRequest:function(){var e=this;this.jumpToRoom(),ConfigDataManager.getConfigData(),this.scheduleOnce(function(){e.checkJoinRoomScene(),e.updateUI()},.01)},checkJoinRoomScene:function(){var e=this;"FriendsGroup"==FriendsGroupManager.getJoinRoomScene()&&this.LobbyLogic.requestFriendsGroupList(function(t){window.club=!0,e.simpleAddLayer("prefab/Club/ClubIndexLayer",t.length>0)})},jumpToRoom:function(){(window.code||window.roomNo)&&1!=window.roomNo&&(cc.log("window.roomNo:",window.roomNo),window.roomNo&&"undefined"!=window.roomNo&&null!=window.roomNo)&&(cc.log("lobby get roomNo:",window.roomNo),0!=window.roomNo&&(this.LobbyRoomLogic.joinRoom(window.roomNo,function(){window.roomNo=0,loadsceneRes("Texture",function(){})}),window.roomNo=0))},initUI:function(){var e=cc.view.getFrameSize(),t=cc.view.getDesignResolutionSize();e.width/e.height>t.width/t.height&&console.log("\u9002\u914d\u9ad8\u5ea6");var i=cc.instantiate(this.topNodePrefab);i.zIndex=100,this.node.addChild(i),i.getComponent("LobbyTopPanel").setParentNodeProxy(this);var n=this,o=cc.instantiate(this.bottomNodePrefab);o.zIndex=100,this.node.addChild(o),o.getComponent("LobbyBottomPanel").setParentNodeProxy(this,"lobby",function(e){n.CreateRoomGameConfig(null,e)}),this.callBackPerson=function(){o&&o.getComponent("LobbyBottomPanel").setBottomButton_Me()}},onDestroy:function(){this._super(),window.LobbyScene=null,LobbySocket.clearPackageQueue(),this.unscheduleAllCallbacks(),this.node.stopAllActions()},getGameList:function(){var e=function(e){if(0!==e.length){cc.log("\u6e38\u620f\u5217\u8868\u4fe1\u606f\u83b7\u53d6\u5b8c\u6bd5,\u5f00\u59cb\u83b7\u53d6\u6240\u6709\u623f\u95f4\u5217\u8868\u4fe1\u606f");var t=function(e){cc.log(e)}.bind(this);RoomListManager.requestAllRoomList(t)}else cc.log(" \u6e38\u620f\u5217\u8868\u83b7\u53d6\u5931\u8d25 ")}.bind(this);GameListManager.requestGameList(e)},enterGame:function(e){var t=RoomListManager.getGoldRoomListByGameID(GameManager.getGameIDByGameSceneName(e));if(t.length<=0)return createTips("\u8be5\u6e38\u620f\u6ca1\u6709\u914d\u7f6e");var i=null,n=window.G_BI_GOLD,o=cc.sys.localStorage.getItem("xiaZhongServerTest");null==o&&(cc.sys.localStorage.setItem("xiaZhongServerTest","0"),o="0"),"0"!=o&&(n=o+"");for(var a=0;a<t.length;a++)if(t[a].level==n){i=t[a];break}if(i){var r=this.LobbyLogic.getWalletMoney();return r<i.minPoint?createTips(string.format("\u60a8\u7684\u91d1\u5e01\u6570\u4e0d\u6ee1\u8db3\u8fdb\u5165\u623f\u95f4\u4e0b\u9650:%s",F_GetMoneyDisplay(i.minPoint))):0!=i.maxPoint&&r>i.maxPoint?createTips(string.format("\u60a8\u7684\u91d1\u5e01\u6570\u8d85\u8fc7\u8fdb\u5165\u623f\u95f4\u4e0a\u9650:%s",F_GetMoneyDisplay(i.maxPoint))):void this.enterGameByRoomID(i.roomID)}},CreateRoomGameConfig:function(e,t){var i=this,n="";switch(t){case"game_1":n="prefab/lobby/LayoutVenueSelection";break;case"game_2":n="prefab/lobby/LayoutChongGuan";break;case"game_3":n="prefab/lobby/LayoutShop";break;case"game_4":n="prefab/lobby/LayoutMatch";break;case"game_5":n="prefab/lobby/LayoutExchange";break;case"game_6":n="prefab/lobby/LayoutMyHome"}if(""!=n){if(window.LobbyBottom.setBottomButtonStatus(-1),"Button_lobby"==n)return this.BottomLayOutContent.children.forEach(function(e){e.destroy()}),this.LayOutContent.children.forEach(function(e){e.destroy()}),this.BottomLayOutContent.removeAllChildren(),void this.LayOutContent.removeAllChildren();cc.resources.load(n,cc.Prefab,function(e,n){if(e)cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e);else{i.BottomLayOutContent.children.forEach(function(e){e.destroy()}),i.LayOutContent.children.forEach(function(e){e.destroy()}),i.BottomLayOutContent.removeAllChildren(),i.LayOutContent.removeAllChildren();var o=cc.instantiate(n),a=i.BottomLayOutContent;"livebroadcast"==t&&(a=i.LayOutContent),o.parent=a,"game_3"==t&&i.callBackPerson&&o.getComponent("LayoutShop").initcallBack(i.callBackPerson)}}),window.LobbyBottom.handleAnnimation()}else createTips("\u656c\u8bf7\u671f\u5f85")},ShartReward:function(e){this.LobbyLogic.requestShartReward(e)},directToScene:function(e){var t=this,i=cc.director.getScene().getChildByName("loading_node");i.active=!0,cc.director.preloadScene(GameManager.getRegistGameNameByGameID(e),null,function(){t.isLoadedScene=!0;var n=RoomListManager.getGoldRoomListByGameID(e);if(n.length<=0)return createTips("\u8be5\u6e38\u620f\u6ca1\u6709\u914d\u7f6e");for(var o=null,a=E_ROOM_SORT.RANKMATCH,r=0;r<n.length;r++)if(n[r].sort==a){o=n[r];break}if(o){var s=t.LobbyLogic.getWalletMoney();if(s<o.minPoint)return i.active=!1,window.gameId=null,createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u4e0d\u6ee1\u8db3\u8fdb\u5165\u623f\u95f4\u4e0b\u9650:{0}",F_GetMoneyDisplay(o.minPoint)));if(0!=o.maxPoint&&s>o.maxPoint)return i.active=!1,window.gameId=null,createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u8d85\u8fc7\u8fdb\u5165\u623f\u95f4\u4e0a\u9650:{0}",F_GetMoneyDisplay(o.maxPoint)));i.active=!1,window.gameId=null,t.enterGameByRoomID(o.roomID)}})},pre_enter_game:function(e,t){var i=this,n=cc.director.getScene().getChildByName("loading_node");n.active=!0,cc.director.preloadScene(e,null,function(){i.isLoadedScene=!0,i.enterGame(t),n.active=!1})},onArenaDay:function(){},onChuangguan:function(){},onChuangguanAward:function(){this.simpleAddLayer("prefab/lobby/ChuangguanAward",null,null,null,null,this.node)},showPanel:function(e){var t=this;switch(e){case 1:LobbySocket.sendRankMatchInfo(E_PAIWEI_INFO.Sign_ENTER,E_PAIWEI_INFO.LobbyID,function(){t.simpleAddLayer("prefab/Qualifying/QualifyingNode",t)});break;case 2:this.simpleAddLayer("prefab/Arena/ArenaNode",this)}},onBack:function(){this.showPanel(0)},onTouchGame:function(e,t){this.gameID=t},onCreatRoom:function(){var e=cc.sys.localStorage.getItem(G_CHOOSE_CITY);e||(e=0);var t=CityListManager.getNameByCityID(e),i=RoomListManager.getGameListHavePrivateRoom();if(0!==i.length){var n=E_ROOM_TYPE.NORMAL,o=[];o.push(i),this.simpleAddLayer("prefab/CreateRoom/CreateRoomLayer",n,o,null,null,null,function(){},this.node)}else createTips(tools.stringFormat("{0}\u8fd8\u6ca1\u6709\u91d1\u5e01\u623f",t))},onMenuButton:function(){},onBridgeReady:function(e){var t=WechatAppID,i=(new Date).getTime().toString(),n=(1e3*Math.random()).toString(),o="prepay_id="+e,a=hex_md5("appId="+t+"&nonceStr="+n+"&package="+o+"&signType=MD5&timeStamp="+i+"&key=Hntt123123andThinklove1231236688").toUpperCase();WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:i,nonceStr:n,package:o,signType:"MD5",paySign:a},function(e){"get_brand_wcpay_request:ok"==e.err_msg?alert("\u5145\u503c\u6210\u529f"):"get_brand_wcpay_request:cancel"==e.err_msg?alert("\u53d6\u6d88\u6210\u529f"):alert(e.err_msg)})},requestQualifyingCount:function(){this.LobbyLogic.requestQualifyingCount(function(){})},requestCheckPointConfig:function(){this.LobbyLogic.requestCheckPointConfig(function(){})},enterGameByRoomID:function(e){cc.log("enterGameByRoomID beg"),this.LobbyLogic.enterGame(e)},updateUI:function(){this.LobbyLogic.requestMyResource()},loadResult:function(e,t,i){e||!t?cc.error("\u672a\u5b9a\u4e49\u7684\u9884\u5236\u4f53\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u8d44\u6e90"+i):("object"==typeof t&&window.prefabMap.set(i+"",t),++cc.loadData.loadLobbyPreDataIndex,this.loadingFlag=!1,cc.loadData.loadLobbyPreDataIndex>=cc.loadData.loadLobbyPreData.length&&this.checkPreLoadScence())},loadPre:function(){var e=this;if(!this.loadingFlag){this.loadingFlag=!0;var t=cc.loadData.loadLobbyPreData[cc.loadData.loadLobbyPreDataIndex];t&&("Texture"==t.preName?cc.loader.loadResDir(t.url,cc.SpriteFrame,function(){},function(){e.loadResult(null,"Texture",t.url)}):"bitmapFont"==t.preName?cc.loader.loadRes(t.url,cc.BitmapFont,function(i,n){e.loadResult(null,n,"bitmapFont"+t.url)}):"json"==t.preName?cc.loader.loadRes(t.url,cc.JsonAsset,function(i,n){e.loadResult(null,n,"json"+t.url)}):cc.loader.loadRes(t.url+t.preName,function(i,n){e.loadResult(i,n,t.url+t.preName)}))}},update:function(){this.loadPre()},onBtnShareWx:function(){},onMailRedSpot:function(){},onCurMatchStart:function(e){dump("onCurMatchStart",e),this.enterGameByRoomID(e.roomID)},onCurMatchChange:function(e){dump("onCurMatchChange",e)},onCurMatchFail:function(e){dump("onCurMatchFail",e),1==e.reason?createTips("\u4eba\u6570\u4e0d\u8db3,\u6bd4\u8d5b\u65e0\u6cd5\u5f00\u59cb"):3==e.reason&&createTips("\u670d\u52a1\u5668\u5f02\u5e38,\u6bd4\u8d5b\u7ed3\u675f")},onCurMatchComeSoon:function(e){dump("onCurMatchComeSoon",e)},InitWXvoiceconfig:function(e){var t=function(t){var i=i||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);(function(){var e=i,t=(a=e.lib).WordArray,n=a.Hasher,o=[],a=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+o[l],u=20>l?u+(1518500249+(a&r|~a&s)):40>l?u+(1859775393+(a^r^s)):60>l?u+((a&r|a&s|r&s)-1894007588):u+((a^r^s)-899497514),c=s,s=r,r=a<<30|a>>>2,a=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a)})();var n=WechatAppID,o=(new Date).getTime().toString(),a=(1e3*Math.random()).toString(),r="jsapi_ticket="+t.jsapi_ticket+"&noncestr="+a+"&timestamp="+o+"&url="+location.href.split("#")[0],s=i.SHA1(r,{string:!0}).toString();wx.config({debug:!1,appId:n,timestamp:o,nonceStr:a,signature:s,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(function(){var t=window.sharedWords.length,i="";t>0&&(i=window.sharedWords[Math.floor(Math.random()*(t-1))]),wx.updateAppMessageShareData({title:"\u5076ONE\u9189\u7f8e\u57ce",desc:i,link:wxShareURL+"?state="+e,imgUrl:wxShareAdvIMG,success:function(){},cancel:function(){},fail:function(){}}),wx.updateTimelineShareData({title:"\u52a9\u529b\u4e61\u6751\u632f\u5174\uff0c\u7ed9\u5bb6\u4e61\u63d0\u4f9b\u4f18\u8d28\u76f4\u9500\u6e20\u9053\uff0c\u6253\u9020\u76f4\u64ad\u5356\u8d27\u5e73\u53f0\u3002\u65e0\u9700\u4e0b\u8f7d\uff0c\u968f\u65f6\u968f\u5730\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01\uff01",desc:"",link:wxShareURL+"?state="+e,imgUrl:wxShareAdvIMG,success:function(){},cancel:function(){},fail:function(){}})})}.bind(this);ConfigDataManager.getWXjsapi_ticket(e,t)}}),cc._RF.pop()},{GameManager:"GameManager",LobbyBaseLayer:"LobbyBaseLayer",LobbyLogic:"LobbyLogic",LobbyRoomLogic:"LobbyRoomLogic",VideoManager:"VideoManager"}],LobbySocket:[function(e,t){"use strict";cc._RF.push(t,"368b5Gn9npHSqR8X6nKKcji","LobbySocket");var i=(cc.sys.isNative,20),n=e("EventEmiter").GlobalEvent,o=cc.Class({extends:e("TcpClient"),properties:{},ctor:function(){this.connectResult=null,this.loginDelegate=null,this.name="LobbySocket",this.isReconnected=!1,this.reconnectCount=0,this.isSimulateLogin=!1,this.isSqueeze=!1,NetConfig.isLocalServerAddress()},switchAccount:function(){this.close(),createLoading("\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e..",8,!0),G_USER_PASSWORD=null,cc.sys.isNative?cc.game.restart():cc.director.loadScene("mLogin")},setTCPHeartCheckInterval:function(e){this.setHeartCheckInterval(e)},getMyInfo:function(){return UserInfoManager.getMyInfo()},connectService:function(e){var t=this;this.superConnectService=this._super;var i=function(){var i=NetConfig.getServerAddress(),n=NetConfig.getServerPort(),o=NetConfig.getSendPort();t.connectResult=e,t.superConnectService(i,n,o,t.onSocketMsg.bind(t))};e?(this.connectResult=e,this.getLogonServerInfo(i)):(this.connectResult=null,i()),this.setHeartCheckInterval(15)},getLogonServerInfo:function(e){var t=this,i={};i.url="https://"+NetConfig.getPHP_IP()+"/api/v1/server/getLogonServer",i.params={},i.fCallback=function(){createTips("\u767b\u5f55\u670d\u52a1\u5668IP\u548c\u7aef\u53e3\u83b7\u53d6\u5931\u8d25"),e(!1)},i.sCallback=function(i){if(0==i.status){if(null==i.data.ip||0==i.data.port)return createTips("\u767b\u5f55\u670d\u52a1\u5668IP\u548c\u7aef\u53e3\u4fe1\u606f\u9519\u8bef"),void(t.connectResult&&t.connectResult(!1));NetConfig.setServerAddress(i.data.ip),NetConfig.setServerPort(i.data.port),e(!0)}else createTips(i.msg),t.connectResult&&t.connectResult(!1)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)},onConnectMessage:function(e){this._super(e),this.isReconnected?(console.log("LobbySocket:onConnectMessage \u91cd\u65b0\u8fde\u63a5\u6210\u529f \u91cd\u8fde\u6b21\u6570 = "+this.reconnectCount),this.reconnectCount=0,this.isReconnected=!1,this.isSimulateLogin=!0,this.getMyInfo()?this.login(this.getMyInfo().userID,this.getMyInfo().userToken):this.onLoginFailed()):this.connectResult&&(this.connectResult(!0),this.connectResult=null)},onLogonNotifyMessage:function(e){MSG_NTF_LOGON_USER_SQUEEZE==e.bAssistantID?this.dealNotifyLogonUserSqueeze(e):MSG_NTF_LOGON_NOTICE==e.bAssistantID?this.dealNotifyLogonNotice(e):MSG_NTF_LOGON_HORN==e.bAssistantID?this.dealNotifyLogonHorn(e):MSG_NTF_LOGON_RESOURCE_CHANGE==e.bAssistantID?this.dealNotifyResourceChange(e):MSG_NTF_LOGON_SUPPORT_INFO==e.bAssistantID?this.dealNotifySupportInfo(e):MSG_NTF_LOGON_USERCOUNT_CHANGE==e.bAssistantID?RoomRecordManager.dealNotifyUserCountChange(e):MSG_NTF_LOGON_FRIEND_NOTIFY==e.bAssistantID?this.dealNotifyFriendNotify(e):MSG_NTF_LOGON_FRIEND_ADDOK==e.bAssistantID?this.dealNotifyFriendAdd(e):MSG_NTF_LOGON_FRIEND_DELOK==e.bAssistantID?this.dealNotifyFriendDel(e):MSG_NTF_LOGON_FRIEND_DELNOTIFY==e.bAssistantID?this.dealNotifyFriendNotifyDel(e):MSG_NTF_LOGON_FRIEND_LOGINOROUT==e.bAssistantID?this.dealNotifyFriendLoginOrOut(e):MSG_NTF_LOGON_FRIEND_REDSPOT==e.bAssistantID?this.dealNotifyFriendRedSpot(e):MSG_NTF_LOGON_CLOSE_SERVER==e.bAssistantID?this.dealNotifyCloseServer(e):MSG_NTF_LOGON_EMAIL_REDSPOT==e.bAssistantID?MailManager.dealMailRedSpot(e):MSG_NTF_LOGON_GAME_PEOPLECOUNT_CHANGE==e.bAssistantID&&this.dealLogonGamePeoplecountChange(e)},login:function(e,t){var i=Package.buildWritePack(156);i.writeBegin(MSG_MAIN_LOGON_LOGON,MSG_ASS_LOGON_LOGON_BY_NAME),i.writeString(tools.getMachineID(),64),i.writeInt(e),i.writeString(t,64),i.writeString("0.0.0",24);var n=function(i){if(i.bHandleCode===G_HANDLE_CODE_OK){var n={name:i.popNCHAR(MAX_USER_NAME_LEN),phone:i.popNCHAR(24),sex:i.popBYTE(),money:i.popLONGLONG(),jewels:i.popINT(),roomID:i.popINT(),deskIdx:i.popINT(),logonIP:i.popNCHAR(24),headURL:i.popNCHAR(256),bankMoney:i.popLONGLONG(),bankPasswd:i.popNCHAR(20),longitude:i.popNCHAR(12),latitude:i.popNCHAR(12),address:i.popNCHAR(64),motto:i.popNCHAR(128),visitor:i.popBYTE(),combineMatchID:i.popLONGLONG(),matchStatus:i.popBYTE(),gameExp:parseInt(F_GetMoneyDisplay(i.popLONGLONG())),UserLevel:i.popBYTE(),idCard:i.popNCHAR(24),realName:i.popNCHAR(64),giftCard:i.popLONGLONG(),checkPointsNum:i.popINT(),transferNum:i.popINT(),goodsPhone:i.popNCHAR(24),goodsAddress:i.popNCHAR(64),peopleCount:i.popINT()};n.userID=e,n.userToken=t,UserInfoManager.setMyInfo(n),this.startLocation(e),this.onLoginSuccess(this.getMyInfo())}}.bind(this);this.send(i,n)},startLocation:function(e){var t=function(t){var i=i||function(e){var t={},i=t.lib={},n=function(){},o=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var c=0;c<t;c+=r)this._doProcessBlock(n,c);c=n.splice(0,t),i.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=t.algo={};return t}(Math);(function(){var e=i,t=(a=e.lib).WordArray,n=a.Hasher,o=[],a=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],a=i[1],r=i[2],s=i[3],c=i[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var u=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+o[l],u=20>l?u+(1518500249+(a&r|~a&s)):40>l?u+(1859775393+(a^r^s)):60>l?u+((a&r|a&s|r&s)-1894007588):u+((a^r^s)-899497514),c=s,s=r,r=a<<30|a>>>2,a=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(a),e.HmacSHA1=n._createHmacHelper(a)})();var n=WechatAppID,o=(new Date).getTime().toString(),a=(1e3*Math.random()).toString(),r="jsapi_ticket="+t.jsapi_ticket+"&noncestr="+a+"&timestamp="+o+"&url="+location.href.split("#")[0],s=i.SHA1(r,{string:!0}).toString();wx.config({debug:!1,appId:n,timestamp:o,nonceStr:a,signature:s,jsApiList:["getLocation"]}),wx.ready(function(){wx.getLocation({type:"wgs84",success:function(t){ConfigDataManager.saveUserAddress(t.longitude,t.latitude,e)},fail:function(){},cancel:function(){alert("\u7528\u6237\u62d2\u7edd\u6388\u6743\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e")}})})}.bind(this);ConfigDataManager.getWXjsapi_ticket(e,t)},onLoginSuccess:function(t){if(console.log("lobby socket onLoginSuccess \u767b\u5f55\u6210\u529f",t),t&&this.loginDelegate)if(0==t.roomID){var i=cc.director.getScene().getChildByName("Canvas"),n=i.getChildByName("lobby"),o=i.getChildByName("livebroadcast"),a=null;if(i&&n&&(a=n.getComponent("LobbyScene")),this.loginDelegate.onLoginSuccess&&this.loginDelegate.onLoginSuccess(),o)return;if(null==a)return cc.log("lobby scnee == null load the lobby scene "),cc.director.getScene(),void loadsceneRes("Texture",function(){LOOBBY_STATIC=!1,cc.director.loadScene("lobby")});a.updateUI&&a.updateUI()}else{var r=function(i){(new(e("LoginRoomLogic"))).enterRoom(i,t.userID,t.userToken),this.loginDelegate.onLoginSuccess&&this.loginDelegate.onLoginSuccess()}.bind(this),s=function(){var e=RoomListManager.getRoomByRoomID(t.roomID);e?(window.roomNo=0,loadsceneRes("Texture",function(){r(e)})):(this.clear(),this.onLoginFailed(),this.loginDelegate=null)}.bind(this),c=GameSocket.getRoomInfo();c?r(c):(new(e("LobbyLogic"))).requestAllRoomList(s)}},onLoginFailed:function(){var e=function(){cc.sys.isMobile?window.location.replace(wxShareURL):(this.reconnectCount=0,this.checkReconnect())}.bind(this),t={msg:"\n\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u7f51\u7edc",btn1:"\u786e\u5b9a"};t.callbackFun=e,createMsgBox(t),null!=this.loginDelegate&&(this.loginDelegate.onLoginFailed(),this.loginDelegate=null),this.isReconnected=!1},onDisconnect:function(){console.log(">>>>>>>onDisconnect lobby");var e=cc.director.getScene();console.log(">>>>>>>onDisconnect \u5927\u5385\u5fc3\u8df3\u91cd\u8fdelobby"),createRepeatConnectLayer(e),console.log(">>>>>>>onDisconnect \u5927\u5385\u5fc3\u8df3\u91cd\u8fdelobby 2222"),this.closeCallback&&this.closeCallback()},requestMyResource:function(){var e=this.createNetMsg(0,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_USERINFO_FLUSH);this.sendData(e,function(e){if(e.bHandleCode==G_HANDLE_CODE_OK){var t={};t.jewels=e.popINT(),t.money=e.popLONGLONG(),t.giftCard=e.popLONGLONG(),t.Transfernum=e.popINT(),DataNotify.onMoneyChanged(t.money),DataNotify.onDiamondChanged(t.jewels),DataNotify.onGiftCardChanged(t.giftCard),DataNotify.onTransfernumChanged(t.Transfernum)}})},setLoginDelegate:function(e){this.loginDelegate=e},clear:function(){this._super(),this.isReconnected=!1,this.reconnectCount=0,this.isSimulateLogin=!1,this.connectResult=null,this.loginDelegate=null,this.isSqueeze=!1,this.removeAllNetCallback(),GameSocket.clear(),GameSocket.setIsSendLogoutRoom(!1),this.close()},checkReconnect:function(){this.reconnectCount<i?(this.reconnectCount=this.reconnectCount+1,console.log("LobbySocket:checkReconnect \u5f00\u59cb\u91cd\u65b0\u8fde\u63a5 \u91cd\u8fde\u6b21\u6570 = ",this.reconnectCount),this.connectService()):(console.log("\u56de\u8c03\u91cd\u8fde\u5931\u8d25"),this.reconnectCount=0,this.isReconnected=!1,this.onLoginFailed(),this.loginDelegate=null)},reconnecService:function(){this.isReconnected=!0,this.checkReconnect()},onConnectSuccess:function(){this._super()},onConnectFailed:function(){this.super(),this.isReconnected?this.checkReconnect():this.connectResult&&(removeLoading(),createTips(GlobalError.getErrorStr(GlobalError.ERROR_LOBBY_CONNECT_FAILED)),this.connectResult(!1),this.connectResult=null)},dealNotifyLogonUserSqueeze:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(){this.backLogin()}.bind(this),i=cc.director.getScene();i.getChildByName(G_REPEAT_CONNECT_LAYER_TAG)&&i.removeChildByTag(G_REPEAT_CONNECT_LAYER_TAG),this.isSqueeze=!0,createClickTips("\u60a8\u7684\u8d26\u53f7\u5728\u5176\u4ed6\u8bbe\u5907\u767b\u9646",t)}},getIsSqueeze:function(){return this.isSqueeze},dealNotifyLogonNotice:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.interval=e.popINT(),t.times=e.popINT(),t.type=e.popINT(),t.tag=e.popINT(),t.title=e.popNCHAR(24),t.sizeCount=e.popINT(),t.content=e.popNCHAR(t.sizeCount),t}(e);console.log(tools.getCurTime()+" #### \u516c\u544a LobbySocket:dealNotifyLogonNotice",t);var i=C_Director.getScene();if(t.type==E_NoticeType.COMMON){i.children[0];var o=t.content;ChatMessageManager.push(o),ChatMessageManager.pushCommonMsg(o),n.instance.emit("NORMAL_NOTICE",t)}else if(t.type==E_NoticeType.IMMEDIATELY){var a=t.content;ChatMessageManager.push(a),ChatMessageManager.pushCommonMsg(a),n.instance.emit("NORMAL_NOTICE",t)}else t.type==E_NoticeType.STOP_SVR_PRE_TIP&&n.instance.emit("NORMAL_NOTICE",t)}},dealNotifyLogonHorn:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.userID=e.popINT(),t.userName=e.popNCHAR(MAX_USER_NAME_LEN),t.sizeCount=e.popINT(),t.content=e.popNCHAR(t.sizeCount),t}(e);cc.log(t," LobbySocket:dealNotifyLogonHorn");var i=C_Director.getScene(),n=i.children[0],o=t.userName+": "+t.content;if(ChatMessageManager.push(o),cc.log(n,i,C_Director),n.getChildByName("Panel_Notice")){var a=n.getComponent("LobbyScene"),r={};cc.log("+++++++"),cc.log(o),r.content="\u5927\u91cf\u4ee3\u7406\u62db\u6210\u63d0\u6210\u767e\u5206\u4e4b30-70,\u6d3b\u52a8\u671f\u95f4\u516d\u4e2a\u7684\u5f00\u59cb\u6709\u5956\u52b1",r.times=1,r.interval=1,a.pushNotice(r)}else cc.loader.loadRes("prefab/NoticeLayer",function(e,t){var a=cc.instantiate(t),r=a.getComponent("NoticeLayer");a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,r.init(o),cc.log(i," notice",o),n.addChild(a)})}},dealNotifyResourceChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){cc.log("!!!!!!!!!!!!");var t=function(e){var t={};return t.resourceType=e.popINT(),t.value=e.popLONGLONG(),t.reason=e.popINT(),t.param1=e.popINT(),t}(e),i=0,n="";if(E_ResourceType.GOLD==t.resourceType?(i=t.value-this.getMyInfo().money,n="\u91d1\u5e01"):E_ResourceType.CARD==t.resourceType?(i=t.value-this.getMyInfo().jewels,n="\u94bb\u77f3"):E_ResourceType.BANK==t.resourceType?(i=t.value-this.getMyInfo().bankMoney,n="\u94f6\u884c\u91d1\u5e01"):E_ResourceType.GiftCard==t.resourceType?(i=t.value-this.getMyInfo().giftCard,n="\u793c\u5238"):E_ResourceType.TRANSFERNUM==t.resourceType&&(i=t.value-this.getMyInfo().transferNum,n="\u5151\u6362\u6b21\u6570"),E_ResourceChangeReason.PAY_RECHARE==t.reason){var o=function(){}.bind(this),a={btn1:"\u786e\u5b9a"};a.msg=String("\n\u652f\u4ed8\u6210\u529f\uff0c\u83b7\u5f97"+n+" x "+i/G_MULTI_NUM),a.callbackFun=o,createMsgBox(a)}else if(E_ResourceChangeReason.BACK_RECHARE==t.reason){var r=function(){}.bind(this),s={btn1:"\u786e\u5b9a"};s.msg=String("\n\u540e\u53f0\u5145\u503c\uff0c\u83b7\u5f97"+n+" x "+i/G_MULTI_NUM),s.callbackFun=r,createMsgBox(s)}else if(E_ResourceChangeReason.FRIEND_REWARD==t.reason||E_ResourceChangeReason.SUPPORT==t.reason||E_ResourceChangeReason.SHARE==t.reason||E_ResourceChangeReason.BIND_PHONE==t.reason||E_ResourceChangeReason.BIND_AGENT==t.reason||E_ResourceChangeReason.INVITE_ENTER==t.reason||E_ResourceChangeReason.SYSTEM_MAIL==t.reason||E_ResourceChangeReason.MATCH_REWARDS==t.reason||E_ResourceChangeReason.ACHIEVEMENT_REWARDS==t.reason||E_ResourceChangeReason.USER_MAIL==t.reason){cc.log(E_ResourceChangeReason.FRIEND_REWARD),cc.log(E_ResourceChangeReason.SUPPORT),cc.log(E_ResourceChangeReason.SHARE),cc.log(E_ResourceChangeReason.BIND_PHONE),cc.log(E_ResourceChangeReason.BIND_AGENT),cc.log(E_ResourceChangeReason.INVITE_ENTER),cc.log(E_ResourceChangeReason.SYSTEM_MAIL),cc.log(E_ResourceChangeReason.USER_MAIL),cc.log(t.reason);var c=function(){}.bind(this),l={btn1:"\u786e\u5b9a"};l.msg=tools.stringFormat("\n\u5956\u52b1\u9886\u53d6\u6210\u529f\uff0c\u83b7\u5f97{0} x {1}",n,F_GetMoneyDisplay(i)),l.callbackFun=c,createMsgBox(l)}cc.log(E_ResourceType.GOLD==t.resourceType),cc.log(E_ResourceType.CARD==t.resourceType),cc.log(E_ResourceType.BANK==t.resourceType),E_ResourceType.GOLD==t.resourceType?DataNotify.onMoneyChanged(t.value):E_ResourceType.CARD==t.resourceType?DataNotify.onDiamondChanged(t.value):E_ResourceType.BANK==t.resourceType?DataNotify.onBankMoneyChanged(t.value):E_ResourceType.GiftCard==t.resourceType?DataNotify.onGiftCardChanged(t.value):E_ResourceType.TRANSFERNUM==t.resourceType&&DataNotify.onTransfernumChanged(t.value)}},dealNotifySupportInfo:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&function(e){var t={};t.supportTimesEveryDay=e.popINT(),t.supportMinLimitMoney=e.popINT(),t.supportMoneyCount=e.popINT(),t.leftSupportTimes=e.popINT()}(e)},dealNotifyFriendNotify:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendNotify=FriendManager._Resolve_OneFriendNotify(e),t}(e);DataNotify.onFriendNotifyAdd(t.friendNotify)}},dealNotifyFriendAdd:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friend=FriendManager._Resolve_OneFriendInfo(e),t}(e);DataNotify.onFriendAdd(t.friend)}},dealNotifyFriendDel:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendID=e.popINT(),t}(e);DataNotify.onFriendDel(t.friendID)}},dealNotifyFriendNotifyDel:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.notifyID=e.popINT(),t}(e);DataNotify.onFriendNotifyDel(t.notifyID)}},dealNotifyFriendLoginOrOut:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendID=e.popINT(),t.loginType=e.popINT(),t}(e);1==t.loginType?t.onlineStatus=E_FriendOnlineStatus.ON:2==t.loginType&&(t.onlineStatus=E_FriendOnlineStatus.OFF),DataNotify.onFriendOnlineStatusChange(t)}},dealNotifyFriendRedSpot:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.friendListRedSpotCount=e.popINT(),t.notifyListRedSpotCount=e.popINT(),t}(e);DataNotify.onFriendRedSpotChange(t)}},dealNotifyCloseServer:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.status=e.popINT(),t.closeServerTime=e.popLONGLONG(),t.openServerTime=e.popLONGLONG(),t.count=e.popINT(),t.param1=e.readString(64),t.param2=e.readString(64),t.param3=e.readString(64),t.param4=e.readString(64),t.param5=e.readString(64),t.param6=e.readString(64),t.param7=e.readString(64),t.param8=e.readString(64),t.param9=e.readString(64),t.param10=e.readString(64),t}(e);if(1==t.status){var i=C_Director.getScene();for(var n in i.children)i.children[n].zIndex==G_SYSTEMNOTICE_ZORDER_TAG&&i.removeChild(i.children[n]);var o=function(){window.location.replace(window.location.href)};cc.loader.loadRes("prefab/NoticeSystem",function(e,n){var a=cc.instantiate(n),r=a.getComponent("NoticeSystem");a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,r.init(t,o),i.addChild(a,G_SYSTEMNOTICE_ZORDER_TAG)})}}},dealLogonGamePeoplecountChange:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.peopleCount=e.popINT(),t}(e);DataNotify.onLogonGamePeoplecountChange(t.peopleCount)}},dealLogonWorldChat:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.type=e.popBYTE(),t.userID=e.popINT(),t.name=e.popNCHAR(256),t.headURL=e.popNCHAR(MAX_USER_NAME_LEN),t.address=e.popNCHAR(64),t.chatContent=e.popNCHAR(100),t.time=e.popINT(),t.tag=e.popINT(),t.videoID=e.popINT(),t}(e),i=UserInfoManager.getMyInfo().userID;if(123363!=i&&124624!=i&&123071!=i||createTips("\u6536\u5230\u6d88\u606f="+t.chatContent),DataNotify.onLogonNewMsgComing2(t),DataNotify.onLogonNewMsgComing1(t),window.G_bGetChatList){var n=Object.keys(window.G_chatList).length;if(n>=1e3)for(var o=2;o<=1e3;o++)window.G_chatList[o-1]=window.G_chatList[o];window.G_chatList[n+1]=t}}},dealLogonRewardNewUser:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.giftCard=e.popINT(),t.money=e.popINT(),t}(e);createNewhandReward(t.giftCard,t.money)}},dealNotifyLuziInfo:function(){},backLogin:function(){cc.sys.isNative?cc.game.restart():window.location.replace(window.location.href)},requestHorn:function(e){var t=this.createNetMsg(1024,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_SEND_HORN);t.pushNCHAR(e,1024),this.sendData(t)},requestDissmissDesk:function(e){var t=this.createNetMsg(20,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_DISSMISS_DESK);t.pushNCHAR(String(e),20),this.sendData(t)},isInSelfRemoveList:function(e,t){var i=[{mainID:MSG_MAIN_LOGON_OTHER,assID:MSG_ASS_LOGON_OTHER_SEND_GRADE},{mainID:MSG_MAIN_LOGON_OTHER,assID:MSG_ASS_LOGON_OTHER_EMAIL_LIST}],n=tools.stringFormat("{0}_{1}",e,t);for(var o in i){var a=i[o];if(n==tools.stringFormat("{0}_{1}",a.mainID,a.assID))return!0}return!1},checkLobbyVersion:function(){},requestUserInfo:function(e,t){if(!(e<=0)){var i=this.createNetMsg(4,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_USERINFO);i.pushINT(Number(e)),this.sendData(i,function(i){if(G_HANDLE_CODE_OK==i.bHandleCode){var n=function(e){var t={};return t.name=e.readString(MAX_USER_NAME_LEN),t.headURL=e.readString(256),t.sex=e.popBYTE(),t.gameCount=e.popINT(),t.winCount=e.popINT(),t.onlineStatus=e.popBYTE(),t.longitude=e.readString(12),t.latitude=e.readString(12),t.address=e.readString(64),t.jewels=e.popINT(),t.money=e.popLONGLONG(),t.logonIP=e.readString(24),t.motto=e.readString(128),t.giftCard=e.popLONGLONG(),t}(i);cc.log(n),n.userID=e,UserInfoManager.push(n.userID,n),t(n)}})}},requestLogonUserinfoFlush:function(e,t){var i=this.createNetMsg(1,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REWARD_NEW_USER);i.pushBYTE(e),this.sendData(i,function(e){G_HANDLE_CODE_OK==e.bHandleCode&&t&&t()})},requestSetAutograph:function(e,t){var i=this.createNetMsg(256,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_SET_AUTOGRAPH);i.pushNCHAR_NO(e,256),this.sendData(i,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_SET_AUTOGRAPH,function(e){G_HANDLE_CODE_OK==e.bHandleCode?t&&t(!0):t(!1)})},requestRoomUserCount:function(e,t){var i=this.createNetMsg(4,MSG_MAIN_LOGON_OTHER,MSG_ADD_LOGON_OTHER_QUERY_ROOMUSERCOUNT);i.pushINT(e),this.sendData(i,MSG_MAIN_LOGON_OTHER,MSG_ADD_LOGON_OTHER_QUERY_ROOMUSERCOUNT,function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var i=function(e){var t={};return t.userCount=e.popINT(),t}(e);t&&t(i.userCount)}})},requestSavePosition:function(e,t){createTips("1111111111"),this.getMyInfo().longitude=e.longitude||G_longitude,createTips("2222222222 "+this.getMyInfo().longitude),this.getMyInfo().latitude=e.latitude||G_latitude,createTips("333333333 "+this.getMyInfo().latitude),createTips("99999999999");var i={};i.url="https://"+NetConfig.getPHP_IP()+"/api/v1/user/saveUserAddress",i.params={userID:this.getMyInfo().userID,longitude:this.getMyInfo().longitude,latitude:this.getMyInfo().latitude,address:"\u672a\u77e5"},createTips("AAAAAAAAAAA"),createTips("longitude "+this.getMyInfo().longitude+"latitude "+this.getMyInfo().latitude),i.fCallback=function(){cc.log("\u4fdd\u5b58\u5730\u5740\u5931\u8d25")},i.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(i)},requestSaveSignature:function(e,t){var i=this.createNetMsg(256,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_SIGN);i.pushNCHAR(e,256),this.sendData(i,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_SIGN,function(e){G_HANDLE_CODE_OK==e.bHandleCode&&t&&t()})},requestAgentConfig:function(e){var t={};t.params={api:"Agent",action:"isAgent",userID:this.getMyInfo().userID},t.fCallback=function(){},t.sCallback=function(t){e&&e(t)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},onEnterBackground:function(){this.isConnected()},onEnterForeground:function(){this.isConnected()?(this.sendHelloMessage(),this.tmpDelay=function(){var e=cc.director.getScene().getChildByName("Canvas").getChildByName("Hall_Node");null!=e&&(e=e.getComponent("LobbyScene")),null!=e&&e.updateUI&&e.updateUI()},this.scheduleOnce(this.tmpDelay,.01)):(this.tmpDelay=function(){createRepeatConnectLayer(cc.director.getScene())},this.scheduleOnce(this.tmpDelay,.01))},enterGameRoom:function(e){var t=this.createNetMsg(5,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_ENTERTHEGAMEROOM);t.pushBYTE(1),t.pushINT(e),this.sendData(t)},leftGameRoom:function(e){var t=this.createNetMsg(5,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_ENTERTHEGAMEROOM);t.pushBYTE(2),t.pushINT(e),this.sendData(t)},sendMatchJoinInfo:function(){cc.log("LobbySocket.sendMatchJoinInfo()");var e=this.createNetMsg(0,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_JOIN_MATCH_SCENE);this.sendData(e)},sendMatchLeftInfo:function(){cc.log("LobbySocket.sendMatchLeftInfo()");var e=this.createNetMsg(0,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_EXIT_MATCH_SCENE);this.sendData(e)},sendRankMatchInfo:function(e,t,i){cc.log("LobbySocket.sendToDuanWeiInfo()");var n=this.createNetMsg(5,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_REQ_ENTER_OR_LEAVE_THE_GAMERO);n.pushBYTE(1),n.pushINT(1e4),this.sendData(n,i)},requestChatList:function(e,t){var i=this.createNetMsg(4,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_GET_WORLD_CHAT);i.pushINT(Number(e)),this.sendData(i,function(e){var i={msgCount:0};if(G_HANDLE_CODE_OK==e.bHandleCode){var n=e.popINT();i.msgCount=n;for(var o=1;o<n;o++){var a={};tempDatatype=e.popBYTE(),a.userID=e.popINT(),a.name=e.popNCHAR(256),a.headURL=e.popNCHAR(256),a.address=e.popNCHAR(64),a.chatContent=e.popNCHAR(100),a.time=e.popINT(),i[o]=a}}t(i)})},sendChat:function(e,t,i,n){var o=this.createNetMsg(112,MSG_MAIN_LOGON_OTHER,MSG_ASS_LOGON_OTHER_SEND_WORLD_CHAT);o.pushBYTE(e),o.pushNCHAR(t,100),o.pushINT(i),o.pushINT(n),this.sendData(o)},onSocketMsg:function(e){if(this.resolveNetMsgHead(e),e.bHandleCode!==G_HANDLE_CODE_OK){var t=GlobalError.getErrorStr(e.bHandleCode);""!==t?(console.warn(tools.getCurTime()+" SOCK_MSG_RSP failed maincmd:"+e.bMainID+" subcmd:"+e.bAssistantID+" errcode:"+e.bHandleCode+" errmsg:"+t),createTips(t),"\u623f\u95f4\u4e0d\u5b58\u5728"==t&&window.testModule&&cc.sys.localStorage.removeItem("roomNo")):console.warn(tools.getCurTime()+" SOCK_MSG_RSP failed maincmd:"+e.bMainID+" subcmd:"+e.bAssistantID+" errcode:"+e.bHandleCode+" errmsg:"+t)}e.bHandleCode==G_HANDLE_CODE_OK&&console.info(tools.getCurTime()+" SOCK_MSG_RSP sucess maincmd:"+e.bMainID+" subcmd:"+e.bAssistantID),MSG_MAIN_MATCH_NOTIFY==e.bMainID&&(MSG_NTF_LOGON_MATCH_NOTIFY_START_MATCH,e.bAssistantID);var i=this.getCallbackFun(e.getCmd());i?(removeLoading(),this.removeNetCallback(e.getCmd()),i(e)):(cc.log("1",e.bMainID,e.bAssistantID),MSG_MAIN_LOGON_NOTIFY==e.bMainID?(cc.log("2",e.bMainID,e.bAssistantID),this.onLogonNotifyMessage(e)):MSG_MAIN_FRIENDSGROUP_NOTIFY==e.bMainID?FriendsGroupManager.onFriendsGroupNotifyMessage(e):MSG_MAIN_MATCH_NOTIFY==e.bMainID&&(cc.log("\u6536\u5230\u4e86\u6bd4\u8d5b\u573a\u7684\u4fe1\u606f"),MatchManager.onMatchgameNotifyMessage(e)),cc.log("3",e.bMainID,e.bAssistantID),MSG_MAIN_LOADER_LOGON==e.bMainID?GameSocket.onLoginMessage(e):MSG_MAIN_LOADER_NOTIFY_USER==e.bMainID?GameSocket.onGameNotifyUserMessage(e):MSG_MAIN_LOADER_NOTIFY==e.bMainID?(console.log("\u6536\u5230\u804a\u5929\u6d88\u606f\u5566 "),GameSocket.onGameNotifyMessage(e)):MSG_MAIN_LOADER_FRAME==e.bMainID?GameSocket.onFrameMessage(e):MSG_MAIN_LOADER_GAME==e.bMainID?GameSocket.onGameMessage(e):MSG_MAIN_LOADER_RESOURCE_CHANGE==e.bMainID?GameSocket.onResourceChange(e):MSG_MAIN_LOADER_VCODE==e.bMainID?GameSocket.onGameYanCode(e):MSG_MAIN_LOADER_MATCH==e.bMainID?GameSocket.onMatchDeskChange(e):MSG_NTF_LOADER_DESK_NO_USER==e.bMainID?GameSocket.backLobby():MSG_MAIN_LOGON_NOTIFY==e.bMainID&&MSG_NTF_LOGON_WORLD_CHAT==e.bAssistantID?this.dealLogonWorldChat(e):MSG_MAIN_LOGON_NOTIFY==e.bMainID&&MSG_NTF_LOGON_REWARD_NEW_USER==e.bAssistantID?this.dealLogonRewardNewUser(e):e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectSuccess&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectFailed&&e.bMainID!=E_ClientNetStatusProtocolDef.NetStatusProtocol_DisConnect&&E_NET_CONNECT_MAINID.mainid_net_connect!=e.bMainID&&cc.log("LobbySocket \u8fd8\u6536\u5230\u4e86 bMainID="+e.bMainID+", bAssistantID="+e.bAssistantID+" \u7684\u6d88\u606f\u6ca1\u6709\u89e3\u6790 \u8fde\u63a5\u6d88\u606f(1, 1)\u548c\u5fc3\u8df3\u6d88\u606f(1, 2)\u9664\u5916\uff0c\u5f80\u4e0b\u67e5\u770b\u662f\u5426\u662f\u6e38\u620f\u5f00\u53d1\u8005\u81ea\u5df1\u7ed1\u5b9a\u7684\u6d88\u606f"))}});t.exports=o,cc._RF.pop()},{EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic",LoginRoomLogic:"LoginRoomLogic",TcpClient:"TcpClient"}],LobbyTopPanel:[function(e,t){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}cc._RF.push(t,"8c8e1ficOhPg7lolMg85Wyp","LobbyTopPanel");var n=e("EventEmiter").GlobalEvent;cc.Class({extends:e("LobbyBaseLayer"),properties:{nameLabel:cc.Label,idLabel:cc.Label,jewelsLabel:cc.Label,changeLabel:cc.Label,goldLabel:cc.Label,head:cc.Sprite,ticketLabel:cc.Label,rengzheng:cc.Node,diyiyeXiaoXi:cc.Node,LabelNoticeNode:cc.Node},onLoad:function(){this.isShowStopSvr=!1,this.isShowNotice=!1,this.LabelNoticeNode.active=!0,this.noticeList=[],this.noticeListSpec=[],this.nPlayIndex=0,this.LobbyLogic=new(e("LobbyLogic"));var t=this.LobbyLogic.getRealName(),i=this.LobbyLogic.getIDCard();""!=t&&""!=i&&(this.rengzheng.active=!0);var n=function(e){this.head&&cc.isValid(this.head)&&(this.head.spriteFrame=e)}.bind(this),o=this.LobbyLogic.getAvataUrl(),a=UserInfoManager.getMyInfo().userID;AvatarManager.requestHeadRes(o,a,n,null),this.onFriendsGroupRedSpotChange()},onMoneyChanged:function(e){void 0!==e&&(this.goldLabel.string=e/100)},onDiamondChanged:function(e){this.jewelsLabel.string=e/100},onGiftCardChanged:function(e){this.ticketLabel.string=e},onTransfernumChanged:function(e){this.changeLabel.string=e},onLogonGamePeoplecountChange:function(){},start:function(){},setParentNodeProxy:function(e){this.parentNodeProxy=e},onTool:function(){},onEnable:function(){var e=this;this.nameLabel.string=this.LobbyLogic.getNickName(),this.idLabel.string="ID\uff1a"+this.LobbyLogic.getUserID(),this.jewelsLabel.string=tools.toThousands(this.LobbyLogic.getRoomCard()),this.changeLabel.string=tools.toThousands(this.LobbyLogic.getTransferNum()),this.goldLabel.string=this.LobbyLogic.getWalletMoney()/100,this.ticketLabel.string=this.LobbyLogic.getWalletGiftCard(),this.nameLabel.string=this.nameLabel.string,this._super(),this.initUIData(),n.instance.on("PLAYER_NICK_CHANGE",this.onNameChange,this),n.instance.on("NORMAL_NOTICE",this.onNormalNotice,this),this.scheduleOnce(function(){e.requestSystemNotice()},1)},onDisable:function(){this._super(),n.instance.off("PLAYER_NICK_CHANGE",this.onNameChange,this),n.instance.off("NORMAL_NOTICE",this.onNormalNotice,this)},initUIData:function(){this.nameLabel.string=this.LobbyLogic.getNickName()},onNameChange:function(e){this.nameLabel.string=e},onFriendsGroupRedSpotChange:function(){if(this.diyiyeXiaoXi){var e=FriendsGroupManager.getNotifyRedSpotCount();0!=window.message&&null!=window.message||(e>0?this.diyiyeXiaoXi.getChildByName("btn_clubMsgRed").getComponent("ShowRedPoint").show():this.diyiyeXiaoXi.getChildByName("btn_clubMsgRed").getComponent("ShowRedPoint").hide())}},makeNoticeContent:function(e){if("object"!=typeof e)return"";var t=e.tag,i=e.content,n="",o="        ",a=i.split("#");if(a.length>=1&&t&&t>=1){var r=decodeURI(a[0]);t&&1==t?a[1]?(n=a[1],i="\u6b22\u8fce\u7528\u6237"+o+"<color=#208307> "+r+" </color>\u7684\u5230\u6765,\u8ba9\u6211\u4eec\u4e00\u8d77\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01"):i="\u6b22\u8fce\u7528\u6237<color=#208307> "+r+" </color>\u7684\u5230\u6765,\u8ba9\u6211\u4eec\u4e00\u8d77\u4e3a\u5bb6\u4e61\u4ee3\u8a00\uff01":t&&2==t?a[3]?(n=a[3],i="\u606d\u559c\u7528\u6237"+o+"<color=#208307> "+r+" </color>\u5728<color=#208307> "+a[1]+" </color>\u4e2d\u8d62\u5f97<color=#208307> "+a[2]+" </color>"):i="\u606d\u559c\u7528\u6237<color=#208307> "+r+" </color>\u5728<color=#208307> "+a[1]+" </color>\u4e2d\u8d62\u5f97<color=#208307> "+a[2]+" </color>":t&&3==t?a[3]?(n=a[3],i="\u606d\u559c\u7528\u6237"+o+"<color=#208307> "+r+" </color>\u5728<color=#208307> "+a[1]+" </color>\u4e2d<color=#208307> "+a[2]+" </color>"):i="\u606d\u559c\u7528\u6237<color=#208307> "+r+" </color>\u5728<color=#208307> "+a[1]+" </color>\u4e2d<color=#208307> "+a[2]+" </color>":t&&4==t?a[2]?(n=a[2],i="\u7528\u6237"+o+"<color=#208307> "+r+" </color>\u62a5\u540d\u4e86<color=#208307> "+a[1]+" </color>"):i="\u7528\u6237<color=#208307> "+r+" </color>\u62a5\u540d\u4e86<color=#208307> "+a[1]+" </color>":t&&5==t&&(a[2]?(n=a[2],i="\u7528\u6237"+o+"<color=#208307> "+r+" </color>\u9886\u53d6\u4e86<color=#208307> "+a[1]+" </color>"):i="\u7528\u6237<color=#208307> "+r+" </color>\u9886\u53d6\u4e86<color=#208307> "+a[1]+" </color>")}var s={};return s.newContent=i,s.Headurl=n,s},makeNoticePlayHead:function(e,t){var i=e.getChildByName("Image_Avata").getComponent(cc.Sprite),n=t.tag,o=t.Headurl;n&&e&&""!=o&&(1==n||2==n||3==n?(e.active=!0,e.x=120):4!=n&&5!=n||(e.active=!0,e.x=75),cc.loader.load({url:o,type:"png"},function(e,t){if(e)console.error("load remote spriteframe res failed url:"+url,e.message||e);else{var n=new cc.SpriteFrame(t);i.node&&cc.isValid(i.node)&&(i.spriteFrame=n)}}))},onNormalNotice:function(e){if(!this.isShowStopSvr){var t={};if("object"!=typeof e)return t.content=e,t.type=1,this.noticeList.push(t),void this.showNotice();t=i({},e);var n=this.makeNoticeContent(t);t.content=n.newContent,t.Headurl=n.Headurl,e.type&&1==e.type?this.noticeList.push(t):e.type&&100==e.type?(this.noticeList=[],this.noticeListSpec=[],this.noticeList.push(t),this.isShowStopSvr=!0):this.noticeListSpec.push(t),this.showNotice()}},requestSystemNotice:function(){var e=this,t=NoticeManager.getNormalNoticeList();tableIsEmpty(t)?this.LobbyLogic.requestSystemNotice(function(t){t?e.startSystemNotice():cc.log("\u83b7\u53d6\u7cfb\u7edf\u516c\u544a\u5931\u8d25.........")}):this.startSystemNotice()},startSystemNotice:function(){var e=NoticeManager.getNormalNoticeList();for(var t in e){var n=i({},e[t]),o=this.makeNoticeContent(n);n.content=o.newContent,n.Headurl=o.Headurl,n.type&&1==n.type?this.noticeList.push(n):n.type&&100==n.type?(this.noticeList=[],this.noticeListSpec=[],this.noticeList.push(n),this.isShowStopSvr=!0):this.noticeListSpec.push(n)}this.showNotice()},showNotice:function(){var e=this;if(!this.isShowNotice){var t=this;this.isShowNotice=!0,function i(){var n={};if(t.noticeListSpec.length>0)n=t.noticeListSpec[0];else{if(0==t.noticeList.length)return void(t.isShowNotice=!1);t.nPlayIndex=Math.floor(Math.random()*t.noticeList.length),n=t.noticeList[t.nPlayIndex]}var o=t.LabelNoticeNode.getChildByName("Image_Bg_Notice").getChildByName("mask").getChildByName("txt");t.curPlayingNode=o,t.curPlayingNotice=n,o.getComponent(cc.RichText).string=n.content;var a=o.getChildByName("Avata_Node");a.active=!1,e.makeNoticePlayHead(a,n),o.getComponent(cc.RichText)._updateRichText();var r=o.width+o.parent.width+10,s=r/128,c=o.x;o.runAction(cc.sequence(cc.moveBy(s,-r,0),cc.callFunc(function(){o.x=c,0==t.curPlayingNotice.type&&t.noticeListSpec.splice(0,1),i()})))}()}},CreateRoomGameConfig:function(e,t){var i=this,n="";switch(t){case"Button_Service":n="prefab/lobby/LayoutProposal";break;case"giveGiftCard":n="prefab/lobby/LayoutGiveGiftCard";break;case"btn_question":createQustion()}"btn_question"!=t&&(""!=n?(window.LobbyBottom.setBottomButtonStatus(-1),cc.resources.load(n,cc.Prefab,function(e,t){e?cc.log("\u8f7d\u5165\u9884\u5236"+resUrl+"\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+e):(i.parentNodeProxy.BottomLayOutContent.children.forEach(function(e){e.destroy()}),i.parentNodeProxy.LayOutContent.children.forEach(function(e){e.destroy()}),i.parentNodeProxy.BottomLayOutContent.removeAllChildren(),i.parentNodeProxy.LayOutContent.removeAllChildren(),cc.instantiate(t).parent=i.parentNodeProxy.BottomLayOutContent)}),window.LobbyBottom.handleAnnimation()):createTips("\u656c\u8bf7\u671f\u5f85"))}}),cc._RF.pop()},{EventEmiter:"EventEmiter",LobbyBaseLayer:"LobbyBaseLayer",LobbyLogic:"LobbyLogic"}],LobbyURLShart:[function(e,t){"use strict";cc._RF.push(t,"7166bT1jNZEirepXh9i1oos","LobbyURLShart"),cc.Class({extends:e("BaseLayer"),properties:{LayoutNode:cc.Node},onLoad:function(){this.fitBg()},fitBg:function(){var e=this.LayoutNode,t=cc.view.getFrameSize();cc.log("--\u89c6\u56fe\u8fb9\u6846\u5c3a\u5bf8\uff1aw:"+t.width+"  h:"+t.height);var i=cc.view.getDesignResolutionSize();if(cc.log("--\u8bbe\u8ba1\u5206\u8fa8\u7387\uff1a"+i.width+"    h: "+i.height),t.width/t.height>i.width/i.height){var n=i.height/t.height*t.width/i.width;e.scaleX=n,e.scaleY=n}else{var o=i.width/t.width*t.height/i.height;e.scaleX=o,e.scaleY=o}},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],LogicBasis:[function(e,t){"use strict";cc._RF.push(t,"36deb+4zUpOsZ6bChdh4ZaI","LogicBasis");var i=cc.Class({extends:cc.Component,ctor:function(){},sendData:function(e,t){LobbySocket.send(e,t)},getUserID:function(){return LobbySocket.getMyInfo().userID},getRoomCard:function(){return LobbySocket.getMyInfo().jewels},getWalletMoney:function(){return LobbySocket.getMyInfo().money},getWalletGiftCard:function(){return LobbySocket.getMyInfo().giftCard},getTransferNum:function(){return LobbySocket.getMyInfo().transferNum},getUserToken:function(){return LobbySocket.getMyInfo().userToken},getLogicName:function(){},getMyInfo:function(){return LobbySocket.getMyInfo()},getLoginAcc:function(){return LobbySocket.getMyInfo().account},getLoginPsw:function(){return LobbySocket.getMyInfo().passwd},getNickName:function(){return decodeURI(LobbySocket.getMyInfo().name)},isBoy:function(){return 0==LobbySocket.getMyInfo().sex},getAvataUrl:function(){return LobbySocket.getMyInfo().headURL},getLogonIP:function(){return LobbySocket.getMyInfo().logonIP},getBankMoney:function(){return LobbySocket.getMyInfo().bankMoney},getBankPasswd:function(){return LobbySocket.getMyInfo().bankPasswd},setBankPasswd:function(e){LobbySocket.getMyInfo().bankPasswd=e},getBankPasswdFlag:function(){return LobbySocket.getMyInfo().bankPasswdFlag},setBankPasswdFlag:function(e){LobbySocket.getMyInfo().bankPasswdFlag=e},setRoomCard:function(e){LobbySocket.getMyInfo().iJewels=e},getLongitude:function(){return LobbySocket.getMyInfo().longitude},getLatitude:function(){return LobbySocket.getMyInfo().latitude},getAddress:function(){return LobbySocket.getMyInfo().address},getGoodsAddress:function(){return LobbySocket.getMyInfo().goodsAddress},getPhone:function(){return LobbySocket.getMyInfo().goodsPhone},getRealName:function(){return LobbySocket.getMyInfo().realName},getIDCard:function(){return LobbySocket.getMyInfo().idCard},createNetMsg:function(e,t,i){return LobbySocket.createNetMsg(e,t,i)},bindingNetCallback:function(e,t,i){var n=e+"-"+t;LobbySocket.bindingNetCallback(n,i)},removeNetCallback:function(e,t){var i=e+"-"+t;LobbySocket.removeNetCallback(i)},closeSocket:function(){LobbySocket.clear()},backLogin:function(){this.closeSocket(),LobbySocket.close(),createLoading("\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e..",8,!0),window.location.reload()},onDisconnect:function(){},isConnected:function(){return LobbySocket.isConnected()}});t.exports=i,cc._RF.pop()},{}],LoginLogic:[function(e,t){"use strict";cc._RF.push(t,"f8d7fzwx1dBSLpxV9VZXfxJ","LoginLogic"),cc.Class({extends:e("LogicBasis"),ctor:function(){this.isConnecting=!1},accountRegist:function(e,t,i){var n=function(){var n=function(n){if(n.bHandleCode===G_HANDLE_CODE_OK){var o=this._Resolve_LogonResponseRegister(n);t(!0,o.userID,o.userToken),G_LOGIN_TYPE_XX=E_LoginType.PC,G_WX_UINIONID=null,o.regWay===E_RegWay.WX&&(G_LOGIN_TYPE_XX=E_LoginType.WX,G_WX_UINIONID=o.unionid),G_USER_PASSWORD=e.psw;var a=cc.sys.localStorage.getItem(G_LOGIN_TYPE);e.regWay===E_RegWay.COMMON?(cc.sys.localStorage.setItem(G_ACCOUNT_KEY,e.acc),cc.sys.localStorage.setItem(G_PASSWARD_KEY,i),a=E_LoginType.PC):e.regWay===E_RegWay.WECHAT?a=E_LoginType.WX:e.regWay===E_RegWay.QQ?a=E_LoginType.QQ:e.regWay===E_RegWay.PHONE&&(a=E_LoginType.PHONE,cc.sys.localStorage.setItem(G_ACCOUNT_KEY,e.acc),cc.sys.localStorage.setItem(G_PASSWARD_KEY,i)),cc.sys.localStorage.setItem(G_LOGIN_TYPE,a)}else 14==n.bHandleCode&&(alert("\u8d26\u53f7\u4e0d\u5339\u914d \u79fb\u9664\u672c\u5730\u6570\u636e \u8bf7\u5237\u65b0"),cc.sys.localStorage.removeItem("wechatArgs_"+G_PLATFORM_NAME),cc.sys.isNative?cc.game.restart():window.location.replace(window.location.href))}.bind(this),o=MSG_MAIN_LOGON_REGISTER,a=MSG_ASS_LOGON_REGISTER_NORMAL;cc.log("MSG_ASS_LOGON_REGISTER_NORMAL");var r=LobbySocket.createNetMsg(MAX_USER_NAME_LEN+388+5+24+64+4,o,a);e.regType=E_RegType.PC,cc.sys.isMobile&&(e.regType=E_RegType.MOB),e.regWay=e.regWay||E_RegWay.COMMON,e.regStatus=e.regStatus||E_RegStatus.REG,e.sex=e.sex||E_UserSex.E_UserSex,e.headURL=e.headURL||"",""==e.headURL&&e.headURL;var s=Number(cc.sys.localStorage.getItem(G_SHARE_USERID));r.pushBYTE(e.regType),r.pushBYTE(e.regWay),r.pushNCHAR(e.acc,MAX_USER_NAME_LEN),r.pushNCHAR(e.psw,64),r.pushBYTE(e.regStatus),r.pushBYTE(e.sex),r.pushNCHAR(e.headURL,256),r.pushNCHAR(e.unionid,64),r.pushBYTE(0),r.pushINT(s),r.pushNCHAR("",24),r.pushNCHAR("",64),r.pushINT(s),LobbySocket.send(r,n,"")}.bind(this);this.isConnected()?n():this.connectSocket(function(e){e&&n()})},_Resolve_LogonResponseRegister:function(e){var t={};return t.userID=e.readInt(),t.userToken=e.readString(64),t.unionid=e.readString(64),t.regWay=e.readByte(),t},loginLobby:function(e,t){this.isConnected()?LobbySocket.login(e,t):this.connectSocket(function(i){i&&LobbySocket.login(e,t)})},connectSocket:function(e){var t=this;if(!this.isConnecting){this.isConnecting=!0;var i=null;LobbySocket.connectService(function(n){t.isConnecting=!1,t.unschedule(i),e&&(e(n),e=null)}),i=function(){t.isConnecting=!1},this.schedule(i,G_COMMON_TIMEOUT_TIME)}}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],LoginManager:[function(e,t){"use strict";cc._RF.push(t,"24721Yvt45B5IOsC61Zcm0P","LoginManager"),t.exports=cc.Class({ctor:function(){}}),cc._RF.pop()},{}],LoginRoomLogic:[function(e,t){"use strict";cc._RF.push(t,"33b40UoB/lJ3rez44jdb+sj","LoginRoomLogic"),t.exports=cc.Class({ctor:function(){},enterRoom:function(e,t,i,n,o){RoomListManager.setRoomInfo(e),UserInfoManager.getMyInfo().checkPointsNum=n||0,UserInfoManager.getMyInfo().costType=o||0,GameManager.onGameUpdateSucceed()}}),cc._RF.pop()},{}],MJCommon_Card:[function(e,t){"use strict";cc._RF.push(t,"4dcc7ZgWqNB4K04POKIg9Ks","MJCommon_Card"),cc.Class({extends:cc.Component,properties:{background:cc.Node,valueNode:cc.Node,tingCardNode:cc.Node,imageType:cc.Node,ghostType:cc.Node,huType:cc.Node,anbgNode:cc.Node,anbgSprites:[cc.SpriteFrame]},onEnable:function(){this.arryTouchFlag=!1},onLoad:function(){var e=this;this.valueNode=this.node.children[0],this.background&&(this.valueNode=this.node.children[1]),this.grayColor=cc.color(180,180,180),this.whiteColor=cc.Color.WHITE,this.grayColor2=cc.color(125,125,125),this.sceneRotation=cc.director.getScene().children[0].angle,180==this.sceneRotation?this.isRotate=!0:this.isRotate=!1,this.oldPos=this.node.getPosition(),this.node.on(cc.Node.EventType.TOUCH_START,function(){e.touchCardCallBack&&"function"==typeof e.touchCardCallBack&&e.scheduleOnce(function(){e.touchCardCallBack(e.id)},.1),e.isUnEnabled||e.m_isEnable||(e.dateBegin=new Date,e.arryTouchFlag=!1)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(e.isUnEnabled)cc.log("\u5f53\u524d\u7684\u724c\u7981\u6b62\u9009\u4e2d\u5f53\u524d\u7684\u724c\u7981\u6b62\u9009\u4e2d");else if(!(e.m_isEnable||cc.mj.Data.moveFlag&&cc.mj.Data.moveFlag!==e.id)){var i=t.getDelta();!e.isTouch||cc.mj.Data.isPlayback||cc.mj.Data.showCtrlBtns||e.isMeTurn()&&cc.mj.Data.isGaming&&(e.node.x+=e.isRotate?-i.x:i.x,e.node.y+=e.isRotate?-i.y:i.y,cc.mj.Data.moveFlag=e.id)}}),this.node.on(cc.Node.EventType.TOUCH_END,function(){return e.touch()}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){return e.touch()}),GameEvent.on("selectPai",this.selectPai,this),GameEvent.on("closeCard",this.closeCard,this),this._alt=cc.mjSpriteAlt,this.curNodeColor=this.whiteColor},init:function(e,t,i,n,o,a){if(this.reset(),this.isTouch=i,this.handTrue=t,this.id=e,this.oldId=e,this.node.getComponent(cc.Sprite).enabled=!0,this.valueNode.active=!0,this.anbgNode&&(this.anbgNode.active=!1),this.anbgNode&&"handCard"===n&&0===this.sitIndex&&cc.mj.Data.isWatchMode){this.isTouch=!1,this.node.active=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.background&&(this.background.active=!1),this.valueNode.active=!1;var r=this.anbgSprites[0];return 1==a&&(r=this.anbgSprites[1]),this.anbgNode.getComponent(cc.Sprite).spriteFrame=r,this.anbgNode.active=!0,void console.log("show an hand card",e,this.node.active)}if(255!=e){this.node.active=!0,this.background&&(this.background.active=1==a);var s=n+"_"+o+"_"+e;this.valueNode.getComponent(cc.Sprite).spriteFrame=this._alt.getSpriteFrame(s)}},selectPai:function(e){if(!this.isUnEnabled&&!this.m_isEnable){var t=e;t&&t.isShow&&t.id===this.id?this.handTrue&&this.curNodeColor==this.whiteColor&&(this.curNodeColor=this.grayColor,this.node.color=this.grayColor):this.curNodeColor==this.grayColor&&(this.curNodeColor=this.whiteColor,this.node.color=this.whiteColor)}},setTouchCardCallBack:function(e){this.touchCardCallBack=e},setPutCardCallBack:function(e){this.putCardCallBack=e},setPaiEnabled:function(e){void 0===e&&(e=!0),this.isUnEnabled=!e,this.node.color=e?this.whiteColor:this.grayColor},setChuPaiEnabled:function(e){this.m_isEnable=e},setVerifyPutCardCallBack:function(e,t,i){this.handCardComponent=e,this.verifyPutCardCardType=t,this.verifyPutCardCallBack=i},closeCard:function(){this.isUnEnabled||this.m_isEnable||30===this.node.y&&this.isTouch&&(this.node.y=0,this.emitPai(!1),this.isSelected=!1)},emitPai:function(e){!0===this.isTouch&&GameEvent.emit("selectPai",{id:this.id,isShow:e})},touch:function(){var e=this;if(!this.isUnEnabled&&!this.m_isEnable&&this.isTouch&&!this.arryTouchFlag&&!cc.mj.Data.showCtrlBtns&&!cc.mj.Data.isPlayback&&(this.arryTouchFlag=!0,cc.mj.Data.isGaming&&1!=cc.mj.Data.CardType))if(0==cc.mj.Data.CardType&&(cc.mj.Data.CardType=!0,this.scheduleOnce(function(){cc.mj.Data.CardType=!1},.3)),2==Number(cc.sys.localStorage.getItem(G_OUTCARD_SOUND)||2))if(this.node.y-this.oldPos.y>20)cc.mj.Data.selectedCard&&(cc.mj.Data.selectedCard.node.y=0,cc.mj.Data.selectedCard.isSelected=!1),cc.mj.Data.selectedCard=this,cc.mj.Data.notcanPutCard=!0,cc.mj.Data.moveFlag=null,this.putCard();else{var t=function(){cc.mj.Data.selectedCard&&(cc.mj.Data.selectedCard.node.y=0,cc.mj.Data.selectedCard.isSelected=!1),e.isSelected=!0,e.emitPai(!0),e.node.setPosition(e.oldPos),console.log(tools.getCurTime()+" \u4f4d\u7f6e\u6570\u636e",e.oldPos),e.index,e.node.y=30,cc.mj.Data.selectedCard=e};if(cc.mj.Data.moveFlag&&(cc.mj.Data.moveFlag=null),(new Date).getTime()-this.dateBegin.getTime()>500)return t();if(this.isSelected){if(!this.isMeTurn()||cc.mj.Data.notcanPutCard||cc.mj.Data.mopaiAction)return void GameEvent.emit("initHandTouch");cc.mj.Data.notcanPutCard=!0,this.putCard()}else t()}else cc.mj.Data.selectedCard&&(cc.mj.Data.selectedCard.node.y=0,cc.mj.Data.selectedCard.isSelected=!1),cc.mj.Data.selectedCard=this,cc.mj.Data.notcanPutCard=!0,cc.mj.Data.moveFlag=null,this.putCard()},showTingsanjiao:function(e){this.tingCardNode&&(this.tingCardNode.active=e),this.tingFlag=e},setHu:function(e){this.huType&&(this.huType.active=e)},setGhost:function(e){this.ghostType&&(this.ghostType.active=e)},setImageTag:function(e,t){this.imageType&&(this.imageType.active=e,this.imageType.setRotation(t))},hide:function(){this.node.active=!1},showBg:function(){this.node.active=!0,this.getComponent(cc.Sprite).enabled=!1,this.node.getChildByName("bg")&&(this.node.getChildByName("bg").active=!0)},show:function(){this.node&&(this.node.active=!0),this.getComponent(cc.Sprite).enabled=!0,this.node.getChildByName("bg")&&(this.node.getChildByName("bg").active=!1)},isMeTurn:function(){return 0===cc.mj.Data.turnFlag},mopaiAction:function(e){if(this.node.stopAllActions(),this.node.angle=0,this.hu=!1,this.sitIndex>0)return this.showBg(),void this.node.runAction(cc.sequence(cc.delayTime(.02),cc.callFunc(this.show,this)));this.node.y=110,cc.mj.Data.mopaiAction=!0,this.node.runAction(cc.sequence(cc.rotateTo(.02,0),cc.moveTo(.02,this.node.x,0),cc.moveTo(.008,this.node.x,12).easing(cc.easeOut(5)),cc.moveTo(.005,this.node.x,0),cc.callFunc(function(){cc.mj.Data.mopaiAction=!1,setTimeout(function(){e&&e()},1e3)})))},putCard:function(){var e=this.oldId;if(this.verifyPutCardCallBack&&this.verifyPutCardCardType!=G_INVALID_BYTE_VALUE){for(var t=this.handCardComponent.getComponentsInChildren("MJCommon_Card"),i=!1,n=0;n<t.length;n++){var o=t[n].id;if(Math.floor(o/10)==this.verifyPutCardCardType){i=!0;break}}if(Math.floor(e/10)!=this.verifyPutCardCardType&&i)return createTips("\u7f3a\u724c\u6ca1\u6253\u5b8c\u4e4b\u524d\u4e0d\u80fd\u6253\u5176\u4ed6\u724c"),void(this.verifyPutCardCallBack&&this.verifyPutCardCallBack())}console.log("iiiiiiiiiiiiiiiiiiiii"),this.emitPai(!1),this.isSelected=!1,cc.mj.Data.curPutCard=this,GameEvent.emit("reSendPutPai",{card:e}),this.putCardCallBack&&this.putCardCallBack(this.id)},upCardPosition:function(){this.node.y=30},downCardPosition:function(){this.node.y=0},setDingQue:function(e){e?(this.node.color=this.grayColor2,this.dingQueFlag=!0):(this.node.color=this.whiteColor,this.dingQueFlag=!1)},reset:function(){this.oldPos||this.onLoad(),this.tingCardNode&&(this.tingCardNode.active=!1),this.tingFlag=!1,this.ghostType&&(this.ghostType.active=!1),this.imageType&&(this.imageType.active=!1),this.huType&&(this.huType.active=!1),this.arryTouchFlag=!1,this.isTouch=!1,this.index=-1,this.sitIndex=0,this.node.angle=0,this.handTrue=!1,this.isSelected=!1,this.isUnEnabled=!1,this.arryTouchFlag=!1,this.node.setPosition(this.oldPos),this.isThreeSelected=!1,this.hu=!1,this.node.color=this.whiteColor,this.dingQueFlag=!1,this.id=-1,this.node.active=!1,this.moveFlag=!1},onDestroy:function(){GameEvent.off("selectPai",this.selectPai,this),GameEvent.off("closeCard",this.closeCard,this)}}),cc._RF.pop()},{}],MJ_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"db0a5EBMbBL0IKYWQ9qWPEC","MJ_ZhanJi_Item"),cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,bankerView:cc.Node,cardsNode:cc.Node,penGangPre:cc.Prefab,showCardPre:cc.Prefab,scoreLabel:cc.Label,scoreLabelGang:cc.Label,huNode:cc.Node,headerImg:cc.Sprite},initData:function(e){var t=this,i=this.cardsNode.getChildByName("penGangs"),n=this.cardsNode.getChildByName("showCards");this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var o=RoomListManager.getRoomInfo();o||((o={}).type=e.roomInfoType),o.type==E_ROOM_TYPE.PRIVATE||o.type==E_ROOM_TYPE.TABLE||o.type==E_ROOM_TYPE.GOLD?(this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2),this.scoreLabelGang.string=F_GetMoneyDisplay(e.scoreGang,2)>0?"+"+F_GetMoneyDisplay(e.scoreGang,2):F_GetMoneyDisplay(e.scoreGang,2)):(this.scoreLabel.string=e.score>0?"+"+e.score:e.score,this.scoreLabelGang.string=e.scoreGang>0?"+"+e.scoreGang:e.scoreGang),e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.huNode.active=e.win,this.bankerView.active=e.isBanker,i.children.forEach(function(e){return e.active=!1}),n.children.forEach(function(e){return e.active=!1});var a=0;e.anGangCards.forEach(function(n,o){t.addPenGang(a+o,3,n,i,e.ghostCards)}),a+=e.anGangCount,e.gangCards.forEach(function(n,o){t.addPenGang(a+o,2,n,i,e.ghostCards)}),a+=e.gangCount,a+=e.buGangCount,e.pengCards.forEach(function(n,o){t.addPenGang(a+o,1,n,i,e.ghostCards)}),e.handCards.forEach(function(e,i){var o=n.children[i];o||(o=cc.instantiate(t.showCardPre),n.addChild(o)),o.active=!0,o.getComponent("MJCommon_Card").init(e,!1,!1,"outCard",0)}),this.ruleLabel.string=e.rule},addPenGang:function(e,t,i,n){var o=n.children[e];o||(o=cc.instantiate(this.penGangPre),n.addChild(o)),o.active=!0;var a=o.getChildByName("cards").getComponentsInChildren("MJCommon_Card"),r=o.getChildByName("backCards"),s=o.getChildByName("topCard");a.push(s.getComponent("MJCommon_Card")),a.forEach(function(e){e.node.active=!1,e.init(i,!1,!1,"outCard",0)}),r.active=3===t,s.active=1!==t}}),cc._RF.pop()},{}],MYAudioEngine:[function(e,t){"use strict";cc._RF.push(t,"92c38gl+EFK06J+QRlZmtui","MYAudioEngine"),t.exports=cc.Class({ctor:function(){this.effectClipMap=new Map,this.musicStatus=cc.sys.localStorage.getItem(G_MUSIC_SWITCH),null==this.musicStatus&&(cc.sys.localStorage.setItem(G_MUSIC_SWITCH,"1"),this.musicStatus="1"),this.soundStatus=cc.sys.localStorage.getItem(G_SOUND_SWITCH),null==this.soundStatus&&(cc.sys.localStorage.setItem(G_SOUND_SWITCH,"1"),this.soundStatus="1"),this.soundResList={btnClick:"btn_click"},this.bgmVolume=.3,this.sfxVolume=cc.sys.localStorage.getItem(G_SOUND_SIZE)||1,cc.audioEngine.setMusicVolume(this.bgmVolume),cc.audioEngine.setEffectsVolume(this.sfxVolume)},initRes:function(){var e=this,t=function(t){var i=e.soundResList[t];cc.loader.loadRes(i,function(i,n){i&&cc.log("load sound err : "+i),e.soundResList[t]=n})};for(var i in this.soundResList)t(i)},playMusic:function(e,t){null==t&&(t=!0),this.bgMusicFile=e,this.bgMusicFileLoop=t,"1"==this.musicStatus?(this.isPlayedMusic=!0,cc.audioEngine.playMusic(e,t)):this.isPlayedMusic=!1},playEffect:function(e,t){var i=this;null==t&&(t=!1),"1"==this.soundStatus&&("string"==typeof e?this.effectClipMap.get(e)?cc.audioEngine.playEffect(this.effectClipMap.get(e),t):cc.loader.loadRes(e,cc.AudioClip,function(n,o){if(n)return cc.log(n);cc.audioEngine.playEffect(o,t),i.effectClipMap.set(e,o)}):cc.audioEngine.playEffect(e,t))},setEffectsVolume:function(e){this.sfxVolume=e,cc.audioEngine.setEffectsVolume(this.sfxVolume)},setSoundStatus:function(e){this.soundStatus=e?"1":"0",cc.sys.localStorage.setItem(G_SOUND_SWITCH,this.soundStatus)},getSoundStatus:function(){return"1"==this.soundStatus},setMusicStatus:function(e){this.musicStatus=e?"1":"0",cc.sys.localStorage.setItem(G_MUSIC_SWITCH,this.musicStatus)},getMusicStatus:function(){return"1"==this.musicStatus},pauseMusic:function(){cc.audioEngine.pauseMusic()},stopMusic:function(){cc.audioEngine.stopMusic()},resumeMusic:function(){this.isPlayedMusic?this.getMusicStatus()?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic():this.playMusic(this.bgMusicFile,this.bgMusicFileLoop)},getSound:function(e){return this.soundResList[e]},playClickSound:function(){}}),cc._RF.pop()},{}],MailLogic:[function(e,t){"use strict";cc._RF.push(t,"880bb+MJ7hMcp4PzYXrlKz/","MailLogic");var i="email";t.exports=cc.Class({extends:e("LogicBasis"),properties:{},ctor:function(){this.MailManager=new(e("MailManager"))},requestMailList:function(e){var t=this,n={};n.params={api:i,action:"userEmailList",userID:this.getUserID()},n.fCallback=function(){console.log("\u8bf7\u6c42userEmailList\u8d85\u65f6")},n.sCallback=function(i){0==i.status?(t.MailManager.setMailList(i.data),e&&e(t.MailManager.getMailList())):createTips(i.msg)},MyHttpRequest.doRequest(n)},requestMailInfo:function(e,t){var n=this,o={};o.params={api:i,action:"emailInfo",userID:this.getUserID(),emailID:e},o.fCallback=function(){console.log("\u8bf7\u6c42emailInfo\u8d85\u65f6")},o.sCallback=function(e){0==e.status?(n.MailManager.addMailInfo(e.data),t&&t(e.data)):createTips(e.msg)},MyHttpRequest.doRequest(o)},requestDelMail:function(e,t){var n=this,o={};o.params={api:i,action:"delUserEmail",userID:this.getUserID(),emailID:e},o.fCallback=function(){console.log("\u8bf7\u6c42delUserEmail\u8d85\u65f6")},o.sCallback=function(i){0==i.status?(n.MailManager.delMail(e),t&&t()):createTips(i.msg)},MyHttpRequest.doRequest(o)},requestTakeReward:function(e,t){var n=this,o={};o.params={api:i,action:"receiveEmailReward",userID:this.getUserID(),emailID:e},o.fCallback=function(){console.log("\u8bf7\u6c42receiveEmailReward\u8d85\u65f6"),t&&t(!1)},o.sCallback=function(i){0==i.status?(n.MailManager.changeMailReceived(e,1),t&&t(!0)):(createTips(i.msg),t&&t(!1))},MyHttpRequest.doRequest(o)}}),cc._RF.pop()},{LogicBasis:"LogicBasis",MailManager:"MailManager"}],MailManager:[function(e,t){"use strict";cc._RF.push(t,"fbf47CE9SFOp4X1+maCDV6Z","MailManager");var i=cc.Class({ctor:function(){this.mailList=[],this.notReadCount=0,this.notReceivedCount=0},_Resolve_OneSimpleEmail:function(e){var t={};return t.mailID=e.popLONGLONG(),t.sendtime=e.popINT(),t.mailType=e.popBYTE(),t.isRead=e.popBYTE(),t.isHaveGoods=e.popBYTE(),t.isReceived=e.popBYTE(),t.title=e.popNCHAR(24),t},_Resolve_OneEmailGoods:function(e){var t={};return t.resourceType=e.popBYTE(),t.nums=e.popINT(),t},setMailList:function(e){for(var t in this.mailList=[],e){cc.log(e);var i=e[t];cc.log(i),i.mailID=i.emailID,this.addMail(i)}},addMail:function(e){this.mailList[e.mailID]=e},getMailList:function(){var e=[];for(var t in this.mailList)if(this.mailList[t]){var i=this.mailList[t];e.push(i)}return e.reverse(),e},getMail:function(e){return this.mailList[e]},delMail:function(e){this.mailList[e]=null},changeMailReceived:function(e,t){this.getMail(e)&&(this.mailList[e].isReceived=t,this.mailList[e].mailInfo.isReceived=t)},getMailInfo:function(e){var t=this.getMail(e);return t?t.mailInfo:null},addMailInfo:function(e){e.mailID=e.emailID,this.getMail(e.mailID)&&(this.mailList[e.mailID].isRead=1,this.mailList[e.mailID].mailInfo=e)},setMailRedPiontCount:function(e){this.setNotReadCount(e.notReadCount),this.setNotReceivedCount(e.notReceivedCount)},setNotReadCount:function(e){this.notReadCount=e},setNotReceivedCount:function(e){this.notReceivedCount=e},getMailRedPiontCount:function(){return this.notReadCount>0?this.notReadCount:this.notReceivedCount>0?this.notReceivedCount:0},dealMailAdd:function(e){var t=this;if(G_HANDLE_CODE_OK==e.bHandleCode){var i=function(e){var i={};return i.mail=t._Resolve_OneSimpleEmail(e),i.notReadCount=e.popINT(),i.notReceivedCount=e.popINT(),i}(e);this.setMailRedPiontCount(i),this.addMail(i.mail),DataNotify.onMailRedSpot(i.notReadCount),DataNotify.onMailAdd(i.mail)}},dealMailRedSpot:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.notReadCount=e.popINT(),t.notReceivedCount=e.popINT(),t}(e);this.setMailRedPiontCount(t),this.notReadCount=t.notReadCount,this.notReceivedCount=t.notReceivedCount,DataNotify.onMailRedSpot(t.notReadCount)}},clear:function(){this.mailList=[],this.notReadCount=0,this.notReceivedCount=0,instance=null}});t.exports=i,cc._RF.pop()},{}],MatchCheckPointInfo:[function(e,t){"use strict";cc._RF.push(t,"cbda15OF2dNU6ukN+2N1Wrz","MatchCheckPointInfo"),cc.Class({extends:cc.Component,properties:{checkPointLabel:cc.Label},init:function(e){this.checkPointLabel.string=e.checkPointNum+"/"+e.count}}),cc._RF.pop()},{}],MatchCheckPointIntroLayer:[function(e,t){"use strict";cc._RF.push(t,"a0cbanIEJZOTJ06lVhorr75","MatchCheckPointIntroLayer"),cc.Class({extends:e("BaseLayer"),properties:{Button_Rule:cc.Button,Button_Detail:cc.Button,Image_Rule:cc.Node,Panel_Detail:cc.Node,ListView_Reward:cc.ScrollView,Panel_Reward:cc.Node},init:function(){this.LobbyLogic=new(e("LobbyLogic")),this.selectedButtonType=1;for(var t=1;t<=7;t++)this[tools.stringFormat("Text_{0}",t)]=this.Panel_Detail.getChildByName(tools.stringFormat("Text_{0}",t)).getComponent(cc.Label),this[tools.stringFormat("Text_{0}",t)].node.active=!1;this.Panel_Reward.active=!1,this.Panel_Detail.active=!1,this.Image_Rule.active=!1,this.initSelectedButton(),this.requestRewardInfo()},initSelectedButton:function(){if(this.Button_Rule.interactable=!(2==this.selectedButtonType),this.Button_Detail.interactable=!(1==this.selectedButtonType),this.Image_Rule.active=2==this.selectedButtonType,this.Panel_Detail.active=1==this.selectedButtonType,1==this.selectedButtonType){for(var e=1;e<=2;e++)this[tools.stringFormat("Text_{0}",e)].node.active=!0;this[tools.stringFormat("Text_{0}",1)].string=tools.stringFormat("\u6bd4\u8d5b\u540d\u79f0\uff1a{0}","\u95ef\u5173\u8d5b"),this[tools.stringFormat("Text_{0}",2)].string=tools.stringFormat("\u6bd4\u8d5b\u7c7b\u578b\uff1a{0}","\u95ef\u5173\u8d5b")}},initRewardListView:function(e){var t=function(e,t,i){var n=t.getChildByName("Text_Rank").getComponent(cc.Label),o=t.getChildByName("AtlasLabel_Gold").getComponent(cc.Label);n.string=i.name.replace("\u95ef\u5173\u8d5b","")+i.checkpointNumber+"\u5173",o.string=i.entryFee}.bind(this);F_InitListView(e,t,this.ListView_Reward,this.Panel_Reward,1)},requestRewardInfo:function(){var e=this;this.LobbyLogic.requestCheckPointConfig(function(t){for(var i=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)i.push(t[n][o]);e.initRewardListView(i)})},doButton_DetailClick:function(){1!=this.selectedButtonType&&(this.selectedButtonType=1,this.initSelectedButton())},doButton_RuleClick:function(){2!=this.selectedButtonType&&(this.selectedButtonType=2,this.initSelectedButton())}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],MatchCheckPointResultLayer:[function(e,t,i){"use strict";cc._RF.push(t,"700e8Y/XLpJ9JjeAgt5Jocd","MatchCheckPointResultLayer");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,s,c=e("../../../framework/PoolMgr"),l=e("../../ui/SpriteArray"),u=e("Tools"),h=e("BaseLayer"),d=cc._decorator,f=d.ccclass,p=d.property;(function(e){e[e["\u7ee7\u7eed"]=0]="\u7ee7\u7eed",e[e["\u664b\u7ea7"]=1]="\u664b\u7ea7",e[e["\u6dd8\u6c70"]=2]="\u6dd8\u6c70",e[e["\u95ef\u5173\u6210\u529f"]=3]="\u95ef\u5173\u6210\u529f"})(r||(r={})),cc.Enum(r),function(e){e[e["\u6d41\u5c40"]=0]="\u6d41\u5c40",e[e["\u80dc\u5229"]=1]="\u80dc\u5229",e[e["\u5931\u8d25"]=2]="\u5931\u8d25"}(s||(s={})),cc.Enum(s);var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelItemContentNode=null,t.levelItemNode=null,t.levelItemIntervalNode=null,t.levelUpTip=null,t._resultType=r.\u7ee7\u7eed,t.nextBtn=null,t.scoreProcessLabel=null,t.rewardNode=null,t.rewardLabel=null,t.contentBGNode=null,t.levelBGNode=null,t.players=null,t.costTipNode=null,t.costLabel=null,t.costTipLabel=null,t.spines=new Array,t.maxLevel=0,t.passLevel=0,t.nowLevel=0,t.maxScore=0,t.score=0,t.resultType=0,t.rewardGiftCard=0,t.reChallengeCost=0,t._delegate=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize()},t.prototype.start=function(){},t.prototype.resize=function(){cc.Canvas.instance;var e=cc.view.getFrameSize();cc.log("--\u89c6\u56fe\u8fb9\u6846\u5c3a\u5bf8\uff1aw:"+e.width+"  h:"+e.height);var t=cc.view.getDesignResolutionSize();if(cc.log("--\u8bbe\u8ba1\u5206\u8fa8\u7387\uff1a"+t.width+"    h: "+t.height),t||(t=cc.view.getDesignResolutionSize()),this.contentBGNode=this.node.getChildByName("center"),e.width/e.height>t.width/t.height){var i=e.height*(t.width/t.height);n=(n=e.width/i)>1.13?1.13:n,this.contentBGNode.scaleX=n,this.contentBGNode.scaleY=n,console.log("GameOverUI \u9002\u914d \u957f\u5c4f \u56fa\u5b9a\u9ad8\u5ea6",t.width,t.height,e.width,e.height,n)}else{var n=e.height/t.height;console.log("GameOverUI \u9002\u914d \u77ed\u5c4f \u56fa\u5b9a\u5bbd\u5ea6",t.width,t.height,e.width,e.height)}},t.prototype.init=function(e,t,i,n){this._delegate=e,i||(i=globalThis.gameResultInfo),n=n||globalThis.MatchManager.getCurCheckPointInfo();var o=function(e,t,i){var n=t?t.resultType:0;cc.log(u.getCurTime()+" \u51b2\u5173\u7ed3\u7b97","\u51b2\u5173\u7ed3\u679c:",JSON.stringify(e),"\u6e38\u620f\u5c0f\u7ed3\u7b97:",JSON.stringify(t),"\u914d\u7f6e:",JSON.stringify(i)),this.showCheckPointResult(e,i,n),this.showGameEndResult(t)}.bind(this);n?o(t,i,n):globalThis.MatchManager.requestCheckPointMatchInfo(function(){n=globalThis.MatchManager.getCurCheckPointInfo(),o(t,i,n)})},t.prototype.showCheckPointResult=function(e,t,i){var n=this,o=t.config[t.config.length-1];this.resultType=null==e?r.\u95ef\u5173\u6210\u529f:e.bAgain;var a=this.resultType==r.\u7ee7\u7eed?i:this.resultType+2;if(null==e)this.maxLevel=o.levelID,this.passLevel=o.levelID,this.score=o.score,this.maxScore=o.score,this.rewardGiftCard=o.award,this.reChallengeCost=t.config[0].cost;else{this.nowLevel=1==e.bAgain?e.checkPointNum-1:e.checkPointNum;var s=t.config[this.nowLevel];this.maxLevel=o.levelID,this.passLevel=1==e.bAgain?this.nowLevel:this.nowLevel-1,this.score=e.score,s||o.levelID==this.nowLevel&&(s=t.config[this.nowLevel-1]),this.maxScore=s.score,this.rewardGiftCard=s.award,this.reChallengeCost=s.cost}this.levelUpTip.node.active=!1,this.scoreProcessLabel.node.active=!1,this.costTipNode.active=!1,this.rewardNode.active=!1,this.spines.forEach(function(e,t){e.node.active=a==t,a==t&&n.playSkelenAnimation(e,"KaiShi",!1,function(){n.playSkelenAnimation(e,"XunHuan",!0,null)})}),this.resultType!=r.\u95ef\u5173\u6210\u529f&&(this.scoreProcessLabel.node.active=!0,this.scoreProcessLabel.string=this.score+"/"+this.maxScore),this.resultType!=r.\u95ef\u5173\u6210\u529f&&(this.levelUpTip.node.active=!0,this.levelUpTip.string="\u6ee1"+this.maxScore+"\u5206\u53ef\u664b\u7ea7"),this.resultType==r.\u95ef\u5173\u6210\u529f&&(this.rewardNode.active=!0,this.rewardLabel.string="X"+this.rewardGiftCard),this._showProgress(this.maxLevel,this.passLevel),this.resultType!=r.\u95ef\u5173\u6210\u529f&&this.resultType!=r.\u6dd8\u6c70||(this.levelUpTip.node.active=!1,this.scoreProcessLabel.node.active=!1,this.costTipNode.active=!0,this.costTipLabel.string=this.resultType==r.\u6dd8\u6c70?"\u590d\u6d3b\u8d39\u7528\uff1a":"\u91cd\u65b0\u6311\u6218\u8d39\u7528\uff1a",this.costLabel.string="X"+this.reChallengeCost/100)},t.prototype.showGameEndResult=function(e){var t=this;this.players.children.forEach(function(e){e.active=!1}),e?e.playsData.forEach(function(e,i){if(!(e.userID<=0)){var n=t.players.children[i];if(n){n.active=!0,n.getComponent("HZMJ_gameOverItem").initData(e);var o=n.getChildByName("info");o.getChildByName("name").getComponent(cc.Label).string=u.getCutStringByCount(decodeURI(e.name),4),o.getChildByName("score").getComponent(cc.Label).string=e.score,o.getChildByName("score").color=1==e.resultType?cc.color(255,255,255):cc.color(176,59,52),1==e.resultType?(o.getChildByName("name").color=cc.color(255,217,115),o.getChildByName("bg").getChildByName("bg_win").active=!0):(o.getChildByName("name").color=cc.color(87,40,40),o.getChildByName("bg").getChildByName("bg_win").active=!1);var a=o.getChildByName("head").getChildByName("avatar"),r=function(e){a&&cc.isValid(a)&&(a.getComponent(cc.Sprite).spriteFrame=e)}.bind(t),s=e.avatar;globalThis.AvatarManager.requestHeadRes(s,e.userID,r,null),o.getChildByName("bank").active=e.isBanker,o.getChildByName("image_Hu").active=1==e.resultType}}}):cc.log("....\u4f60\u600e\u4e48\u6ca1\u6709\u6570\u636e\uff0cbug\u4e86\u90fd")},t.prototype._showProgress=function(e,t){if(cc.log("showProgress maxLevel:"+e+" passLevel:"+t),this.levelItemContentNode.active=!0,!(e<=0)){for(var i=0,n=this.levelItemContentNode.children;i<n.length;i++)(a=n[i]).active=!1,c.PoolMgr.instance.putNode(a);this.levelItemContentNode.removeAllChildren();for(var o=1;o<=e;o++){var a;(a=c.PoolMgr.instance.getNode(this.levelItemNode,this.levelItemContentNode)).active=!0;var r=null;o<e&&((r=c.PoolMgr.instance.getNode(this.levelItemIntervalNode,this.levelItemContentNode)).active=!0),t>=o?(a.getChildByName("bright").active=!0,a.getChildByName("text").getComponent(cc.Label).string=""+o,a.getChildByName("text").color=cc.color(255,222,0),r&&(r.getChildByName("bright").active=!0)):(a.getChildByName("bright").active=!1,a.getChildByName("text").getComponent(cc.Label).string=""+o,a.getChildByName("text").color=cc.color(135,139,178),r&&(r.getChildByName("bright").active=!1))}this.levelBGNode&&(this.levelBGNode.active=!0)}},t.prototype.doButton_BackClick=function(){this._delegate.doLeftRoom()},t.prototype.doButton_NextClick=function(){if(this._delegate)switch(this.resultType){case r.\u7ee7\u7eed:case r.\u664b\u7ea7:this._delegate.sendAgreeGame(),this.node.destroy();break;case r.\u6dd8\u6c70:this._delegate.loginRoom(18,this.nowLevel,1);break;case r.\u95ef\u5173\u6210\u529f:this._delegate.loginRoom(18,1,1)}},t.prototype.playSkelenAnimation=function(e,t,i,n){e.loop=i,e.animation=t,e.setCompleteListener(function(){n&&this.scheduleOnce(n,.2)}.bind(this))},a([p(cc.Node)],t.prototype,"levelItemContentNode",void 0),a([p(cc.Node)],t.prototype,"levelItemNode",void 0),a([p(cc.Node)],t.prototype,"levelItemIntervalNode",void 0),a([p({type:cc.Label})],t.prototype,"levelUpTip",void 0),a([p(l.default)],t.prototype,"nextBtn",void 0),a([p({type:cc.Label,tooltip:"\u79ef\u5206\u8fdb\u5ea6"})],t.prototype,"scoreProcessLabel",void 0),a([p({type:cc.Node,tooltip:"\u5956\u52b1\u793c\u5238\u6839\u8282\u70b9"})],t.prototype,"rewardNode",void 0),a([p({type:cc.Label,tooltip:"\u5956\u52b1\u793c\u5238\u6570\u91cf"})],t.prototype,"rewardLabel",void 0),a([p(cc.Node)],t.prototype,"contentBGNode",void 0),a([p(cc.Node)],t.prototype,"levelBGNode",void 0),a([p(cc.Node)],t.prototype,"players",void 0),a([p({type:cc.Node,tooltip:"\u91cd\u65b0\u6311\u6218\u6d88\u8017\u6839\u8282\u70b9"})],t.prototype,"costTipNode",void 0),a([p({type:cc.Label,tooltip:"\u590d\u6d3b\u6216\u91cd\u65b0\u6311\u6218\u6d88\u8017"})],t.prototype,"costLabel",void 0),a([p(cc.Label)],t.prototype,"costTipLabel",void 0),a([p({type:[sp.Skeleton],tooltip:"\u80cc\u666f\u9aa8\u9abc\u52a8\u753b"})],t.prototype,"spines",void 0),a([f],t)}(h);i.default=g,cc._RF.pop()},{"../../../framework/PoolMgr":"PoolMgr","../../ui/SpriteArray":"SpriteArray",BaseLayer:"BaseLayer",Tools:"Tools"}],MatchDeskInfo:[function(e,t){"use strict";cc._RF.push(t,"952ebuv8CFCBqp95Lh/zm+o","MatchDeskInfo");cc.Class({extends:e("BaseLayer"),properties:{list_scroll:cc.ScrollView,list_item:cc.Node},start:function(){},init:function(e){this.matchDeskInfo=e,this.list_item.active=!1,this.matchDeskInfo.DeskInfo&&this.matchDeskInfo&&this.initListViewDeskInfo(this.matchDeskInfo.DeskInfo)},initListViewDeskInfo:function(e){cc.error("HHHHHHHHHHHHHHHHHHH1",e);var t=function(e,t,i,n){this.onAddItemCallback(e,t,i,n)}.bind(this);F_InitListView(e,t,this.list_scroll,this.list_item,5)},onAddItemCallback:function(e,t,i,n){var o=t.getChildByName("Button_Desk"),a=o.getChildByName("Text_No").getComponent(cc.Label),r=o.getChildByName("Text_Status").getComponent(cc.Label);a.string=Number(n)+1,o.interactable=!1,a.node.color=new cc.Color(97,0,0),r.node.color=new cc.Color(97,0,0),0==i.status?(r.string="\u6bd4\u8d5b\u4e2d",o.interactable=!0,a.node.color=new cc.Color(255,0,0),r.node.color=new cc.Color(255,0,0)):1==i.status?r.string="\u5df2\u7ed3\u675f":2==i.status?r.string="\u7b49\u5f85\u4e2d":r.string="\u65e0\u72b6\u6001"}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchExpUserLevelInfo:[function(e,t){"use strict";cc._RF.push(t,"ec264aK8G9LW4+yP2VC6TpZ","MatchExpUserLevelInfo"),cc.Class({extends:cc.Component,properties:{matchRankLabel:cc.RichText},init:function(e){var t=getRankInfo(e.gameExp),i=getNextRankInfo(e.gameExp);this.matchRankLabel.string="<color = #ffffff>\u7ecf\u9a8c\u503c</c><color=#ffb573>"+(t.gameExp+1)+"</c><color=#ffffff>\u7b49\u7ea7:</color><color=#87d6ff>"+t.remark+"</color>\n <color = #ffffff>\u60a8\u8ddd\u79bb</c><color=#ffb573>"+i.remark+"</c><color=#ffffff>\u8fd8\u5dee</color><color=#87d6ff>"+(i.gameExp-e.gameExp)+"</color><color=#ffffff>\u7ecf\u9a8c</color>"}}),cc._RF.pop()},{}],MatchGameRank:[function(e,t){"use strict";cc._RF.push(t,"5a2c00pVPtGKrdAp5YZJQCD","MatchGameRank"),cc.Class({extends:e("BaseLayer"),properties:{AtlasLabel_Score_Win:cc.Label,AtlasLabel_Score_Lose:cc.Label,Image_No_Rank:cc.Node,Image_Rank:cc.Node,Text_Name:cc.Label,ListView_Rank:cc.ScrollView,Panel_Rank:cc.Node,Image_Avata:cc.Node,AtlasLabel_Rank:cc.Label},init:function(){var e=MatchManager.getMyMatchGameInfo(),t=function(e){cc.log(e),this.initMyRankInfo(e),this.initRankListView(e.rankInfo)}.bind(this);GameSocket.requestMatchRankInfo(e.llPartOfMatchID,t)},initMyRankInfo:function(e){var t=UserInfoManager.getMyInfo().userID,i=e.rank,n=e.score;n>0?(this.AtlasLabel_Score_Win.node.active=!0,this.AtlasLabel_Score_Win.string="+"+F_GetMoneyDisplay(n)):(this.AtlasLabel_Score_Lose.node.active=!0,this.AtlasLabel_Score_Lose.string=F_GetMoneyDisplay(n)),this.Text_Name.string="",i>20?this.Image_No_Rank.active=!0:i<=3&&i>0?(this.Image_Rank.active=!0,this.Image_Rank.loadTexture(tools.stringFormat("Match/MatchReward/{0}",i))):(this.AtlasLabel_Rank.node.active=!0,this.AtlasLabel_Rank.string=i);var o=function(e){this.Text_Name.string=tools.getCutStringByCount(e.name,5),this.Text_Name.node.active=!0;var t=function(e){this.Image_Avata.active=!0,this.Image_Avata.getComponent(cc.Sprite).spriteFrame=e}.bind(this);AvatarManager.requestHeadRes(e.headURL,e.userID,t,this.Image_Avata)}.bind(this);UserInfoManager.requestUserInfoByUserID(t,o)},initRankListView:function(e){var t=function(e,t,i,n){var o=t.getChildByName("Image_Rank"),a=t.getChildByName("AtlasLabel_Rank").getComponent(cc.Label),r=t.getChildByName("Text_Name").getComponent(cc.Label),s=t.getChildByName("Image_Avata"),c=t.getChildByName("AtlasLabel_Score_Win").getComponent(cc.Label),l=t.getChildByName("AtlasLabel_Score_Lose").getComponent(cc.Label);c.node.active=!1,l.node.active=!1,r.string="",r.string=tools.getCutStringByCount(i.name,5),i.score>0?(c.node.active=!0,c.string="+"+F_GetMoneyDisplay(i.score)):(l.node.active=!0,l.string=F_GetMoneyDisplay(i.score)),o.active=!1,a.node.active=!1,n<=3?(o.active=!0,o.loadTexture(tools.stringFormat("Match/MatchReward/{0}",n))):(a.node.active=!0,a.string=n),AvatarManager.requestHeadRes(i.headURL,i.userID,function(e){s.getComponent(cc.Sprite).spriteFrame=e},s)}.bind(this);F_InitListView(e,t,this.ListView_Rank,this.Panel_Rank,1)},start:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchItem:[function(e,t,i){"use strict";cc._RF.push(t,"70c68PBseRHDbMl6r2y4gUj","MatchItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("Tools"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signUpNum=null,t.matchStartTimeLabel=null,t.leftTimesLabels=new Array,t.enrollCostLabel=null,t.signUpBtn=null,t.cancelSignUpBtn=null,t.stopSignUpBtn=null,t._matchId=0,t._leftTime=0,t._currentTime=0,t._endEnrollTime=0,t._isSignUp=!1,t}return o(t,e),t.prototype.start=function(){},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.init=function(e){console.log(l.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u573a\u6b21\u5217\u8868 item:",e),this._matchId=e.id,this.signUpNum.string="<color=#ffffff>\u5f53\u524d\u62a5\u540d\u4eba\u6570 <color=#ff0000>"+e.sign_up_people+"</color>/"+e.sign_up_max+" </c>",this.matchStartTimeLabel.string="\u6bd4\u8d5b\u65f6\u95f4 "+e.start_time,this._endEnrollTime=parseInt(new Date(e.match_date+" "+e.people_end).getTime()/1e3+""),this.enrollCostLabel.string=l.stringFormat("X{0}",e.game_money+e.fee),0==e.sign_up_status?(this.signUpBtn.active=!0,this.cancelSignUpBtn.active=!1,e.fee<=0&&(this.enrollCostLabel.string="\u514d\u8d39")):(this.cancelSignUpBtn.active=!0,this.signUpBtn.active=!1),this._leftTime=e.seconds,this.unscheduleAllCallbacks(),this._endEnrollTime=e.match_time-300,this._leftTime>1?(this._leftTime-300<=0&&(this.signUpBtn.active=!1,this.cancelSignUpBtn.active=!1,this.stopSignUpBtn.active=!0),this.schedule(this._matchTimeSchedule.bind(this),1,cc.macro.REPEAT_FOREVER)):(this._showLeftTime(0),this.signUpBtn.active=!1,this.cancelSignUpBtn.active=!1,this.stopSignUpBtn.active=!0)},t.prototype._matchTimeSchedule=function(){this._leftTime=this._leftTime-1,this._currentTime=this._currentTime+1,this._leftTime<=300||this._endEnrollTime-this._currentTime<=0?(this.signUpBtn.active=!1,this.cancelSignUpBtn.active=!1,this.stopSignUpBtn.active=!0):this.stopSignUpBtn.active=!1,this._showLeftTime(this._leftTime),this._leftTime<=0&&this.unschedule(this._matchTimeSchedule.bind(this))},t.prototype._showLeftTime=function(e){if(e>1){var t=e,i=(Math.floor(t/3600),Math.floor(t/3600)),n=(Math.floor(t/60%60),Math.floor(t/60%60)),o=(Math.floor(t%60),Math.floor(t%60)),a=[];a.push((l.fillZero2(i,1)+"").substr(0,1)),a.push((l.fillZero2(i,1)+"").substr(1,1)),a.push((l.fillZero2(n,1)+"").substr(0,1)),a.push((l.fillZero2(n,1)+"").substr(1,1)),a.push((l.fillZero2(o,1)+"").substr(0,1)),a.push((l.fillZero2(o,1)+"").substr(1,1));for(var r=0;r<6;r++)this.leftTimesLabels[r].string=a[r]}else for(var s=0,c=this.leftTimesLabels;s<c.length;s++)c[s].string="0"},t.prototype.onEnrollBtnClick=function(){var e=this;if(0!=this.signUpBtn.active){var t={msg:"\u5c06\u8f6c\u6362\u4f59\u989d\u4e3a\u6bd4\u8d5b\u7b79\u7801?",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(t){"\u786e\u5b9a"==t&&void 0!==e._matchId&&(console.log(l.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u62a5\u540d matchid:"+e._matchId),globalThis.MatchManager.requestMatchEnroll(e._matchId,function(){console.log(l.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u62a5\u540d matchid:"+e._matchId+"\u6210\u529f"),globalThis.createTips("\u62a5\u540d\u6210\u529f"),e.cancelSignUpBtn.active=!0,e.signUpBtn.active=!1}))}};globalThis.createMsgBox(t)}else globalThis.createTips("\u672c\u573a\u6bd4\u8d5b\u5df2\u7ecf\u62a5\u540d")},t.prototype.onCancelEnrollBtnClick=function(){var e=this,t={msg:"\u53d6\u6d88\u6bd4\u8d5b\u7b79\u7801\u5c06\u9000\u56de\uff0c\u4f46\u62a5\u540d\u8d39\u4e0d\u9000\u56de?",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(t){"\u786e\u5b9a"==t&&void 0!==e._matchId&&(console.log(l.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u53d6\u6d88\u62a5\u540d matchid:"+e._matchId),globalThis.MatchManager.requestMatchEnrollCancel(e._matchId,function(){console.log(l.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u53d6\u6d88\u62a5\u540d matchid:"+e._matchId+" \u6210\u529f"),globalThis.createTips("\u53d6\u6d88\u62a5\u540d\u6210\u529f"),e.cancelSignUpBtn.active=!1,e.signUpBtn.active=!0}))}};globalThis.createMsgBox(t)},t.prototype.onStopEnrollBtnClick=function(){this._leftTime<=0?globalThis.createTips("\u5df2\u7ecf\u8fc7\u4e86\u62a5\u540d\u65f6\u95f4"):globalThis.createTips("\u8ddd\u79bb\u5f00\u8d5b5\u5206\u949f\u5185\u4e0d\u80fd\u62a5\u540d")},a([c(cc.RichText)],t.prototype,"signUpNum",void 0),a([c(cc.Label)],t.prototype,"matchStartTimeLabel",void 0),a([c([cc.Label])],t.prototype,"leftTimesLabels",void 0),a([c(cc.Label)],t.prototype,"enrollCostLabel",void 0),a([c(cc.Node)],t.prototype,"signUpBtn",void 0),a([c(cc.Node)],t.prototype,"cancelSignUpBtn",void 0),a([c(cc.Node)],t.prototype,"stopSignUpBtn",void 0),a([s],t)}(cc.Component);i.default=u,cc._RF.pop()},{Tools:"Tools"}],MatchLevelUp:[function(e,t){"use strict";cc._RF.push(t,"a155frZpppM7JktS3effu4a","MatchLevelUp"),cc.Class({extends:e("BaseLayer"),properties:{Panel_Bg_Up:cc.Node,Panel_Bg_Out:cc.Node,Panel_Bg_Rank:cc.Node,Panel_Bg_Revive:cc.Node,Text_Tips_Rank:cc.Label,Text_Tips_Share:cc.Label,Text_Tips_Share_Fail:cc.Label,Text_Rank_Out:cc.Label,Text_Rank_Out_2:cc.Label,Image_Bg_Code_Fail:cc.Node,Text_Tips_Code:cc.Label,Text_revive_infor:cc.RichText,Text_revive_Time:cc.Label,Text_revive_Round:cc.Label,Button_Revive_Success:cc.Node,Button_notRevive_Fail:cc.Node,Image_Bg_EWM:cc.Node,Image_Bg_EWM_Fail:cc.Node,Text_Tips_Code_Fail:cc.Label,AtlasLabel_Rank:cc.Label,Text_Reward:cc.Label,Text_giftCard:cc.Label,Text_Desc_Rank:cc.Label,Panel_Anim:cc.Node,Skeleton_1:sp.SkeletonData,Skeleton_2:sp.SkeletonData,Skeleton_3:sp.SkeletonData,Skeleton_4:sp.SkeletonData,Skeleton_out:sp.SkeletonData,Text_bzpm:cc.Label,Text_dqjf:cc.Label,Text_qcpm:cc.Label},init:function(e,t){this._delegate=e,this._deskInfo=t,this.Panel_Bg_Up.active=!1,this.Panel_Bg_Out.active=!1,this.Panel_Bg_Rank.active=!1,this.Panel_Bg_Revive.active=!1,this.Text_giftCard.node.active=!1,this.m_countDown=null,this.initData()},updateCurMatchCount:function(){},showAllPlayerChouMa:function(){this._delegate.node.getChildByName("Match/MatchGameRankLayer")||this.addLayer(this._delegate.node,"Match/MatchGameRankLayer",function(e){e.zIndex=G_DISMISS_ROOM_LAYER_TAG})},initData:function(){this.Text_Tips_Rank.string="",this.Text_Tips_Share.string="\u5206\u4eab\u4e8c\u7ef4\u7801\u53ec\n\u5524\u7ea2\u5305\u96e8\u3002",this.Text_Tips_Share_Fail.string="\u5206\u4eab\u4e8c\u7ef4\u7801\u53ec\n\u5524\u7ea2\u5305\u96e8\u3002";var e=this._deskInfo;if(this.llPartOfMatchID=e.llPartOfMatchID,this.iCurMatchRound=e.iCurMatchRound,this.iMaxMatchRound=e.iMaxMatchRound,0==e.type&&e.rankMatch>20){this.Panel_Bg_Out.active=!0,this.Text_Rank_Out.string=tools.stringFormat("\u7b2c {0} \u540d",e.rankMatch),this.Text_Rank_Out_2.string=e.rankMatch+" / "+e.peopleCount,GameSocket.setIsSendLogoutRoom(!0);var t=function(e){e.agent_id&&""!=e.agent_id&&e.agent_id>0&&(this.Image_Bg_Code_Fail.active=!0,this.Text_Tips_Code_Fail.string=tools.stringFormat("\u9080\u8bf7\u7801\uff1a{0}",e.agent_id)),e.invite_url||ConfigManager.getConfigStringValue("share_domain",""),e.logo_url;var t=this.Image_Bg_EWM_Fail.getContentSize();(function(e){this.Node_EWM_Fail=e,this.Image_Bg_EWM_Fail.addChild(this.Node_EWM_Fail),this.Node_EWM_Fail.setPosition(cc.p(t.width/2,.5*t.height))}).bind(this)}.bind(this);MatchManager.requestMatchInfoByID(t,e.gameMatchID),this._delegate.removeMatchNotifyLayer()}else if(1==e.type);else if(3==e.type){var i="";1==e.costResType?i="\u91d1\u8c46":5==e.type&&(i="\u793c\u5238"),this.Panel_Bg_Revive.active=!0;var n="<size=38>\u7b2c</size>";n=(n=(n=n+"<size=58>"+String(e.rankMatch)+"</size>")+"<size=38>\u540d "+String(e.matchScore)+"\u5206 \u590d\u6d3b\u8d39\u7528")+String(e.giftCard)+i+"</size>",this.Text_revive_infor.string=n,this.Text_revive_Round.string=tools.stringFormat("\u7b2c{0}\u8f6e",e.iCurMatchRound),this.Text_revive_Time.node.active=!1;var o=this;if(e.reviveRemainTime>0){var a=e.reviveRemainTime;o.Text_revive_Time.string=a,o.Text_revive_Time.node.active=!0;var r=function e(){(a-=1)<=0&&(a=0,o.unschedule(e)),o.Text_revive_Time.string=a};o.schedule(r,1),this.m_countDown=r}else o.Text_revive_Time.node.active=!1}else{e.giftCard>0&&(this.Text_giftCard.node.active=!0,this.Text_giftCard.string=tools.stringFormat("\u83b7\u5f97 {0} \u793c\u5238",e.giftCard));var s=function(t){cc.log(t,"data++++++"),t.agent_id&&""!=t.agent_id&&parseInt(t.agent_id)>0&&(this.Image_Bg_Code.active=!0,this.Text_Tips_Code.string=tools.stringFormat("\u9080\u8bf7\u7801\uff1a{0}",t.agent_id)),t.invite_url||ConfigManager.getConfigStringValue("share_domain",""),t.logo_url;var i=this.Image_Bg_EWM.getContentSize();(function(e){this.Node_EWM=e,this.Image_Bg_EWM.addChild(this.Node_EWM),this.Node_EWM.setPosition(cc.p(i.width/2,.5*i.height))}).bind(this),this.Panel_Bg_Rank.active=!0,e.rankMatch<=4?this.AtlasLabel_Rank.string=tools.stringFormat("{0}/{1}",e.rankMatch,t.people_number):this.AtlasLabel_Rank.node.active=!1;for(var n=0,o=0;o<t.rewardList.length;o++){var a=t.rewardList[o];if(a.ranking_start<=e.rankMatch&&e.rankMatch<=a.ranking_end){n=a.money;break}}this.Text_Reward.string=F_GetMoneyDisplay(n),this.Text_Desc_Rank.string=tools.stringFormat("\u606d\u559c\u60a8\u5728{0}{1}\u4eba\u4e2d\u83b7\u5f97\u7b2c{2}\u540d",t.name,t.people_number,e.rankMatch)}.bind(this);MatchManager.requestMatchInfoByID(s,e.gameMatchID),GameSocket.setIsSendLogoutRoom(!0),this._delegate.removeMatchNotifyLayer();var c=e.rankMatch+"",l="animation";e.rankMatch>3&&(e.rankMatch<20||20==e.rankMatch)&&(c="4",l+=e.rankMatch),this.setAnimationPlay(this.Panel_Anim,c,l)}},QR_Code:function(e,t){var i=new QRCode(-1,QRErrorCorrectLevel.H);i.addData(e),i.make();for(var n=t.getComponent(cc.Graphics),o=t.width/i.getModuleCount(),a=t.height/i.getModuleCount(),r=0;r<i.getModuleCount();r++)for(var s=0;s<i.getModuleCount();s++){i.isDark(r,s)?n.fillColor=cc.Color.BLACK:n.fillColor=cc.Color.WHITE;var c=Math.ceil((s+1)*o)-Math.floor(s*o),l=Math.ceil((r+1)*o)-Math.floor(r*o);n.rect(Math.round(s*o),Math.round(r*a),c,l),n.fill()}},setAnimationPlay:function(e,t,i){var n=i||"animation",o=e.getChildByName(t);o&&o.removeFromParent();var a=new cc.Node,r=a.addComponent(sp.Skeleton);this.Panel_Anim.addChild(a),a.name=t,r.skeletonData=this["Skeleton_"+t],r.animation=n,r.premultipliedAlpha=!1,r.setCompleteListener(function(){var e=n+"2";"animation4"==n&&(e=n+"1"),r.animation=e}.bind(this))},backToLobby:function(){console.log("\u8fd4\u56de\u5927\u5385"),this._delegate.tableLogic.backLobby()},onClickReviveUser:function(e,t){console.log("\u590d\u6d3b");var i=Number(t),n=this,o=function(){n.unschedule(this.m_countDown),n.Button_Revive_Success.active=!1,n.Button_notRevive_Fail.active=!1,n.Text_revive_Time.string="\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\uff0c\u8bf7\u7a0d\u540e..."}.bind(this);GameSocket.requestReviveUser(this.llPartOfMatchID,this.iCurMatchRound,this.iMaxMatchRound,i,o)},onClickShare:function(){this.simpleAddLayer("prefab/GameCreaterImage")},start:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchManager:[function(e,t){"use strict";cc._RF.push(t,"e04d3liQP9O2b63XEFc34le","MatchManager");var i="Match",n=(e("DataManager"),new(e("LobbyLogic"))),o=cc.Class({ctor:function(){this.matchGameInfo={},this.matchDeskInfo={},this.myMatchGameInfo={},this.MatchDeskRankInfo={},this.matchListInfo={},this.curMatchID=-1,this.curRoundIsEnd=!1,this.myMatchAndRoomInfo={},this.curMatchGameInfo={},this.checkPointInfo=null},getCurCheckPointInfo:function(){return this.checkPointInfo||null},getCurCheckPointMatchID:function(){return this.checkPointInfo.passID||0},setCurMatchGameInfo:function(e){this.curMatchGameInfo=e},getCurMatchGameInfo:function(){return this.curMatchGameInfo},setCurMatchID:function(e){this.curMatchID=e},getCurMatchID:function(){return this.curMatchID},setCurRoundIsEnd:function(e){this.curRoundIsEnd=e},getCurRoundIsEnd:function(){return this.curRoundIsEnd},setMyMatchAndRoomInfoInfo:function(e){this.myMatchAndRoomInfo=e},getMyMatchAndRoomInfoInfo:function(){return this.myMatchAndRoomInfo},setMatchDeskRankInfo:function(e){this.MatchDeskRankInfo=e},getMatchDeskRankInfo:function(){return this.MatchDeskRankInfo},setMatchGameInfo:function(e){this.matchGameInfo=e},getMatchGameInfo:function(){return this.matchGameInfo},setMyMatchGameInfo:function(e){this.myMatchGameInfo=e},getMyMatchGameInfo:function(){return this.myMatchGameInfo},setMatchGameID:function(e){this.matchGameID=e},getMatchGameID:function(){return this.matchGameID},setMatchDeskInfo:function(e){this.matchDeskInfo=e},getMatchDeskInfo:function(){return this.matchDeskInfo},setMatchListInfo:function(e){this.matchListInfo=e},getMatchListInfo:function(){return this.matchListInfo},requireMatchGameInfo:function(e,t,i){var n={};n.url=NetConfig.getPHPUrl(),n.params={userID:t,matchID:e},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getInfo"))},n.sCallback=function(e){dump(e,"requireMatchGameInfo++++++"),0==e.status?i&&(o.setMatchGameInfo(e.data),i(e.data)):createTips(e.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requireMatchListInfo:function(e,t,n){var a={};a.url=NetConfig.getPHPUrl(),dump(n,"userid++++++"),a.params={api:i,action:"getList",ListTag:t,userID:n},a.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getList"))},a.sCallback=function(t){dump(t,"requireMatchListInfo+++++++"),0==t.status?e&&(o.setMatchListInfo(t.data),e(t.data)):createTips(t.msg)},a.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(a)},requireMatchSignUpInfo:function(e,t,n){var o={};o.url=NetConfig.getPHPUrl(),o.params={api:i,action:"signUp",userID:t,matchID:matchID},o.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","signUp"))},o.sCallback=function(e){dump(e,"requireMatchListInfo+++++++"),0==e.status?n&&n(!0):createTips(e.msg)},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},requireMatchCancelSignInfo:function(e,t,n){var o={};o.url=NetConfig.getPHPUrl(),o.params={api:i,action:"cancelSignUp",userID:t,matchID:matchID},o.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","cancelSignUp")),n(!1)},o.sCallback=function(e){dump(e,"requireMatchListInfo+++++++"),0==e.status?n&&n(!0):createTips(e.msg)},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},requireMatchMySignInfo:function(e,t){dump(e,"useridrequireMatchListInfo+++++++");var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"getSignUpInfo",userID:e,matchID:matchID},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getSignUpInfo"))},n.sCallback=function(e){dump(e,"requireMatchListInfo+++++++"),0==e.status?t&&t(e.data):createTips(e.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requireMatchRewordInfo:function(e,t,n){dump(e,"useridrequireMatchListInfo+++++++");var o={};o.url=NetConfig.getPHPUrl(),o.params={api:i,action:"getAwardRecord",userID:e,matchID:matchID},o.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getAwardRecord"))},o.sCallback=function(e){dump(e,"requireMatchRewordInfo+++++++"),0==e.status?n&&n(!0,e.data):n&&n(!1)},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},requestCurMatchInfo:function(e,t){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"getCurMatchInfo",userID:UserInfoManager.getMyInfo().userID,matchType:e},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getCurMatchInfo"))},n.sCallback=function(e){0==e.status?t&&(console.log(tools.getCurTime()+" #### data:",e.data),t(e.data)):createTips(e.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,console.log(tools.getCurTime()+" #### \u62a5\u540d\u4fe1\u606f args:",n),MyHttpRequest.doRequest(n)},requestMatchEnroll:function(e,t){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"doMatchEnroll",userID:UserInfoManager.getMyInfo().userID,matchID:e},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","doMatchEnroll"))},n.sCallback=function(i){0==i.status?t&&t(i.data):(console.warn(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u62a5\u540d matchid:"+e+" \u5931\u8d25 errmsg:"+i.msg),createTips(i.msg))},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,console.log(tools.getCurTime()+" #### \u62a5\u540d\u6bd4\u8d5b args:",n),MyHttpRequest.doRequest(n)},requestMatchEnrollCancel:function(e,t){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"matchEnrollCancel",userID:UserInfoManager.getMyInfo().userID,matchID:e},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","matchEnrollCancel"))},n.sCallback=function(i){0==i.status?t&&t(i.data):(console.warn(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u53d6\u6d88\u62a5\u540d matchid:"+e+" \u5931\u8d25 errmsg:"+i.msg),createTips(i.msg))},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requestMatchRewardRecordList:function(e,t,n){var o="getMatchRewardRecordList",a={};a.url=NetConfig.getPHPUrl(),a.params={api:i,action:o,userID:UserInfoManager.getMyInfo().userID,num:n,page:t},a.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6",o))},a.sCallback=function(t){0==t.code?e&&e(t):createTips(t.msg)},a.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(a)},requestCheckPointMatchInfo:function(e){var t=this,i={};i.url=NetConfig.getPHPUrl(),i.params={api:"Checkpoint",action:"getMakeCertificate",userID:UserInfoManager.getMyInfo().userID},i.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getMakeCertificate"))},i.sCallback=function(i){0==i.status?e&&(t.checkPointInfo=i.data,e(i.data)):createTips(i.msg)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,dump(i,"args+++++++"),MyHttpRequest.doRequest(i)},requestCheckPointRewardRecordList:function(e,t,i){var n="getCheckpointRecord",o={};o.url=NetConfig.getPHPUrl(),0==t&&(t=1),o.params={api:"lobby",action:n,userID:UserInfoManager.getMyInfo().userID,num:i,page:t},o.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6",n))},o.sCallback=function(t){0==t.code?e&&e(t):createTips(t.msg)},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},requestMatchEnrollRecordList:function(e,t){var n="getMatchEnrollRecordList",o={};o.url=NetConfig.getPHPUrl(),o.params={api:i,action:n,userID:UserInfoManager.getMyInfo().userID,num:t},o.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6",n))},o.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(o)},requestMatchInfoByID:function(e,t){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"getMatchInfoByID",userID:UserInfoManager.getMyInfo().userID,matchID:t},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getMatchInfoByID"))},n.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requestMatchRewardConfig:function(e){var t="getMatchRewardConfig",n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:t,userID:UserInfoManager.getMyInfo().userID},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6",t))},n.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requestMatchConfig:function(e){var t={};t.url=NetConfig.getPHPUrl(),t.params={api:i,action:"getMatchConfig",userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getMatchConfig"))},t.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestMatchRank:function(e){var t={};t.url=NetConfig.getPHPUrl(),t.params={api:i,action:"getMatchRank",userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getMatchRank"))},t.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestSureEnterMatch:function(e){var t={};t.url=NetConfig.getPHPUrl(),t.params={api:i,action:"sureEnterMatch",userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","sureEnterMatch"))},t.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},onMatchgameNotifyMessage:function(e){MSG_NTF_LOGON_MATCH_NOTIFY_SIGNUP_CHANGE==e.bAssistantID?this.dealMatchSignUpChangeNotifyMessage(e):MSG_NTF_LOGON_MATCH_NOTIFY_START_MATCH==e.bAssistantID?(createTips("\u6536\u5230\u4e86\u6bd4\u8d5b\u573a\u5f00\u59cb\u7684\u4fe1\u606f"),this.dealMatchStartNotifyMessage(e)):MSG_NTF_LOGON_MATCH_NOTIFY_START_CHANGE_TIME==e.bAssistantID?(createTips("\u6536\u5230\u4e86\u5b9a\u65f6\u8d5b\u4eba\u6570\u53d8\u5316\u63a8\u9001"),this.dealMatchPeopleChangeNotifyMessage(e)):MSG_NTF_LOGON_MATCH_NOTIFY_START_CHANGE_FAIL==e.bAssistantID?(createTips("\u6536\u5230\u4e86\u6bd4\u8d5b\u672a\u80fd\u5f00\u59cb\u901a\u77e5\u4fe1\u606f"),this.dealMatchFailNotifyMessage(e)):MSG_NTF_LOGON_MATCH_NOTIFY_START_MATCH_RIGHTAWAY==e.bAssistantID&&this.dealMatchStartRightAwayNotifyMessage(e)},dealMatchSignUpChangeNotifyMessage:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.gameID=e.popINT(),t.matchID=e.popINT(),t.curSignUpCount=e.popINT(),t.peopleCount=e.popINT(),t.allSignUpCount=e.popINT(),t}(t);dump(t,"dealMatchSignUpChangeNotifyMessage"),console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u62a5\u540d\u4eba\u6570\u53d8\u5316\u901a\u77e5",t)}},dealMatchStartNotifyMessage:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.gameID=e.popINT(),t.matchType=e.popBYTE(),t.matchID=e.popINT(),t.roomID=e.popINT(),t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u5f00\u59cb\u901a\u77e5",t),setTimeout(function(){n.enterGame(t.roomID)},.01),this.setCurRoundIsEnd(!0)}},dealMatchPeopleChangeNotifyMessage:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.matchID=e.popINT(),t.curSignupCount=e.popINT(),t.robotCount=e.popINT(),t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u4eba\u6570\u53d8\u5316\u901a\u77e5",t),DataNotify.onCurMatchChange(t)}},dealMatchFailNotifyMessage:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.gameID=e.popINT(),t.matchType=e.popBYTE(),t.matchID=e.popINT(),t.reason=e.popBYTE(),t}(e);console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u672a\u80fd\u5f00\u59cb\u901a\u77e5",t),DataNotify.onCurMatchFail(t)}},dealMatchStartRightAwayNotifyMessage:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};return t.gameID=e.popINT(),t.matchID=e.popINT(),t.startTime=e.popLONGLONG(),t}(e);dump(t,"dealMatchStartRightAwayNotifyMessage+++++"),console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u5373\u5c06\u5f00\u59cb\u901a\u77e5",t),DataNotify.onCurMatchComeSoon(t)}},onMatchDeskInfo:function(e){if(G_HANDLE_CODE_OK==e.bHandleCode){var t=function(e){var t={};t.iCurPeopleCount=e.popINT(),t.iMaxPeopleCount=e.popINT(),t.iCurMatchRound=e.popINT(),t.iMaxMatchRound=e.popINT(),t.deskCount=e.popINT(),t.DeskInfo=[];for(var i=0;i<t.deskCount;i++)t.DeskInfo[i]={},t.DeskInfo[i].deskIdx=e.popINT(),t.DeskInfo[i].status=e.popBYTE(),t.DeskInfo[i].deskUserID=tools.popArray("INT",e,G_WAR_RECORD_PLAYER_NUM);return t}(e);dump(t,"info++++++++++++onMatchDeskInfo+++++"),console.log(tools.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u6536\u5230\u6bd4\u8d5b\u684c\u5b50\u4fe1\u606f\u901a\u77e5",t),this.setMatchDeskInfo(t),DataNotify.showMatchGameDeskInfo()}},onAllMatchInfo:function(e){G_HANDLE_CODE_OK==e.bHandleCode&&(function(e){tools.popArray("LONGLONG",e,10)}(e),DataNotify.showAllMatchList())},clear:function(){this.matchGameInfo={},this.matchDeskInfo={},this.myMatchGameInfo={},this.MatchDeskRankInfo={},this.curMatchID=-1,this.myMatchAndRoomInfo={},this.curMatchGameInfo={}},requestMatchRankRankList:function(e){var t={};t.url=NetConfig.getPHPUrl(),t.params={api:"rank",action:"SeasonRanking",userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","SeasonRanking"))},t.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},t.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(t)},requestMatchRankRecordList:function(e,t,i){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:"lobby",action:"getRewardsRecord",userID:UserInfoManager.getMyInfo().userID,page:e,num:t},n.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","getRewardsRecord"))},n.sCallback=function(e){0==e.code?i&&i(e):createTips(e.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},getDuanWeiAwardList:function(e){if(e)return e(window.rankInfoArr)},getChuangGuanAwardList:function(e,t){var i={};i.url=NetConfig.getPHPUrl(),i.params={api:"Checkpoint",action:"getCheckpointMoneyConfig",gameID:e},i.sCallback=function(e){0==e.status?t&&t(e.data):createTips(e.msg)},i.fCallback=function(){},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)}});t.exports=o,cc._RF.pop()},{DataManager:"DataManager",LobbyLogic:"LobbyLogic"}],MatchNotify:[function(e,t){"use strict";cc._RF.push(t,"3f6034p0XJOAJDx/ZkwNPi6","MatchNotify"),cc.Class({extends:e("BaseLayer"),properties:{},doButton_Match_RankClick:function(){this._delegate&&(this._delegate.getChildByName("Match/MatchGameRankLayer")||this.addLayer(this._delegate,"Match/MatchGameRankLayer",function(e){e.zIndex=G_DISMISS_ROOM_LAYER_TAG}))},init:function(e){this._delegate=e},start:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchPanel:[function(e,t,i){"use strict";cc._RF.push(t,"1cf06wVa2hMXZMPGA1aE0iE","MatchPanel");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i._forceUpdateRenderData=void 0;var r,s=e("../../../framework/PoolMgr"),c=e("../../ui/SpriteArray"),l=cc._decorator,u=l.ccclass,h=l.property,d=e("Tools"),f=e("EventEmiter").GlobalEvent;(function(e){e[e.MATCH_STATE_NO_ENROLL=0]="MATCH_STATE_NO_ENROLL",e[e.MATCH_STATE_ALREADY_ENROLL=1]="MATCH_STATE_ALREADY_ENROLL",e[e.MATCH_STATE_STOP_ENROLL=2]="MATCH_STATE_STOP_ENROLL"})(r||(r={}));var p,g=[{matchType:4},{matchType:8},{matchType:5},{matchType:9}];(function(e){e[e.TopTeam_STATE_XYY=0]="TopTeam_STATE_XYY",e[e.TopTeam_STATE_JLY=1]="TopTeam_STATE_JLY",e[e.TopTeam_STATE_JLM=2]="TopTeam_STATE_JLM",e[e.TopTeam_STATE_DFB=3]="TopTeam_STATE_DFB"})(p||(p={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MatchlistNode=null,t.TopTeamNode=null,t.newHandNode=null,t.listNode=null,t.matchItemNode=null,t.annimetions=null,t.TopTeamItemNode=null,t.MeRewardNode=null,t.MeRewardlistNode=null,t.MeRewardItem=null,t.listData=new Array,t.MeRewardList=new Array,t.node111=null,t._leftTime0=0,t._currentTime0=0,t._endEnrollTime0=0,t._isEnroll0=!1,t.node122=null,t._leftTime1=0,t._currentTime1=0,t._endEnrollTime1=0,t._isEnroll1=!1,t.node133=null,t._leftTime2=0,t._currentTime2=0,t._endEnrollTime2=0,t._isEnroll2=!1,t.TopTeamnode=null,t._isTopTeam=!1,t._leftTime=0,t._currentTime=0,t._endEnrollTime=0,t.matchType=0,t._matchId=0,t._fee=0,t.matchNode=null,t.detailsNode=null,t.SponsorNode=null,t.TopNode=null,t.timeIndex=0,t.timeIndex1=0,t.timeIndex2=0,t.timeIndex3=0,t}return o(t,e),t.prototype.onEnable=function(){this.doButton_MatchList()},t.prototype.onDisable=function(){clearInterval(this.timeIndex),clearInterval(this.timeIndex1),clearInterval(this.timeIndex2),this.DeleteListNode()},t.prototype.onToggleContainerClick=function(e){switch(e.node.name){case"toggle1":this.doButton_MatchList();break;case"toggle2":this.doButton_TopTeam(p.TopTeam_STATE_XYY);break;case"toggle3":this.doButton_TopTeam(p.TopTeam_STATE_JLY);break;case"toggle4":this.doButton_TopTeam(p.TopTeam_STATE_JLM);break;case"toggle5":this.doButton_TopTeam(p.TopTeam_STATE_DFB);break;case"toggle6":this.MatchlistNode.active=!1,this.TopTeamNode.active=!1,this.newHandNode.active=!1,this.MeRewardNode.active=!0,this.MeRewardNode.getChildByName("detailsNode").active=!1,this._refreshMeRewardList();break;case"toggle7":this.doButton_NewHand()}},t.prototype.doButton_MatchList=function(){this.MatchlistNode.active=!0,this.TopTeamNode.active=!1,this.newHandNode.active=!1,this.MeRewardNode.active=!1,this.matchType=2,this._refreshMatchList()},t.prototype.doButton_TopTeam=function(e){this.MatchlistNode.active=!1,this.TopTeamNode.active=!0,this.newHandNode.active=!1,this.MeRewardNode.active=!1,this.matchType=g[e].matchType,this._refreshTopTeamList(e)},t.prototype.doButton_NewHand=function(){this.MatchlistNode.active=!1,this.TopTeamNode.active=!1,this.newHandNode.active=!0,this.MeRewardNode.active=!1},t.prototype._refreshMatchList=function(){var e=this;this._isEnroll0=!1,this._isEnroll1=!1,this._isEnroll2=!1,this.listData=[],this.DeleteListNode();var t=this;globalThis.MatchManager.requestCurMatchInfo(this.matchType,function(i){for(var n=0;n<i.length&&3!=n;n++){var o=i[n];e.listData[n]=i[n];var a=s.PoolMgr.instance.getNode(t.matchItemNode,t.listNode);t.showUI(a,o,n)}})},t.prototype.showUI=function(e,t,i){console.log(d.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u573a\u6b21\u5217\u8868 item:",t),e.getChildByName("bottomBtns").getChildByName("Number").getComponent(cc.Label).string=d.stringFormat("\u62a5\u540d\u8d39\u7528: {0}\u91d1\u8c46",t.game_money),e.getChildByName("bottomBtns").getChildByName("text_1").getChildByName("num").getComponent(cc.Label).string=String(t.award[0].gold)+t.award[0].goodsname,e.getChildByName("bottomBtns").getChildByName("text_2").getChildByName("num").getComponent(cc.Label).string=String(t.award[1].gold)+t.award[1].goodsname,e.getChildByName("bottomBtns").getChildByName("text_3").getChildByName("num").getComponent(cc.Label).string=String(t.award[2].gold)+t.award[2].goodsname;var n=e.getChildByName("bottomBtns").getChildByName("actionBtn"),o=n.getComponent(cc.Button),a=new cc.Component.EventHandler;if(a.target=this.node,a.component="MatchPanel",a.handler="onActionBtnClick",a.customEventData=String(t.matchID),o.clickEvents=[],o.clickEvents.push(a),0==i){this._endEnrollTime0=parseInt(new Date(t.match_date+" "+t.people_end).getTime()/1e3+""),this._isEnroll0=!1,0==t.sign_up_status?n.getComponent(c.default).index=0:(this._isEnroll0=!0,n.getComponent(c.default).index=1),this._leftTime0=t.seconds,this.timeIndex&&clearInterval(this.timeIndex),this._endEnrollTime0=t.match_time-30;var r=30;if(this._leftTime0>1){this._leftTime0-r<=0&&(n.getComponent(c.default).index=2),this.node111=null,this.node111=e,this._matchTimeSchedule();var s=this;this.timeIndex=setInterval(function(){s._matchTimeSchedule()},1e3)}else this._showLeftTime(e,0),n.getComponent(c.default).index=2}else if(1==i)if(this._endEnrollTime1=parseInt(new Date(t.match_date+" "+t.people_end).getTime()/1e3+""),this._isEnroll1=!1,0==t.sign_up_status?n.getComponent(c.default).index=0:(this._isEnroll1=!0,n.getComponent(c.default).index=1),this._leftTime1=t.seconds,this.timeIndex1&&clearInterval(this.timeIndex1),this._endEnrollTime1=t.match_time-30,r=30,this._leftTime1>1){this._leftTime1-r<=0&&(n.getComponent(c.default).index=2),this.node122=null,this.node122=e,this._matchTimeSchedule1(e);var l=this;this.timeIndex1=setInterval(function(){l._matchTimeSchedule1(l.node122)},1e3)}else this._showLeftTime(e,0),n.getComponent(c.default).index=2;else if(2==i)if(this._endEnrollTime2=parseInt(new Date(t.match_date+" "+t.people_end).getTime()/1e3+""),this._isEnroll2=!1,0==t.sign_up_status?n.getComponent(c.default).index=0:(this._isEnroll2=!0,n.getComponent(c.default).index=1),this._leftTime2=t.seconds,this.timeIndex2&&clearInterval(this.timeIndex2),this._endEnrollTime2=t.match_time-30,r=30,this._leftTime2>1){this._leftTime2-r<=0&&(n.getComponent(c.default).index=2),this.node133=null,this.node133=e,this._matchTimeSchedule2(this.node133);var u=this;this.timeIndex2=setInterval(function(){u._matchTimeSchedule2(u.node133)},1e3)}else this._showLeftTime(e,0),n.getComponent(c.default).index=2},t.prototype._matchTimeSchedule=function(){var e=this;if(null!=this.node111){var t=this.node111.getChildByName("bottomBtns").getChildByName("actionBtn");this._leftTime0=this._leftTime0-1,this._currentTime0=this._currentTime0+1,(this._leftTime0<=30||this._endEnrollTime0-this._currentTime0<=0)&&(t.getComponent(c.default).index=2),this._showLeftTime(this.node111,this._leftTime0),this._leftTime0<0&&(this.timeIndex&&clearInterval(this.timeIndex),this._isEnroll0?this._refreshMatchList():this.scheduleOnce(function(){e._refreshMatchList()},2))}},t.prototype._matchTimeSchedule1=function(e){var t=this;if(null!=e){var i=e.getChildByName("bottomBtns").getChildByName("actionBtn");this._leftTime1=this._leftTime1-1,this._currentTime1=this._currentTime1+1,(this._leftTime1<=30||this._endEnrollTime1-this._currentTime1<=0)&&(i.getComponent(c.default).index=2),this._showLeftTime(e,this._leftTime1),this._leftTime1<0&&(this.timeIndex1&&clearInterval(this.timeIndex1),this._isEnroll1?this._refreshMatchList():this.scheduleOnce(function(){t._refreshMatchList()},2))}},t.prototype._matchTimeSchedule2=function(e){var t=this;if(null!=e){var i=e.getChildByName("bottomBtns").getChildByName("actionBtn");this._leftTime2=this._leftTime2-1,this._currentTime2=this._currentTime2+1,(this._leftTime2<=30||this._endEnrollTime2-this._currentTime2<=0)&&(i.getComponent(c.default).index=2),this._showLeftTime(e,this._leftTime2),this._leftTime2<0&&(this.timeIndex2&&clearInterval(this.timeIndex2),this._isEnroll2?this._refreshMatchList():this.scheduleOnce(function(){t._refreshMatchList()},2))}},t.prototype._showLeftTime=function(e,t){var i=e.getChildByName("countDown"),n=[],o=i.getChildByName("item_1").getChildByName("num_1").getChildByName("text").getComponent(cc.Label),a=i.getChildByName("item_1").getChildByName("num_2").getChildByName("text").getComponent(cc.Label),r=i.getChildByName("item_2").getChildByName("num_1").getChildByName("text").getComponent(cc.Label),s=i.getChildByName("item_2").getChildByName("num_2").getChildByName("text").getComponent(cc.Label);if(n.push(o),n.push(a),n.push(r),n.push(s),t>1){var c=t,l=(Math.floor(c/3600),Math.floor(c/3600),Math.floor(c/60%60),Math.floor(c/60%60)),u=(Math.floor(c%60),Math.floor(c%60)),h=[];h.push((d.fillZero2(l,1)+"").substr(0,1)),h.push((d.fillZero2(l,1)+"").substr(1,1)),h.push((d.fillZero2(u,1)+"").substr(0,1)),h.push((d.fillZero2(u,1)+"").substr(1,1));for(var f=0;f<n.length;f++)n[f].string=h[f]}else for(var p=0,g=n;p<g.length;p++)g[p].string="0"},t.prototype.onActionBtnClick=function(e,t){var i=e.target.getComponent(cc.Button),n=Number(t);switch(i.getComponent(c.default).index){case 0:this.onEnrollBtnClick(i,n);break;case 1:this.onCancelEnrollBtnClick(i,n);break;case 2:this.onStopEnrollBtnClick()}},t.prototype.onEnrollBtnClick=function(e,t){if(0==e.getComponent(c.default).index){for(var i=this,n=0,o=0;o<i.listData.length;o++)i.listData[o].matchID==t&&(n=i.listData[o].game_money);var a={msg:"\u60a8\u662f\u5426\u82b1\u8d39"+n+"\u91d1\u8c46\u62a5\u540d\uff1f",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(n){if("\u786e\u5b9a"==n&&void 0!==t){console.log(d.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u62a5\u540d matchid:"+t);for(var o=0,a=0;a<i.listData.length;a++)i.listData[a].matchID==t&&(o=a);globalThis.MatchManager.requestMatchEnroll(t,function(){console.log(d.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u62a5\u540d matchid:"+t+"\u6210\u529f"),globalThis.createTips("\u62a5\u540d\u6210\u529f"),e.getComponent(c.default).index=1,0==o?i._isEnroll0=!0:1==o?i._isEnroll1=!0:2==o&&(i._isEnroll2=!0)})}}};globalThis.createMsgBox(a)}else globalThis.createTips("\u672c\u573a\u6bd4\u8d5b\u5df2\u7ecf\u62a5\u540d")},t.prototype.onCancelEnrollBtnClick=function(e,t){var i=this,n={msg:"\u662f\u5426\u53d6\u6d88\u6bd4\u8d5b\uff0c\u62a5\u540d\u8d39\u5c06\u4f1a\u9000\u56de?",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(n){if("\u786e\u5b9a"==n&&void 0!==t){console.log(d.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u53d6\u6d88\u62a5\u540d matchid:"+t);for(var o=0,a=0;a<i.listData.length;a++)i.listData[a].matchID==t&&(o=a);globalThis.MatchManager.requestMatchEnrollCancel(t,function(){console.log(d.getCurTime()+" #### \u6bd4\u8d5b\u4e1a\u52a1 \u8bf7\u6c42\u53d6\u6d88\u62a5\u540d matchid:"+t+" \u6210\u529f"),globalThis.createTips("\u53d6\u6d88\u62a5\u540d\u6210\u529f"),e.getComponent(c.default).index=0,0==o?i._isEnroll0=!1:1==o?i._isEnroll1=!1:2==o&&(i._isEnroll2=!1)})}}};globalThis.createMsgBox(n)},t.prototype.DeleteListNode=function(){for(var e=0,t=this.listNode.children;e<t.length;e++){var i=t[e];s.PoolMgr.instance.putNode(i)}this.listNode.removeAllChildren()},t.prototype.onStopEnrollBtnClick=function(){this._leftTime0<=0?globalThis.createTips("\u5df2\u7ecf\u8fc7\u4e86\u62a5\u540d\u65f6\u95f4"):globalThis.createTips("\u8ddd\u79bb\u5f00\u8d5b30\u79d2\u5185\u4e0d\u80fd\u62a5\u540d")},t.prototype._refreshTopTeamList=function(e){this._isTopTeam=!1,this.matchNode=null,this.detailsNode=null,this.SponsorNode=null,this.TopNode=null;var t=this;this.TopTeamItemNode.active=!1,globalThis.MatchManager.requestCurMatchInfo(this.matchType,function(i){for(var n=0;n<i.length&&1!=n;n++){var o=i[n];t.TopTeamItemNode.active=!0,t.showTopTeamUI(t.TopTeamItemNode,o,n,e)}})},t.prototype.showTopTeamUI=function(e,t,i,n){console.log(d.getCurTime()+" #### \u4e89\u9738\u8d5b\u4e1a\u52a1 \u573a\u6b21\u5217\u8868 item:",t),this.TopNode=e,e.getChildByName("titleNode").getChildByName("title").getComponent(c.default).index=n;var o="",a="",r="";n==p.TopTeam_STATE_XYY?(o="\u6d17\u8863\u6db2",a="\u2460\u4ef7\u503c10\u5143\u7684\u6d17\u8863\u6db2\u4e00\u74f6",r="\u65f6\u95f4\uff1a\u6bcf\u65e59:00-23:00\uff08\u6bcf\u4e24\u4e2a\u5c0f\u65f6\u4e00\u573a\uff09"):n==p.TopTeam_STATE_JLY?(o="\u91d1\u9f99\u6cb9",a="\u2460\u4ef7\u503c65\u51434L\u91d1\u9f99\u6cb9\u4e00\u74f6",r="\u65f6\u95f4\uff1a\u6bcf\u5929\u4e00\u573a \u665a\u4e0a21:00\u51c6\u65f6\u5f00\u8d5b"):n==p.TopTeam_STATE_JLM?(o="\u91d1\u9f99\u7c73",a="\u2460\u4ef7\u503c130\u5143\u7684\u9999\u5927\u7c7320kg",r="\u65f6\u95f4\uff1a\u6bcf\u4e09\u5929\u4e00\u573a \u665a\u4e0a21:30\u51c6\u65f6\u5f00\u8d5b"):n==p.TopTeam_STATE_DFB&&(o="\u7535\u996d\u7172",a="\u2460\u4ef7\u503c300\u5143\u7684\u7535\u996d\u7172",r="\u65f6\u95f4\uff1a\u6bcf\u670810\u53f7\u300120\u53f7\u300128\u53f7\u665a\u4e0a21:30\u51c6\u65f6\u5f00\u8d5b"),e.getChildByName("bottomBtns").getChildByName("TopTeamLine").getChildByName("name").getComponent(cc.Label).string=o+"\u4e89\u9738\u8d5b\u62a5\u540d\u5165\u53e3",this.matchNode=e.getChildByName("bottomBtns").getChildByName("matchNode"),this.matchNode.getChildByName("time").getComponent(cc.Label).string=r,this.matchNode.getChildByName("reawad").getComponent(cc.Label).string="\u62a5\u540d\u8d39\u7528\uff1a"+String(t.fee/100)+"\u793c\u5238",this.matchNode.getChildByName("text").active=!0,this.matchNode.getChildByName("text").getComponent(cc.Label).string="\u5956\u54c1\uff1a\u524d\u4e09\u540d\u83b7\u5f97\u76f8\u5e94\u5956\u54c1\uff0c\u5177\u4f53\u67e5\u770b\u8be6\u60c5\u3002",this.detailsNode=e.getChildByName("bottomBtns").getChildByName("detailsNode"),this.detailsNode.getChildByName("text3").getComponent(cc.Label).string=a+" \u2461"+t.award[1].gold+t.award[1].goodsname+" \u2462"+t.award[2].gold+t.award[2].goodsname,this.SponsorNode=e.getChildByName("bottomBtns").getChildByName("SponsorNode"),this._matchId=t.matchID,this._fee=t.fee/100;var s=e.getChildByName("bottomBtns").getChildByName("btn_signup");if(0==t.sign_up_status?s.getComponent(c.default).index=0:(this._isTopTeam=!0,s.getComponent(c.default).index=1),t.beforeMatch>0){e.getChildByName("beloNode").getChildByName("TimeNode").active=!1;var l=e.getChildByName("beloNode").getChildByName("dayNode");return l.active=!0,void(l.getChildByName("bg").getChildByName("text").getComponent(cc.Label).string=String(t.beforeMatch))}e.getChildByName("beloNode").getChildByName("TimeNode").active=!0;var u=e.getChildByName("beloNode").getChildByName("dayNode");if(u.active=!1,u.getChildByName("bg").getChildByName("text").getComponent(cc.Label).string="",this._endEnrollTime=parseInt(new Date(t.match_date+" "+t.people_end).getTime()/1e3+""),this._isTopTeam=!1,this._leftTime=t.seconds,this.timeIndex3&&clearInterval(this.timeIndex3),this._endEnrollTime=t.match_time-30,this._leftTime>1){this._leftTime-30<=0&&(s.getComponent(c.default).index=2),this.TopTeamnode=null,this.TopTeamnode=e,this._TopTeamTimeSchedule();var h=this;this.timeIndex3=setInterval(function(){h._TopTeamTimeSchedule()},1e3)}else this._showTopTeamTime(e,0),s.getComponent(c.default).index=2},t.prototype._TopTeamTimeSchedule=function(){var e=this;if(null!=this.TopNode){var t=this.TopNode.getChildByName("bottomBtns").getChildByName("btn_signup");this._leftTime=this._leftTime-1,this._currentTime=this._currentTime+1,(this._leftTime<=30||this._endEnrollTime-this._currentTime<=0)&&(t.getComponent(c.default).index=2),this._showTopTeamTime(this.TopTeamnode,this._leftTime),this._leftTime<0&&(this.timeIndex3&&clearInterval(this.timeIndex3),this._isTopTeam?this._refreshTopTeamList(this.matchType):this.scheduleOnce(function(){e._refreshTopTeamList(e.matchType)},2))}},t.prototype._showTopTeamTime=function(e,t){var i=e.getChildByName("beloNode").getChildByName("TimeNode"),n=[],o=i.getChildByName("item_1").getChildByName("num_1").getChildByName("text").getComponent(cc.Label),a=i.getChildByName("item_1").getChildByName("num_2").getChildByName("text").getComponent(cc.Label),r=i.getChildByName("item_2").getChildByName("num_1").getChildByName("text").getComponent(cc.Label),s=i.getChildByName("item_2").getChildByName("num_2").getChildByName("text").getComponent(cc.Label),c=i.getChildByName("item_3").getChildByName("num_1").getChildByName("text").getComponent(cc.Label),l=i.getChildByName("item_3").getChildByName("num_2").getChildByName("text").getComponent(cc.Label);if(n.push(o),n.push(a),n.push(r),n.push(s),n.push(c),n.push(l),t>1){var u=t,h=(Math.floor(u/3600),Math.floor(u/3600)),f=(Math.floor(u/60%60),Math.floor(u/60%60)),p=(Math.floor(u%60),Math.floor(u%60)),g=[];g.push((d.fillZero2(h,1)+"").substr(0,1)),g.push((d.fillZero2(h,1)+"").substr(1,1)),g.push((d.fillZero2(f,1)+"").substr(0,1)),g.push((d.fillZero2(f,1)+"").substr(1,1)),g.push((d.fillZero2(p,1)+"").substr(0,1)),g.push((d.fillZero2(p,1)+"").substr(1,1));for(var m=0;m<n.length;m++)n[m].string=g[m]}else for(var _=0,y=n;_<y.length;_++)y[_].string="0"},t.prototype.onBtnTopTeamClick=function(e,t){switch(t){case"btn_signup":var i=e.target.getComponent(cc.Button);this.SignupBtnClick(i);break;case"btn_match":this.matchNode.active=!0,this.detailsNode.active=!1,this.SponsorNode.active=!1;break;case"btn_details":this.matchNode.active=!1,this.detailsNode.active=!0,this.SponsorNode.active=!1;break;case"btn_Sponsor":this.matchNode.active=!1,this.detailsNode.active=!1,this.SponsorNode.active=!0;break;case"btn_more":f.instance.emit("switch_page_msg","livebroadcast")}},t.prototype.SignupBtnClick=function(e){var t=e.getComponent(c.default).index,i=this._matchId;switch(t){case 0:if(0!=t)return void globalThis.createTips("\u672c\u573a\u6bd4\u8d5b\u5df2\u7ecf\u62a5\u540d");var n=this,o={msg:"\u60a8\u662f\u5426\u82b1\u8d39"+this._fee+"\u793c\u5238\u62a5\u540d\uff0c\u4e00\u65e6\u62a5\u540d\u53c2\u4e0e\u6bd4\u8d5b\uff0c\u793c\u5238\u6982\u4e0d\u9000\u8fd8\uff0c\u662f\u5426\u7ee7\u7eed\uff1f",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(t){"\u786e\u5b9a"==t&&void 0!==i&&(console.log(d.getCurTime()+" #### \u4e89\u9738\u8d5b \u8bf7\u6c42\u62a5\u540d matchid:"+i),globalThis.MatchManager.requestMatchEnroll(i,function(){console.log(d.getCurTime()+" #### \u4e89\u9738\u8d5b \u8bf7\u6c42\u62a5\u540d matchid:"+i+"\u6210\u529f"),globalThis.createTips("\u62a5\u540d\u6210\u529f"),e.getComponent(c.default).index=1,n._isTopTeam=!0}))}};globalThis.createMsgBox(o);break;case 1:break;case 2:globalThis.createTips("\u5df2\u7ecf\u8fc7\u4e86\u62a5\u540d\u65f6\u95f4")}},t.prototype._refreshMeRewardList=function(){this.deleterecyle();var e=this;this.MeRewardList=[],globalThis.RankManager.requestExchangeList(function(t){var i=e.MeRewardNode.getChildByName("MeRewardScrollView"),n=e.MeRewardNode.getChildByName("NoMeReward");i.active=0!=t.length,n.active=0==t.length;for(var o=0;o<t.length;o++){var a=t[o];e.MeRewardList[o]=t[o];var r=s.PoolMgr.instance.getNode(e.MeRewardItem,e.MeRewardlistNode);e._initItemUI(r,a,o)}},2)},t.prototype._initItemUI=function(e,t,i){var n=new Date(t.create_time),o=n.getFullYear()+"/"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"/"+(n.getDate()<10?"0"+n.getDate():n.getDate())+"  "+t.pay_desc;e.getChildByName("buyTIps").getComponent(cc.Label).string=""+t.buyGoods,e.getChildByName("time").getComponent(cc.Label).string=o;var a=e.getChildByName("btn_details").getComponent(cc.Button),r=new cc.Component.EventHandler;r.target=this.node,r.component="MatchPanel",r.handler="onMeRewardBtnClick",r.customEventData=String(i),a.clickEvents=[],a.clickEvents.push(r)},t.prototype.onMeRewardBtnClick=function(e,t){this.MeRewardNode.getChildByName("MeRewardScrollView").active=!1;var i=this.MeRewardNode.getChildByName("detailsNode");i.active=!0;var n=Number(t),o=this.MeRewardList[n];if(o){var a=new Date(o.create_time),r=a.getFullYear(),s=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,c=a.getDate()<10?"0"+a.getDate():a.getDate();i.getChildByName("TIps_3").getComponent(cc.Label).string="\u606d\u559c\u60a8\u4e8e"+r+"\u5e74"+s+"\u6708"+c+"\u65e5\u5728\u201c"+o.buyGoods+"\u4e89\u9738",i.getChildByName("TIps_4").getComponent(cc.Label).string="\u8d5b\u201d\u4e2d\u83b7\u5f97\u7b2c\u4e00\u540d\uff0c\u60a8\u5c06\u83b7\u53d6"+o.buyGoods+"\u3002",i.getChildByName("TIps_9").getComponent(cc.Label).string=r+"."+s+"."+c}},t.prototype.onMeRewardCloseClick=function(){this.MeRewardNode.getChildByName("MeRewardScrollView").active=!0,this.MeRewardNode.getChildByName("detailsNode").active=!1,this.MeRewardNode.getChildByName("NoMeReward").active=!1},t.prototype.deleterecyle=function(){for(var e=0,t=this.MeRewardlistNode.children;e<t.length;e++){var i=t[e];s.PoolMgr.instance.putNode(i)}this.MeRewardlistNode.removeAllChildren()},t.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([h(cc.Node)],t.prototype,"MatchlistNode",void 0),a([h(cc.Node)],t.prototype,"TopTeamNode",void 0),a([h(cc.Node)],t.prototype,"newHandNode",void 0),a([h(cc.Node)],t.prototype,"listNode",void 0),a([h(cc.Node)],t.prototype,"matchItemNode",void 0),a([h(cc.Node)],t.prototype,"annimetions",void 0),a([h(cc.Node)],t.prototype,"TopTeamItemNode",void 0),a([h(cc.Node)],t.prototype,"MeRewardNode",void 0),a([h(cc.Node)],t.prototype,"MeRewardlistNode",void 0),a([h(cc.Node)],t.prototype,"MeRewardItem",void 0),a([u],t)}(cc.Component);i.default=m,i._forceUpdateRenderData=function(){throw new Error("Function not implemented.")},cc._RF.pop()},{"../../../framework/PoolMgr":"PoolMgr","../../ui/SpriteArray":"SpriteArray",EventEmiter:"EventEmiter",Tools:"Tools"}],MatchRankGame:[function(e,t){"use strict";cc._RF.push(t,"790931d8OxBvK+YjxsHbp2b","MatchRankGame");var i=[20170405,36610103,20161010,20161004,30100008,30000004,23510004,30000606,20173124,12101105];cc.Class({extends:e("BaseLayer"),properties:{matchRankImages:[cc.SpriteFrame],gameBg:cc.Sprite},setData:function(e,t){this.tableUIComponent=e,this.itemInfo=t;for(var n=0,o=0;o<i.length;o++)if(i[o]==t.gameID){n=o;break}this.gameBg.spriteFrame=this.matchRankImages[n]},onClickToMatchRank:function(){this.tableUIComponent&&this.tableUIComponent.onEnterRankMatch(this.itemInfo)},init:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchRankResult:[function(e,t){"use strict";cc._RF.push(t,"0c7ebYOBthMYKV9beb6g48Q","MatchRankResult"),cc.Class({extends:cc.Component,properties:{gameExp:cc.Label,userLevel:cc.Label,remark:cc.Label,Button_Back:cc.Button,animateNode:cc.Node,Skeleton:[sp.SkeletonData]},init:function(e,t){this._delegate=e,this._resultInfo=t||null,this.initUIData()},doButton_BackClick:function(){this.node.removeFromParent()},setShowMatchLevelUp:function(){this.isShowMatchLevelUp=!0},playSkelenAnimation:function(e,t,i,n,o){t=t||!1;var a=new cc.Node,r=a.addComponent(sp.Skeleton);r.skeletonData=this.Skeleton[0],r.premultipliedAlpha=!1,r.loop=t,r.animation="animation",r.timeScale=1,this.scheduleOnce(function(){r.setSkin(o)},.1),n?n.addChild(a):this.node.addChild(a),a.name=e,r.setCompleteListener(function(){i&&i()}.bind(this))},initUIData:function(){var e=parseInt(F_GetMoneyDisplay(this._resultInfo.gameExp));this.gameExp.string="\u7ecf\u9a8c\u503c\uff1a"+e;var t,i=getRankInfo(e);this.remark.string="\u661f\u7ea7\uff1a"+i.remark,this.animateNode.children.forEach(function(e){return e.destroy()}),t=["A","B","C","D","E","F","G"][parseInt(this._resultInfo.UserLevel/5)],this.playSkelenAnimation(t,!1,null,this.animateNode,t)}}),cc._RF.pop()},{}],MatchRank:[function(e,t){"use strict";cc._RF.push(t,"9d77aG/3P9N3oiDS+5Qx3yD","MatchRank"),cc.Class({extends:e("BaseLayer"),properties:{ListView_Rank:cc.ScrollView,Panel_Rank:cc.Node},start:function(){},init:function(){this.Panel_Rank.active=!1;var e=function(e){this.initRankListView(e)}.bind(this);MatchManager.requestMatchRank(e,this.node)},initRankListView:function(e){cc.log(e);var t=function(e,t,i,n){var o=t.getChildByName("AtlasLabel_Rank").getComponent(cc.Label),a=t.getChildByName("Text_Name").getComponent(cc.Label),r=t.getChildByName("Image_Avata"),s=t.getChildByName("AtlasLabel_Reward").getComponent(cc.Label);a.string="",a.ignoreContentAdaptWithSize(!0),s.string=i.gold,Image_Rank.ignoreContentAdaptWithSize(!0),o.active=!1,o.active=!0,o.string=n,a.string=tools.getCutStringByCount(i.name,5);var c=function(e){F_SetClipAvataImage(r,e,!1,CLIP_RES_PATH,FRAME_RES_PATH,ccui.TextureResType.localType)}.bind(this);AvatarManager.requestHeadRes(i.headURL,i.userid,c,r)}.bind(this);F_InitListView(e,t,this.ListView_Rank,this.Panel_Rank,1)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchResult:[function(e,t){"use strict";cc._RF.push(t,"80f0dluu0JAXKGbDABVV4lH","MatchResult"),cc.Class({extends:cc.Component,properties:{Image_Bg_User0:cc.Node,Image_Bg_User1:cc.Node,Image_Bg_User2:cc.Node,Image_Bg_User3:cc.Node,Text_Time:cc.Label,Button_Back:cc.Button},init:function(e,t,i,n){this._delegate=e,this._resultInfo=t||null,this.matchPlayerFans=i||null,this.matchPlayerInfos=n||null,this.isShowMatchLevelUp=!1,null!=this._resultInfo&&(this.initUIData(),this.showCountDown())},getUserCount:function(){var e=0;for(var t in this._resultInfo.userID){var i=this._resultInfo.userID[t];""!=i&&i.length>=6&&(e+=1)}return cc.log("getUserCount = "+e),e},doButton_BackClick:function(){this.isShowMatchLevelUp?this._delegate.showMatchLevelUp():GameSocket.getIsSendLogoutRoom()?this._delegate.removeAllMatchLayer():this._delegate.showMatchWait(),this.node.removeFromParent()},setShowMatchLevelUp:function(){this.isShowMatchLevelUp=!0},showCountDown:function(){var e=5;this.Text_Time.node.active=!0,this.Text_Time.string=tools.stringFormat("{0}",e);var t=function(){if((e-=1)<=0){if(e=0,!this||!this)return;this.unschedule(t),this.doButton_BackClick()}this.Text_Time.string=tools.stringFormat("{0}",e)}.bind(this);this.schedule(t,1,!1)},initUIData:function(){var e=this;this.Button_Back.node.y=.5*C_WinSize.height;for(var t=this._resultInfo,i=0;i<4;i++)0!=t.userID[i]&&function(){e["Image_Bg_User"+i].active=!0;var n=e["Image_Bg_User"+i].getChildByName("Image_Avata").getComponent(cc.Sprite),o=e["Image_Bg_User"+i].getChildByName("Text_Name").getComponent(cc.Label),a=e["Image_Bg_User"+i].getChildByName("AtlasLabel_Win").getComponent(cc.Label),r=e["Image_Bg_User"+i].getChildByName("AtlasLabel_Lose").getComponent(cc.Label),s=e["Image_Bg_User"+i].getChildByName("AtlasLabel_Win_All").getComponent(cc.Label),c=e["Image_Bg_User"+i].getChildByName("AtlasLabel_Lose_All").getComponent(cc.Label),l=e["Image_Bg_User"+i].getChildByName("AtlasLabel_Fan").getComponent(cc.Label);a.node.active=!1,r.node.active=!1,s.node.active=!1,c.node.active=!1;var u=function(e){var o=function(e){n.spriteFrame=e}.bind(this);AvatarManager.requestHeadRes(e.headURL,t.userID[i],o,n,!1)}.bind(e);o.string=tools.getCutStringByCount(t.userName[i],5),UserInfoManager.requestUserInfoByUserID(t.userID[i],u),window.matchPlayerFans&&(l.string=window.matchPlayerFans[i]+"\u756a"),t.llAllPoint[i]>=0?(a.node.active=!0,a.string="+"+F_GetMoneyDisplay(t.llAllPoint[i])):(r.node.active=!0,r.string=F_GetMoneyDisplay(t.llAllPoint[i])),t.llAllPoint_ALL[i]>=0?(s.node.active=!0,s.string="+"+F_GetMoneyDisplay(t.llAllPoint_ALL[i])):(c.node.active=!0,c.string=F_GetMoneyDisplay(t.llAllPoint_ALL[i]))}()},start:function(){}}),cc._RF.pop()},{}],MatchReward:[function(e,t){"use strict";cc._RF.push(t,"54cbbjMETNJtIaWWio9ZZYc","MatchReward"),cc.Class({extends:e("BaseLayer"),properties:{Button_Rule:cc.Button,Button_Detail:cc.Button,Image_Rule:cc.Node,Panel_Detail:cc.Node,ListView_Reward:cc.ScrollView,Panel_Reward:cc.Node},init:function(){this.selectedButtonType=1;for(var e=1;e<=7;e++)this[tools.stringFormat("Text_{0}",e)]=this.Panel_Detail.getChildByName(tools.stringFormat("Text_{0}",e)).getComponent(cc.Label),this[tools.stringFormat("Text_{0}",e)].node.active=!1;this.Panel_Reward.active=!1,this.Panel_Detail.active=!1,this.Image_Rule.active=!1,this.initSelectedButton(),this.requestRewardInfo()},initSelectedButton:function(){if(this.Button_Rule.interactable=!(2==this.selectedButtonType),this.Button_Detail.interactable=!(1==this.selectedButtonType),this.Image_Rule.active=2==this.selectedButtonType,this.Panel_Detail.active=1==this.selectedButtonType,1==this.selectedButtonType){var e=function(e){for(var t=1;t<=7;t++)this[tools.stringFormat("Text_{0}",t)].node.active=!0;this[tools.stringFormat("Text_{0}",1)].string=tools.stringFormat("\u6bd4\u8d5b\u540d\u79f0\uff1a{0}",e.match_name),this[tools.stringFormat("Text_{0}",2)].string=tools.stringFormat("\u6bd4\u8d5b\u7c7b\u578b\uff1a{0}","\u8840\u6218\u9ebb\u5c06"),this[tools.stringFormat("Text_{0}",3)].string=tools.stringFormat("\u6bd4\u8d5b\u65f6\u95f4\uff1a{0}-{1}",e.match_start,e.match_end),this[tools.stringFormat("Text_{0}",4)].string=tools.stringFormat("\u5f00\u8d5b\u95f4\u9694\uff1a{0}\u5206\u949f",e.match_interval),this[tools.stringFormat("Text_{0}",5)].string=tools.stringFormat("\u62a5\u540d\u4eba\u6570\uff1a{0}\u4eba",e.people_count),this[tools.stringFormat("Text_{0}",6)].string=tools.stringFormat("\u62a5\u540d\u8d39\u7528\uff1a{0}",e.fee),this[tools.stringFormat("Text_{0}",7)].string=tools.stringFormat("\u6bd4\u8d5b\u7b79\u7801\uff1a{0}",e.game_money)}.bind(this);MatchManager.requestMatchConfig(tools.nodeCallback(e,this.Layer))}},initRewardListView:function(e){var t=function(e,t,i){var n=t.getChildByName("Image_Rank"),o=t.getChildByName("Text_Rank").getComponent(cc.Label),a=t.getChildByName("AtlasLabel_Gold").getComponent(cc.Label);n.active=!1,o.node.active=!1,i.rank_end<=3?(n.active=!0,n.loadTexture(tools.stringFormat("Match/MatchReward/{0}",i.rank_end))):(o.node.active=!0,i.rank_end==i.rank_start?o.string=tools.stringFormat("\u7b2c{0}\u540d",i.rank_end):o.string=tools.stringFormat("\u7b2c{0}-{1}\u540d",i.rank_start,i.rank_end)),a.string=F_GetMoneyDisplay(i.gold)}.bind(this);F_InitListView(e,t,this.ListView_Reward,this.Panel_Reward,1)},requestRewardInfo:function(){var e=function(e){this.initRewardListView(e)}.bind(this);MatchManager.requestMatchRewardConfig(e)},doButton_DetailClick:function(){1!=this.selectedButtonType&&(this.selectedButtonType=1,this.initSelectedButton())},doButton_RuleClick:function(){2!=this.selectedButtonType&&(this.selectedButtonType=2,this.initSelectedButton())}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MatchWait:[function(e,t){"use strict";cc._RF.push(t,"5d03avyFQdEJbh0eUKiLo0S","MatchWait"),cc.Class({extends:e("LobbyBaseLayer"),properties:{logon_draw:cc.Node,logon_win:cc.Node,logon_lose:cc.Node},init:function(e,t){this._delegate=e.node,this.logon_draw.active=0==t,this.logon_win.active=1==t,this.logon_lose.active=2==t;var i=cc.view.getFrameSize();i.width/i.height>2&&(this.logon_draw.x-=100,this.logon_win.x-=100,this.logon_lose.x-=100)},doButton_LookClick:function(){var e=MatchManager.getMyMatchGameInfo();GameSocket.requireAllDeskData(e.llPartOfMatchID),this.doButton_RankClick()},doButton_RankClick:function(){},showMatchGameDeskInfo:function(){if(cc.log(this._delegate),!this._delegate.getChildByName("MatchDeskInfoLayer")&&(cc.log("addLayershowMatchGameDeskInfo"),!this.curShowMatchGameDeskInfoTime||(new Date).getTime()-this.curShowMatchGameDeskInfoTime>1e3)){var e=MatchManager.getMatchDeskInfo();this.addLayer(this._delegate,"Match/MatchDeskInfoLayer",function(e){e.zIndex=G_MATCH_LAYER_TAG,e.name="MatchDeskInfoLayer"},e),this.curShowMatchGameDeskInfoTime=(new Date).getTime()}},start:function(){}}),cc._RF.pop()},{LobbyBaseLayer:"LobbyBaseLayer"}],MathUtils:[function(e,t){"use strict";cc._RF.push(t,"784d58Ohy1E+Ld8QEvOuG27","MathUtils");var i={INT_MAX_VALUE:2147483647,randomInt:function(e){return Math.round(parseInt(Math.random()*this.INT_MAX_VALUE)%e)},randomArray:function(e){e.sort(function(){return.5-Math.random()})}};t.exports=i,cc._RF.pop()},{}],MobileLoginScene:[function(e,t){"use strict";cc._RF.push(t,"350c2IxgWRDpKIs5dWf7kpB","MobileLoginScene");var i,n=(i=e("../../LiveBroadcast/txySdk"))&&i.__esModule?i:{default:i};window.WechatAppID="wx85e582fb8e80518f",window.redirect_uri="http://h5.ouwan.hmzb.top";var o="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+WechatAppID+"&redirect_uri="+encodeURIComponent(redirect_uri)+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect",a=e("BaseLayer"),r=e("../tools/Tools");window.isWeiXin=function(){var e=window.navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},window.ua=navigator.userAgent,window.isTablet=function(){return/(?:iPad|PlayBook)/.test(ua)||/(?:Android)/.test(ua)&&!/(?:Mobile)/.test(ua)||/(?:Firefox)/.test(ua)&&/(?:Tablet)/.test(ua)},window.isIphone=function(){return!!/(iPhone|iPad|iPod|iOS)/i.test(ua)},window.isAndroid=function(){return!!/(Android)/i.test(ua)},window.isPC=function(){return!(/(iPhone|iPad|iPod|iOS)/i.test(ua)||/(Android)/i.test(ua)||isTablet())},window.runAppToSetting=function(){cc.sys.localStorage.setItem("is"+G_APP_NAME_EN+"GameStartApp","1")},window.nativeNullNet=function(){try{if("mLogin"==cc.director.getScene()._name){var e=cc.find("Canvas");if(e){var t=e.getComponent("OfficialHotUpdate");t&&t.checkStopUpdate()}}else cc.curGameNetWorkType=-1,LobbySocket.onDisconnect()}catch(i){}},cc.Class({extends:a,properties:{node_login:cc.Node,PCNode:cc.Node,btnLogin:cc.Node,btnPhone:cc.Node,loadingNode:cc.Node,loadProgressText:cc.Label,loadProgress:cc.ProgressBar,loadName:cc.Label,loadingBgNode:cc.Node,tip_Label:cc.Node,latitude1:cc.Label,latitude2:cc.Label,checkmark:cc.Node,toggle:cc.Node},ctor:function(){this.LoginLogic=new(e("LoginLogic"))},GetRequest:function(e){var t=e,i={};if(-1!=t.indexOf("?"))for(var n=t.substr(1).split("&"),o=0;o<n.length;o++)i[n[o].split("=")[0]]=unescape(n[o].split("=")[1]);return cc.log(i),i},onEnable:function(){},onLoad:function(){var t=this;n.default.inst.initSdk();var i=cc.view.getFrameSize();if(cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),i.width>i.height&&cc.view.setFrameSize(i.height,i.width),cc.game.setFrameRate(60),window.GameEvent=new cc.EventTarget,ConfigDataManager.getConfigData(),document.title=G_APP_NAME_CH,cc.sys.localStorage.setItem(G_LIVE_BROADCAST,1),this.loadingNode.active=!0,cc.sys.isNative){if(window.isRelease=!0,!cc.jsbMgr){var o=e("JsbMgr");cc.jsbMgr=new o}}else{this.node_login.active=!1;var a=window.location.host;window.isRelease=a.indexOf("localhost")<0&&a.indexOf("192.168.")<0,this.theRequest=this.GetRequest(window.location.search),window.vedioFileId=r.getQueryString("fileID"),this.getRequest()}!cc.sys.isNative&&isRelease&&this.loadingBgNode&&(this.loadingBgNode.active=!0),cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){if(t.scheduleOnce(function(){t.loadProgress.progress+=.08,cc.sys.isNative?(t.loadProgress.progress+=.1,t.isLoadedScene=!0):cc.director.preloadScene("lobby",null,function(){t.loadProgress.progress+=.1,t.isLoadedScene=!0})},0),!cc.sys.isNative&&isRelease&&(t.loadingBgNode.active=!1),cc.sys.isNative)try{!cc.sys.localStorage.getItem(G_APP_NAME_EN+"GameBuildVerionCode")&&t.scheduleOnce(function(){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","removeLaunchImage","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","removeLaunchImage")},cc.sys.os==cc.sys.OS_IOS?1.2:3.5)}catch(e){}}),this.loadIndex=0,this.loadPreData=[{preName:"LoadingLayer",url:"prefab/",showName:"",loadLocationType:"mLogin"},{preName:"RepeatConnectLayer",url:"prefab/",showName:"",loadLocationType:"mLogin"},{preName:"NewhandrewardPrefab",url:"prefab/",showName:"",loadLocationType:"mLogin"},{preName:"personMsgDialog",url:"prefab/lobby/",showName:"",loadLocationType:"mLogin"},{preName:"LayoutPersonalInformation",url:"prefab/lobby/",showName:"",loadLocationType:"mLogin"},{preName:"LayoutShop",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"personVideoDialog",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutLobby",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutMatch",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"MsgBoxPrefab",url:"prefab/",showName:"",loadLocationType:"lobby"},{preName:"TipLayerPrefab",url:"prefab/",showName:"",loadLocationType:"lobby"},{preName:"TipLayerPrefabhe",url:"prefab/",showName:"",loadLocationType:"lobby"},{preName:"LayoutActivity",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutChongGuan",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutExchange",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutGiveGiftCard",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutMyHome",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutNotice",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LayoutProposal",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"GameSetting",url:"prefab/",showName:"",loadLocationType:"lobby"},{preName:"LayoutVenueSelection",url:"prefab/lobby/",showName:"",loadLocationType:"lobby"},{preName:"LobbyCreaterImage",url:"prefab/",showName:"",loadLocationType:"lobby"},{preName:"GameSetLayer",url:"prefab/",showName:"",loadLocationType:"Game_HZMJ"},{preName:"VoiceLayer",url:"prefab/",showName:"",loadLocationType:"Game_HZMJ"},{preName:"GameCreaterImage",url:"prefab/",showName:"",loadLocationType:"Game_HZMJ"},{preName:"ChatLayer",url:"prefab/",showName:"",loadLocationType:"Game_HZMJ"},{preName:"gameOver",url:"HZMJ/",showName:"",loadLocationType:"Game_HZMJ"},{preName:"MatchCheckPointResultLayer",url:"prefab/Match/",showName:"",loadLocationType:"Game_HZMJ"}],cc.loadData={},cc.loadData.loadLobbyPreData=[],cc.loadData.loadLobbyPreDataIndex=0,cc.loadData.loadGamePreData=[],cc.loadData.loadGamePreDataIndex=0;for(var s=this.loadPreData.length-1;s>=0;s--)"lobby"==this.loadPreData[s].loadLocationType?(cc.loadData.loadLobbyPreData.unshift(this.loadPreData[s]),this.loadPreData.splice(s,1)):"Game_HZMJ"==this.loadPreData[s].loadLocationType&&(cc.loadData.loadGamePreData.unshift(this.loadPreData[s]),this.loadPreData.splice(s,1));this.loadProgress.progress=0,this.programNum=0,this.isComplite=!1,this.loadFinish=function(){t.loadIndex++,t.programNum=t.loadIndex/t.loadPreData.length,t.loadingFlag=!1},cc.checkIsFrontBack||(cc.checkIsFrontBack=!0,this.checkIsFrontStage()),this.getGameList()},getGameList:function(){var e=function(e){if(0!==e.length){cc.log("\u6e38\u620f\u5217\u8868\u4fe1\u606f\u83b7\u53d6\u5b8c\u6bd5,\u5f00\u59cb\u83b7\u53d6\u6240\u6709\u623f\u95f4\u5217\u8868\u4fe1\u606f");var t=function(e){cc.log("\u623f\u95f4\u5217\u8868\u4fe1\u606f\u6570\u636e:",e)}.bind(this);RoomListManager.requestAllRoomList(t)}else cc.log(" \u6e38\u620f\u5217\u8868\u83b7\u53d6\u5931\u8d25 ")}.bind(this);GameListManager.requestGameList(e)},onBtnLogin:function(){var e=this;this.isClick||(this.isClick=!0,this.scheduleOnce(function(){e.isClick=!1},.8),this.isComplite?this.replaceWxURL():this.loadingNode.active=!0)},onBtnPhone:function(){this.PCNode.active=!0,this.node_login.active=!1},toLoginData:function(){var e=this,t=function(){e.tryToWechatLogin()}.bind(this),i=function(t){var i=function(){e.replaceWxURL()}.bind(this),n={};n.msg=t,n.btn1="\u786e\u5b9a",n.callbackFun=i,createMsgBox(n)}.bind(this);ConfigDataManager.getServerStatus(t,i)},compliteLogin:function(){1==window.G_GAMESEVER_KEY?cc.sys.isMobile?this.toLoginData():window.isRelease||(this.node_login.active=!0,this.loadingNode.active=!1,this.setZhangHaoLogin()):(this.node_login.active=!0,this.loadingNode.active=!1,this.setZhangHaoLogin())},start:function(){window.prefabMap=new Map},update:function(){cc.sys.isNative||(this.loadProgress.progress>=1&&!this.isComplite&&(this.isComplite=!0,this.compliteLogin()),this.isComplite||(this.loadProgress.progress<this.programNum?this.loadProgress.progress+=.005:this.loadPre()))},loadResult:function(e,t,i){e||!t?cc.error("\u672a\u5b9a\u4e49\u7684\u9884\u5236\u4f53\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u8d44\u6e90"+i):("object"==typeof t&&window.prefabMap.set(i+"",t),this.loadFinish(),cc.sys.isNative&&cc.loadData.loadLobbyPreDataIndex>=cc.loadData.loadLobbyPreData.length&&this.checkPreLoadScence())},loadPre:function(){var e=this;if(!this.loadingFlag){this.loadingFlag=!0;var t=this.loadPreData[this.loadIndex];t&&(""!=t.showName&&(this.loadName.string=t.showName),"Texture"==t.preName?cc.loader.loadResDir(t.url,cc.SpriteFrame,function(){},function(){e.loadResult(null,"Texture",t.url)}):"TextureAtlas"==t.preName?cc.loader.loadResDir(t.url,cc.SpriteAtlas,function(){},function(){e.loadResult(null,"TextureAtlas",t.url)}):"bitmapFont"==t.preName?cc.loader.loadRes(t.url,cc.BitmapFont,function(i,n){e.loadResult(null,n,"bitmapFont"+t.url)}):"json"==t.preName?cc.loader.loadRes(t.url,cc.JsonAsset,function(i,n){e.loadResult(null,n,"json"+t.url)}):cc.loader.loadRes(t.url+t.preName,function(i,n){e.loadResult(i,n,t.url+t.preName)}))}},getRequest:function(){window.code=this.theRequest.code,window.ShartuserID=this.theRequest.state,this.theRequest.state?cc.sys.localStorage.setItem(G_SHARE_USERID,this.theRequest.state):cc.sys.localStorage.setItem(G_SHARE_USERID,0),window.username=this.theRequest.username,window.password=this.theRequest.password},replaceWxURL:function(){try{window.location.replace(o)}catch(e){cc.log(e)}},setZhangHaoLogin:function(){this.layoutType=1,this.initUI(),this.initUIData()},tryToWechatLogin:function(){if(window.code)this.wechatLogin(this.theRequest);else if(window.username&&window.password){var e={unionid:""};e.regType=E_RegType.MOB,e.regWay=E_RegWay.COMMON,e.acc=window.username,e.psw=window.password,e.regStatus=E_RegStatus.LOGIN,e.sex=E_UserSex.MALE,e.headURL="",this.doLoginWechat(e),this.btnLogin.active=!1,this.btnPhone.active=!1}else cc.sys.isMobile,this.replaceWxURL()},setLayout:function(){if(1===this.layoutType){if(!this.login_acc){var e=cc.sys.localStorage.getItem(G_ACCOUNT_KEY);this.login_acc=e||""}if(!this.login_pwd){var t=cc.sys.localStorage.getItem(G_PASSWARD_KEY);this.login_pwd=t||""}this.editboxAccount.string=this.login_acc,this.editboxPassword.string=this.login_pwd}else 2===this.layoutType&&(this.regist_acc=this.regist_acc?this.regist_acc:"",this.regist_pwd=this.regist_pwd?this.regist_pwd:"",this.editboxAccount.string=this.regist_acc,this.editboxPassword.string=this.regist_pwd)},initUI:function(){this.editboxAccount=cc.find("Canvas/Window_Layout/Editbox_Acc").getComponent(cc.EditBox),this.editboxPassword=cc.find("Canvas/Window_Layout/Editbox_Pwd").getComponent(cc.EditBox)},initUIData:function(){this.setLayout()},wechatLogin:function(e){console.log("wechat auth login wxcode:",window.code);var t=this,i=function(e){var i=e,n={};n.unionid=i.openid,n.regType=E_RegType.MOB,n.regWay=E_RegWay.WECHAT;var o,a=i.nickname;a=(o=a).indexOf("%")>-1?o.replace(/%/g,"%25"):o;var r=encodeURI(a);n.acc=r,n.psw=hex_md5(i.openid),n.regStatus=E_RegStatus.REG,n.sex=1==i.sex?1:0,n.headURL=i.headimgurl,console.log("wechat login to game srv",n),t.doLoginWechat(n)}.bind(this);ConfigDataManager.getWxUserInfo(e.code,i,function(){t.replaceWxURL()})},saveWeDataToLocal:function(){},doLoginLobby:function(e,t,i,n){cc.log("acc = ",e);var o=function(e,t,n){var o=this;if(e){var a=function(){if(LobbySocket.setLoginDelegate(o),i===E_RegStatus.LOGIN)o.LoginLogic.loginLobby(t,n);else{var e=function(e){"\u786e \u5b9a"===e&&this.LoginLogic.loginLobby(t,n)}.bind(o),a={msg:"\u6ce8\u518c\u6210\u529f, \u76f4\u63a5\u767b\u5f55\u5427",btn1:"\u786e \u5b9a",btn2:"\u53d6 \u6d88"};a.callbackFun=e,createMsgBox(a)}};if(cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os){this.node_login.active=!1,this.PCNode.active=!1,this.loadProgress.progress=.1,this.loadingNode.active=!0;var r=cc.macro.DOWNLOAD_MAX_CONCURRENT;cc.macro.DOWNLOAD_MAX_CONCURRENT=2,this.checkPreLoadScence(this.loadProgress,function(){cc.macro.DOWNLOAD_MAX_CONCURRENT=r,a()})}else a()}}.bind(this),a={unionid:""};a.regType=E_RegType.PC,a.regWay=E_RegWay.COMMON,a.acc=e,a.psw=t,a.regStatus=i,a.sex=E_UserSex.MALE,a.headURL="",this.LoginLogic.accountRegist(a,o,n)},vertifyAccountPwdText:function(e,t){return!(!t||32!==e.length)||!(""===e||e.length<6||e.length>16)},doButtonLoginClick:function(){var e=this.editboxAccount.string,t=this.editboxPassword.string;if(cc.log("doButtonLoginClick",e,t),1===this.layoutType){if(!this.vertifyAccountPwdText(e))return void createTips("\u8bf7\u8f93\u51656-16\u4f4d\u8d26\u53f7");32===t.length?this.doLoginLobby(e,t,E_RegStatus.LOGIN,t):this.doLoginLobby(e,hex_md5(t),E_RegStatus.LOGIN,t)}else 2===this.layoutType&&(this.regist_acc=e||"",this.regist_pwd=t||"",this.layoutType=1,this.setLayout())},doButtonRegistClick:function(){var e=this.editboxAccount.string,t=this.editboxPassword.string;if(2===this.layoutType){if(!this.vertifyAccountPwdText(e))return void createTips("\u8bf7\u8f93\u51656-16\u4f4d\u8d26\u53f7");if(!this.vertifyAccountPwdText(t,!0))return void createTips("\u8bf7\u8f93\u51656-16\u4f4d\u5bc6\u7801");this.doLoginLobby(e,hex_md5(t),E_RegStatus.REG,t)}else 1===this.layoutType&&(this.login_acc=e||"",this.login_pwd=t||"",this.layoutType=2,this.setLayout())},onDestroy:function(){this._super(),LobbySocket.setLoginDelegate(null)},doLoginWechat:function(e){var t=function(e,t,i){e&&(LobbySocket.setLoginDelegate(this),this.LoginLogic.loginLobby(t,i))}.bind(this);this.LoginLogic.accountRegist(e,t)},isToggle:function(){this.btnLogin.getComponent(cc.Button).interactable=this.checkmark.active,this.btnPhone.getComponent(cc.Button).interactable=this.checkmark.active}}),cc._RF.pop()},{"../../LiveBroadcast/txySdk":"txySdk","../tools/Tools":"Tools",BaseLayer:"BaseLayer",JsbMgr:"JsbMgr",LoginLogic:"LoginLogic"}],MsgBoxLayer:[function(e,t){"use strict";cc._RF.push(t,"7312eyFMcRDnqSJVKkaR/im","MsgBoxLayer"),cc.Class({extends:e("BaseLayer"),properties:{btnSure:cc.Button,sureLabel:cc.Label,btnCancel:cc.Button,cancelLabel:cc.Label,btnClose:cc.Button,msgLabel:cc.Label},onLoad:function(){this._super(),this.node.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2))},init:function(e){this.msgObj=e;var t=this.btnSure.getComponent(cc.Button),i=(this.sureLabel.getComponent(cc.Label),this.btnCancel.getComponent(cc.Button)),n=(this.cancelLabel.getComponent(cc.Label),this.msgLabel.getComponent(cc.Label));if(this.node.name=e.msg,this.callbackFun=e.callbackFun,n.string=e.msg,cc.log(e),e.btn2);else{var o=cc.v2(.5*(t.node.getPosition().x+i.node.getPosition().x),t.node.getPosition().y);t.node.setPosition(o),i.node.parent=null}},removeLayer:function(){},onButtonClick:function(e,t){switch(t){case"cancel":this.callbackFun(this.msgObj.btn2);break;case"sure":this.callbackFun(this.msgObj.btn1)}this.node.parent=null}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],MsgBox:[function(e,t){"use strict";cc._RF.push(t,"e9d70H3wVhDYL5yRQYuuV4u","MsgBox"),window.createTips=function(e,t){var i,n=cc.view.getFrameSize();i=n.height>n.width?"prefab/TipLayerPrefabhe":"prefab/TipLayerPrefab",cc.loader.loadRes(i,function(i,n){if(i)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+i);else if(n instanceof cc.Prefab){var o=cc.director.getScene().getChildByName(e);null!==o&&(o.stopAllActions(),o.destroy());var a=cc.instantiate(n),r=a.getComponent("TipLayer");e&&e.length>0&&e.indexOf("\u8d44\u6e90")>=0&&(e.indexOf("\u4e0d\u8db3")>=0||e.indexOf("\u4e0d\u591f")>=0)&&(e=e.replace("\u8d44\u6e90","\u91d1\u5e01")),r.initTip(e,t),cc.director.getScene().addChild(a,8887)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.addEventListener("orientationchange",function(){var e=window.orientation;switch(e){case 90:case-90:e="landscape",setTimeout(function(){},500)}document.body.parentNode.setAttribute("class",e)},!1),window.createClickTips=function(e,t){var i,n=cc.view.getFrameSize();i=n.height>n.width?"prefab/TipLayerPrefabhe":"prefab/TipLayerPrefab",cc.loader.loadRes(i,function(i,n){if(i)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+i);else if(n instanceof cc.Prefab){var o=cc.director.getScene().getChildByName(e);null!==o&&(o.stopAllActions(),o.destroy());var a=cc.instantiate(n);a.getComponent("TipLayer").initClickTip(e,t),cc.director.getScene().addChild(a,888887)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.createMsgBox=function(e,t){var i=function(i){var n=cc.director.getScene().getChildByName(e.msg);null!==n&&(n.stopAllActions(),n.destroy()),t||(t=cc.director.getScene());var o=cc.instantiate(i);o.getComponent("MsgBoxLayer").init(e),t.addChild(o,8887)},n=window.prefabMap.get("prefab/MsgBoxPrefab");n?i(n):cc.loader.loadRes("prefab/MsgBoxPrefab",function(e,t){e?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25createMsgBox\uff0c \u539f\u56e0:"+e):t instanceof cc.Prefab?i(t):cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.createQustion=function(e){cc.loader.loadRes("prefab/QustionPrefab",function(t,i){if(t)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t);else if(i instanceof cc.Prefab){var n=cc.director.getScene().getChildByName("QustionPrefab");null!==n&&(n.stopAllActions(),n.destroy()),e||(e=cc.director.getScene());var o=cc.instantiate(i);e.addChild(o,8887)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.LobbyCreaterImage=function(e){cc.loader.loadRes("prefab/LobbyCreaterImage",function(t,i){if(t)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t);else if(i instanceof cc.Prefab){var n=cc.director.getScene().getChildByName("LobbyCreaterImage");null!==n&&(n.stopAllActions(),n.destroy()),e||(e=cc.director.getScene());var o=cc.instantiate(i);e.addChild(o,8887)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.LobbyurlShart=function(e){cc.loader.loadRes("prefab/LobbyURLShart",function(t,i){if(t)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+t);else if(i instanceof cc.Prefab){var n=cc.director.getScene().getChildByName("LobbyURLShart");null!==n&&(n.stopAllActions(),n.destroy()),e||(e=cc.director.getScene());var o=cc.instantiate(i);e.addChild(o,8887)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.createNewhandReward=function(e,t,i){cc.loader.loadRes("prefab/NewhandrewardPrefab",function(n,o){if(n)cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25\uff0c \u539f\u56e0:"+n);else if(o instanceof cc.Prefab){var a=cc.director.getScene().getChildByName("NewhandrewardPrefab");null!==a&&(a.stopAllActions(),a.destroy()),i||(i=cc.director.getScene());var r=cc.instantiate(o);r.getComponent("NewhandReward").init(e,t),i.addChild(r,8e3)}else cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.createPersonRealNameMsgBox=function(e,t){var i=function(i){var n=cc.director.getScene().getChildByName(e.msg);null!==n&&(n.stopAllActions(),n.destroy()),t||(t=cc.director.getScene());var o=cc.instantiate(i);o.getComponent("PersonRealNameMsgBoxLayout").init(e),t.addChild(o,8886)},n=window.prefabMap.get("prefab/PersonRealNameMsgBoxPrefab");n?i(n):cc.loader.loadRes("prefab/PersonRealNameMsgBoxLayout",function(e,t){e?cc.log("\u8f7d\u5165\u9884\u5236\u8d44\u6e90\u5931\u8d25PersonRealNameMsgBoxLayout\uff0c \u539f\u56e0:"+e):t instanceof cc.Prefab?i(t):cc.log(" \u4f60\u8f7d\u5165\u7684\u4e0d\u662f\u9884\u5236\u8d44\u6e90 ")})},window.createRepeatConnectLayer=function(e){console.log(">>>>>>>createRepeatConnectLayer \u51c6\u5907..."),GameSocket.getIsSendLogoutRoom()||window.repeatConnectLayer||(console.log(">>>>>>>createRepeatConnectLayer \u8fdb\u6765\u4e86..."),cc.loader.loadRes("prefab/RepeatConnectLayer",function(t,i){if(!t){console.log(">>>>>>>RepeatConnectLayer \u521d\u59cb\u5316\u9884\u5236\u4f53\u5b8c\u6bd5...");var n=cc.instantiate(i);n.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2)),n.name="RepeatConnectLayer",e?e.addChild(n):console.log(">>>\u6ca1\u6709node>>>\u6ca1\u6709node>>>\u6ca1\u6709node>>>\u6ca1\u6709node>>>\u6ca1\u6709node>>>\u6ca1\u6709node"),window.repeatConnectLayer=n}}))},cc._RF.pop()},{}],MyAwardInfo:[function(e,t){"use strict";cc._RF.push(t,"02f62HGdEFKZb64IS/8G7X/","MyAwardInfo"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,week_money:cc.Label,not_under_achievement:cc.Label,under_achievement:cc.Label,rmb:cc.Label,status:cc.Label},init:function(e){var t=new Date(1e3*(e.time||0)),i=t.getFullYear()+"",n=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"",o=(t.getDate()<10?"0"+t.getDate():t.getDate())+"";this.timeLabel.string=String(i+"/"+n+"/"+o),this.week_money.string=String(Number(e.week_money/G_MULTI_NUM)),this.not_under_achievement.string=String(Number(e.not_under_achievement/G_MULTI_NUM)),this.under_achievement.string=String(Number(e.under_achievement/G_MULTI_NUM)),this.rmb.string=String(Number(e.rmb/G_MULTI_NUM)),this.status.string=e.status},start:function(){}}),cc._RF.pop()},{}],MyHttpRequest:[function(e,t){"use strict";cc._RF.push(t,"4ec67OTlMJN1L+6ym0pjswl","MyHttpRequest");var i={doRequest:function(e){var t=E_REQUEST_TYPE.POST;e.responseType&&(t=e.responseType),e.url||(e.url=NetConfig.getPHPUrl()),e.url=e.url;var i=e.requestDesc,n=e.params,o=e.isSign;if(o){n.deviceType=1;var a=Date.parse(new Date).toString();n.timestamp=Number(a.substr(0,10)),n.random=tools.getRandomStr(parseInt(32*Math.random())),n.uuid="A1D62-DAB28-80Z59-ACW87-1ETD9",cc.log(Base64.encode(hex_md5(r(n)))),cc.log(Base64.encode(hex_md5(r(JSON.stringify(n))))),n.sign=Base64.encode(hex_md5(r(n)))}function r(e){for(var t=Object.keys(e).sort(),i="",n=0;n<t.length;n++)i+=(""!=i?"&":"")+t[n]+"="+e[t[n]];return i}var s=e.url,c=cc.loader.getXMLHttpRequest();t===E_REQUEST_TYPE.GET&&(s+=tools.convertGetParams(n)),cc.log("url : "+s),c.open(t,s,!0),cc.sys.isNative&&c.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8");var l=e.sCallback,u=e.fCallback;c.onreadystatechange=function(){var e=c.responseText;if(2==c.readyState||3==c.readyState);else if(4==c.readyState&&c.status>=200&&c.status<=207){if(i&&removeLoading&&removeLoading(),l)if(e){var n=JSON.parse(e);l(n)}else l(n)}else cc.log(tools.getCurTime()+" http request failed method:"+t+" url:"+s+" issign:"+o+" data:",h,"xhr.readyState:"+c.readyState+" xhr.status:"+c.status),i&&removeLoading&&removeLoading(),u&&u()},c.ontimeout=function(){return e.ontimeout&&e.ontimeout()},c.onerror=function(){return!0};var h=null;t===E_REQUEST_TYPE.POST&&(h=tools.convertPostParams(n),c.setRequestHeader("Content-type","application/x-www-form-urlencoded")),c.send(h),i&&createLoading&&createLoading(i)}};t.exports=i,cc._RF.pop()},{}],NJJ_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"815ee6EeWpJPKRt/q1dPLJf","NJJ_ZhanJi_Item"),cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,cards:cc.Node,cardItem:cc.Node,bankerView:cc.Node,nnCardsAtlas:cc.SpriteAtlas,nnTipsAtlas:cc.SpriteAtlas,cardTips:cc.Sprite},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.bankerView.active=e.isBanker;for(var n=0;n<e.handCards.length;n++)if(255!=e.handCards[n]){var o=this.cards.children[n];o.setContentSize(cc.size(75,90)),o.active=!0,o.getComponent(cc.Sprite).spriteFrame=this.nnCardsAtlas.getSpriteFrame(e.handCards[n]),0==e.cardShape&&(3!=n&&4!=n||(o.y=-45))}else this.cards.children[n].active=!1;this.cardTips.spriteFrame=this.nnTipsAtlas.getSpriteFrame("card_result"+e.cardShape)}}),cc._RF.pop()},{}],NetConfig:[function(e,t){"use strict";cc._RF.push(t,"8c8d2DqCf5C5K2u82LvnwkJ","NetConfig"),t.exports={getServerAddress:function(){return G_HTTP_DOMAIN},getAgentServer:function(){return G_AGENT_SERVER},getServerPort:function(){return G_SERVER_PORT},setServerAddress:function(e){G_HTTP_DOMAIN=e},setServerPort:function(e){G_SEND_PORT=e},getPHP_IP:function(){return G_PHP_IP},getSendPort:function(){return G_SEND_PORT},getPHPUrl:function(){return"https://"+this.getPHP_IP()+"/hm_ucenter/web/index.php"},getHttpDomain:function(){return G_HTTP_DOMAIN},getSecretKey:function(){return G_SECRET_KEY},isLocalServerAddress:function(){var e=this.getServerAddress().split(".");return"192"==e[1]&&"168"==e[2]},getServerConfigByID:function(e){for(var t in G_SERVER_LIST){var i=G_SERVER_LIST[t];if(i.id==e)return i}return this.setServerConfigID(G_SERVER_LIST[1].id),G_SERVER_LIST[1]},getServerConfigID:function(){return cc.sys.localStorage.getItem(G_SELECTED_SERVER_ID)},setServerConfigID:function(e){cc.sys.localStorage.setItem(G_SELECTED_SERVER_ID,e)},initServerConfig:function(){var e=this.getServerConfigID();this.getServerConfigByID(e)},isTestServer:function(){return 1!=this.getServerConfigID()}},cc._RF.pop()},{}],NetResManager:[function(e,t){"use strict";cc._RF.push(t,"0a34dX5BvBD/5T3N7jB1pmB","NetResManager"),t.exports=cc.Class({ctor:function(){},requestNetRes:function(e,t){cc.loader.load({url:e,type:"png"},function(i,n){if(i)console.error("requestNetRes failed url:"+e,i.message||i);else{var o=new cc.SpriteFrame(n);t&&cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=o)}})}}),cc._RF.pop()},{}],NewScript:[function(e,t){"use strict";cc._RF.push(t,"dd1fd2r54BPgppEyp9Gs/b1","NewScript"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],NewhandReward:[function(e,t){"use strict";cc._RF.push(t,"38830dKCnpChbk4zqCcOnh9","NewhandReward");var i={toggle1:0,toggle2:1};cc.Class({extends:e("BaseLayer"),properties:{SexNode:cc.Node,PlayinforNode:cc.Node,rewardNode:cc.Node,toggleboy:cc.Toggle,togglegirt:cc.Toggle,IphoneEdit:cc.EditBox,CodeEdit:cc.EditBox,adressEdit:cc.EditBox,labjuan:cc.Label,labgold:cc.Label},onLoad:function(){this._super(),this.SexNode.active=!0,this.rewardNode.active=!1,this.PlayinforNode.active=!1,this.node.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2));var t=(new(e("LobbyLogic"))).getMyInfo();this.myInfo=t,1==t.sex?this.toggleboy.getComponent(cc.Toggle).check():this.togglegirt.getComponent(cc.Toggle).check()},init:function(t,i){this.LobbyLogic=new(e("LobbyLogic")),this.labjuan.string="x"+String(t),this.labgold.string="x"+String(i/100);var n=this.LobbyLogic.getPhone(),o=this.LobbyLogic.getGoodsAddress();0==n&&(n=""),0==o&&(o=""),this.IphoneEdit.string=n,this.adressEdit.string=o},onSexXiuGai:function(e){var t=i[e.node.name];if(cc.log(t),t!=this.myInfo.sex){var n=this;UserInfoManager.requestChangeUserSex(t,function(){n.myInfo.sex=t,UserInfoManager.setMyInfo(n.myInfo)})}},onButtonClick:function(e,t){var i=this;switch(t){case"btn_next":this.SexNode.active=!1,this.rewardNode.active=!1,this.PlayinforNode.active=!0;break;case"btn_lq":this.LobbyLogic.requestLogonUserinfoFlush(1,function(){createTips("\u606d\u559c\u60a8\u83b7\u5f97\u65b0\u624b\u793c\u5305\uff0c\u5956\u52b1\u7a0d\u540e\u5230\u8d26\u8bf7\u6ce8\u610f\u67e5\u6536\uff01"),i.onCloseBtn()});break;case"btn_tg1":case"btn_tg2":var n=this;createMsgBox({msg:"\n\u5b8c\u6210\u540e\u5373\u53ef\u83b7\u5f97\u65b0\u4eba\u5927\u793c\u5305\uff0c\u662f\u5426\u786e\u8ba4\u8df3\u8fc7",btn1:"\u786e\u5b9a",btn2:"\u53d6\u6d88",callbackFun:function(e){"\u786e\u5b9a"==e&&n.LobbyLogic.requestLogonUserinfoFlush(0,function(){n.onCloseBtn()})}})}},doButton_Code:function(){this.requestbCode(this.IphoneEdit)},requestbCode:function(e){cc.log(e.string);var t=e.string;if(11==t.length&&""!=t){var i=function(e){0==e.status?createTips("\u53d1\u9001\u6210\u529f"):createTips(e.msg)}.bind(this),n={};n.url=NetConfig.getPHPUrl(),n.url="https://"+NetConfig.getPHP_IP()+"/api/v1/Phone/sendCode",n.params={phone:t,type:0},n.sCallback=i,n.fCallback=function(){cc.log("\u8bf7\u6c42bindPhoneCode\u8d85\u65f6")},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,n.requestDesc="\u53d1\u9001\u9a8c\u8bc1\u7801...",MyHttpRequest.doRequest(n)}else createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},doButton_PRIVE:function(){createTips("\u656c\u8bf7\u671f\u5f85")},doButton_OK:function(){var e=this,t=this.IphoneEdit.string,i=this.adressEdit.string,n=this.CodeEdit.string;""!=t?""!=n?6==n.length?""!=i?UserInfoManager.requestChangeUserInfor(t,n,i,function(){LobbySocket.getMyInfo().goodsPhone=t,LobbySocket.getMyInfo().goodsAddress=i,e.SexNode.active=!1,e.rewardNode.active=!0,e.PlayinforNode.active=!1}):createTips("\u8bf7\u8f93\u5165\u8be6\u7ec6\u6536\u8d27\u5730\u5740"):createTips("\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"):createTips("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"):createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7\u7801")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],NoticeButLayer:[function(e,t){"use strict";cc._RF.push(t,"58de1wgB3hCwa8/mb2M6OcD","NoticeButLayer"),cc.Class({extends:e("BaseLayer"),properties:{noticeScroll:cc.ScrollView,noticeEBox:cc.EditBox,noticeLabel:cc.Label},onLoad:function(){this.score=ConfigDataManager.getConfigDataByKey("sendHornCostJewels",10),this.LobbyLogic=new(e("LobbyLogic"))},start:function(){this.initChatData(),this.noticeLabel.string="\u6ce8\uff1a\u60a8\u53d1\u7684\u4e16\u754c\u5e7f\u64ad\u6240\u6709\u4eba\u90fd\u80fd\u6536\u5230\uff0c\u53d1\u9001\u4e16\u754c\u5e7f\u64ad\u9700\u8981\u6d88\u8017"+this.score+"\u9897\u94bb\u77f3"},initChatData:function(){this.noticeScroll.content.removeAllChildren();var e=ChatMessageManager.getAllChatMessage();if(!tableIsEmpty(e))for(var t in e){var i=new cc.Node,n=i.addComponent(cc.Label);n.string=e[t],i.anchorX=0,i.anchorY=1,i.x=-350,i.width=700,i.color=cc.color(184,72,32),this.noticeScroll.content.addChild(i),n.overflow=3}},onSendNotice:function(){this.noticeEBox.string?this.LobbyLogic.getRoomCard()<this.score?createTips("\u94bb\u77f3\u4e0d\u8db3"):(this.LobbyLogic.sendHornMessage(this.noticeEBox.string),this.noticeEBox.string="",this.node.destroy()):createTips("\u8bf7\u8f93\u5165\u5e7f\u64ad\u5185\u5bb9")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],NoticeLayer:[function(e,t){"use strict";cc._RF.push(t,"80bf0UsxUVGXplOfkPeoeK6","NoticeLayer"),cc.Class({extends:cc.Component,properties:{layoutNode:cc.Node,label:cc.Label},init:function(e){this.label.string=e,this.runAc()},runAc:function(){var e=this;this.contentSize=this.label.node.getContentSize(),this.layoutNode.active=!1,this.layoutNode.width=this.contentSize.width,this.label.node.x=0,this.layoutNode.x=cc.winSize.width/2,this.layoutNode.y=cc.winSize.height/2-this.layoutNode.height/2;var t=this.layoutNode.width+cc.winSize.width+10,i=t/128;this.layoutNode.active=!0,this.layoutNode.stopAllActions(),this.layoutNode.runAction(cc.sequence(cc.moveBy(i,-t,0),cc.delayTime(1),cc.callFunc(function(){e.node.destroy()})))},update:function(){this.contentSize.width!=this.label.node.getContentSize().width&&this.runAc()}}),cc._RF.pop()},{}],NoticeManager:[function(e,t){"use strict";cc._RF.push(t,"a6c47Dv6J5FS7LsQ+ZRpgSo","NoticeManager");var i="notice",n=cc.Class({ctor:function(){this.normalNoticeList=[],this.shopMommodityList=[],this.GongGaoMommodityList=[],this.chatMessageList=[],this.specialNoticeList=[],this.NoticeList=[]},requestSystemNotice:function(e){var t=this,n={};n.params={api:i,action:"normalNoticeList",userID:UserInfoManager.getMyInfo().userID,num:10},n.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},n.sCallback=function(i){if(cc.log(i),0==i.status){for(var n=0;n<i.data.length;n++)t.pushNormalNotice(i.data[n]);e&&e(i.data)}else createTips(i.msg)},MyHttpRequest.doRequest(n)},requestFeedback:function(e){e||console.error("\u53cd\u9988\u65e5\u5fd7\uff1a\u5185\u5bb9\u4e3a",e);var t={};t.url="http://"+G_PHP_IP+"/api/v1/feedback/endorsement",t.params={type:e,userID:UserInfoManager.getMyInfo().userID},t.fCallback=function(){},t.sCallback=function(e){console.log("\u53cd\u9988\u65e5\u5fd7\uff1a",e.status),e.status},MyHttpRequest.doRequest(t)},requestPayPrepayID:function(e,t,i,n){var o={};o.params={userID:UserInfoManager.getMyInfo().userID,buyNum:e,consumeNum:t,goodsID:i},o.url="http://"+G_PHP_IP+"/api/pay/buy",o.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},o.sCallback=function(e){0==e.status?n(e.data):createTips(e.msg)},MyHttpRequest.doRequest(o)},requestShopMommodity:function(e){var t=this,i={};i.params={userID:UserInfoManager.getMyInfo().userID,goodsType:2},i.url="http://"+G_PHP_IP+"/api/pay/goodsList",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(i){if(cc.log(i),0==i.status){for(var n=0;n<i.data.length;n++)t.pushShopMommodity(i.data[n]);e&&e(i.data)}else createTips(i.msg)},MyHttpRequest.doRequest(i)},requestPaijuList:function(e){var t={};t.params={userID:UserInfoManager.getMyInfo().userID},t.url="http://"+G_PHP_IP+"/api/v1/record/simpleGradeTotalList",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){cc.log(t),0==t.status?e&&e(t.data):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestZhanjiList:function(e,t){var i={};i.params={userID:UserInfoManager.getMyInfo().userID,gameID:e},i.url="http://"+G_PHP_IP+"/api/v1/record/simpleGradeList",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){cc.log(e),0==e.status?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestZhanjiDetailsList:function(e,t){var i={};i.params={userID:UserInfoManager.getMyInfo().userID,gradeID:e},i.url="http://"+G_PHP_IP+"/api/v1/record/simpleGradeInfo",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){cc.log(e),0==e.status?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requesSmalltZhanjiDetailsList:function(e,t){var i={};i.params={userID:UserInfoManager.getMyInfo().userID,gradeID:e},i.url="http://"+G_PHP_IP+"/api/v1/record/gradeList",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){cc.log(e),0==e.status?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestGongGaoMommodity:function(e){var t=this,i={};i.params={userID:UserInfoManager.getMyInfo().userID},i.url="http://"+G_PHP_IP+"/api/v1/notice/imgNoticeList",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(i){if(cc.log(i),0==i.status){for(var n=0;n<i.data.length;n++)t.pushGongGaoMommodity(i.data[n]);e&&e(i.data)}else createTips(i.msg)},MyHttpRequest.doRequest(i)},requestShartReward:function(e){var t={};t.params={userID:UserInfoManager.getMyInfo().userID,shareUserID:e},t.url="http://"+G_PHP_IP+"/api/v1/User/phareAndPolite",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(e){cc.log(e),e.status},MyHttpRequest.doRequest(t)},requestSpecialNotice:function(e){console.log(">>>>>>>>>>>>>>>requestSpecialNoticerequestSpecialNotice");var t={};t.params={api:i,action:"specialNoticeList",userID:UserInfoManager.getMyInfo().userID,num:1},t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){if(cc.log(t),0==t.status){for(var i in t.data)n.pushSpecialNotice(i);e&&e(!0)}else createTips(t.msg)},MyHttpRequest.doRequest(t)},requestdelNotice:function(e,t){var n=this,o={};o.params={api:i,action:"delNotice",id:e},o.fCallback=function(){console.log("\u8bf7\u6c42delNotice\u8d85\u65f6")},o.sCallback=function(i){cc.log(i),0==i.status?(n.delNotice(e),t&&t()):createTips(i.msg)},MyHttpRequest.doRequest(o)},delNotice:function(e){this.NoticeList[e]=null},push:function(e){e&&this.chatMessageList.push(e),this.chatMessageList.length>=G_CHAT_MAX_NUM&&this.chatMessageList.splice(0,1)},pushSpecialNotice:function(e){e&&this.specialNoticeList.push(e)},pushNormalNotice:function(e){e&&this.normalNoticeList.push(e),this.normalNoticeList.length>=G_CHAT_COMMON_MAX_NUM&&this.normalNoticeList.splice(0,1)},pushShopMommodity:function(e){e&&this.shopMommodityList.push(e),this.shopMommodityList.length>=G_CHAT_COMMON_MAX_NUM&&this.shopMommodityList.splice(0,1)},pushGongGaoMommodity:function(e){e&&this.GongGaoMommodityList.push(e),this.GongGaoMommodityList.length>=G_CHAT_COMMON_MAX_NUM&&this.GongGaoMommodityList.splice(0,1)},getAllChatMessage:function(){return this.chatMessageList},getNormalNoticeList:function(){return this.normalNoticeList},getShopMommodityList:function(){return this.shopMommodityList},getGongGaoMommodityList:function(){return this.GongGaoMommodityList},getSpecialMessage:function(){return this.specialNoticeList[this.specialNoticeList.length-1]},getSpecialNoticeList:function(){return this.specialNoticeList}});t.exports=n,cc._RF.pop()},{}],NoticeSystem:[function(e,t,i){"use strict";cc._RF.push(t,"bfd636JVXFBxrMN7LDE2Zbu","NoticeSystem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../../../../../framework/PoolMgr"),u=(e("Tools"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SystemlistNode=null,t.SystemItem=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},t.prototype.init=function(e,t){var i=[];i.push(e.param1),i.push(e.param2),i.push(e.param3),i.push(e.param4),i.push(e.param5),i.push(e.param6),i.push(e.param7),i.push(e.param8),i.push(e.param9),i.push(e.param10),this.node.getComponent("LayerMask").setLayerClickCallback(t);var n=this.SystemlistNode.getChildByName("SystemText"),o=n.getChildByName("bg").getChildByName("StopTime").getComponent(cc.Label),a=n.getChildByName("bg").getChildByName("ServiceTime").getComponent(cc.Label),r=new Date(e.closeServerTime),s=r.getFullYear()+"\u5e74"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"\u6708"+(r.getDate()<10?"0"+r.getDate():r.getDate())+"\u65e5"+r.toLocaleTimeString(),c=new Date(e.openServerTime),u=c.getFullYear()+"\u5e74"+(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"\u6708"+(c.getDate()<10?"0"+c.getDate():c.getDate())+"\u65e5"+c.toLocaleTimeString();o.string=s,a.string=u;for(var h=0;h<e.count;h++){var d=i[h],f=l.PoolMgr.instance.getNode(this.SystemItem,this.SystemlistNode);this._initItemUI(f,d,h)}},t.prototype._initItemUI=function(e,t){e.getChildByName("text").getComponent(cc.Label).string=String(t)},a([c(cc.Node)],t.prototype,"SystemlistNode",void 0),a([c(cc.Node)],t.prototype,"SystemItem",void 0),a([s],t)}(cc.Component));i.default=u,cc._RF.pop()},{"../../../../../framework/PoolMgr":"PoolMgr",Tools:"Tools"}],Notice:[function(e,t,i){"use strict";cc._RF.push(t,"7efe7KIQ/xODKsKApz9XOa9","Notice");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return o(t,e),t.prototype.start=function(){},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],OfficialHotUpdate:[function(e,t){"use strict";cc._RF.push(t,"feb21NxHzhBMYXhvpy637CU","OfficialHotUpdate"),cc.Class({extends:cc.Component,properties:{node_login:cc.Node,manifestUrl:{type:cc.Asset,default:null},webProgressNode:cc.Node,info:cc.Label,updatePanel:{default:null,type:cc.Node},nativeUpdatePanelCloseBtn:{default:null,type:cc.Node},updateStatePanel:{default:null,type:cc.Node},tipVersion:{default:null,type:cc.Label},percent:{default:null,type:cc.Label},progressBar:{default:null,type:cc.ProgressBar},testServerIP:"test",tipSureCode:-1,isCurDownloading:!1,_updating:!1,_canRetry:!1,_storagePath:"",_customManifestStr:null,_infoText:"",UpdateApkNode:cc.Node},setVersionTip:function(){try{var e=this._am.getLocalManifest().getVersion();this._am.getLocalManifest().getVersionFileUrl().indexOf(this.testServerIP)<0?this.tipVersion.string="\u5f53\u524d\u7248\u672c:"+e:this.tipVersion.string="\u5f53\u524d\u6d4b\u8bd5\u670d\u8d44\u6e90|\u5f53\u524d\u7248\u672c:"+e}catch(t){cc.log("\u663e\u793a\u5f53\u524d\u7684\u672c\u5730\u7248\u672c \u9519\u8bef",t.message)}},checkCb:function(e){switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.setProgressTipText("\u6ca1\u6709\u53d1\u73b0\u672c\u5730\u7684\u8d44\u6e90\u6587\u4ef6\u914d\u7f6e\u6587\u4ef6"),this.toTipDialog("\u65e0\u6cd5\u6821\u9a8c\u672c\u5730\u8d44\u6e90\u6587\u4ef6,\n\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u5b89\u88c5",0),this.isCurDownloading=!1;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.setProgressTipText("\u8fde\u63a5\u8d44\u6e90\u670d\u52a1\u5668\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d"),this.toTipDialog("\u8fde\u63a5\u8d44\u6e90\u670d\u52a1\u5668\u5931\u8d25,\n\u8bf7\u8054\u7cfb\u5ba2\u670d\u6216\u70b9\u51fb\u786e\u5b9a\u91cd\u65b0\u4e0b\u8f7d\u5b89\u88c5",0),this.isCurDownloading=!1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.setProgressTipText("\u8d44\u6e90\u6587\u4ef6\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u672c"),this.isCurDownloading=!1,console.log("\u767b\u5f55===========23=>"),this.appAutoLogin()?this.setProgressTipText(""):this.hideUpdatePanel(),this.setVersionTip();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.setProgressTipText("\u5f00\u59cb\u540c\u6b65\u8d44\u6e90\u6587\u4ef6\u4fe1\u606f"),this.progressBar.node.active=!0,this.isCurDownloading=!0,this.setVersionTip();break;default:return}this._am.setEventCallback(null),this._updating=!1,this.hotUpdate()},handleManifestFile:function(e){try{var t,i=this._storagePath+"/project.manifest";console.log(i+">>>>>>>>>>>jsb.fileUtils.isFileExist(localProject)"+jsb.fileUtils.isFileExist(i)+"?>>"),t=jsb.fileUtils.getStringFromFile(this.manifestUrl),console.log(this.manifestUrl+"\u5f00\u59cb\u66f4\u65b0 storage path for remote asset :"+this._storagePath);var n=JSON.parse(t);n.packageUrl.indexOf(this.testServerIP)<0?(n.packageUrl=e,n.remoteManifestUrl=e+"project.manifest",n.remoteVersionUrl=e+"version.manifest",this._customManifestStr=JSON.stringify(n),cc.sys.localStorage.setItem("isTestServer","0"),console.log("\u8bfb\u5199 manifest "+this._customManifestStr)):cc.sys.localStorage.setItem("isTestServer","1")}catch(o){console.log("\u8bfb\u5199 manifest \u9519\u8bef"+o.message)}},updateCb:function(e){var t=!1,i=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.setProgressTipText("\u6e38\u620fApp\u635f\u574f\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u5b89\u88c5"),i=!0,this.isCurDownloading=!1;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var n=e.getDownloadedBytes()/1048576,o="";0!=n&&(o=n.toFixed(2)+"M/");var a=e.getTotalBytes()/1048576,r="";if(0!=a&&(r=a.toFixed(2)+"M"),""==o&&(r=""),this.setProgressTipText("\u8d44\u6e90\u6587\u4ef6\u4e0b\u8f7d\u4e2d "+o+r),"NaN"!=parseFloat(e.getPercent()).toString()){var s=(100*e.getPercent()).toFixed(2);parseInt(s+"")>=100&&(s="100.00"),this.percent.string=s+"%",this.progressBar.progress=e.getPercent().toFixed(1)+""}e.getMessage()&&(this.isCurDownloading=!0);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.setProgressTipText("\u4e0b\u8f7d\u8d44\u6e90\u6587\u4ef6\u914d\u7f6e\u6587\u4ef6\u5931\u8d25,\u76f4\u63a5\u8df3\u8fc7\u66f4\u65b0"),i=!0,this.isCurDownloading=!1;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.setProgressTipText("\u8d44\u6e90\u6587\u4ef6\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u672c"),i=!0,this.isCurDownloading=!1;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.setProgressTipText("\u8d44\u6e90\u6587\u4ef6\u4e0b\u8f7d\u5b8c\u6bd5"),t=!0,this.isCurDownloading=!1;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.isCurDownloading=!0,this.failedCount<=1?(this.toTipDialog("\u4e0b\u8f7d\u8d44\u6e90\u5931\u8d25,\n\u8bf7\u70b9\u51fb\u786e\u5b9a\u91cd\u8bd5",2),this._canRetry=!0,this._updating=!1):this.reDownloadUpdate("\u91cd\u8bd5\u4e0b\u8f7d\u8d44\u6e90\u5931\u8d25,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u8f6f\u4ef6\u4e0b\u8f7d");break;case jsb.EventAssetsManager.ERROR_UPDATING:this.isCurDownloading=!0;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:}if(i&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1,console.log("\u767b\u5f55===========25=>"),this.appAutoLogin()?this.setProgressTipText(""):this.hideUpdatePanel()),t){console.log(">>>\u66f4\u65b0\u5b8c\u6bd5"),this._am.setEventCallback(null),this._updateListener=null;var c=jsb.fileUtils.getSearchPaths(),l=this._am.getLocalManifest().getSearchPaths();this.setProgressTipText("\u66f4\u65b0\u5b8c\u6210"),Array.prototype.unshift.apply(c,l),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(c)),jsb.fileUtils.setSearchPaths(c),this.toTipDialog("\u66f4\u65b0\u5b8c\u6210\u6587\u4ef6\u5b8c\u6210,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u8f6f\u4ef6",4)}},onClickNotNativeUpdate:function(){},loadCustomManifest:function(){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=new jsb.Manifest(this._customManifestStr,this._storagePath);this._am.loadLocalManifest(e,this._storagePath),this.setProgressTipText("\u8bfb\u53d6\u914d\u7f6e\u8d44\u6e90\u6587\u4ef6\u4e2d")}},toTipDialog:function(e,t,i){void 0===e&&(e=""),void 0===t&&(t=-1),this.updateStatePanel.setScale(.1),this.updateStatePanel.active=!0,this.updateStatePanel.runAction(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1))),this.tipSureCode=t,this.tipSureCallBack=i,this.updateStatePanel.children[1].children[2].children[0].children[0].children[0].getComponent(cc.Label).string=e},clickToTipSure:function(){this.updateStatePanel.active=!1,0==this.tipSureCode?this.clickToUpdateVersion(null):1==this.tipSureCode?this.tipSureCallBack&&this.tipSureCallBack():2==this.tipSureCode?this.retry():4==this.tipSureCode&&(cc.audioEngine.stopAll(),this.scheduleOnce(function(){cc.game.restart()},.1))},retry:function(){!this._updating&&this._canRetry&&this.failedCount<=1&&(this.failedCount++,this.updateStatePanel.active=!1,this._canRetry=!1,this.setProgressTipText("\u91cd\u8bd5\u4e0b\u8f7d\u8d44\u6e90\u6587\u4ef6"),this._am.downloadFailedAssets())},checkUpdate:function(){if(!this._updating){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}if(!this._am.getLocalManifest()||!this._am.getLocalManifest().isLoaded())return this.setProgressTipText("\u52a0\u8f7d\u7248\u672c\u6587\u4ef6\u5931\u8d25,\u8bf7\u6e05\u9664\u6e38\u620fapp\u7f13\u5b58\u5e76\u91cd\u542f\u6e38\u620f"),void this.reDownloadUpdate("\u52a0\u8f7d\u7248\u672c\u6587\u4ef6\u5931\u8d25,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u8f6f\u4ef6\u4e0b\u8f7d");this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0,this.failedCount=0}},hotUpdate:function(){if(this._am&&!this._updating){if(this._updateListener="1",this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this._updating=!0}},appAutoLogin:function(){return!1},showUpdatePanel:function(){this.updatePanel.active=!0,this.node_login.active=!1},hideUpdatePanel:function(){this.updatePanel.active=!1,this.node_login.active=!0},notHotUpdate:function(){this.appAutoLogin()?this.setProgressTipText(""):this.hideUpdatePanel()},setProgressTipText:function(e){this.info.string=e,this._infoText=e},update:function(){if(""!=this.info.string){var e=Math.floor(Date.now()/1e3)%5;this.info.string=this._infoText;for(var t=0;t<e;++t)this.info.string+="."}},onLoad:function(){if(cc.sys.isNative&&!cc.jsbMgr){var t=e("JsbMgr");cc.jsbMgr=new t}if(this.progressBar.progress=0,this.progressBar.totalLength=this.progressBar.node.width,cc.sys.isNative){this.webProgressNode.active=!1,this.updatePanel.active=!0,this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"blackjack-remote-asset",console.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(e,t){console.log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var i=e.split("."),n=t.split("."),o=0;o<i.length;++o){var a=parseInt(i[o]),r=parseInt(n[o]||0);if(a!==r)return a-r}return n.length>i.length?-1:0};var i=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"blackjack-remote-asset/";cc.jsbMgr.setLocalStorageToNative("canControlDel","1");var n=!1;try{var o="1";cc.sys.OS_ANDROID==cc.sys.os?o=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVersionCode","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(o=jsb.reflection.callStaticMethod("NativeJSForOC","getAppVersionCode")),cc.jsbMgr.setLocalStorageToNative("writeFilePath"+o,this._storagePath+"");var a=cc.sys.localStorage.getItem(G_APP_NAME_EN+"GameBuildVerionCode");a?parseInt(a)<parseInt(o)&&(n=!!jsb.fileUtils.isDirectoryExist(i)&&jsb.fileUtils.removeDirectory(i)):n=!!jsb.fileUtils.isDirectoryExist(i)&&jsb.fileUtils.removeDirectory(i),cc.sys.localStorage.setItem(G_APP_NAME_EN+"GameBuildVerionCode",o),n?(cc.audioEngine.stopAll(),this.scheduleOnce(function(){cc.game.restart()},.08),console.log("\u5220\u9664\u540e\u91cd\u542f")):this.scheduleOnce(function(){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","removeLaunchImage","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","removeLaunchImage")},cc.sys.os==cc.sys.OS_IOS?1.2:3.5)}catch(r){console.log("\u5220\u9664\u76ee\u5f55\u9519\u8bef"+r)}n||(this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback(function(e,t){var i=t.compressed,n=t.md5,o=t.path;if(t.size,i)return console.log("Verification passed : "+o),!0;console.log(">>>path"+e);var a=this._storagePath+"_temp/"+o;if(!jsb.fileUtils.isFileExist(a))return console.log(">>>>file don not exist"+o),!0;var r=jsb.fileUtils.getDataFromFile(a),s=hex_md5(r);return console.log("Verification passed : "+o+" ("+n+")>>>>>>>"+s),s===n?(console.log("\u4e00\u81f4\u300b\u300b\u300b\u300b"),!0):(console.log("\u4e0d\u4e00\u81f4\u300b\u300b\u300b\u300b"),!1)}),this.setProgressTipText("\u6821\u9a8c\u8d44\u6e90\u6587\u4ef6\u4fe1\u606f"),cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),console.log("Max concurrent tasks count have been limited to 2")),this.retryVersionCount=1,this.loadServerConfig())}},reDownloadUpdate:function(e){void 0===e&&(e="\u4e0b\u8f7d\u4e2d\u65ad,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u8f6f\u4ef6\u4e0b\u8f7d"),this.toTipDialog(e,4),this._am.setEventCallback(null),this._updateListener=null,jsb.fileUtils.removeDirectory(jsb.fileUtils.getWritablePath()+"blackjack-remote-asset_temp/"),this._canRetry=!1,this._updating=!1,this.setProgressTipText(e),cc.audioEngine.stopAll()},checkStopUpdate:function(){this.isCurDownloading?this.reDownloadUpdate("\u7f51\u7edc\u4e2d\u65ad\uff0c\u4e0b\u8f7d\u5931\u8d25,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u542f\u8f6f\u4ef6\u4e0b\u8f7d"):LobbySocket.onDisconnect()},toGetVersion:function(e,t){var i=cc.sys.localStorage.getItem(G_APP_NAME_EN+"GameVersionData");i&&(i=JSON.parse(i)),console.log("\u7248\u672c\u7684\u4fe1\u606f>>"+JSON.stringify(i)),i&&cc.sys.isNative&&("android"==t?(cc.curNativeVersion=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVersionName","()Ljava/lang/String;"),this.controlVersionView(cc.curNativeVersion,i.android)):"iosstore"==t?(cc.curNativeVersion=jsb.reflection.callStaticMethod("NativeJSForOC","getAppVersion"),this.controlVersionView(cc.curNativeVersion,i.iosstore)):"ios"==t&&(cc.curNativeVersion=jsb.reflection.callStaticMethod("NativeJSForOC","getAppVersion"),this.controlVersionView(cc.curNativeVersion,i.ios)))},loadServerConfig:function(){var e=this;if(!cc.jsbMgr.getNetState())return this.toTipDialog("\u60a8\u7684\u7f51\u7edc\u5df2\u7ecf\u65ad\u5f00\n\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u65b0\u8fde\u63a5",1,function(){e.loadServerConfig()}),void(this.retryVersionCount=0);if(this.retryVersionCount>=10)return this.toTipDialog("\u5f53\u524d\u7f51\u7edc\u4e0d\u7ed9\u529b\n\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e,\n\u70b9\u51fb\u786e\u5b9a\u91cd\u65b0\u8fde\u63a5",1,function(){e.loadServerConfig()}),void(this.retryVersionCount=0);this.retryVersionCount++;var t=cc.loader.getXMLHttpRequest();t.open("GET","https://testetetete.oss-cn-shanghai.aliyuncs.com/happy_remote/happyDragonExConfig.json",!0),t.timeout=5e3,t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){var i=JSON.parse(t.responseText);if(0==i.errno){e.retryVersionCount=0;var n=i.data;cc.log("\u914d\u7f6e"+JSON.stringify(n)),cc.sys.localStorage.setItem(G_APP_NAME_EN+"GameLoginServer",n.loginServer),cc.sys.localStorage.setItem(G_APP_NAME_EN+"GameVersionData",JSON.stringify(n.versionData)),e.controlNativeVersion()}else e.toTipDialog(i.errmsg+",\n\u8bf7\u70b9\u51fb\u786e\u5b9a\u91cd\u65b0\u542f\u52a8\u8f6f\u4ef6",4)}},t.ontimeout=function(){e.setProgressTipText("\u8054\u7f51\u68c0\u6d4b\u7248\u672c\u4fe1\u606f \u5c1d\u8bd5"+e.retryVersionCount+"\u6b21"),e.loadServerConfig()},t.onerror=function(){e.setProgressTipText("\u8054\u7f51\u68c0\u6d4b\u7248\u672c\u4fe1\u606f \u5c1d\u8bd5"+e.retryVersionCount+"\u6b21"),e.loadServerConfig()},t.send()},controlNativeVersion:function(){this.node_login.active=!1;var e="android";cc.sys.OS_IOS==cc.sys.os&&(e="iosstore"),this.newVersionURL="";var t={platForm:e};this.toGetVersion(t,e)},controlVersionView:function(e,t){var i=cc.find("Canvas/root_update"),n=t.version;if(null!=e&&e.length>0)if(this.versionCompareHandle(e,n)<0){this.hideUpdatePanel(),this.newVersionURL=t.url,i.children[1].setScale(.1),i.active=!0,i.children[1].runAction(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,.9),cc.scaleTo(.1,1)));var o=t.content;""!=o&&(o+="\n"),i.children[1].children[2].children[0].children[0].children[0].getComponent(cc.Label).string=o+"\u8bf7\u70b9\u51fb\u786e\u5b9a\u66f4\u65b0\u7248\u672c!"}else this.checkUpdate()},clickToUpdateVersion:function(e){if(cc.jsbMgr.getNetState())if(cc.sys.OS_ANDROID==cc.sys.os){e&&(e.target.name="btn_restart_download")&&(e.target.active=!1);var t=cc.sys.localStorage.getItem(G_APP_NAME_EN+"GameVersionData");t&&(t=JSON.parse(t));var i=t.android;if(i&&!i.browerUpdate)try{jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jsToNativeUpdateApk","(Ljava/lang/String;Ljava/lang/String;)V",G_APP_NAME_CH+"_"+i.version,i.url+""),this.UpdateApkNode.active=!0,this.UpdateApkNode.getComponent("UpdateApkNode").setUpdateDesc(i.content+"","\u60a8\u5f53\u524d\u7248\u672c:"+cc.curNativeVersion)}catch(n){this.UpdateApkNode.active=!1,""!=this.newVersionURL&&cc.sys.openURL(this.newVersionURL)}else""!=this.newVersionURL&&cc.sys.openURL(this.newVersionURL)}else cc.sys.os==cc.sys.OS_IOS&&""!=this.newVersionURL&&cc.sys.openURL(this.newVersionURL);else cc.jsbMgr.toastToJava("\u5f53\u524d\u65e0\u7f51\u7edc\u8fde\u63a5\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e")},onDestroy:function(){this._updateListener&&(this._updateListener=null)}}),cc._RF.pop()},{JsbMgr:"JsbMgr"}],PDK_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"2fb36dMtT1A7IpwH3WknGS9","PDK_ZhanJi_Item"),cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,cards:cc.Node,cardItem:cc.Node,bankerView:cc.Node},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.bankerView.active=e.isBanker;for(var n=0;n<e.handCards.length;n++)if(255!=e.handCards[n]){var o=cc.instantiate(this.cardItem);o.setContentSize(cc.size(75,90)),o.active=!0,setTexture(o.getComponent(cc.Sprite),tools.stringFormat("PDK/poker/{0}",e.handCards[n])),this.cards.addChild(o)}else this.cards.children[n].active=!1}}),cc._RF.pop()},{}],Package:[function(e,t){"use strict";cc._RF.push(t,"7a2929Q9mtOZZu7e6oHKgH9","Package");var i=e("bytebuffer"),n={PACKAGE_HEADLENGTH:20,bMainID:0,bAssistantID:0,bHandleCode:0,reserve:0,_writeBuffer:null,_readBuffer:null,buildWritePack:function(e){return this._writeBuffer?this._writeBuffer.clear():this._writeBuffer=new i,this._writeBuffer.writeUint32(e+this.PACKAGE_HEADLENGTH),this},writeBegin:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.bMainID=e,this.bAssistantID=t,this.roomID=i,this._writeBuffer.writeUint32(e),this._writeBuffer.writeUint32(t),this._writeBuffer.writeUint32(0),this._writeBuffer.writeUint32(i)},writeBoolean:function(e){e?this._writeBuffer.writeByte(1):this._writeBuffer.writeByte(0)},pushBOOL:function(e){e?this._writeBuffer.writeByte(1):this._writeBuffer.writeByte(0)},writeByte:function(e){this._writeBuffer.writeByte(e),this.leng+=1},pushBYTE:function(e){this._writeBuffer.writeByte(e)},writeShort:function(e){this._writeBuffer.writeShort(e)},writeUnsignedInt:function(e){this._writeBuffer.writeUint32(e)},pushUINT:function(e){this._writeBuffer.writeUint32(e)},writeInt:function(e){this._writeBuffer.writeInt32(e)},pushINT:function(e){this._writeBuffer.writeInt32(e)},writeInt64:function(e){this._writeBuffer.writeInt64(e)},pushLONGLONG:function(e){this._writeBuffer.writeInt64(e)},writeString:function(e,t){t||(t=e.length);var i=this._writeBuffer.offset;for(this._writeBuffer.writeString(e),(i=t-(this._writeBuffer.offset-i))<0&&(this._writeBuffer.offset+=i);i-- >0;)this._writeBuffer.writeByte(0)},pushNCHAR:function(e,t){t||(t=e.length);var i=this._writeBuffer.offset;for(this._writeBuffer.writeString(e),(i=t-(this._writeBuffer.offset-i))<0&&(this._writeBuffer.offset+=i);i-- >0;)this._writeBuffer.writeByte(0)},getCmd:function(){return this.bMainID+"-"+this.bAssistantID},getData:function(){return this._writeBuffer.flip(),this._writeBuffer.toArrayBuffer()},buildReadPack:function(e,t){return this.bMainID=e,this._readBuffer=t,this.bAssistantID=this.readUnsignedInt(),this.bHandleCode=this.readUnsignedInt(),this.reserve=this.readUnsignedInt(),this},bytesAvailable:function(){return this._readBuffer.offset-this._readBuffer.limit},readBoolean:function(){return 1==this._readBuffer.readInt8()},popBOOL:function(){return 1==this._readBuffer.readInt8()},readByte:function(){return this._readBuffer.readInt8()},popBYTE:function(){var e=this._readBuffer.readInt8();return-1==e&&(e=255),e},readUnsignedByte:function(){return this._readBuffer.readUint8()},readShort:function(){return this._readBuffer.readInt16()},readUnsignedShort:function(){return this._readBuffer.readUint16()},readUnsignedInt:function(){return this._readBuffer.readUint32()},popUINT:function(){return this._readBuffer.readUint32()},readUnsignedInt64:function(){return this._readBuffer.readUint64().toNumber()},readInt:function(){return this._readBuffer.readInt32()},popINT:function(){return this._readBuffer.readInt32()},readInt64:function(){return this._readBuffer.readInt64().toNumber()},popLONGLONG:function(){return this._readBuffer.readInt64().toNumber()},readFloat:function(){return this._readBuffer.readFloat32()},popFLOAT:function(){return this._readBuffer.readFloat32()},pushFloat:function(e){this._writeBuffer.writeFloat(e)},readFloat64:function(){return this._readBuffer.readFloat64()},readString:function(e){var t=this._rGBK(this._readBuffer.view,this._readBuffer.offset,e);if(t){this._readBuffer.offset+=e,e=t.length;for(var i=0;i<e;i++)if(0==t.charCodeAt(i))return t.substr(0,i);return t}},popNCHAR:function(e){var t=this._rGBK(this._readBuffer.view,this._readBuffer.offset,e);if(t){this._readBuffer.offset+=e,e=t.length;for(var i=0;i<e;i++)if(0==t.charCodeAt(i))return t.substr(0,i);return t}},_rUTF:function(e,t,i){for(var n,o=t,a=o+i,r="",s=String.fromCharCode;o<a;)(n=e[o++])<128?0!=n&&(r+=s(n)):r+=s(n<224?(63&n)<<6|127&e[o++]:n<240?(31&n)<<12|(127&e[o++])<<6|127&e[o++]:(15&n)<<18|(127&e[o++])<<12|e[o++]<<6&127|127&e[o++]);return r},_rGBK:function(e,t,i){try{var n=new Uint8Array(this._readBuffer.buffer,t,i);return new TextDecoder("gbk").decode(n)}catch(o){}},crossedARM:function(e){for(var t=0;t<e;t++)this.popBOOL()},crossedARMPush:function(e){for(var t=0;t<e;t++)this.pushBOOL(!0)}};t.exports=n,cc._RF.pop()},{bytebuffer:"bytebuffer"}],PageViews:[function(e,t){"use strict";cc._RF.push(t,"fd569deIOJN17VO8PjApazG","PageViews");var i=e("VideoManager"),n=e("EventEmiter").GlobalEvent;cc.Class({extends:cc.Component,properties:{adviePage:[cc.Node],imgDot:[cc.Node]},onLoad:function(){this.advieIndex=1,this.posStart={x:-950,y:0,z:0},this.adviePOS=[];for(var e=0;e<4;e++){var t=this.adviePage[e];this.adviePOS[e]=t.getPosition()}this.AdvieTime=!1,this.ShowDot(this.advieIndex),this.bannerList=[],this.requestBanners()},requestBanners:function(){var e=this,t={};t.url="https://"+G_PHP_IP+"/txysdk/Banner/getBannerInfo",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){0==t.code&&e.initBannerList(t.data)},MyHttpRequest.doRequest(t)},initBannerList:function(e){this.bannerList=e;for(var t=0;t<4;t++){var i=this.adviePage[t],n=e[t];if(n){var o="https://"+globalThis.NetConfig.getPHP_IP()+n.banner_img;NetResManager.requestNetRes(o,i)}}},start:function(){var e=this;this.node.on("touchstart",function(){this.startTime=(new Date).getTime()},this),this.node.on("touchmove",function(){},this),this.node.on("touchend",this.touchEnd,this),this.node.on("touchcancel",this.touchEnd,this),this.scheduleAdvie&&this.unschedule(this.scheduleAdvie,2),this.scheduleAdvie=function(){e.MoveLeft()},this.schedule(this.scheduleAdvie,4)},touchEnd:function(e){var t=e.getStartLocation(),o=e.getLocation(),a=t.x-o.x;if(0!=a)(new Date).getTime(),this.startTime,a>10?this.MoveLeft():a<-10?this.MoveRight():(this.bannerList[this.advieIndex-1].type,E_BANNER_TYPE.VEDIO);else{var r=this.bannerList[this.advieIndex-1];r.type==E_BANNER_TYPE.VEDIO&&i.instance.requestVedioByFileId(r.file_id,function(e){e.length>0&&(window.tempVedioList=e),n.instance.emit("switch_page_msg","livebroadcast")})}},MoveRight:function(){var e=this;if(1!=this.AdvieTime){if(0==this.AdvieTime&&(this.AdvieTime=!0,this.scheduleOnce(function(){e.AdvieTime=!1},.5)),1==this.advieIndex){var t=this.adviePage[0],i=this.adviePOS[1];this.MovePOS(t,i,!1);var n=this.adviePage[1],o=this.adviePOS[2];this.MovePOS(n,o,!1);var a=this.adviePage[2],r=this.adviePOS[3];this.MovePOS(a,r,!1);var s=this.adviePage[3],c=this.posStart;s.setPosition(c.x,c.y);var l=this.adviePOS[0];this.MovePOS(s,l,!1)}else 2==this.advieIndex?(t=this.adviePage[1],i=this.adviePOS[1],this.MovePOS(t,i,!1),n=this.adviePage[2],o=this.adviePOS[2],this.MovePOS(n,o,!1),a=this.adviePage[3],r=this.adviePOS[3],this.MovePOS(a,r,!1),s=this.adviePage[0],c=this.posStart,s.setPosition(c.x,c.y),l=this.adviePOS[0],this.MovePOS(s,l,!1)):3==this.advieIndex?(t=this.adviePage[2],i=this.adviePOS[1],this.MovePOS(t,i,!1),n=this.adviePage[3],o=this.adviePOS[2],this.MovePOS(n,o,!1),a=this.adviePage[0],r=this.adviePOS[3],this.MovePOS(a,r,!1),s=this.adviePage[1],c=this.posStart,s.setPosition(c.x,c.y),l=this.adviePOS[0],this.MovePOS(s,l,!1)):4==this.advieIndex&&(t=this.adviePage[3],i=this.adviePOS[2],this.MovePOS(t,i,!1),n=this.adviePage[2],o=this.adviePOS[0],this.MovePOS(n,o,!1),a=this.adviePage[1],r=this.adviePOS[1],this.MovePOS(a,r,!1),s=this.adviePage[0],c=this.posStart,s.setPosition(c.x,c.y),l=this.adviePOS[0],this.MovePOS(s,l,!1));this.advieIndex=this.advieIndex-1,this.advieIndex<1&&(this.advieIndex=4),this.ShowDot(this.advieIndex)}},MoveLeft:function(){var e=this;if(1!=this.AdvieTime){if(0==this.AdvieTime&&(this.AdvieTime=!0,this.scheduleOnce(function(){e.AdvieTime=!1},.5)),1==this.advieIndex){var t=this.adviePage[0],i=this.posStart;this.MovePOS(t,i,!0);var n=this.adviePage[1],o=this.adviePOS[0];this.MovePOS(n,o,!1);var a=this.adviePage[2],r=this.adviePOS[1];this.MovePOS(a,r,!1);var s=this.adviePage[3],c=this.adviePOS[2];this.MovePOS(s,c,!1)}else 2==this.advieIndex?(t=this.adviePage[1],i=this.posStart,this.MovePOS(t,i,!0),n=this.adviePage[2],o=this.adviePOS[0],this.MovePOS(n,o,!1),a=this.adviePage[3],r=this.adviePOS[2],this.MovePOS(a,r,!1),s=this.adviePage[0],c=this.adviePOS[1],this.MovePOS(s,c,!1)):3==this.advieIndex?(t=this.adviePage[2],i=this.posStart,this.MovePOS(t,i,!0),n=this.adviePage[3],o=this.adviePOS[0],this.MovePOS(n,o,!1),a=this.adviePage[0],r=this.adviePOS[2],this.MovePOS(a,r,!1),s=this.adviePage[1],c=this.adviePOS[1],this.MovePOS(s,c,!1)):4==this.advieIndex&&(t=this.adviePage[3],i=this.posStart,this.MovePOS(t,i,!0),n=this.adviePage[0],o=this.adviePOS[0],this.MovePOS(n,o,!1),a=this.adviePage[1],r=this.adviePOS[1],this.MovePOS(a,r,!1),s=this.adviePage[2],c=this.adviePOS[2],this.MovePOS(s,c,!1));this.advieIndex=this.advieIndex+1,this.advieIndex>4&&(this.advieIndex=1),this.ShowDot(this.advieIndex)}},MovePOS:function(e,t,i){var n=this;i?e.runAction(cc.sequence(cc.moveTo(.2,t.x,t.y),cc.callFunc(function(){var t=n.adviePOS[2];e.setPosition(t.x,t.y)}))):e.runAction(cc.moveTo(.2,t.x,t.y))},ShowDot:function(e){for(var t=1;t<=4;t++){this.imgDot[t-1].getChildByName("img_true").active=e==t}}}),cc._RF.pop()},{EventEmiter:"EventEmiter",VideoManager:"VideoManager"}],PanelSelect:[function(e,t){"use strict";cc._RF.push(t,"ee587egmCdAko0g4VFMLthl","PanelSelect"),cc.Class({extends:cc.Component,properties:{Text_Desc:cc.Label,Check_Box_Prefab:cc.Prefab,Input_Prefab:cc.Prefab,selectType:cc.Integer,checkboxArr:{type:[cc.Prefab],default:[]},toggleGroup:cc.ToggleContainer,normalGroup:cc.Node},ctor:function(){this.CELL_NUM=CELL_NUM},updateContent:function(e,t){this.Text_Desc.string=e.desc;var i=e.num;void 0!==e.customerCELL_NUM&&(i=e.customerCELL_NUM,this.Text_Desc.node.y=6*(Math.ceil(i/CELL_NUM)-1)-37.5),e.customerDescColor?this.Text_Desc.node.color=new cc.Color(e.customerDescColor[0],e.customerDescColor[1],e.customerDescColor[2]):this.Text_Desc.node.color=G_COLOR_NOT_SELECTED,this.selectType=e.selectType;var n=e.textDescList;this.data=e;for(var o=e.keyList,a=e.textDescList,r=e.inputRangeList,s={},c=0;c<e.num;c++)if(1==e.selectType){var l=cc.instantiate(this.Check_Box_Prefab),u=l.getComponent("BaseLayer");s={defaultAllSelected:e.defaultAllSelected,defaultAllUnselected:e.defaultAllUnselected,defaultAllDisabled:e.defaultAllDisabled,defaultSelectIndex:e.defaultSelectIndex},u.init(c,n[c],this.selectType,this.onCheckboxCallback.bind(this),s,this.toggleGroup);var h=(e.cellIndex-1)*this.CELL_NUM+c;"pay"==e.name&&(l.width=250),e.customerWidth&&(l.width=e.customerWidth),l.name=tools.stringFormat(CHECKBOX_NAME,e.name,h),this.toggleGroup.node.addChild(l),this.checkboxArr.push(l),t(l),e.defaultAllUnselected?e.defaultAllDisabled:e.defaultAllSelected?u.setChecked(!0):0===c&&u.setChecked(!0)}else if(2==e.selectType){var d=cc.instantiate(this.Check_Box_Prefab),f=d.getComponent("BaseLayer");s={defaultAllSelected:e.defaultAllSelected,defaultAllUnselected:e.defaultAllUnselected,defaultAllDisabled:e.defaultAllDisabled},(""==e.desc&&"jokerTuo"==e.name||"\u73a9\u6cd5"==e.desc&&"wanfa"==e.name&&3==e.num)&&(s.specialUnSelectedCallBack=this.onUnSelectedCheckboxCallback.bind(this)),f.init(c,n[c],this.selectType,this.onCheckboxCallback.bind(this),s),e.defaultAllUnselected?e.defaultAllDisabled:e.defaultAllSelected?f.setChecked(!0):0===c&&f.setChecked(!0),e.customerWidth&&(d.width=e.customerWidth);var p=(e.cellIndex-1)*this.CELL_NUM+c;d.name=tools.stringFormat(CHECKBOX_NAME,e.name,p),this.normalGroup.addChild(d),this.checkboxArr.push(d),t(d)}else if(4==e.selectType){var g=cc.instantiate(this.Input_Prefab);g.getComponent("CreateRoomInput").init(o[c],a[c],r[c],c);var m=(e.cellIndex-1)*this.CELL_NUM+c;g.name=tools.stringFormat(INPUTBOX_NAME,e.name,m),this.node.addChild(g),t(g)}e.num>4&&(this.node.height=this.node.height+60)},onUnSelectedCheckboxCallback:function(e,t){"\u56db\u9b3c\u80e1\u724c"==e&&2==t?this.refreshHuChiJokerTuoSiGuiFun&&this.refreshHuChiJokerTuoSiGuiFun(t):"\u62a2\u6760\u80e1"==e&&1==t&&this.refreshHuChiQiangGangFun&&this.refreshHuChiQiangGangFun("unSelected",t)},onCheckboxCallback:function(e,t){if(this.selectType===SELECT_TYPE_ONE)for(var i=0;i<this.checkboxArr.length;i++){var n=this.checkboxArr[i].getComponent("BaseLayer");i!==t&&!0===e&&(n.toggle.isChecked=!1,n.setChecked(!1))}"RoomType"==this.data.name&&this.refreshRoomTypeFunc&&this.refreshRoomTypeFunc(),"Count"==this.data.name&&this.refreshPayFunc&&this.refreshPayFunc(),"cCSFS"==this.data.name&&this.refreshCSLFunc&&this.refreshCSLFunc(),"\u73a9\u6cd5"==this.data.desc&&"wanfa"==this.data.name&&3==this.data.num&&this.refreshHuChiJokerFun&&this.refreshHuChiQiangGangFun("selected",t),"\u9b3c\u724c"==this.data.desc&&"joker"==this.data.name&&this.refreshHuChiJokerFun&&this.refreshHuChiJokerFun(),"jokerTuo"==this.data.name&&this.refreshHuChiJokerTuoFun&&this.refreshHuChiJokerTuoFun("selected",t),"\u9a6c\u724c"==this.data.desc&&"mapai"==this.data.name&&this.refreshHuChiMaPaiFun&&this.refreshHuChiMaPaiFun(),"\u62d3\u5c55"==this.data.desc&&"tuoz"==this.data.name&&(0!=t&&1!=t||this.refreshHuChiQiDuiFun&&this.refreshHuChiQiDuiFun(t))},setRefreshRoomTypeFun:function(e){this.refreshRoomTypeFunc=e},setRefreshCSLFun:function(e){this.refreshCSLFunc=e},setRefreshPayFun:function(e){this.refreshPayFunc=e},setRefreshHuChiQiangGangFun:function(e){this.refreshHuChiQiangGangFun=e},setRefreshHuChiJokerFun:function(e){this.refreshHuChiJokerFun=e},setRefreshHuChiJokerTuoFun:function(e){this.refreshHuChiJokerTuoFun=e},setRefreshHuChiJokerTuoSiGuiFun:function(e){this.refreshHuChiJokerTuoSiGuiFun=e},setRefreshHuChiMaPaiFun:function(e){this.refreshHuChiMaPaiFun=e},setRefreshHuChiQiDuiFun:function(e){this.refreshHuChiQiDuiFun=e},update:function(){0!=this.toggleGroup.node.height&&void 0!==this.toggleGroup.node.height&&(this.node.height=this.toggleGroup.node.height)}}),cc._RF.pop()},{}],Panel_Notice:[function(e,t){"use strict";cc._RF.push(t,"742d5cvaf5Llrx3qXexE1NS","Panel_Notice"),cc.Class({extends:cc.Component,properties:{noticLab:cc.Label,mask:cc.Node},onLoad:function(){this.noticLab.node.x=this.mask.width/2+this.noticLab.node.width,this.noticLab.node.runAction(cc.moveTo(5,-(this.mask.width/2+this.noticLab.node.width),0))},update:function(){this.noticLab.node.x<=-(this.mask.width/2+this.noticLab.node.width)&&(this.noticLab.node.stopAllActions(),this.noticLab.node.x=this.mask.width/2+this.noticLab.node.width,this.noticLab.node.runAction(cc.moveTo(5,-(this.mask.width/2+this.noticLab.node.width),0)))}}),cc._RF.pop()},{}],PersonRealNameMsgBoxLayout:[function(e,t){"use strict";cc._RF.push(t,"fde8d+gY/VMJ47oP2Dl6aIT","PersonRealNameMsgBoxLayout"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){this._super(),this.node.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2))},init:function(e){this.msgObj=e,this.callbackFun=e.callbackFun},onButtonClick:function(e,t){switch(t){case"cancel":this.callbackFun(this.msgObj.btn2);break;case"sure":this.callbackFun(this.msgObj.btn1)}this.node.parent=null}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],PersonalInformation:[function(e,t){"use strict";cc._RF.push(t,"6b0771hy3hDAY2dGRsU0GoK","PersonalInformation"),e("console").timeStamp,cc.Class({extends:cc.Component,properties:{rollViewleft:cc.Node,rollViewRight:cc.Node,personInfoPrefab:cc.Prefab,personVideoPrefab:cc.Prefab,personRealNamePrefab:cc.Prefab,annimetions:cc.Node,toggleContainer:cc.Node},init:function(e){var t=this.toggleContainer.getChildByName("toggle"+(e+1));if(t){var i=t.getComponent(cc.Toggle);this.onToggleContainerClick(i)}else this.btnLeftClick(e)},onToggleContainerClick:function(e){switch(e.check(),e.node.name){case"toggle1":this.btnLeftClick(0);break;case"toggle2":this.btnLeftClick(1);break;case"toggle3":this.btnLeftClick(2)}},btnLeftClick:function(e){this.currentContent=e,this.rollViewRight.children.forEach(function(e){e.destroy()});var t=null;0==e?(t=cc.instantiate(this.personInfoPrefab)).name="personInfo":1==e?(t=cc.instantiate(this.personVideoPrefab)).name="personVideo":2==e&&((t=cc.instantiate(this.personRealNamePrefab)).name="personRealName"),t.parent=this.rollViewRight},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{console:8}],PhoneLayer:[function(e,t){"use strict";cc._RF.push(t,"87a14ScYoZMCqZfpBdCb97P","PhoneLayer"),cc.Class({extends:e("BaseLayer"),properties:{dengluNode:cc.Node,login_box:cc.EditBox,log_pwd_box:cc.EditBox,zhuceNode:cc.Node,r_or_b_phone_box:cc.EditBox,r_or_b_pwd_box:cc.EditBox,r_or_b_code_box:cc.EditBox,zhaohuiNode:cc.Node,first_node:cc.Node,getback_node:cc.Node,phone_box:cc.EditBox,code_box:cc.EditBox,pwd_box:cc.EditBox,c_pwd_box:cc.EditBox},onLoad:function(){this.LoginLogic=new(e("LoginLogic"))},init:function(e){e&&e()},start:function(){},doButton_ZhuCe:function(){this.dengluNode.active=!1,this.zhuceNode.active=!0,this.zhaohuiNode.active=!1},doButton_ZhaoHui:function(){this.dengluNode.active=!1,this.zhuceNode.active=!1,this.zhaohuiNode.active=!0},doButton_Close:function(){1==this.zhuceNode.active?(this.zhuceNode.active=!1,this.dengluNode.active=!0):1==this.zhaohuiNode.active&&(this.zhaohuiNode.active=!1,this.dengluNode.active=!0,this.first_node.active=!0,this.getback_node.active=!1)},getback_pwd:function(){var e=this.pwd_box.string,t=this.c_pwd_box.string;if(this.vertifyAccountPwdText(e))if(!e!==t){var i=this.code_box.string;6==i.length?32===e.length?this.reset_pwd(this.phone,e,i,E_RegStatus.LOGIN):this.reset_pwd(this.phone,hex_md5(e),i,E_RegStatus.LOGIN):createTips("\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801")}else createTips("\u4e24\u6b21\u5bc6\u7801\u4e0d\u5339\u914d");else createTips("\u8bf7\u8f93\u51656-16\u4f4d\u5bc6\u7801")},getback_next:function(){this.phone=this.phone_box.string,11==this.phone.length&&""!=this.phone?(this.update_getback_node(),this.first_node.active=!1,this.getback_node.active=!0):createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},update_getback_node:function(){var e=this.getback_node.getChildByName("PhoneLabel").getComponent(cc.Label),t="\u60a8\u6b63\u5728\u4e3a\u8d26\u53f7:"+this.phone+"\u627e\u56de\u5bc6\u7801";e.string=t},bind_code:function(){this.get_code(this.r_or_b_phone_box)},reset_code:function(){this.get_code(this.phone_box)},get_code:function(e){cc.log(e.string);var t=e.string;if(11==t.length&&""!=t){var i=function(e){0==e.status?createTips("\u53d1\u9001\u6210\u529f"):createTips(e.msg)}.bind(this),n={};n.url=NetConfig.getPHPUrl(),n.params={api:"phone",action:"bindPhoneCode",userID:UserInfoManager.getMyInfo().userID,phone:t,address:"86"},n.sCallback=i,n.fCallback=function(){cc.log("\u8bf7\u6c42bindPhoneCode\u8d85\u65f6")},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,n.requestDesc="\u53d1\u9001\u9a8c\u8bc1\u7801...",MyHttpRequest.doRequest(n)}else createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},reset_pwd:function(e,t,i){var n=function(e){0==e.status?createTips("\u91cd\u8bbe\u5bc6\u7801\u6210\u529f"):createTips(e.msg)}.bind(this),o={};o.url=NetConfig.getPHPUrl(),o.params={api:"phone",action:"resetPhonePassword",phone:e,code:i,password:t,address:"86"},o.fCallback=function(){cc.log("\u8bf7\u6c42resetPhonePassword\u8d85\u65f6")},o.sCallback=n,o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,o.requestDesc="\u91cd\u8bbe\u5bc6\u7801...",MyHttpRequest.doRequest(o)},doButton_BindClick:function(){var e=this.r_or_b_phone_box.string,t=this.r_or_b_code_box.string;if(""!=e&&11==e.length){var i=this.r_or_b_pwd_box.string;this.vertifyAccountPwdText(i)?32===i.length?this.bind_phone(e,i,t,E_RegStatus.LOGIN):this.bind_phone(e,hex_md5(i),t,E_RegStatus.LOGIN):createTips("\u8bf7\u8f93\u51656-16\u4f4d\u5bc6\u7801")}else createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},bind_phone:function(e,t,i){var n=function(e){if(0==e.status){var t=e.data;cc.log("#######################",t),createTips(t)}else createTips(e.msg)}.bind(this),o={};o.url=NetConfig.getPHPUrl(),o.params={api:"phone",action:"bindPhone",userID:UserInfoManager.getMyInfo().userID,phone:e,code:i,password:t,wechat:"",address:"86"},o.fCallback=function(){cc.log("\u8bf7\u6c42bindPhone\u8d85\u65f6")},o.sCallback=n,o.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,o.requestDesc="\u7ed1\u5b9a\u624b\u673a\u4e2d...",MyHttpRequest.doRequest(o)},login:function(){var e=this.login_box.string,t=this.log_pwd_box.string;this.vertifyAccountPwdText(e)?this.vertifyAccountPwdText(t,!0)?32===t.length?this.doLoginLobby(e,t,E_RegStatus.LOGIN,t):this.doLoginLobby(e,hex_md5(t),E_RegStatus.LOGIN,t):createTips("\u8bf7\u8f93\u51656-16\u4f4d\u5bc6\u7801"):createTips("\u8bf7\u8f93\u51656-16\u4f4d\u8d26\u53f7")},doLoginLobby:function(e,t,i,n){cc.log("acc = ",e),cc.log("realPwd = ",n);var o=function(e,t,n){if(e)if(LobbySocket.setLoginDelegate(this),i===E_RegStatus.LOGIN)this.LoginLogic.loginLobby(t,n);else{var o=function(e){"\u786e \u5b9a"===e&&this.LoginLogic.loginLobby(t,n)}.bind(this),a={msg:"\u6ce8\u518c\u6210\u529f, \u76f4\u63a5\u767b\u5f55\u5427",btn1:"\u786e \u5b9a"};a.callbackFun=o,createMsgBox(a)}}.bind(this),a={unionid:""};a.regType=E_RegType.PC,a.regWay=E_RegWay.COMMON,a.acc=e,a.psw=t,a.regStatus=i,a.sex=E_UserSex.MALE,a.headURL="",this.LoginLogic.accountRegist(a,o,n)},vertifyAccountPwdText:function(e,t){return!(!t||32!==e.length)||!(""===e||e.length<6||e.length>16)}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LoginLogic:"LoginLogic"}],PlayerInfo:[function(e,t){"use strict";cc._RF.push(t,"4a3a2DKpLlDHLN3zc7kHGAO","PlayerInfo"),cc.Class({extends:cc.Component,properties:{Text_Value_name:cc.Label,Text_Value_userid:cc.Label,Text_Value_week_money:cc.Label,Text_Value_under_achievement:cc.Label,Text_Value_team_size:cc.Label,Text_Value_direct_player:cc.Label,Text_Value_type:cc.Label,PromotionMyPlayer:cc.Prefab,PromotionBaoDi_Button:cc.Node},start:function(){},init:function(e,t,i){this.data=e,this.Layer=t,this.callback=i,this.Text_Value_name.string=e.name,this.Text_Value_userid.string=e.userid,e.week_money&&(this.Text_Value_week_money.string=String(Number(e.week_money)/G_MULTI_NUM)),e.under_achievement&&(this.Text_Value_under_achievement.string=String(Number(e.under_achievement)/G_MULTI_NUM)),this.Text_Value_team_size.string=String(e.team_size),this.Text_Value_direct_player.string=e.direct_player,0==e.direct_player&&(this.PromotionBaoDi_Button.color=cc.color(130,130,130,255),this.PromotionBaoDi_Button.getComponent(cc.Button).interactable=!1,this.Text_Value_week_money.string="",this.Text_Value_under_achievement.string="",this.Text_Value_team_size.string="",this.Text_Value_direct_player.string="")},doButton:function(){cc.log(this.data);var e=cc.instantiate(this.PromotionMyPlayer);e.getComponent("PromotionMyPlayer").init(this.data,this.callback),this.Layer.addChild(e)}}),cc._RF.pop()},{}],PlayerListLayer:[function(e,t){"use strict";cc._RF.push(t,"68f79JF30pCsYvLLVyAS760","PlayerListLayer"),cc.Class({extends:e("BaseLayer"),properties:{ListView_Player:cc.Node,Panel_Player:cc.Prefab},init:function(e,t){var i=this;this._delegete=t,e.sort(function(e,t){return e.money==t.money?e.deskStation-t.deskStation:t.money-e.money}),F_InitListView(e,function(e,t,n){var o=t.getChildByName("Image_handImg"),a=t.getChildByName("Text_goods"),r=t.getChildByName("Text_name");a&&cc.isValid(a)&&(a.getComponent(cc.Label).string=tools.toAtlasValue(n.money)),n.name?(r&&cc.isValid(r)&&(r.getComponent(cc.Label).string=n.name),AvatarManager.requestHeadRes(n.headURL,n.userID,function(e){o&&cc.isValid(o)&&(o.getComponent(cc.Sprite).spriteFrame=e)},o)):UserInfoManager.requestUserInfoByUserID(n.userID,function(e){r&&o&&cc.isValid(r)&&cc.isValid(o)&&(r.getComponent(cc.Label).string=e.name,AvatarManager.requestHeadRes(e.headURL,n.userID,function(e){o&&cc.isValid(o)&&(o.getComponent(cc.Sprite).spriteFrame=o.getComponent(cc.Sprite).spriteFrame=e)},o))}),n.isNotAll&&i._delegete.tableLogic.sendDeskOneUserInfo(n.deskStation)},this.ListView_Player,this.Panel_Player,3)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],PlayerUI:[function(e,t){"use strict";cc._RF.push(t,"ff456hEM/JD84Jn5MuxR6Mh","PlayerUI"),cc.Class({extends:e("BaseLayer"),properties:{Image_RoomMaster:cc.Node,Image_AutoPic:cc.Node,Image_ReadyPic:cc.Node,Image_Avatar:cc.Sprite,Text_Name:cc.Label,Text_Money:cc.Label,text_id:cc.Label,Image_BetBg:cc.Node,Text_BetNum:cc.Label,timerProg:cc.ProgressBar,text_dun:cc.Label,img_backCard:cc.Node,text_leftCard:cc.Label,img_rank:cc.Sprite,img_rank1:cc.SpriteFrame,img_rank2:cc.SpriteFrame,img_rank3:cc.SpriteFrame,img_rank4:cc.SpriteFrame,img_daDu:cc.Node},setData:function(e,t){this.user=e,this.target=t,this.initData(e)},initData:function(t){var i=this;if(t&&this.Text_Name){if(AvatarManager.requestHeadRes(t.headURL,t.userID,function(e){if(i.Image_Avatar&&cc.isValid(i.Image_Avatar)){var t=i.Image_Avatar.node.getChildByName("layerMask");t&&t.removeFromParent(),i.Image_Avatar.spriteFrame=e}},this.Image_Avatar),t.name=decodeURI(t.name),t.name.length>8?this.Text_Name.string=t.name.substring(0,8)+"...":this.Text_Name.string=t.name,RoomListManager.getRoomInfo()){var n=t.score;n=RoomListManager.getRoomInfo().type==E_ROOM_TYPE.CARD?t.score:RoomListManager.getRoomInfo().type==E_ROOM_TYPE.GOLD?F_GetMoneyDisplay(Number(t.money)):RoomListManager.getRoomInfo().type==E_ROOM_TYPE.PRIVATE?t.money:RoomListManager.getRoomInfo().type==E_ROOM_TYPE.MATCH||RoomListManager.getRoomInfo().type==E_ROOM_TYPE.REALMATCH||RoomListManager.getRoomInfo().type==E_ROOM_TYPE.BARRIERMATCH?t.score:t.money,new(e("GameLogicBase")),this.Text_Money.string=tools.formatNumberEx(n)}else this.Text_Money.string=tools.toAtlasValue(t.score);this.text_id&&(this.text_id.string="ID:"+t.userID)}},onLoad:function(){this.curTime=0,this.showPersonMsgDialog=function(){this.target&&this.user&&this.target.showPersonMsgDialog(this.user,this.Image_Avatar.node,this.node,this.target)}.bind(this),this.node.on(cc.Node.EventType.TOUCH_START,this.showPersonMsgDialog)},getImageAvatar:function(){return this.Image_Avatar.node},showBanker:function(){},showCut:function(){if(this.Image_Avatar){var e=new cc.Node,t=e.addComponent("LayerMask");t.maskWidth=this.Image_Avatar.node.width,t.maskHeight=this.Image_Avatar.node.height,e.opacity=220,t.clickToClose=!1,t.maskOpacity=230,e.name="layerMask",this.Image_Avatar.node.addChild(e),t.setLayerMaskButton(!0),this.showWords("\u4e0d\u597d\u610f\u601d,\u79bb\u5f00\u4e00\u4e0b\u4e0b")}},showPlayRoomMaster:function(e){this.Image_RoomMaster&&(this.Image_RoomMaster.active=!1,this.user.userID==e&&(this.Image_RoomMaster.active=!1))},showAuto:function(){this.Image_AutoPic&&(this.Image_AutoPic.active=!1)},showReady:function(e){this.Image_ReadyPic&&(this.Image_ReadyPic.active=e)},showWords:function(e,t,i){console.log("PlayerUI showWords",e),this.node.getComponent("UiShowWords")&&(this.node.getComponent("UiShowWords").showWords(e,t,i),this.node.getComponent("UiShowWords").delayClearWords(3))},showBet:function(e,t){if(this.Image_BetBg){if(!e)return void(this.Image_BetBg.active=!1);this.Image_BetBg.active=!0,this.Text_BetNum.getComponent(cc.Label).string=String(t)}},updateJewels:function(e){this.user.jewels=e},updateMoney:function(t,i,n,o){var a=this,r=function(){o?E_ResourceType.GOLD==n?a.Text_Money.string=tools.formatNumberEx(F_GetMoneyDisplay(Number(o)),2):a.Text_Money.string=tools.formatNumberEx(Number(o),2):E_ResourceType.GOLD==n?a.Text_Money.string=tools.formatNumberEx(F_GetMoneyDisplay(Number(t)),2):a.Text_Money.string=tools.formatNumberEx(Number(t),2)},s=t-i;if(0!=s){var c=cc.moveBy(1,cc.v2(0,20)),l=cc.moveBy(1,cc.v2(0,-20)),u=cc.callFunc(r,{}),h=cc.delayTime(1),d=cc.removeSelf(),f=null,p=RoomListManager.getRoomInfo().type;p!=E_ROOM_TYPE.PRIVATE&&p!=E_ROOM_TYPE.TABLE&&p!=E_ROOM_TYPE.GOLD||(s=F_GetMoneyDisplay(s)),(new(e("GameLogicBase"))).isGoldRoom(),s>0?(f=createBitmapFontLabel("+"+Math.abs(s),"font/result_font_num_win_yellow")).runAction(cc.sequence(c,u,h,d)):(f=createBitmapFontLabel("-"+Math.abs(s),"font/result_font_num_lose_blue")).runAction(cc.sequence(l,u,h,d)),f.setAnchorPoint(a.Text_Money.node.getAnchorPoint()),f.setPosition(a.Text_Money.node.getPosition()),a.Text_Money.node.parent.addChild(f)}else r()},playSuanPai:function(){var e=this.Image_Avatar.node,t=function(){var t=tools.stringFormat("NJJ/effect/suanpai/skeleton"),i=skeletonAnimationCreate(t,"animation");this._isNine&&0!=viewSeatNo&&i.setScale(.75),i.name="suanpai",i.setAnchorPoint(cc.v2(.5,.5)),i.setPosition(cc.v2(-3,0)),i.loop=!0,e.addChild(i)}.bind(this);this.scheduleOnce(t,0)},update:function(e){this.totalTime=30,this.isRunTime&&(this.curTime+=e,this.curTime>=30&&this.stopRunTime(),this.runTime())},beginRunTime:function(){this.isRunTime=!0,this.curTime=0},stopRunTime:function(){var e=this;this.isRunTime=!1,this.schedule(function(){e.timerProg.node.active=!e.timerProg.node.active},.2)},recoverTimerProg:function(){this.timerProg.node.active=!0,this.timerProg.progress=0},hideRunTime:function(){this.unscheduleAllCallbacks(),this.recoverTimerProg(),this.isRunTime=!1,this.curTime=0},runTime:function(){var e=this.curTime/this.totalTime;this.timerProg.progress=e},setDun:function(e){this.text_dun.string=e},setBackVisible:function(e){this.img_backCard&&(this.img_backCard.active=e)},setLeftCardNum:function(e){this.text_leftCard&&(this.text_leftCard.node.active=0!=e,this.text_leftCard.string=e)},showRank:function(e){this.img_rank.node.active=!0,this.img_rank.spriteFrame=this["img_rank"+e]},hideRank:function(){this.img_rank.node.active=!1},getImageDaDuNode:function(){return this.img_daDu},showDadu:function(){this.img_daDu.active=!0},hideDadu:function(){this.img_daDu.active=!1},clearDun:function(){this.text_dun.string="0"},clearSuanPai:function(){var e=this.Image_Avatar.node.getChildByName("suanpai");e&&(e.parent=null)},clear:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer",GameLogicBase:"GameLogicBase"}],Point2DUtils:[function(e,t){"use strict";cc._RF.push(t,"4fddeAXrEhLrrA2KmH4pFMj","Point2DUtils");var i={getDirection:function(e,t){var i=t.sub(e),n=Math.atan(i.y/i.x);return i.x<0&&(n+=Math.PI),i.x>=0&&i.y<0&&(n+=2*Math.PI),n}};t.exports=i,cc._RF.pop()},{}],PolygonMask:[function(e,t,i){"use strict";cc._RF.push(t,"13174+AsrpJR7gkjlvKfuOl","PolygonMask");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.executeInEditMode,u=r.disallowMultiple,h=r.requireComponent,d=r.menu;cc.macro.ENABLE_WEBGL_ANTIALIAS=!0;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t._points=new Array(cc.v2(-50,-50),cc.v2(-50,50),cc.v2(50,50),cc.v2(50,-50)),t}return o(t,e),Object.defineProperty(t.prototype,"points",{get:function(){return this._points},set:function(e){this._points=e,this.updateMask(this._points)},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.mask=this.getComponent(cc.Mask),this.updateMask(this._points)},t.prototype.updateMask=function(e){e.length<3||(this.mask.points=e,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=cc.Mask.Type.RECT)},t.prototype._updateGraphics=function(){var e=this._graphics;e&&this.onDraw(e)},t.prototype.onDraw=function(e){e.clear(!1),e.lineWidth=2;var t=this.points;e.moveTo(t[0].x,t[0].y);for(var i=0;i<t.length;i++)i==t.length-1?e.lineTo(t[0].x,t[0].y):e.lineTo(t[i+1].x,t[i+1].y);cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?e.stroke():e.fill()},a([c()],t.prototype,"_points",void 0),a([c({type:[cc.Vec2],displayName:"\u70b9\u96c6\u5408",min:3,tooltip:"\u6784\u5efa\u591a\u8fb9\u5f62\u7684\u70b9\u96c6\u5408\uff0c\u6700\u5c11\u4e09\u4e2a\u70b9"})],t.prototype,"points",null),a([s,l(!0),u(!0),h(cc.Mask),d("\u6269\u5c55/\u591a\u8fb9\u5f62\u906e\u7f69")],t)}(cc.Component);i.default=f,cc._RF.pop()},{}],PoolMgr:[function(e,t,i){"use strict";cc._RF.push(t,"c07c0ksCvxEA6YriH9DnTo7","PoolMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.PoolMgr=void 0;var n=cc._decorator,o=(n.ccclass,n.property,function(){function e(){this._dictPool={},this._dictPrefab={}}return Object.defineProperty(e,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),e.prototype.getNode=function(e,t){var i=e.name;e.position||(i=e.data.name),this._dictPrefab[i]=e;var n=null;if(this._dictPool.hasOwnProperty(i))n=(o=this._dictPool[i]).size()>0?o.get():cc.instantiate(e);else{var o=new cc.NodePool;this._dictPool[i]=o,n=cc.instantiate(e)}return n.parent=t,n.active=!0,n},e.prototype.putNode=function(e){if(e){var t=e.name,i=null;this._dictPool.hasOwnProperty(t)?i=this._dictPool[t]:(i=new cc.NodePool,this._dictPool[t]=i),i.put(e)}},e.prototype.prePool=function(e,t){var i=e.name,n=null;this._dictPool.hasOwnProperty(i)?n=this._dictPool[i]:(n=new cc.NodePool,this._dictPool[i]=n),this._dictPrefab[i]=e;for(var o=0;o<t;o++){var a=cc.instantiate(e);n.put(a)}},e.prototype.clearPool=function(e){this._dictPool.hasOwnProperty(e)&&this._dictPool[e].clear()},e._instance=null,e}());i.PoolMgr=o,cc._RF.pop()},{}],PriveLayout:[function(e,t){"use strict";cc._RF.push(t,"9b2f4ni14JLJ44k6oQg2ccf","PriveLayout"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){},init:function(){},doButton_Close:function(){this.node&&this.node.removeFromParent()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],PromotionLayer:[function(e,t){"use strict";cc._RF.push(t,"7ebf7PDh8dADoDX6Ihu0pDP","PromotionLayer"),cc.Class({extends:e("BaseLayer"),properties:{TuiGuangBtn:cc.Node,TuiGuangNode:cc.Node,WanJiaBtn:cc.Node,WanJiaNode:cc.Node,YeJiBtn:cc.Node,YeJiNode:cc.Node,JiangLiBtn:cc.Node,JiangLiNode:cc.Node,YuTiBtn:cc.Node,YuTiNode:cc.Node,ShuoMingBtn:cc.Node,ShuoMingNode:cc.Node,playerInfo:cc.Prefab,shuomingInfo:cc.Prefab,MyPromotionNode:cc.Node,MyPromotionList:cc.Node,Image_QRCode:cc.Node,QRCode_Tips:cc.Label,WDTG_Text_InviteCode:cc.Label,WDTG_Text_Link:cc.Label,WDWJ_View:cc.Node,WDWJ_Button_Last:cc.Button,WDWJ_Button_Next:cc.Button,WDWJ_Text_PageCount:cc.Label,WDWJ_Text_PageCount_max:cc.Label,inputText:cc.EditBox,WDYJ_Text_PageCount:cc.Label,WDYJ_Text_PageCount_max:cc.Label,WDYJ_Text_Week:cc.Node,WDYJ_Text_Value:[cc.Node],WDYJ_Button_Last:cc.Button,WDYJ_Button_Next:cc.Button,MyAwardInfo:cc.Prefab,WDJL_View:cc.Node,WDYT_Node:cc.Node,WDYT_Text_All:cc.Node,Text_TotalMoney:cc.Label,Text_Value:[cc.Node],WithdrawLayer:cc.Node,EditBox_Input:cc.EditBox,Text_Value_YuE:cc.Label,JLSM_View:cc.Node,ShuoMingInfo:cc.Prefab,Panel_shipei:cc.Node,Panel_shipeiBtn:cc.Node},onLoad:function(){cc.winSize.width/1280<1&&(this.Panel_shipei.setScale(cc.winSize.width/1280),this.Panel_shipeiBtn.setScale(cc.winSize.width/1280)),this.AllNodeFalse(),this.TuiGuangBtn.active=!0,this.TuiGuangNode.active=!0,this.curMyPlayerPage=1,this.totalMyPlayerPage=1,this.curMyAchievementPage=1,this.totalMyAchievementPage=1,this.PromotionLogic=new(e("PromotionLogic")),this.isTuiGuang(),this.WDYT_Node.children[0]._components[0].string="\u65f6\u95f4",this.WDYT_Node.children[1]._components[0].string="\u5355\u53f7",this.WDYT_Node.children[2]._components[0].string="\u91d1\u989d",this.WDYT_Node.children[3]._components[0].string="\u7c7b\u578b",this.WDYT_Node.children[4]._components[0].string="\u63d0\u73b0\u8d26\u53f7",this.WDYT_Node.children[5]._components[0].string="\u72b6\u6001",this.MyPromotionNode.children[0]._components[0].string="\u4e0a\u7ea7ID",this.MyPromotionNode.children[1]._components[0].string="ID",this.MyPromotionNode.children[2]._components[0].string="\u56e2\u961f\u4eba\u6570",this.MyPromotionNode.children[3]._components[0].string="\u76f4\u5c5e\u73a9\u5bb6",this.MyPromotionNode.children[4]._components[0].string="\u4eca\u65e5\u65b0\u589e",this.MyPromotionNode.children[5]._components[0].string="\u4eca\u65e5\u6d3b\u8dc3"},AllNodeFalse:function(){this.TuiGuangNode.active=!1,this.WanJiaNode.active=!1,this.YeJiNode.active=!1,this.JiangLiNode.active=!1,this.YuTiNode.active=!1,this.ShuoMingNode.active=!1,this.TuiGuangBtn.active=!1,this.WanJiaBtn.active=!1,this.YeJiBtn.active=!1,this.JiangLiBtn.active=!1,this.YuTiBtn.active=!1,this.ShuoMingBtn.active=!1},start:function(){},isTuiGuang:function(){this.AllNodeFalse(),this.TuiGuangBtn.active=!0,this.TuiGuangNode.active=!0,this.showMyPromotionView()},isWanJia:function(){this.AllNodeFalse(),this.WanJiaBtn.active=!0,this.WanJiaNode.active=!0,this.showMyPlayerView()},isYeJi:function(){this.AllNodeFalse(),this.YeJiBtn.active=!0,this.YeJiNode.active=!0,this.showMyAchieveMentView()},isJiangLi:function(){this.AllNodeFalse(),this.JiangLiBtn.active=!0,this.JiangLiNode.active=!0,this.showMyAwardView()},isYuTi:function(){this.AllNodeFalse(),this.YuTiBtn.active=!0,this.YuTiNode.active=!0,this.showMyProWithdrawView()},isShuoMing:function(){this.AllNodeFalse(),this.ShuoMingBtn.active=!0,this.ShuoMingNode.active=!0,this.showDescritionView()},showMyPromotionView:function(){var e=this;this.PromotionLogic.requestMyPromotion(function(t){t&&e.showMyPromotionList(t)})},showMyPromotionList:function(e){cc.log("showMyPromotionListshowMyPromotionListshowMyPromotionList",e),this.MyPromotionList.children[0]._components[0].string=e.superior_agentid||"",this.MyPromotionList.children[1]._components[0].string=e.userid,this.MyPromotionList.children[2]._components[0].string=String(e.team_size),this.MyPromotionList.children[3]._components[0].string=e.direct_player,this.MyPromotionList.children[4]._components[0].string=e.add_today,this.MyPromotionList.children[5]._components[0].string=e.active_today,this.WDTG_Text_InviteCode.string=e.userid,this.url=e.url,this.WDTG_Text_Link.string=tools.getCutStringByCount(this.url,14),this.QR_Code()},QR_Code:function(){var e=new QRCode(-1,QRErrorCorrectLevel.H);e.addData(this.url),e.make();for(var t=this.Image_QRCode.getComponent(cc.Graphics),i=this.Image_QRCode.width/e.getModuleCount(),n=this.Image_QRCode.height/e.getModuleCount(),o=0;o<e.getModuleCount();o++)for(var a=0;a<e.getModuleCount();a++){e.isDark(o,a)?t.fillColor=cc.Color.BLACK:t.fillColor=cc.Color.WHITE;var r=Math.ceil((a+1)*i)-Math.floor(a*i),s=Math.ceil((o+1)*i)-Math.floor(o*i);t.rect(Math.round(a*i),Math.round(o*n),r,s),t.fill()}},copyTextBut:function(){cc.sys.isNative?cc.jsbMgr.copyToClipboard(this.url):this.url&&tools.copyTextFun(this.url)?createTips("\u590d\u5236\u6210\u529f:"+this.url):createTips("\u590d\u5236\u5931\u8d25\uff01")},showMyPlayerView:function(e){for(var t=this,i=1;i<9;i++)this.WDWJ_View.children[i]&&this.WDWJ_View.children[i].destroy();this.inputText.string="",this.PromotionLogic.requestMyPlayer(function(e){cc.log("showMyPlayerViewshowMyPlayerViewshowMyPlayerView"),cc.log(e),t.showMyPlayerList(e.list),t.curMyPlayerPage=e.page||1,t.totalMyPlayerPage=e.totalPage||1,t.WDWJ_Text_PageCount.string=t.curMyPlayerPage,t.WDWJ_Text_PageCount_max.string=t.totalMyPlayerPage,1==t.curMyPlayerPage&&1==t.totalMyPlayerPage?(t.WDWJ_Button_Last.interactable=!1,t.WDWJ_Button_Next.interactable=!1):1==t.curMyPlayerPage?(t.WDWJ_Button_Last.interactable=!1,t.WDWJ_Button_Next.interactable=!0):t.curMyPlayerPage==t.totalMyPlayerPage?(t.WDWJ_Button_Last.interactable=!0,t.WDWJ_Button_Next.interactable=!1):(t.WDWJ_Button_Last.interactable=!0,t.WDWJ_Button_Next.interactable=!0)},e,this.curMyPlayerPage,8)},showMyPlayerList:function(e){for(var t=this,i=function(){t.showMyPlayerView()},n=0;n<e.length;n++){var o=cc.instantiate(this.playerInfo);o.getComponent("PlayerInfo").init(e[n],this.node,i),this.WDWJ_View.addChild(o)}},doWDWJ_Button_NextClick:function(){if(this.curMyPlayerPage=this.curMyPlayerPage+1,this.curMyPlayerPage>this.totalMyPlayerPage)return this.curMyPlayerPage=this.totalMyPlayerPage,createTips("\u5230\u9876\u5566");this.showMyPlayerView()},doWDWJ_Button_LastClick:function(){if(this.curMyPlayerPage=this.curMyPlayerPage-1,this.curMyPlayerPage<1)return this.curMyPlayerPage=1,createTips("\u5230\u5e95\u5566");this.showMyPlayerView()},doWDWJ_Button_QueryClick:function(){if(cc.log(this.inputText),""==this.inputText.string)return createTips("\u73a9\u5bb6id\u4e0d\u80fd\u4e3a\u7a7a");this.showMyPlayerView(this.inputText.string)},showMyAchieveMentView:function(){for(var e=this,t=0;t<5;t++)this.WDYJ_Text_Value[t].children[0]._components[0].string="",this.WDYJ_Text_Value[t].children[1]._components[0].string="",this.WDYJ_Text_Value[t].children[2]._components[0].string="",this.WDYJ_Text_Value[t].children[3]._components[0].string="";this.PromotionLogic.requestMyAchievement(function(t){cc.log("showMyAchieveMentViewshowMyAchieveMentViewshowMyAchieveMentView",t),e.showMyAchievementList(t),e.curMyAchievementPage=Number(t.page)||1,e.totalMyAchievementPage=t.total_page||1,e.WDYJ_Text_PageCount.string=e.curMyAchievementPage,e.WDYJ_Text_PageCount_max.string=e.totalMyAchievementPage,1==e.curMyAchievementPage&&1==e.totalMyAchievementPage?(e.WDYJ_Button_Last.interactable=!1,e.WDYJ_Button_Next.interactable=!1):1==e.curMyAchievementPage?(e.WDYJ_Button_Last.interactable=!1,e.WDYJ_Button_Next.interactable=!0):e.curMyAchievementPage==e.totalMyAchievementPage?(e.WDYJ_Button_Last.interactable=!0,e.WDYJ_Button_Next.interactable=!1):(e.WDYJ_Button_Last.interactable=!0,e.WDYJ_Button_Next.interactable=!0)},null,this.curMyAchievementPage,5)},doWDYJ_Button_LastClick:function(){if(this.curMyAchievementPage=this.curMyAchievementPage-1,this.curMyAchievementPage<1)return this.curMyAchievementPage=1,createTips("\u5230\u9876\u5566");this.showMyAchieveMentView()},doWDYJ_Button_NextClick:function(){if(this.curMyAchievementPage=this.curMyAchievementPage+1,this.curMyAchievementPage>this.totalMyAchievementPage)return this.curMyAchievementPage=this.totalMyAchievementPage,createTips("\u5230\u5e95\u5566");this.showMyAchieveMentView()},showMyAchievementList:function(e){if(cc.log("showMyAchievementListshowMyAchievementListshowMyAchievementList"),cc.log(e),e.week_money){this.WDYJ_Text_Week.children[0]._components[0].string=String(Number(e.week_money/G_MULTI_NUM)),this.WDYJ_Text_Week.children[1]._components[0].string=String(Number(e.not_under_achievement/G_MULTI_NUM)),this.WDYJ_Text_Week.children[2]._components[0].string=String(Number(e.under_achievement/G_MULTI_NUM)),this.WDYJ_Text_Week.children[3]._components[0].string=String(e.week_commission/G_MULTI_NUM);for(var t=0;t<5;t++)e.achievement[t]&&(2==this.curMyAchievementPage?(this.WDYJ_Text_Value[t].children[0]._components[0].string=String(e.achievement[t+5].data),this.WDYJ_Text_Value[t].children[1]._components[0].string=String(e.achievement[t+5].personal_achievement/G_MULTI_NUM),this.WDYJ_Text_Value[t].children[2]._components[0].string=String(e.achievement[t+5].team_achievement/G_MULTI_NUM),this.WDYJ_Text_Value[t].children[3]._components[0].string=String(e.achievement[t+5].total_achievement/G_MULTI_NUM)):(this.WDYJ_Text_Value[t].children[0]._components[0].string=String(e.achievement[t].data),this.WDYJ_Text_Value[t].children[1]._components[0].string=String(e.achievement[t].personal_achievement/G_MULTI_NUM),this.WDYJ_Text_Value[t].children[2]._components[0].string=String(e.achievement[t].team_achievement/G_MULTI_NUM),this.WDYJ_Text_Value[t].children[3]._components[0].string=String(e.achievement[t].total_achievement/G_MULTI_NUM)))}},showMyAwardView:function(){var e=this;this.PromotionLogic.requestMyAward(function(t){cc.log(t),t.length>0&&e.showMyAwardList(t)})},showMyAwardList:function(e){if(this.WDJL_View.removeAllChildren(),e.length>0)for(var t=0;t<e.length;t++)if(e[t]){var i=cc.instantiate(this.MyAwardInfo);i.getComponent("MyAwardInfo").init(e[t]),this.WDJL_View.addChild(i)}},showMyProWithdrawView:function(){var e=this;this.PromotionLogic.requestMyPreWithdraw(function(t){cc.log(t),e.showMyPreWithdrawList(t)})},showMyPreWithdrawList:function(e){if(cc.log(e),this.WDYT_Text_All.children[0]._components[0].string=String(e.userid),this.WDYT_Text_All.children[1]._components[0].string=String(e.newTotal/G_MULTI_NUM),this.WDYT_Text_All.children[2]._components[0].string=String(e.enableDraw/G_MULTI_NUM),this.WDYT_Text_All.children[3]._components[0].string=String(Number(e.hasDraw)/G_MULTI_NUM),this.WDYT_Text_All.children[4]._components[0].string=String(e.shengyu/G_MULTI_NUM),this.Text_TotalMoney.string=String(e.week_bankcard/G_MULTI_NUM),this.saveRemainMoney=String(Number(e.shengyu/G_MULTI_NUM)),e.apply_pos.length>0)for(var t=0;t<6;t++)if(e.apply_pos[t]){var i=new Date(1e3*e.apply_pos[t].apply_time),n=i.getFullYear()+"",o=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"",a=(i.getDate()<10?"0"+i.getDate():i.getDate())+"",r=(i.getHours()<10?"0"+i.getHours():i.getHours())+":",s=(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+":",c=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();this.Text_Value[t].children[0]._components[0].string=String(n+"/"+o+"/"+a+"\n"+r+s+c),this.Text_Value[t].children[1]._components[0].string=String(e.apply_pos[t].order),this.Text_Value[t].children[2]._components[0].string=String(Number(e.apply_pos[t].apply_amount/G_MULTI_NUM)),this.Text_Value[t].children[3]._components[0].string=String(e.apply_pos[t].type),this.Text_Value[t].children[4]._components[0].string=String(e.apply_pos[t].userid),this.Text_Value[t].children[5]._components[0].string=String(e.apply_pos[t].status)}},doWDYT_Button_ProWithdraw:function(){this.saveRemainMoney?(this.WithdrawLayer.active=!0,this.Text_Value_YuE.string=this.saveRemainMoney):createTips("\u83b7\u53d6\u53ef\u63d0\u73b0\u4f59\u989d\u5931\u8d25\uff0c\u8bf7\u9000\u51fa\u91cd\u8bd5")},doWDYT_Button_WithdrawLayer:function(){this.WithdrawLayer.active=!1},doButton_ApplyClick:function(){var e=this;return""==this.EditBox_Input.string?createTips("\u8bf7\u8f93\u5165\u63d0\u73b0\u91d1\u989d"):this.EditBox_Input.string>this.remianMoney?createTips("\u8f93\u5165\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u53ef\u63d0\u53d6\u91d1\u989d"):void this.PromotionLogic.requestAddMoneyToGame(Number(this.EditBox_Input.string)*G_MULTI_NUM,function(){createTips("\u9886\u53d6\u6210\u529f"),e.showMyProWithdrawView(),e.doWDYT_Button_WithdrawLayer()})},showDescritionView:function(){var e=this;this.PromotionLogic.requestDescrition(function(t){e.JLSM_View.removeAllChildren(),e.showDescritionList(t)})},showDescritionList:function(e){for(var t=0;t<e.length;t++){var i=cc.instantiate(this.ShuoMingInfo);i.getComponent("ShuoMingInfo").init(e[t]),this.JLSM_View.addChild(i)}}}),cc._RF.pop()},{BaseLayer:"BaseLayer",PromotionLogic:"PromotionLogic"}],PromotionLogic:[function(e,t){"use strict";cc._RF.push(t,"4a3cfRHdEpA8LQzuY8WmqWp","PromotionLogic"),t.exports=cc.Class({extends:e("LogicBasis"),properties:{},ctor:function(){},requestMyPromotion:function(e){var t={};t.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/my_promotion"),t.params={userID:this.getUserID()},t.fCallback=function(){},t.sCallback=function(t){cc.log(t),0==t.status?e(t.data):createTips(t.msg)},t.isSign=!0,MyHttpRequest.doRequest(t)},requestMyPlayer:function(e,t,i,n){var o={};o.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/my_player"),o.params={userID:t||this.getUserID(),page:i||1,num:n||8},o.fCallback=function(){console.log("\u8bf7\u6c42my_player\u8d85\u65f6")},o.sCallback=function(t){0==t.status?e(t.data):createTips(t.msg)},o.isSign=!0,MyHttpRequest.doRequest(o)},requestMyAchievement:function(e,t,i,n){var o={};o.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/my_achievements"),o.params={userID:t||this.getUserID(),page:i||1,num:n||5},o.fCallback=function(){console.log("\u8bf7\u6c42my_achievements\u8d85\u65f6")},o.sCallback=function(t){t.status,e(t.data)},o.isSign=!0,MyHttpRequest.doRequest(o)},requestMyAward:function(e,t){var i={};i.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/my_reward"),i.params={userID:t||this.getUserID()},i.fCallback=function(){console.log("\u8bf7\u6c42my_reward\u8d85\u65f6")},i.sCallback=function(t){0==t.status?e(t.data):createTips(t.msg)},i.isSign=!0,MyHttpRequest.doRequest(i)},requestMyPreWithdraw:function(e,t){var i={};i.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/my_presentation"),i.params={userID:t||this.getUserID()},i.fCallback=function(){console.log("\u8bf7\u6c42my_presentation\u8d85\u65f6")},i.sCallback=function(t){0==t.status?e(t.data):createTips(t.msg)},i.isSign=!0,MyHttpRequest.doRequest(i)},requestWithdraw:function(e,t){var i={};i.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/apply_pos"),i.params={userID:t||this.getUserID()},i.fCallback=function(){console.log("\u8bf7\u6c42apply_pos\u8d85\u65f6")},i.sCallback=function(t){0==t.status?e(t.data):createTips(t.msg)},i.isSign=!0,MyHttpRequest.doRequest(i)},requestAddMoneyToGame:function(e,t){var i={};i.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/apply_pos"),i.params={userID:this.getUserID(),money_num:e},i.fCallback=function(){console.log("\u8bf7\u6c42apply_pos\u8d85\u65f6")},i.sCallback=function(e){0==e.status?t(e.data):createTips(e.msg)},i.isSign=!0,MyHttpRequest.doRequest(i)},requestDescrition:function(e){var t={};t.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/return_commission"),t.params={userID:this.getUserID()},t.fCallback=function(){console.log("\u8bf7\u6c42return_commission\u8d85\u65f6")},t.sCallback=function(t){0==t.status?e(t.data):createTips(t.msg)},t.isSign=!0,MyHttpRequest.doRequest(t)},requestGuarantee:function(e,t,i){var n={};n.url=tools.stringFormat("http://"+G_PHP_IP+"/index.php/agent/ApiAgent/set_bottom_guard"),n.params={userID:this.getUserID(),subordinateUserID:e,num:t},n.fCallback=function(){console.log("\u8bf7\u6c42set_bottom_guard\u8d85\u65f6")},n.sCallback=function(e){0==e.status?(i(e.data),createTips(e.msg)):createTips(e.msg)},n.isSign=!0,MyHttpRequest.doRequest(n)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],PromotionMyPlayer:[function(e,t){"use strict";cc._RF.push(t,"b99b72mFSJDaIejwaB3hInb","PromotionMyPlayer"),cc.Class({extends:cc.Component,properties:{Edit:cc.EditBox,fanyongLabel:cc.Label,IDLabel:cc.Label,nameLabel:cc.Label},onLoad:function(){},init:function(e,t){this.data=e,this.callback=t,this.IDLabel.string=e.userid,this.nameLabel.string=e.name,this.fanyongLabel.string="\u5f53\u524d\u4fdd\u5e95\u8fd4\u4f63 "+e.bottom_guard},doButton_Sure:function(){var t=this;if(cc.log(this.data),""==this.Edit.string)return createTips("\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a");this.PromotionLogic=new(e("PromotionLogic")),this.PromotionLogic.requestGuarantee(this.data.userid,Number(this.Edit.string)*G_MULTI_NUM,function(e){cc.log(e),t.callback&&(t.fanyongLabel.string="\u5f53\u524d\u4fdd\u5e95\u8fd4\u4f63 "+t.Edit.string,t.callback())})},doButton_Close:function(){this.node.destroy()},start:function(){}}),cc._RF.pop()},{PromotionLogic:"PromotionLogic"}],PublicProtocolId:[function(e,t){"use strict";cc._RF.push(t,"ac52furCihCmKDmqiQ5/60d","PublicProtocolId"),window.E_NET_CONNECT_MAINID={mainid_net_connect:1,mainid_net_hello:2},window.E_NET_CONNECT_ASSID={assid_net_connect:3,assid_net_test:1,assid_net_hello:2},window.E_ClientNetStatusProtocolDef={NetStatusProtocol_ConnectSuccess:8888880,NetStatusProtocol_ConnectFailed:8888881,NetStatusProtocol_DisConnect:8888882},cc._RF.pop()},{}],QieHuanBi:[function(e,t){"use strict";cc._RF.push(t,"1ac4fKSpeVKFoE76UcXfSf1","QieHuanBi"),cc.Class({extends:e("BaseLayer"),properties:{xuanzhongUSDT:cc.Node,xuanzhongDT:cc.Node,btn_kai:cc.Node,btn_guan:cc.Node,StoreDragonLayer:cc.Prefab},onLoad:function(){this.num=0},start:function(){},doButton_xuanzhong:function(e,t){this.num=t,0==t?(this.xuanzhongUSDT.active=!0,this.xuanzhongDT.active=!1):(this.xuanzhongUSDT.active=!1,this.xuanzhongDT.active=!0)},doButton_kaiguan:function(){1==this.btn_kai.active?(this.btn_kai.active=!1,this.btn_guan.active=!0):(this.btn_kai.active=!0,this.btn_guan.active=!1)},doButton_store:function(){var e=cc.instantiate(this.StoreDragonLayer);e.getComponent("StoreDragonLayer").init(this.num),this.node.addChild(e)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],QualifyingLayer:[function(e,t){"use strict";cc._RF.push(t,"4a712p5j+pGfp4zKaO5SLMt","QualifyingLayer"),cc.Class({extends:e("BaseLayer"),properties:{img_avata:cc.Sprite,label_id:cc.Label,label_name:cc.Label,label_gold:cc.Label,img_season:cc.Sprite,img_duanwei_icon:cc.Sprite,img_duanwei_text:cc.Sprite,label_d_score:cc.Label,img_score:cc.Sprite,progress_score:cc.ProgressBar,tip_text:cc.RichText,panel_match_rank_game:cc.ScrollView,prefab_match_rank_game:cc.Prefab,progressNode:cc.ProgressBar},onEnable:function(){var e=this,t=(UserInfoManager.getMyInfo().combineMatchID,UserInfoManager.getMyInfo().matchStatus,UserInfoManager.getMyInfo().gameExp);UserInfoManager.getMyInfo().UserLevel,this.label_d_score.node.active=!0,this.tip_text.node.active=!0;var i=getRankInfo(t),n=getNextRankInfo(t);this.tip_text.string="<color = #ffb573>\u60a8\u8ddd\u79bb</c><color=#ffffff>"+n.remark+"</c><color=#ffb573>\u8fd8\u5dee</color><color=#87d6ff>"+(n.gameExp-t)+"</color><color=#ffb573>\u7ecf\u9a8c</color>",this.label_d_score.string="\u7ecf\u9a8c\u503c\uff1a"+t+" \u7b49\u7ea7\uff1a"+i.remark;var o="icon"+(parseInt(i.level/5)+1);this.changeImg(o,this.img_duanwei_icon),console.log("dsfdsfadsfsf"+t/n.gameExp),this.progressNode.progress=t/n.gameExp,this.LobbyLogic.requestAllRoomList(function(t){for(var i=[],n=0;n<t.length;n++)t[n].sort==E_ROOM_SORT.RANKMATCH&&i.push(t[n]);e.panleMatchRankContent.children.forEach(function(e){e.destroy()});for(var o=0;o<i.length;o++){var a=cc.instantiate(e.prefab_match_rank_game);e.panleMatchRankContent.addChild(a),a.getComponent("MatchRankGame").setData(e,i[o])}})},exit:function(){var e=this;LobbySocket.sendRankMatchInfo(E_PAIWEI_INFO.Sign_LEFT,E_PAIWEI_INFO.LobbyID,function(){e.onCloseBtn()})},init:function(t){this.lobbyComponent=t,this.LobbyLogic=new(e("LobbyLogic")),this.panleMatchRankContent=this.panel_match_rank_game.content,cc.winSize.width/1280<1&&(this.panleMatchRankContent.getComponent(cc.Layout).paddingLeft=8,this.panleMatchRankContent.getComponent(cc.Layout).spacingX=0)},onEnterRankMatch:function(e){var t=this.LobbyLogic.getWalletMoney();return t<e.minPoint?createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u4e0d\u6ee1\u8db3\u8fdb\u5165\u623f\u95f4\u4e0b\u9650:{0}",F_GetMoneyDisplay(e.minPoint))):0!=e.maxPoint&&t>e.maxPoint?createTips(tools.stringFormat("\u60a8\u7684\u91d1\u5e01\u6570\u8d85\u8fc7\u8fdb\u5165\u623f\u95f4\u4e0a\u9650:{0}",F_GetMoneyDisplay(e.maxPoint))):void(this.lobbyComponent&&this.lobbyComponent.enterGameByRoomID(e.roomID))},onBtnClicked:function(e,t){if(t){var i="";"rank"==t?(i="prefab/Qualifying/DuanWeiRank",this.simpleAddLayer(i)):"his_record"==t?(i="prefab/Qualifying/HisRecord",this.simpleAddLayer(i,"lishi")):"intro"==t?(i="prefab/Qualifying/DuanWeiRewardLayer",this.simpleAddLayer(i)):"dw_award"==t&&(i="prefab/Qualifying/DuanWeiAward",this.simpleAddLayer(i))}},start:function(){},changeImg:function(e,t){cc.loader.loadRes("lobby/ui/Qualifying/"+e,cc.SpriteFrame,function(e,i){e?cc.log(e):t.spriteFrame=i})}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],RankManager:[function(e,t){"use strict";cc._RF.push(t,"3b713lls0RO67WGiVAAlL3v","RankManager");var i=cc.Class({ctor:function(){},requestRankingInformation:function(e,t){console.log("\u6392\u540d\uff1a\u8bf7\u6c42ID"+t);var i=[];0===t?(i.url="https://"+G_PHP_IP+"/api/v1/rank/richRankList",i.params={userID:UserInfoManager.getMyInfo().userID,richType:"giftCard",num:11}):1!==t&&2!==t&&3!==t||(i.url="https://"+G_PHP_IP+"/api/v1/match/getMatchRanking",i.params={userID:UserInfoManager.getMyInfo().userID,matchID:1,type:t,num:10}),i.sCallback=function(t){t.status==G_HANDLE_CODE_OK?(console.log("\u6392\u884c\u699c\u6570\u636e:"+t),e(t.data)):console.warn("\u8bf7\u6c42\u6392\u884c\u6570\u636e\u5931\u8d25")},i.fCallback=function(){e([],t)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)},requestProductlistInfo:function(e,t){var i={};i.url=NetConfig.getPHPUrl(),i.params={api:"mall",action:"goodsList",userID:UserInfoManager.getMyInfo().userID,goods_category:t},i.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","goodsList"))},i.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)},requestExchangeList:function(e,t){var i={};i.url="https://"+G_PHP_IP+"/api/v1/User/myPrizeRecord",i.params={userID:UserInfoManager.getMyInfo().userID,goodsWays:t},i.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","myPrizeRecord"))},i.sCallback=function(t){0==t.status?e&&e(t.data):createTips(t.msg)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(i)},requestpurchaseInfo:function(e,t){var i={};i.url=NetConfig.getPHPUrl(),i.params={api:"mall",action:"buy",userID:UserInfoManager.getMyInfo().userID,goodsID:e,buyNum:1},i.fCallback=function(){printInfo(tools.stringFormat("\u8bf7\u6c42{0}\u8d85\u65f6","buy"))},i.sCallback=function(e){0==e.status?t&&(cc.log(e.data),t(e.data),createTips(e.msg)):createTips(e.msg)},i.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,cc.log(i),MyHttpRequest.doRequest(i)},requestRichRankList:function(e,t,i){e=e||E_RichType.CARD;var n=[];n.url="http://"+G_PHP_IP+"/API/index.php",n.params={action:"Vulgar",type:e},n.sCallback=function(e){cc.log(e),e.status==G_JSON_DATA_STATUS_OK?t(e.Vulgar.Vulgar,i):createTips(e.msg)},n.fCallback=function(){t([],i)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)}});t.exports=i,cc._RF.pop()},{}],RepeatConnectLayer:[function(e,t){"use strict";cc._RF.push(t,"ca9fdynjSpLMa1vGTkKeig0","RepeatConnectLayer"),cc.Class({extends:e("BaseLayer"),properties:{rotateImg:cc.Node},onLoad:function(){this._super()},start:function(){var e=this;console.log(">>>>>>>RepeatConnectLayer start"),cc.sys.isNative||!LobbySocket.isReconnected?(0==Number(cc.sys.localStorage.getItem(G_LIVE_BROADCAST))&&this.rotateImg&&(this.rotateImg.stopAllActions(),this.rotateImg.active=!1),console.log(">>>>>>>\u54ce\u5440\u7f51\u7edc\u8d70\u4e22\u5566\uff0c\u5c1d\u8bd5\u627e\u56de\u4e2d..."),LobbySocket.clear(),this.schedule(function(){console.log("repeat connect schedule"),LobbySocket.setLoginDelegate(e),LobbySocket.reconnecService(),e.scheduleOnce(function(){LobbySocket.onLoginFailed(),e.unscheduleAllCallbacks(),window.repeatConnectLayer=null},G_COMMON_TIMEOUT_TIME)},2),removeLoading()):console.log(">>>\u5f53\u524d\u6b63\u5728isReconnected")},onLoginSuccess:function(){this.unscheduleAllCallbacks(),this.node&&(this.node.parent=null),window.repeatConnectLayer=null},onLoginFailed:function(){this.unscheduleAllCallbacks(),this.node&&(this.node.parent=null),window.repeatConnectLayer=null}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ReqHttp:[function(e,t,i){"use strict";cc._RF.push(t,"ad6a7GKSVFDcL3wg4jhbGrm","ReqHttp"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=e("./GlobelContext"),a=function(){function e(){}return e.getInst=function(){return this._inst||(this._inst=new e),this._inst},Object.defineProperty(e,"inst",{get:function(){return this.getInst()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"xhr",{get:function(){return this._xhr||(this._xhr=cc.loader.getXMLHttpRequest(),this._xhr.timeout=5e3),this._xhr},enumerable:!1,configurable:!0}),e.post=function(e,t,i,o){void 0===o&&(o=n.JSON);var a=this.xhr;a.open("POST",e),a.setRequestHeader("Content-Type",o);var r="";switch(o){case n.FORM:Object.keys(t).forEach(function(e){r+=e+"="+encodeURIComponent(t[e])+"&"}),""!==r&&(r=r.substring(0,r.lastIndexOf("&")),r=JSON.stringify(r));break;case n.JSON:r=JSON.stringify(t)}a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<=207){var e=a.responseText;i&&i(e)}},a.onerror=function(e){console.log("POST ERROR"),console.log(e)},a.ontimeout=function(e){console.log("POST TIMEOUT"),console.log(e)},a.send(r)},e.get=function(e,t,i){var n=this.xhr;n.open("GET",e+this.analyzeParams(t)),n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<=207){var e=n.responseText;i&&i(e)}},n.send()},e.analyzeParams=function(e){var t="?";return Object.keys(e).forEach(function(i,n){n>0&&(t+="&"),t=t+i+"="+e[i]}),t},e.getPushStreamUrl=function(e,t){this.get(o.default.url+"txysdk/user/getLiveOnFlow",e,t)},e.getPullStreamUrl=function(e,t){this.get(o.default.url+"txysdk/user/getPlayUrl",e,t)},e.checkUserIsLive=function(e,t){this.get(o.default.url+"txysdk/user/userIslive",e,t)},e.getLiveList=function(e){this.post(o.default.url+"txysdk/user/getLiveStreamingUserID",{},e)},e._inst=null,e._xhr=null,e}();i.default=a,function(e){e.JSON="application/json",e.FORM="application/x-www-form-urlencoded"}(n||(n={})),cc._RF.pop()},{"./GlobelContext":"GlobelContext"}],ResMgr:[function(e,t,i){"use strict";cc._RF.push(t,"1bacc5hEkBKoJT1sdky9dd/","ResMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.ResMgr=void 0;var n=cc._decorator,o=(n.ccclass,n.property,e("Tools")),a=function(){function t(){this._loadTag=new Map,this._loadResCache=new Map,this._loadProgressMap=new Map}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.setLoaded=function(e,t){this._loadTag.set(e,t)},t.prototype.getLoaded=function(e){var t=this._loadTag.get(e);return void 0!==t&&t},t.prototype.loadAssetsInUrls=function(e,t,i,n,a){for(var r=this._loadProgressMap.get(e),s=function(e){var s=i[e];cc.resources.load(s,t,function(e,t){e?console.log(o.getCurTime()+" load assets:"+s+" err:",e):(t.addRef(),r.now++,console.log(o.getCurTime()+" load assets:"+s+" sucess progress:"+r.now+"/"+r.total),n&&n(null,r.now,r.total),r.now>=r.total&&a&&a(null))})},c=0;c<i.length;c++)s(c)},t.prototype.releaseAssetsInUrls=function(e,t){for(var i=0;i<t.length;i++){var n=cc.resources.get(t[i]);n&&n.decRef()}},t.prototype.preloadResPkg=function(e,t,i){if(e instanceof Array){var n={now:0,total:0};for(var o in e)n.total+=e[o].urls.length;for(var o in this._loadProgressMap.set(e,n),e)this.loadAssetsInUrls(e,e[o].assetType,e[o].urls,t,i)}else(n={now:0,total:0}).total=e.urls.length,this._loadProgressMap.set(e,n),this.loadAssetsInUrls(e,e.assetType,e.urls,t,i)},t.prototype.releaseResPkg=function(e){if(e instanceof Array)for(var t in e)this.releaseAssetsInUrls(e[t].assetType,e[t].urls);else this.releaseAssetsInUrls(e.assetType,e.urls)},t.prototype.preloadAsset=function(e,t,i){cc.resources.load(e,t,function(e,t){if(e)return console.log(e),void(i&&i(e));i&&i(null,t)})},t.prototype.releaseAsset=function(e){cc.resources.release(e)},t.prototype.getAsset=function(e){return cc.resources.get(e)},t.prototype.loadPrefabRes=function(e,t){cc.resources.load(e,cc.Prefab,function(i,n){if(i)return console.error("load prefab res failed url:"+e,i.message||i),void(t&&t(i,n));t&&t(null,n)})},t.prototype.loadSpriteFrameRes=function(e,t){cc.resources.load(e,cc.SpriteFrame,function(i,n){if(i)return console.error("load spriteframe res failed url:"+e,i.message||i),void(t&&t(i,n));t&&t(null,n)})},t.prototype.loadTextRes=function(e,t){cc.resources.load(e,cc.TextAsset,function(i,n){if(i)return console.error("load text res failed url:"+e,i.message||i),void(t&&t(i,n));t&&t(null,n)})},t.prototype.loadJsonRes=function(e,t){cc.resources.load(e,cc.JsonAsset,function(i,n){if(i)return console.error("load json res failed url:"+e,i.message||i),void(t&&t(i,n));t&&t(null,n)})},t.prototype.loadAudioClipRes=function(e,t){cc.resources.load(e,cc.AudioClip,function(i,n){if(i)return console.error("load audio res failed url:"+e,i.message||i),void(t&&t(i,n));t&&t(null,n)})},t.prototype.loadRemoteSpriteFrameRes=function(e,t){cc.assetManager.loadRemote(e,{ext:".png"},function(i,n){if(i)return console.error("load remote spriteframe res failed url:"+e,i.message||i),void(t&&t(i,null));var o=new cc.SpriteFrame(n);t&&t(null,o)})},t.prototype.loadRemoteAvatar=function(e,t,i){var n=this;void 0===t&&(t=!1);var o=this._loadResCache.get(e);if(o)i(null,o);else{var a=function(){(o=n._loadResCache.get(e))?i(null,o):n.loadSpriteFrameRes("texture/avatar/img_avata_null",function(t,o){t?i(t,null):(n._loadResCache.set(e,o),i(null,o))})};if(""===e)return t?void a():void i(new Error("invalid url"),null);this.loadRemoteSpriteFrameRes(e,function(o,r){if(o)return t?void a():void i(o,null);n._loadResCache.set(e,r),i(null,r)})}},t.prototype.loadRemoteTextRes=function(e,t){cc.assetManager.loadRemote(e,function(i,n){if(i)return console.error("load remote text res failed url:"+e,i.message||i),void(t&&t(i,null));t&&t(null,n)})},t.prototype.loadRemoteJsonRes=function(e,t){cc.assetManager.loadRemote(e,function(i,n){if(i)return console.error("load remote json res failed url:"+e,i.message||i),void(t&&t(i,null));t&&t(null,n)})},t.prototype.loadRemoteAudioClipRes=function(e,t){cc.assetManager.loadRemote(e,function(i,n){if(i)return console.error("load remote audioclip res failed url:"+e,i.message||i),void(t&&t(i,null));t&&t(null,n)})},t.readFile=function(t,i){var n=Editor.Project.path.replace("\\","/")+"/"+t;e("fs").readFile(n,"utf-8",function(e,t){if(e)return console.error("load "+n+" error:",e),void(i&&i(e,null));console.info("load "+n+" sucess"),i&&i(null,t)})},t.writeFile=function(t,i,n){var o=Editor.Project.path.replace("\\","/")+"/"+t,a=o.substr(0,o.lastIndexOf("/")+1),r=e("fs"),s=function(){r.writeFile(o,i,function(e){if(e)return console.error("save "+o+" error:",e),void(n&&n(null));console.info("save "+o+" sucess:"),n&&n(null)})};r.exists(a,function(e){e?s():r.mkdir(a,function(e){if(e)return console.error("save "+o+" mkdir error:",e),void(n&&n(e));s()})})},t}();i.ResMgr=a,cc._RF.pop()},{Tools:"Tools",fs:void 0}],RewardNode:[function(e,t){"use strict";cc._RF.push(t,"c35c4UTR2FDBoRP8azdJMgq","RewardNode"),cc.Class({extends:cc.Component,properties:{numLabel:cc.Label,gold:cc.Node,zuan:cc.Node},init:function(e){2==e.goodsType?(this.numLabel.string="\u94bb\u77f3x"+e.goodsNums,this.zuan.active=!0,this.gold.active=!1):1==e.goodsType&&(this.numLabel.string="\u91d1\u5e01x"+e.goodsNums,this.gold.active=!0,this.zuan.active=!1)},doButtonClose:function(){this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],RoomListItem:[function(e,t){"use strict";cc._RF.push(t,"197384B2m9JNazO9lOPlGeG","RoomListItem"),cc.Class({extends:e("LobbyBaseLayer"),properties:{text_roomID:cc.Label,text_play:cc.Label,text_jushu:cc.Label},init:function(t){this.LobbyLogic=new(e("LobbyLogic")),cc.log(t),this.data=t},start:function(){var e=this.data;this.text_roomID.string=e.passwd,this.text_play.string="\u7ecf\u5178\u73a9\u6cd5",this.text_jushu.string=e.gameCount},onDismiss:function(){var e=this;cc.log("dismiss");var t={};t.msg=tools.stringFormat("\u662f\u5426\u89e3\u6563\u623f\u95f4\u3010"+this.data.passwd+"\u3011"),t.btn1="\u786e  \u5b9a",t.btn2="\u53d6  \u6d88",t.callbackFun=function(t){"\u786e  \u5b9a"==t&&e.LobbyLogic.requestDissmissRoom(e.data.passwd)},createMsgBox(t)},onClick:function(){var e=this;cc.log("click");var t={};t.msg=tools.stringFormat("\u662f\u5426\u52a0\u5165\u623f\u95f4\u3010"+this.data.passwd+"\u3011"),t.btn1="\u786e  \u5b9a",t.btn2="\u53d6  \u6d88",t.callbackFun=function(t){"\u786e  \u5b9a"==t&&e.LobbyLogic.joinRoom(e.data.passwd)},createMsgBox(t)},onBuyDeskInfoDel:function(e){e==this.data.passwd&&this.node.removeFromParent()},onBuyDeskInfoUpdate:function(){},onEnable:function(){this._super()},onDisable:function(){this._super()}}),cc._RF.pop()},{LobbyBaseLayer:"LobbyBaseLayer",LobbyLogic:"LobbyLogic"}],RoomListLayer:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"6e0a5y/+75GNo6KaQF9u9Fk","RoomListLayer"),cc.Class({extends:e("LobbyBaseLayer"),properties:{list:cc.ScrollView,item:cc.Node,img_girl:cc.Node},ctor:function(){this.LobbyLogic=new(e("LobbyLogic"))},onLoad:function(){this.item.active=!1},refreshData:function(){var e=this;this.LobbyLogic.requestUserBuyRoomList(function(t){if(t.length<=0)e.list.content.removeAllChildren(),e.img_girl&&(e.img_girl.active=!0);else{e.img_girl&&(e.img_girl.active=!1),e.list&&e.list.content.removeAllChildren();for(var n,o=i(t);!(n=o()).done;){var a=n.value;if(!e.item)return;var r=cc.instantiate(e.item);if(!r)return;r.active=!0,r.getComponent("BaseLayer").init(a),e.list&&e.list.content.addChild(r)}}})},onBuyDeskInfoDel:function(){0==RoomRecordManager.getRoomRecordList().length&&this.img_girl&&(this.img_girl.active=!0)},onEnable:function(){this._super()},onDisable:function(){this._super()}}),cc._RF.pop()},{LobbyBaseLayer:"LobbyBaseLayer",LobbyLogic:"LobbyLogic"}],RoomListManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"8643bm8V1pO94/IWNvYVnxW","RoomListManager");var a=cc.Class({ctor:function(){this.roomList={},this.roomListData=null},requestAllRoomList:function(e){var t=this;if(this.roomListData&&e)return e(this.roomListData);var n={};n.url=NetConfig.getPHPUrl(),n.params={api:"lobby",action:"roomList"},n.sCallback=function(n){if(0==n.status){for(var o,a=i(n.data);!(o=a()).done;){var r=o.value;t.addRoomByGameID(r.gameID,r)}e&&(t.roomListData=n.data,e(n.data))}else createTips(n.msg)},n.fCallback=function(){cc.log("\u8bf7\u6c42roomList\u8d85\u65f6")},MyHttpRequest.doRequest(n)},addRoomByGameID:function(e,t){this.roomList[e]||(this.roomList[e]=[]);for(var i=!0,n=0;n<this.roomList[e].length;++n)this.roomList[e][n].roomID==t.roomID&&(i=!1);i&&this.roomList[e].push(t)},getCardRoomListByGameID:function(e){var t=[];if(this.roomList[e])for(var n,o=i(this.roomList[e]);!(n=o()).done;){var a=n.value;a.type===E_ROOM_TYPE.CARD&&t.push(a)}return t},getCardRoomByGameID:function(e){var t=this.getCardRoomListByGameID(e);return 0===t.length?createTips(tools.stringFormat("id\u4e3a{0}\u7684\u6e38\u620f\u6ca1\u6709\u79ef\u5206\u623f",e)):1===t.length?t[0]:(t=t.sort(function(e,t){return e.roomID>t.roomID?1:e.roomID<t.roomID?-1:0}))[0]},getMatchRoomByGameID:function(e){var t,i=this.getMatchRoomListByGameID(e);return 0==i.length?createTips("id\u4e3a"+e+"\u7684\u6e38\u620f\u8fd8\u6ca1\u6709\u6bd4\u8d5b\u623f"):(1==i.length?t=i[0]:(i.sort(function(e,t){return e.roomID<t.roomID?-1:1}),t=i[0]),t)},getMatchRoomListByGameID:function(e){var t=[];if(this.roomList[e])for(var n,o=i(this.roomList[e]);!(n=o()).done;){var a=n.value;a.type==E_ROOM_TYPE.MATCH&&t.push(a)}return t},getPrivateRoomByGameID:function(e){var t,i=this.getPrivateRoomListByGameID(e);return 0==i.length?createTips("id\u4e3a"+e+"\u7684\u6e38\u620f\u6ca1\u6709\u91d1\u5e01\u623f"):(1==i.length?t=i[0]:(i.sort(function(e,t){return e.roomID<t.roomID?-1:1}),t=i[0]),t)},getPrivateRoomListByGameID:function(e){var t=[];if(this.roomList[e])for(var n,o=i(this.roomList[e]);!(n=o()).done;){var a=n.value;a.type==E_ROOM_TYPE.PRIVATE&&t.push(a)}return t},getGameListHaveCardRoom:function(){var e=cc.sys.localStorage.getItem(G_CHOOSE_CITY);e||(e=0);for(var t,n=[],o=i(CityListManager.getGameListByCityID(e));!(t=o()).done;){var a=t.value;this.isGameHaveCardRoom(a)&&n.push(a)}return n},getGameListHaveGoldRoom:function(){var e=cc.sys.localStorage.getItem(G_CHOOSE_CITY);e||(e=0);for(var t,n=[],o=i(CityListManager.getGameListByCityID(e));!(t=o()).done;){var a=t.value;this.isGameHaveGoldRoom(a)&&n.push(a)}return n},getGameListHaveMatchRoom:function(){var e=cc.sys.localStorage.getItem(G_CHOOSE_CITY);e||(e=0);for(var t,n=[],o=i(CityListManager.getGameListByCityID(e));!(t=o()).done;){var a=t.value;this.isGameHaveMatchRoom(a)&&n.push(a)}return n},getGameListHavePrivateRoom:function(){var e=cc.sys.localStorage.getItem(G_CHOOSE_CITY);e||(e=0);for(var t,n=[],o=i(CityListManager.getGameListByCityID(e));!(t=o()).done;){var a=t.value;this.isGameHavePrivateRoom(a)&&n.push(a)}return n},isGameHavePrivateRoom:function(e){if(this.roomList[e])for(var t,n=i(this.roomList[e]);!(t=n()).done;)if(t.value.type===E_ROOM_TYPE.CARD)return!0;return!1},isGameHaveCardRoom:function(e){if(this.roomList[e])for(var t,n=i(this.roomList[e]);!(t=n()).done;)if(t.value.type===E_ROOM_TYPE.CARD)return!0;return!1},isGameHaveGoldRoom:function(e){if(this.roomList[e])for(var t,n=i(this.roomList[e]);!(t=n()).done;)if(t.value.type===E_ROOM_TYPE.GOLD)return!0;return!1},isGameHaveMatchRoom:function(e){if(this.roomList[e])for(var t,n=i(this.roomList[e]);!(t=n()).done;)if(t.value.type===E_ROOM_TYPE.MATCH)return!0;return!1},getRoomByRoomID:function(e){for(var t in this.roomList)for(var n,o=i(this.roomList[t]);!(n=o()).done;){var a=n.value;if(a.roomID===e)return a}return createTips(tools.stringFormat("\u623f\u95f4id\u4e3a:{0}\u7684\u623f\u95f4\u4fe1\u606f\u4e0d\u5b58\u5728",e)),null},setRoomInfo:function(e){this.roomInfo=e},getRoomInfo:function(){return this.roomInfo?this.roomInfo:null},setCurRuleInfo:function(e){this._ruleinfo=e},getCurRuleInfo:function(){return this._ruleinfo},getRoomNameByRoomID:function(e){for(var t in this.roomList){var i=this.roomList[t];for(var n in i){var o=i[n];if(o.roomID==e)return o.name.indexOf("\u70b8\u91d1\u5316")>=0&&(o.name=o.name.replace("\u70b8\u91d1\u5316","\u70b8\u91d1\u82b1")),o.name}}},getLuziInfo:function(){return this.luziInfo},setLuziInfo:function(e){this.luziInfo=this.luziInfo||[],this.luziInfo[e.roomID]=e},getGoldRoomListByGameID:function(e){var t=[];if(this.roomList[e])for(var i in this.roomList[e]){var n=this.roomList[e][i];n.type===E_ROOM_TYPE.GOLD&&t.push(n)}return cc.log(t,this.roomList,this.roomList[e]),t}});t.exports=a,cc._RF.pop()},{}],RoomRecordManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"d966am+Mz5Eopz4FI5Go7sG","RoomRecordManager"),t.exports=cc.Class({ctor:function(){this.roomRecordList={}},setRoomRecordList:function(e){this.roomRecordList={};for(var t,n=i(e);!(t=n()).done;){var o=t.value;this.addRoomRecord(o)}},addRoomRecord:function(e){this.roomRecordList[e.passwd]=e},getRoomRecordList:function(){var e=[];for(var t in this.roomRecordList){var i=this.roomRecordList[t];i&&e.push(i)}return e.sort(function(e,t){return e.buyDeskTime==t.buyDeskTime?e.roomID<t.roomID?-1:1:e.buyDeskTime>t.buyDeskTime?-1:1}),e},getRoomRecord:function(e){return this.roomRecordList[e]},updateRoomRecord:function(e){var t=this.getRoomRecord(e.passwd);t&&(t.userCount=e.userCount)},delRoomRecord:function(e){this.roomRecordList[e]=null},clearRoomRecordList:function(){this.roomRecordList={}},dealNotifyUserCountChange:function(e){var t,i,n=((i={}).changeType=(t=e).popINT(),i.passwd=t.readString(20),i.userCount=t.popINT(),i);e.bHandleCode==G_HANDLE_CODE_OK&&(1==n.changeType?(this.updateRoomRecord(n),DataNotify.onBuyDeskInfoUpdate(n)):2==n.changeType&&(this.delRoomRecord(n.passwd),DataNotify.onBuyDeskInfoDel(n.passwd)))}}),cc._RF.pop()},{}],Roomrules:[function(e,t){"use strict";cc._RF.push(t,"cdd8ccv1z1AHqGgYK04uwYr","Roomrules"),cc.Class({extends:e("BaseLayer"),properties:{},onLoad:function(){},init:function(){},doButton_Close:function(){this.node&&this.node.removeFromParent()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],RoundRectMask:[function(e,t,i){"use strict";cc._RF.push(t,"06f2fTo2MlH8I6f1sHNt/LG","RoundRectMask");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=cc._decorator.executeInEditMode,u=cc._decorator.disallowMultiple,h=cc._decorator.requireComponent,d=cc._decorator.menu;cc.macro.ENABLE_WEBGL_ANTIALIAS=!0;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._radius=50,t.mask=null,t}return o(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius=e,this.updateMask(e)},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.mask=this.getComponent(cc.Mask),this.updateMask(this.radius)},t.prototype.updateMask=function(e){var t=e>=0?e:0;t<1&&(t=Math.min(this.node.width,this.node.height)*t),this.mask.radius=t,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=cc.Mask.Type.RECT},t.prototype._updateGraphics=function(){var e=this._graphics;e&&this.onDraw(e)},t.prototype.onDraw=function(e){e.clear(!1);var t=this.node,i=t.width,n=t.height,o=-i*t.anchorX,a=-n*t.anchorY;e.roundRect(o,a,i,n,this.radius||0),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?e.stroke():e.fill()},a([c()],t.prototype,"_radius",void 0),a([c({tooltip:"\u5706\u89d2\u534a\u5f84:\n0-1\u4e4b\u95f4\u4e3a\u6700\u5c0f\u8fb9\u957f\u6bd4\u4f8b\u503c, \n>1\u4e3a\u5177\u4f53\u50cf\u7d20\u503c"})],t.prototype,"radius",null),a([s,l(!0),u(!0),h(cc.Mask),d("\u6269\u5c55/\u5706\u89d2\u77e9\u5f62\u906e\u7f69")],t)}(cc.Component);i.default=f,cc._RF.pop()},{}],RuningNotice:[function(e,t){"use strict";cc._RF.push(t,"bebb2VcmOZLzYG255Z0ub18","RuningNotice"),cc.Class({extends:cc.Component,properties:{text_info:cc.Label,whole_time:10},start:function(){this.isMoveNotice=!0},onLoad:function(){this.resetInfoPos()},update:function(e){if(this.isMoveNotice){var t=e/this.whole_time*1500;this.text_info.node.x-=t,this.text_info.node.x<=-750&&this.resetInfoPos()}},resetInfoPos:function(){this.text_info.node.x=750},setInfo:function(e){this.resetInfoPos(),this.text_info.string=e},runNotice:function(e){null!=e&&""!=e?(this.isMoveNotice=!0,this.setInfo(e)):cc.log("info eerrr")},stop:function(){this.isMoveNotice=!1}}),cc._RF.pop()},{}],SettingLayer:[function(e,t){"use strict";cc._RF.push(t,"61bb0zBActEyb8k7HEktrr2","SettingLayer");var i=e("BaseLayer");cc.Class({extends:i,properties:{musicToggleBg:cc.Sprite,effectToggleBg:cc.Sprite,musicToggle:cc.Toggle,soundToggle:cc.Toggle,idLabel:cc.Label,nameLabel:cc.Label,avatarImg:cc.Sprite,IPLabel:cc.Label,duankouLabel:cc.Label},onLoad:function(){this.LobbyLogic=new(e("LobbyLogic")),this.musicToggle.isChecked=MYAudioEngine.getMusicStatus(),this.soundToggle.isChecked=MYAudioEngine.getSoundStatus(),this.idLabel.string=this.LobbyLogic.getUserID(),this.nameLabel.string=this.LobbyLogic.getNickName(),this.LobbyLogic=new(e("LobbyLogic"));var t=function(e){this.avatarImg&&cc.isValid(this.avatarImg)&&(this.avatarImg.spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(this.LobbyLogic.getAvataUrl(),null,t,null),this.IPLabel.string="\u670d\u52a1\u5668IP:"+NetConfig.getServerAddress(),this.duankouLabel.string="\u7aef\u53e3:"+NetConfig.getServerPort()},onMusicToggle:function(e,t){var i=this;this.musicToggleBg.node.parent.getComponent(cc.Toggle).interactable=!1,this.effectToggleBg.node.parent.getComponent(cc.Toggle).interactable=!1,setTimeout(function(){i.musicToggleBg.node.parent.getComponent(cc.Toggle).interactable=!0,i.effectToggleBg.node.parent.getComponent(cc.Toggle).interactable=!0},100);var n=e.isChecked,o=null;switch(t){case"music":o=this.musicToggleBg.getComponent(cc.Sprite),n?(MYAudioEngine.setMusicStatus(!0),MYAudioEngine.resumeMusic()):(MYAudioEngine.setMusicStatus(!1),MYAudioEngine.pauseMusic());break;case"effect":o=this.effectToggleBg.getComponent(cc.Sprite),n?MYAudioEngine.setSoundStatus(!0):MYAudioEngine.setSoundStatus(!1)}o.enabled=!n},onButtonClick:function(e,t){switch(t){case"Button_YHXY":cc.sys.openURL("http://"+G_PHP_IP+"/index.php/Home/Public/user.html");break;case"Button_YSZC":cc.sys.openURL("http://"+G_PHP_IP+"/index.php/Home/Public/privacy.html");break;case"Button_FWTK":cc.sys.openURL("http://"+G_PHP_IP+"/index.php/Home/Public/service.html");break;case"Button_Switch":LobbySocket.switchAccount();break;case"Button_Close":this.node.removeFromParent()}},onButton_Login:function(){LobbySocket.backLogin()}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],ShoppingMall:[function(e,t,i){"use strict";cc._RF.push(t,"3193ehJJGBDf7+XvusgTXDs","ShoppingMall");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelLeft=null,t.labelRight=null,t}return o(t,e),t.prototype.start=function(){},a([c({type:cc.Node,visible:!0})],t.prototype,"labelLeft",void 0),a([c({type:cc.Node,visible:!0})],t.prototype,"labelRight",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{}],ShowRedPoint:[function(e,t){"use strict";cc._RF.push(t,"e2d9cK458hAmpjSvbZJq6A4","ShowRedPoint"),cc.Class({extends:cc.Component,properties:{sp_redPoint:cc.SpriteFrame},onLoad:function(){},show:function(){if(!this.redPoint){var e=new cc.Node;this.redPoint=e,e.addComponent(cc.Sprite).spriteFrame=this.sp_redPoint,this.node.addChild(e),this.node.x=this.node.width/2+45,this.node.y=this.node.height/2-20,this.node.active=!0}},hide:function(){this.redPoint&&(new cc.Node,this.node.x=0,this.node.y=0,this.redPoint.removeFromParent(),this.redPoint=null)}}),cc._RF.pop()},{}],ShuoMingInfo:[function(e,t){"use strict";cc._RF.push(t,"9bdc7sOy95KN4WvoX7LfNW5","ShuoMingInfo"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,yejiLabel:cc.Label,fanyongLabel:cc.Label},start:function(){},init:function(e){this.nameLabel.string=e.name||"\u65e0",this.yejiLabel.string=String(Number(e.start))+"~"+String(Number(e.ends)),this.fanyongLabel.string=e.value}}),cc._RF.pop()},{}],SpriteArray:[function(e,t,i){"use strict";cc._RF.push(t,"46dfbRjUQpH/q5UbWNSZSNC","SpriteArray");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.requireComponent,u=r.menu,h=r.executeInEditMode,d=r.disallowMultiple,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._index=0,t.sfArray=new Array,t}return o(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){if(e>=0&&e<this.sfArray.length){this._index=e;var t=this.sfArray[e];this.node.getComponent(cc.Sprite).spriteFrame=t}},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.index=0},a([c],t.prototype,"_index",void 0),a([c({displayName:"Sprite\u7d22\u5f15"})],t.prototype,"index",null),a([c({type:[cc.SpriteFrame],displayName:"Sprite\u6570\u7ec4"})],t.prototype,"sfArray",void 0),a([s,h(!0),d(!0),l(cc.Sprite),u("\u6269\u5c55/SpriteArray")],t)}(cc.Component);i.default=f,cc._RF.pop()},{}],SpriteButton:[function(e,t,i){"use strict";cc._RF.push(t,"a714cLCTjJAgZPXzDCZHEBP","SpriteButton");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.requireComponent,u=r.menu,h=r.executeInEditMode,d=r.disallowMultiple,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._index=0,t.sfArray=new Array,t}return o(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){e>=0&&e<this.sfArray.length&&(this._index=e,this.node.getComponent(cc.Sprite).spriteFrame=this.sfArray[e])},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){this.index=0},a([c],t.prototype,"_index",void 0),a([c({displayName:"Sprite\u7d22\u5f15"})],t.prototype,"index",null),a([c({type:[cc.SpriteFrame],displayName:"Sprite\u6570\u7ec4"})],t.prototype,"sfArray",void 0),a([s,h(!0),d(!0),l(cc.Sprite),u("\u6269\u5c55/SpriteButton")],t)}(cc.Component);i.default=f,cc._RF.pop()},{}],StorageMgr:[function(e,t,i){"use strict";cc._RF.push(t,"b0defHohJVIbpf+MOT6Se7V","StorageMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.StorageMgr=void 0;var n=cc._decorator,o=(n.ccclass,n.property,function(){function e(){this._path=null,this._keyConfig="bjyq",this._markSave=!1,this._saveTimer=-1,this.jsonData={}}return Object.defineProperty(e,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;this._path=this._getConfigPath(),this.jsonData={userId:""};var t=null;if((t=cc.sys.isNative?jsb.fileUtils.getValueMapFromFile(this._path)[this._keyConfig]:cc.sys.localStorage.getItem(this._keyConfig))&&t.length){t.startsWith("@")&&(t=t.substring(1));try{this.jsonData=JSON.parse(t)}catch(i){}}console.log("load storage data",this.jsonData),setInterval(function(){e.scheduleSave()},5e3)},e.prototype.setConfigDataWithoutSave=function(e,t){var i=this.jsonData.userId;this.jsonData[i]?this.jsonData[i][e]=t:console.error("no account can not save")},e.prototype.setConfigData=function(e,t){this.setConfigDataWithoutSave(e,t),this._markSave=!0},e.prototype.getConfigData=function(e){var t=this.jsonData.userId;return this.jsonData[t]?this.jsonData[t][e]||"":(cc.log("no account can not load"),"")},e.prototype.setGlobalData=function(e,t){this.jsonData[e]=t,this.save()},e.prototype.getGlobalData=function(e){return this.jsonData[e]},e.prototype.setUserId=function(e){this.jsonData.userId=e,this.jsonData[e]||(this.jsonData[e]={}),this.save()},e.prototype.getUserId=function(){return this.jsonData.userId},e.prototype.scheduleSave=function(){this._markSave&&this.save()},e.prototype.markModified=function(){this._markSave=!0},e.prototype.save=function(){var e=JSON.stringify(this.jsonData);if(this._markSave=!1,console.log("save storage data",this.jsonData),cc.sys.isNative){var t={};t[this._keyConfig]=e,jsb.fileUtils.writeValueMapToFile(t,this._path)}else cc.sys.localStorage.setItem(this._keyConfig,e)},e.prototype._getConfigPath=function(){var e=cc.sys.platform,t="";return e===cc.sys.OS_WINDOWS?t="src/conf":e===cc.sys.OS_LINUX?t="./conf":cc.sys.isNative?(t=jsb.fileUtils.getWritablePath(),t+="conf"):t="src/conf",t},e}());i.StorageMgr=o,cc._RF.pop()},{}],StoreDragonLayer:[function(e,t){"use strict";cc._RF.push(t,"90727DJH7RMv7mn6Qq90Zkn","StoreDragonLayer"),cc.Class({extends:e("BaseLayer"),properties:{YuE:cc.Label,xuanze:cc.Node,USDTNode:cc.Node,DTNode:cc.Node},onLoad:function(){},start:function(){},init:function(e){cc.log(e),0==e?(this.USDTNode.active=!0,this.DTNode.active=!1):(this.DTNode.active=!0,this.USDTNode.active=!1)},doButton_xuanze:function(){1==this.xuanze.active?this.xuanze.active=!1:this.xuanze.active=!0},doButton_Dragon:function(e,t){"DT"==t?(this.DTNode.active=!0,this.USDTNode.active=!1):"USDT"==t&&(this.USDTNode.active=!0,this.DTNode.active=!1),this.xuanze.active=!1}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],StoreLayer:[function(e,t){"use strict";cc._RF.push(t,"4b57eBha1dBcJW1C4JXFGVv","StoreLayer"),cc.Class({extends:e("BaseLayer"),properties:{zhifubaoBtn:cc.Node,weixinBtn:cc.Node,Panel_Lift:cc.Node,Panel_NeiRong:cc.Node,StoreNode:cc.Node,StoreLabel:cc.EditBox},onLoad:function(){this.LobbyLogic=new(e("LobbyLogic")),this.StoreLogic=new(e("StoreLogic")),cc.winSize.width/1280<1&&(this.Panel_Lift.setScale(cc.winSize.width/1280),this.Panel_NeiRong.setScale(cc.winSize.width/1280)),this.isZhiFuBao(),this.StoreLabel.string=10},start:function(){},isZhiFuBao:function(){this.itemType=2,this.zhifubaoBtn.active=!0,this.weixinBtn.active=!1},isWeiXin:function(){this.itemType=1,this.zhifubaoBtn.active=!1,this.weixinBtn.active=!0},doButton_xuanze:function(e,t){var i=this.StoreNode.getChildByName("PayNode"+t).getChildByName("New Label").getComponent(cc.Label);this.StoreLabel.string="  "+parseInt(i.string)},doButton_chongzhi:function(){this.StoreLabel.string="  \u8bf7\u8f93\u5165\u60a8\u8981\u8d2d\u4e70\u7684\u91d1\u989d"},doButton_PayClick:function(){var e=this.StoreLabel.string;if(""==e||"  \u8bf7\u8f93\u5165\u60a8\u8981\u8d2d\u4e70\u7684\u91d1\u989d"==e)return createTips("\u8bf7\u8f93\u5165\u5145\u503c\u91d1\u989d");if(e<10)return createTips("\u4f4e\u4e8e\u6700\u4f4e\u5145\u503c\u91d1\u989d,\u65e0\u6cd5\u5145\u503c"),void(e=0);var t=[];t.payWay=this.itemType,2==this.itemType?t.payWay=E_PayWay.ZHI_FU_BAO:1==this.itemType&&(t.payWay=E_PayWay.WEI_XIN),t.consumeNum=e,this.StoreLogic.buyGold(t)}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic",StoreLogic:"StoreLogic"}],StoreLogic:[function(e,t){"use strict";cc._RF.push(t,"6f39f6F2gtKIa9TALyrBSvR","StoreLogic"),t.exports=cc.Class({extends:e("LogicBasis"),properties:{},ctor:function(){},requestDiamondItemList:function(e){ItemListManager.requestDiamondItemList(e)},requestGoldItemList:function(e){ItemListManager.requestGoldItemList(e)},requestPropItemList:function(e){ItemListManager.requestPropItemList(e)},requestSubstanceItemList:function(e){ItemListManager.requestSubstanceItemList(e)},requestBuyRecordList:function(e,t){var i={};i.params={api:"pay",action:"ordersList",userID:this.getUserID()},i.fCallback=function(){createTips("\u8bf7\u6c42ordersList\u8d85\u65f6")},i.sCallback=function(e){0==e.status?t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},exchangeSub:function(e,t,i,n){var o={};o.params={action:"convert",userID:this.getUserID(),goodsID:e,realname:t,phone:i,address:n},o.fCallback=function(){createTips("\u5151\u6362\u5931\u8d25")},o.sCallback=function(e){0==e.status?""!=t&&createTips("\u60a8\u7684\u5151\u6362\u5df2\u6210\u529f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u5ba2\u670d\u4e0e\u60a8\u8054\u7cfb"):createTips(e.msg)},MyHttpRequest.doRequest(o)},buyShop:function(e){1==G_SHOP_BUY_CHANNEL?this.requestWeiXinPay(e.goodsID):2==G_SHOP_BUY_CHANNEL?this.requestThirdPay(e):createTips("\u672a\u77e5\u7684\u6e20\u9053\u7c7b\u578b")},requestWeiXinPay:function(e){var t=this,i={};i.params={api:"pay",action:"weiXinPay",userID:this.getUserID(),goodsID:e},i.fCallback=function(){createTips("\u8bf7\u6c42weiXinPay\u8d85\u65f6")},i.sCallback=function(e){0==e.status?(e.data.payChannel=1,Market.requestPay(String(JSON.stringify(e.data)),function(e){t.schedule(function(){1!=JSON.parse(e).status&&createTips("\u652f\u4ed8\u5931\u8d25")},.1,"\u8c03\u7528\u4e00\u6b21")})):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestCheckPingGuoOrder:function(e){var t={};t.params={api:"pay",action:"checkPingGuoOrder",userID:this.getUserID(),order_sn:e.order_sn,status:e.status},t.fCallback=function(){createTips("\u8bf7\u6c42checkPingGuoOrder\u8d85\u65f6")},t.sCallback=function(t){0==t.status?1==e.status&&createTips("\u6210\u529f\u53d1\u8d27,\u8bf7\u67e5\u6536"):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestThirdPay:function(e){var t=this,i=e.goodsID,n=e.payWay,o=e.consumeNum,a={};a.params={api:"pay",action:"thirdPay",userID:this.getUserID(),payWay:n,goodsID:i},a.fCallback=function(){createTips("\u8bf7\u6c42thirdPay\u8d85\u65f6")},a.sCallback=function(e){if(0==e.status)if(e.data.pay_type==E_PayType.HUI_FU_BAO&&n==E_PayWay.WEI_XIN){var i={};i.shareType=E_WX_ShareType.FRIEND,i.url=String(e.data.recharge_url),i.title=String("\u652f\u4ed8\u4e1a\u52a1("+o+"\u5143)\u70b9\u51fb\u5145\u503c"),i.description=String("\u70b9\u51fb\u94fe\u63a5\u7ed9[ID:"+t.getUserID()+"]\u73a9\u5bb6\u5145\u503c"),Market.requestShare(i,function(){})}else{var a=e.data.recharge_url;Market.OpenWebsite(a)}else createTips(e.msg)},MyHttpRequest.doRequest(a)},buyGold:function(e){var t=this,i=e.payWay,n=e.consumeNum,o={};o.params={api:"pay",action:"appBuyGold",userID:this.getUserID(),buyNum:n,payWay:i},o.fCallback=function(){createTips("\u8bf7\u6c42appBuyGold\u8d85\u65f6")},o.sCallback=function(e){if(0==e.status)if(e.data.pay_type==E_PayType.HUI_FU_BAO&&i==E_PayWay.WEI_XIN){var o={};o.shareType=E_WX_ShareType.FRIEND,o.url=String(e.data.recharge_url),o.title=String("\u652f\u4ed8\u4e1a\u52a1("+n+"\u5143)\u70b9\u51fb\u5145\u503c"),o.description=String("\u70b9\u51fb\u94fe\u63a5\u7ed9[ID:"+t.getUserID()+"]\u73a9\u5bb6\u5145\u503c"),cc.sys.openURL(e.data.recharge_url)}else{var a=e.data.recharge_url;cc.sys.openURL(a)}else createTips(e.msg)},MyHttpRequest.doRequest(o)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],StringTable:[function(e,t){"use strict";cc._RF.push(t,"fc472DKZyJFwqa6dF/nrUB3","StringTable"),t.exports={NUM_MEASUREMENT:{1:"\u4e07",2:"\u4ebf"},LOADSCENE:{1:"\u6b63\u5728\u52a0\u8f7d\u767b\u5f55\u754c\u9762\u8d44\u6e90...",2:"\u6b63\u5728\u52a0\u8f7d\u5927\u5385\u8d44\u6e90...",3:"\u6b63\u5728\u52a0\u8f7d\u725b\u725b\u623f\u95f4\u8d44\u6e90...",4:"\u6b63\u5728\u52a0\u8f7d\u70b8\u91d1\u82b1\u623f\u95f4\u8d44\u6e90...",5:"\u6b63\u5728\u52a0\u8f7d\u9ebb\u5c06\u623f\u95f4\u8d44\u6e90..."},LOBBY_RANK:{1:"\u672c\u5468\u80dc\u5c40 ",2:"\u91d1\u5e01\u603b\u6570 "},COMMON:{1:"\u656c\u8bf7\u671f\u5f85",2:"\u6e38\u620f\u6682\u672a\u5f00\u653e",3:"\u91d1\u5e01\u4e0d\u8db3%1,\u65e0\u6cd5\u8fdb\u5165\u8be5\u623f\u95f4"},SOCKET_CLOSE:{1:"\u5927\u5385\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5...",2:"\u5927\u5385\u670d\u52a1\u5668\u6682\u672a\u5f00\u542f...",3:"\u6b63\u5728\u94fe\u63a5\u5927\u5385\u670d\u52a1\u5668...",4:"\u6e38\u620f\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5...",5:"\u6e38\u620f\u670d\u52a1\u5668\u6682\u672a\u5f00\u542f..."},ERROR_CODE:{0:"\u9519\u8bef\u7801:",1:"\u8d26\u53f7\u5df2\u5b58\u5728",2:"\u8d26\u53f7\u4e0d\u5b58\u5728",16:"\u91d1\u5e01\u672a\u8fbe\u5230\u5f53\u524d\u623f\u95f4\u6700\u4f4e\u8981\u6c42"},MESSAGE_BOX:{1:"\u8d26\u53f7\u6216\u8005\u5bc6\u7801\u8f93\u5165\u9519\u8bef..."},NIUNIU:{0:"\u5e95\u6ce8:",1:"\u8bf7\u51c6\u5907\u5f00\u59cb\u4e0b\u5c40\u6e38\u620f:",2:"\u5f00\u59cb\u53eb\u5e84:",3:"\u5f00\u59cb\u4e0b\u6ce8:",4:"\u67e5\u770b\u624b\u724c:",5:"\u5f00\u59cb\u6bd4\u724c:"},NIUNIU_PLAY_TYPE:{1:"\u725b\u725b\u4e0a\u5e84",2:"\u56fa\u5b9a\u5e84\u5bb6",3:"\u81ea\u7531\u62a2\u5e84",4:"\u660e\u724c\u62a2\u5e84",5:"\u901a\u6bd4\u725b\u725b"}},cc._RF.pop()},{}],SystemNoticeLogic:[function(e,t){"use strict";cc._RF.push(t,"dbb15q7ZOFFo48aSZc0Q/OS","SystemNoticeLogic"),t.exports=cc.Class({extends:e("LogicBasis"),ctor:function(){},requestSystemNotice:function(e){NoticeManager.requestSystemNotice(e)},requestPayPrepayID:function(e,t,i,n){NoticeManager.requestPayPrepayID(e,t,i,n)},requestShopMommodity:function(e){NoticeManager.requestShopMommodity(e)},requestPaijuList:function(e){NoticeManager.requestPaijuList(e)},requestZhanjiList:function(e,t){NoticeManager.requestZhanjiList(e,t)},requestZhanjiDetailsList:function(e,t){NoticeManager.requestZhanjiDetailsList(e,t)},requesSmalltZhanjiDetailsList:function(e,t){NoticeManager.requesSmalltZhanjiDetailsList(e,t)},requestGongGaoMommodity:function(e){NoticeManager.requestGongGaoMommodity(e)},requestShartReward:function(e){NoticeManager.requestShartReward(e)},requestSpecialNotice:function(e){NoticeManager.requestSpecialNotice(e)},requestdelNotice:function(e,t){NoticeManager.requestdelNotice(e,t)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],TTZ_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"a8fecj48rVI05mcne1Ox86Y","TTZ_ZhanJi_Item");var i={back:0,21:1,22:2,23:3,24:4,25:5,26:6,27:7,28:8,29:9,37:10};cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,maJiangSpriteFrame:[cc.SpriteFrame],cards:cc.Node},getMahjongRes:function(e){var t;return t=255==e?"back":e+"",this.maJiangSpriteFrame[i[t]]},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45);var n=this.getCardType(e.cardShape);n&&(this.ruleLabel.string=""+n);for(var o=0;o<e.handCards.length;o++)this.cards.children[o].getComponent(cc.Sprite).spriteFrame=this.getMahjongRes(e.handCards[o])},getCardType:function(e){var t,i="";if(0==e)return i;if(328==e)i="\u4e8c\u516b\u6760";else if(e>200&&e<=300)211==e?i="\u4e00\u7b52\u5bf9":222==e?i="\u4e8c\u7b52\u5bf9":233==e?i="\u4e09\u7b52\u5bf9":244==e?i="\u56db\u7b52\u5bf9":255==e?i="\u4e94\u7b52\u5bf9":266==e?i="\u516d\u7b52\u5bf9":277==e?i="\u4e03\u7b52\u5bf9":288==e?i="\u516b\u7b52\u5bf9":299==e?i="\u4e5d\u7b52\u5bf9":300==e&&(i="\u6b22\u5929\u81f3\u5c0a");else if(e>100&&e<200){e-=100;var n=Math.floor(e/10),o=e%10;switch(t=n+"."+o,0==o&&(t=n),t=Number(t)){case 1:i="\u4e00\u70b9";break;case 2:i="\u4e8c\u70b9";break;case 3:i="\u4e09\u70b9";break;case 4:i="\u56db\u70b9";break;case 5:i="\u4e94\u70b9";break;case 6:i="\u516d\u70b9";break;case 7:i="\u4e03\u70b9";break;case 8:i="\u516b\u70b9";break;case 9:i="\u4e5d\u70b9";break;case 1.5:i="\u4e00\u70b9\u534a";break;case 2.5:i="\u4e8c\u70b9\u534a";break;case 3.5:i="\u4e09\u70b9\u534a";break;case 4.5:i="\u56db\u70b9\u534a";break;case 5.5:i="\u4e94\u70b9\u534a";break;case 6.5:i="\u516d\u70b9\u534a";break;case 7.5:i="\u4e03\u70b9\u534a";break;case 8.5:i="\u516b\u70b9\u534a";break;case 9.5:i="\u4e5d\u70b9\u534a"}}else 100==e&&(i="\u95ed\u5341");return i}}),cc._RF.pop()},{}],TcpClient:[function(e,t){"use strict";cc._RF.push(t,"a8ee4Jmr19Ovp02MEhocdUw","TcpClient");var i=e("bytebuffer"),n=e("Package"),o=cc.Class({extends:cc.Component,properties:{outtime:10,hearttime:5,readhead:!1,_buffer:null,manager:null,isServerRoom:!1,needReConnect:!1},ctor:function(){this.ip=0,this.port=0,this.ws=null,this.queue=[],this.queueProcessing=!1,this.readhead=!1,this.bodylen=0,this.headlen=8,this.cmd=0,this.isConnect=!1,this._buffer=new i,this.netCallbackMap=new Map,this.helloScheduleId=null,this.helloCheckInterval=4,this.heartCheckCount=2,this.heartCheckInterval=15,this.packageQueue=this.initQueue(),this.receiveDataArr=[]},setHeartCheckInterval:function(e){this.heartCheckInterval=e,this.heartCheck()},connect:function(e,t,i){if(!(this.ws&&this.ws.readyState===WebSocket.OPEN||this.isConnect)){this.ip=e,this.port=t,this.sendport=i;var n;n=1==window.G_GAMESEVER_KEY?"wss://cpp.ouwan.hmzb.top/ws":"wss://cpp.ouone.hmzb.top/ws",this.ws=new WebSocket(n),console.log("\u5c1d\u8bd5\u8fde\u63a5\u670d\u52a1\u5668 url:",n),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this);var o=this.onDataReceivedQueue.bind(this);this.ws.onmessage=function(e){o(e.data)},this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)}},close:function(e){console.log("\u5f53\u65ad\u7f51\u91cd\u65b0\u8fdb\u5165\u5230\u524d\u53f0  this.isConnect=false \u6b63\u5e38\u4e3a true"),cc.sys.isNative&&!this.isConnect||(this.receiveDataArr=[],clearInterval(this.receivePackageInterval),this.receivePackageInterval=null,this.bythis=!0,this.ws&&this.ws.close(),cc.sys.isNative&&(this.onDisconnect(),this.isConnect=!1),this.closeCallback=e)},onOpen:function(){this.isConnect=!0,console.log("\u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f ip:"+this.ip+",port:"+this.sendport),this.clearPackageQueue(),this.sendPort()},sendPort:function(){cc.log(typeof this.sendport+"\u8fde\u63a5\u670d\u52a1\u5668\u4e4b\u540e \u53d1\u9001\u7aef\u53e3 port="+this.sendport);var e=n.buildWritePack(28);e.writeBegin(1,8),e.writeInt(this.sendport);var t=NetConfig.getServerAddress();e.writeString(t,24),cc.log("ip="+t),this.send(e)},onClose:function(e){var t=this;console.log("\u8fde\u63a5\u5173\u95ed"+this.isConnect),console.log(e),this.isConnect&&((new Date).getTime().toString(),this.receiveDataArr=[],clearInterval(this.receivePackageInterval),this.receivePackageInterval=null,this.heartReset(),console.log("websocket \u65ad\u5f00: code = "+e.code+" reason =  "+e.reason+" wasClean = "+e.wasClean),1006==e.code&&(0==Number(cc.sys.localStorage.getItem(G_LIVE_BROADCAST))?this.onDisconnect():(this.livcheduleId=function(){1==Number(cc.sys.localStorage.getItem(G_LIVE_BROADCAST))&&(t.onDisconnect(),t.unschedule(t.livcheduleId))},this.schedule(this.livcheduleId,3))),this.isConnect=!1)},onError:function(){trace("\u8fde\u63a5\u5931\u8d25"),console.log("\u8fde\u63a5\u5931\u8d25"),this.isServerRoom?(ServerRoom=null,this.bythis):this.bythis},initQueue:function(){var e=[];return{push:function(t){return null!=t&&(e.unshift(t),!0)},pop:function(){return e.pop()},getSize:function(){return e instanceof Array?e.length:0},queue:function(){return e},clear:function(){e.length=0,this.receiveDataArr=[],clearInterval(this.receivePackageInterval),this.receivePackageInterval=null,this.curLeftReceiveArrayBuffer=null,this.isRunReceivePackage=!1,this.isBufferedAmount=!1,this.isClearIngPackage=!0,clearInterval(this.packageQueueInterval),this.packageQueueInterval=null,cc.isRunPackageQueue=!1}}},startPackageQueueInterval:function(){var e=this;cc.isRunPackageQueue=!1,this.packageQueueInterval=setInterval(function(){if(e.packageQueue.getSize()>0&&!cc.isRunPackageQueue){cc.isRunPackageQueue=!0;var t=e.packageQueue.pop();e.onDataReceived(t)}},1)},_appendArrayBuffer:function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer},onDataReceivedQueue:function(e){var t=this;cc.sys.isNative&&!this.isConnect||(this.isClearIngPackage=!1,this.receiveDataArr.unshift(e),this.receivePackageInterval||(this.receivePackageInterval=setInterval(function(){if(!t.isBufferedAmount&&!t.isRunReceivePackage)if(t.receiveDataArr&&t.receiveDataArr.length>0){t.isRunReceivePackage=!0;var e=t.receiveDataArr.pop();t.curLeftReceiveArrayBuffer&&(e=t._appendArrayBuffer(t.curLeftReceiveArrayBuffer,e),t.curLeftReceiveArrayBuffer=null);var n=new i,o=n.append(e).flip().buffer.byteLength;if(cc.log("arrayBufferLength",o),e.byteLength>=1200||10240==e.byteLength||e.byteLength>=32&&o!=e.byteLength){t.isBufferedAmount=!0;var a=null;a=n.readBytes(t.headlen).readUint32();var r=e.slice(0,a);for(t.packageQueue.push(r),cc.log(a+">>>\u589e\u52a01\u4e2a\u6536\u5305\u961f\u5217 \u603b\u6570\u4e3a"+t.packageQueue.getSize());e.byteLength>=a&&(e=e.slice(a),o=(n=new i).append(e).flip().buffer.byteLength,cc.log("arrayBufferLength",o),!(0==(a=n.readBytes(t.headlen).readUint32())||e.byteLength<a||t.isClearIngPackage));)r=e.slice(0,a),t.packageQueue.push(r),cc.log(a+">>>\u518d\u589e\u52a01\u4e2a\u6536\u5305\u961f\u5217 \u603b\u6570\u4e3a"+t.packageQueue.getSize());t.isClearIngPackage?(t.curLeftReceiveArrayBuffer=null,t.isBufferedAmount=!1):e.byteLength<a?(t.curLeftReceiveArrayBuffer=e,t.isBufferedAmount=!1):(r=e.slice(0,a),t.packageQueue.push(r),t.curLeftReceiveArrayBuffer=null,t.isBufferedAmount=!1),t.isRunReceivePackage=!1}else{var s=n.readBytes(t.headlen),c=(s.readUint32(),s.readUint32()),l=s.readUint32();1==c&&3==l&&t.clearPackageQueue(),t.isBufferedAmount=!1,t.isRunReceivePackage=!1,t.packageQueue.push(e),cc.log(">>>\u589e\u52a01\u4e2a\u6536\u5305\u961f\u5217 \u603b\u6570\u4e3a"+t.packageQueue.getSize())}}else t.isRunReceivePackage=!1,t.isBufferedAmount=!1,clearInterval(t.receivePackageInterval),t.receivePackageInterval=null},.1)),this.packageQueueInterval||this.startPackageQueueInterval())},mRecData:function(e){if(this._buffer.append(e),this._buffer.flip(),this._buffer.limit-this._buffer.offset<this.headlen)cc.error("\u8fd9\u5305\u8fde\u5934\u90fd\u4e0d\u5b8c\u6574");else{var t=this._buffer.readBytes(this.headlen);this.bodylen=t.readUint32(),this.cmd=t.readUint32();for(var i=this.bodylen-this.headlen;this._buffer.limit>=i&&(1==this.cmd?this.onTick(this.cmd,this._buffer.readBytes(i)):this.receive(this.cmd,this._buffer.readBytes(i)),this._buffer.offset!=this._buffer.limit)&&!(this._buffer.limit-this._buffer.offset<this.headlen););this._buffer.offset==this._buffer.limit?this._buffer.clear():this._buffer=this._buffer.copy(this._buffer.offset,this._buffer.limit)}},onDataReceived:function(e){this._buffer.reset(),this._buffer.clear(),this._buffer.append(e),this._buffer.flip();for(var t,i=1e4;i>0;){if(this.paused=!0,!1===this.readhead){var n=this._buffer.readBytes(this.headlen);if(this.bodylen=n.readUint32(),this.cmd=n.readUint32(),cc.log("this.bodylen = ",this.bodylen),cc.log("cmd = ",this.cmd),0==this.bodylen||0==this.cmd||this.cmd>1e3)return this._buffer.reset(),this._buffer.clear(),void(cc.isRunPackageQueue=!1);0==this._buffer.limit&&(this._buffer.limit=this.bodylen),this.readhead=!0}else{if(t=this.bodylen-this.headlen,!(this._buffer.limit>=t)){this._buffer.reset(),this._buffer.clear(),this.readhead=!1,this.cmd=0,this.bodylen=0,cc.isRunPackageQueue=!1;break}if(1==this.cmd?this.onTick(this.cmd,this._buffer.readBytes(t)):this.receive(this.cmd,this._buffer.readBytes(t)),this.readhead=!1,this.cmd=0,this.bodylen=0,this._buffer.offset==this._buffer.limit){this._buffer.reset(),this._buffer.clear(),cc.isRunPackageQueue=!1,this.paused=!1;break}this._buffer=this._buffer.copy(this._buffer.offset,this._buffer.limit)}i--}},process:function(){this.queueProcessing=!0;for(var e,t=this.queue.length,i=0;i<t;i++){if(this._paused)return void(this.queueProcessing=!1);(e=this.queue[i]).hasRead||(e.hasRead=!0,this.onDataReceived(e.buffer))}this.queue.length=0,this.queueProcessing=!1},onTick:function(e,t){var i=n.buildReadPack(e,t);1==i.bAssistantID?this.onHeartBeatMessage(i):i.bAssistantID==E_NET_CONNECT_ASSID.assid_net_connect&&this.onConnectMessage(i)},receive:function(e,t){this.sendHeartBeatMessage(),this.heartCheck();var i=n.buildReadPack(e,t);206==i.bAssistantID&&(cc.log(i,"pppppppppppppppppppppppppp"),cc.log(t,"tmsgtmsgtmsgtmsgtmsgtmsg"),cc.log(this._buffer,"this._bufferthis._bufferthis._bufferthis._buffer")),this.cmd==MSG_MAIN_LOADER_GAME&&1==this.throwGameMsg?cc.error("(\u5c4f\u853d \u6536\u5305<<<<<<"+e+"-"+i.bAssistantID+"-"+i.bHandleCode+") "):this.netCallback&&this.netCallback(i)},sendData:function(e,t,i){this.send(e,t,i)},send:function(e,t,i){e.bMainID,e.getCmd()&&t&&this.bindingNetCallback(e.getCmd(),t),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(e.getData()),i&&(cc.log("sendDesc = {0}",i),createLoading(i,G_COMMON_LOADING_TIME))},listenerPackageData:function(){},bindingNetCallback:function(e,t){var i=this.netCallbackMap.get(e);i||(i=new Array,this.netCallbackMap.set(e,i)),i.push(t)},getCallbackFun:function(e){var t=this.netCallbackMap.get(e);if(t)return t[0]},removeNetCallback:function(e){var t=this.netCallbackMap.get(e);t&&(t.splice(0,1),0==t.length&&(t=null,this.netCallbackMap.delete(e)))},removeAllNetCallback:function(){this.netCallbackMap.clear()},onConnectMessage:function(){this.heartCheck()},heartCheck:function(){cc.sys.isNative&&!this.isConnect||(this.heartReset(),this.heartStart())},heartStart:function(){var e=this;this.pingTimeoutId=setTimeout(function(){e.sendGameHeartBeatMessage(),e.pongTimeoutId=setTimeout(function(){0==Number(cc.sys.localStorage.getItem(G_LIVE_BROADCAST))&&e.onDisconnect()},100)},1e3*this.heartCheckInterval)},heartReset:function(){this.pingTimeoutId&&clearTimeout(this.pingTimeoutId),this.pongTimeoutId&&clearTimeout(this.pongTimeoutId),this.pingTimeoutId=null,this.pongTimeoutId=null},sendHeartBeatMessage:function(){!cc.sys.isNative||this.isConnect},sendGameHeartBeatMessage:function(){if(!cc.sys.isNative||this.isConnect){var e=n.buildWritePack(0);e.writeBegin(2,2),console.error("\u53d1\u9001\u5fc3\u8df3\u5305"+(new Date).getSeconds()),this.send(e,!1)}},onHeartBeatMessage:function(){var e=n.buildWritePack(0);e.writeBegin(2,2),this.send(e),this.heartCheck()},sendHelloMessage:function(){var e=this,t=this.createNetMsg(0,E_NET_CONNECT_MAINID.mainid_net_hello,E_NET_CONNECT_ASSID.assid_net_hello);this.sendData(t),this.closeHelloSchedule(),this.helloCheckCount=0,this.helloScheduleId=function(){e.helloCheckCount++,e.helloCheckCount>3&&(e.closeHelloSchedule(),e.onDisconnect())},this.schedule(this.helloScheduleId,this.helloCheckInterval)},closeHelloSchedule:function(){cc.log("closeHelloSchedule"),this.helloScheduleId&&(this.unschedule(this.helloScheduleId),this.helloScheduleId=null)},connectService:function(e,t,i,n){this.isConnect||(this.netCallback=n,this.connect(e,t,i))},isConnected:function(){return this.isConnect},resolveNetMsgHead:function(e){cc.log("resolveNetMsgHead resolve net msg head "+e.bMainID+">>"+e.bAssistantID),e.bMainID===E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectSuccess?(cc.log("on connect success"),this.onConnectSuccess()):e.bMainID==E_ClientNetStatusProtocolDef.NetStatusProtocol_ConnectFailed?this.onConnectFailed():e.bMainID==E_ClientNetStatusProtocolDef.NetStatusProtocol_DisConnect?this.onDisconnect():E_NET_CONNECT_MAINID.mainid_net_connect==e.bMainID&&E_NET_CONNECT_ASSID.assid_net_connect==e.bAssistantID?this.onConnectMessage(e):E_NET_CONNECT_MAINID.mainid_net_connect==e.bMainID&&E_NET_CONNECT_ASSID.assid_net_test==e.bAssistantID?this.onHeartBeatMessage(e):E_NET_CONNECT_MAINID.mainid_net_hello==e.bMainID&&E_NET_CONNECT_ASSID.assid_net_hello==e.bAssistantID&&this.closeHelloSchedule()},onConnectSuccess:function(){},onConnectFailed:function(){},onDisconnect:function(){},createNetMsg:function(e,t,i,o,a){a=a||0;var r=n.buildWritePack(e);return r.writeBegin(t,i,a),r},makeCheckCode:function(e,t,i,n){var o=F_RandomNum(1,5e3)+5e3;return(e+t+i+n)%o+(o<<16)},clearPackageQueue:function(){this.packageQueue.clear()},clear:function(){this.netCallbackMap.clear(),this.clearPackageQueue(),this.closeHelloSchedule()},setThrowGameMsg:function(e){"boolean"==typeof e?this.throwGameMsg=e:cc.error("set Throw game msg type wrong")}});t.exports=o,cc._RF.pop()},{Package:"Package",bytebuffer:"bytebuffer"}],TiBiDragonLayer:[function(e,t){"use strict";cc._RF.push(t,"36bd1hD3l1CCLcKXyzxdZDN","TiBiDragonLayer"),cc.Class({extends:e("BaseLayer"),properties:{YuE:cc.Label,TiBiLabel:cc.EditBox,slider:cc.Slider,xuanze:cc.Node,USDTNode:cc.Node,DTNode:cc.Node,Progress:cc.Node},onLoad:function(){cc.winSize.width/1280<1&&this.slider.node.setScale(cc.winSize.width/1280)},start:function(){},doButton_max:function(){this.slider.progress=1,this.Progress.width=480,0!=this.YuE.string&&(this.TiBiLabel.string=this.YuE.string)},doButton_slider:function(){0!=this.YuE.string&&(this.TiBiLabel.string=parseInt(Number(this.YuE.string)*this.slider.progress))},doButton_xuanze:function(){1==this.xuanze.active?this.xuanze.active=!1:this.xuanze.active=!0},doButton_Dragon:function(e,t){"DT"==t?(this.DTNode.active=!0,this.USDTNode.active=!1):"USDT"==t&&(this.USDTNode.active=!0,this.DTNode.active=!1),this.xuanze.active=!1}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],TimeLabel:[function(e,t){"use strict";cc._RF.push(t,"286f1x70F5FcaAYhX710bG7","TimeLabel"),cc.Class({extends:cc.Component,properties:{runTime:!1,time:{default:15},time_dt:0,t_label:cc.Label},start:function(){},updateLabel:function(){var e=Math.trunc(this.time);if(this.time<=0)return this.stop(),void this.stopCountDown();this.t_label.string=e<=9?"0"+e:e,this.node.active=!0,null!=this.callfunc&&void 0!==this.callfunc&&this.callfunc(e),this.time=e-1},startTime:function(e,t,i){this.runTime=!0,this.time=e||this.time,this.callfunc=t,this.stopCallBack=i,this.startCountDown()},stop:function(){this.runTime=!1,this.node.active=!1,this.stopCallBack&&this.stopCallBack()},onEnable:function(){},onDisable:function(){},stopCountDown:function(){this.unscheduleAllCallbacks()},startCountDown:function(){this.schedule(this.updateLabel,1)},onDestroy:function(){this.stopCountDown()}}),cc._RF.pop()},{}],TimeNode:[function(e,t){"use strict";cc._RF.push(t,"0d4d4rMHRpIA7HWcU0EX+rH","TimeNode");var i=cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(e){this.node.setAnchorPoint(e.getAnchorPoint()),this.node.setPosition(e.getPosition()),e.getParent().addChild(this.node),e.active=!1,this.initUI()},initUI:function(){var e=this.node.addComponent(cc.Label);e.string=".",e.fontSize=20;var t=this.node.addComponent(cc.Label),i=new Date,n=i.getHours(),o=i.getMinutes();t.string=tools.stringFormat("{0}.{1}",n,o),t.fontSize=20,this.schedule(function(){var i=cc.fadeIn(.1),n=cc.fadeOut(.1);e.node.runAction(cc.repeat(cc.sequence(i,n),1));var o=new Date,a=o.getHours(),r=o.getMinutes();t.string=tools.stringFormat("{0} {1}",a,r)},1)},start:function(){}});t.exports=i,cc._RF.pop()},{}],TipLayer:[function(e,t){"use strict";cc._RF.push(t,"e1ab0u+WGRLprC4uCEETJoh","TipLayer"),cc.Class({extends:e("BaseLayer"),properties:{text:cc.Node,bgHeight:30,delayTime:2},onLoad:function(){this._super(),this.node&&this.node.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2))},initTip:function(e,t){t&&(this.delayTime=t),this.node&&(this.node.name=e),this.setMsg(e);var i=cc.view.getFrameSize();i.height>i.width||this.beginAction()},initClickTip:function(e,t){this.node&&(this.node.name=e),this.delayTime=0,this.setMsg(e);var i=cc.view.getFrameSize();i.height>i.width||this.popAction(),this.fitBgSize(),this.node.getComponent("LayerMask").setLayerClickCallback(t)},setMsg:function(e){if(this.text&&this.text&&cc.isValid(this.text)){var t=this.text.getComponent(cc.Label);t&&e&&(t.string=e,e.length>15&&(t.fontSize=30))}},beginAction:function(){this.delayTime=5;var e,t=cc.moveBy(.3,cc.v2(0,this.bgHeight)),i=cc.delayTime(this.delayTime),n=cc.fadeOut(.3),o=cc.removeSelf(),a=cc.delayTime(2),r=cc.view.getFrameSize();e=r.height>r.width?cc.sequence(i,n,o):cc.sequence(t,a,n,o),this.node&&this.node.runAction(e)},popAction:function(){this.node&&this.node.runAction(cc.moveBy(.3,cc.v2(0,this.bgHeight)))},removeAction:function(){this.node&&this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.removeSelf()))},touchEventCallback:function(){this.removeAction()},fitBgSize:function(){}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ToggleButton:[function(e,t){"use strict";cc._RF.push(t,"a0483hGG5dAboTQgS4NLDGv","ToggleButton"),cc.Class({extends:cc.Toggle,properties:{},start:function(){},update:function(){this.target.active=!this.isChecked}}),cc._RF.pop()},{}],Tools:[function(e,t){"use strict";cc._RF.push(t,"bc1ccY1pChLC5YrBgQjPE+Y","Tools");var i={getCurTime:function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return e.getFullYear()+"-"+t+"-"+i+" "+n+":"+o+":"+a},setCurScreen:function(){cc.view.getFrameSize(),cc.Canvas.instance.designResolution,cc.winSize;var e=cc.view.getVisibleSize();cc.view.getVisibleSizeInPixel(),cc.view.getDesignResolutionSize(),e.height>1400?CUR_SCREEN=!0:CUR_SCREEN=!1},getCurScreen:function(){return CUR_SCREEN},convertGetParams:function(e){var t="";if(null===e)return t;for(var i in t="?",e)"?"!==t&&(t+="&"),t=t+i+"="+e[i];return t},convertPostParams:function(e){if(null===e)return null;var t="";for(var i in e)""!==t&&(t+="&"),t=t+i+"="+e[i];return t},decimalToHex:function(e,t){var i=Number(e).toString(16);for(t=null==t?t=2:t;i.length<t;)i="0"+i;return i},fillZero2:function(e,t){var i=e+"";if(i.length>=2)return i;t||(t=0);for(var n=0;n<t;n++)i="0"+i;return i},fillZero:function(e,t){return e.length>2||t<2?e:(Array(t-1).join("0")+e).slice(-t)},stringFormat:function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);return e.format.apply(e,t)},stringTrim:function(e){return e.replace(/^\s+|\s+$/g,"")},getLength:function(e){var t=0;for(var i in e)t++;return t},getMachineID:function(){return this.machineID?this.machineID:(new Date).toLocaleTimeString()},getWindowsMac:function(){},struct_extends:function(e,t){var i=[],n=function(e){for(var t in i)if(i[t].k==e)return t};for(var o in e.push(t),e){var a=e[o];for(var r in a){var s=a[r],c=n(s.k)||i.length;i[c]=s}}return i},popArray:function(e,t,i,n,o){var a=[];if(n)for(var r=0;r<i;r++){for(var s=[],c=0;c<n;c++)"BOOL"==e?s[c]=t.popBOOL():"INT"==e?s[c]=t.popINT():"UINT"==e?s[c]=t.popUINT():"CHAR"==e?s[c]=t.readString(o):"BYTE"==e?s[c]=t.popBYTE():"LONGLONG"==e&&(s[c]=t.popLONGLONG());a[r]=s}else for(var l=0;l<i;l++)if("BOOL"==e)a[l]=t.popBOOL();else if("INT"==e)a[l]=t.popINT();else if("UINT"==e)a[l]=t.popUINT();else if("CHAR"==e)a[l]=t.readString(o);else if("BYTE"==e){var u=t.popBYTE();a[l]=u}else"LONGLONG"==e&&(a[l]=t.popLONGLONG());return a},TableLen:function(e){var t=0;for(var i in e)t++;return t},TableLen2:function(e){var t=0;if(Array.isArray(e)||"object"==typeof e){for(var i in e)e[i],t+=1;return t}return 0},isNumInTable:function(e,t){for(var i=1;i<=this.TableLen(t);i++)if(e==t[i])return i;return null},objectGetKeyByValue:function(e,t){for(var i in e)if(t==e[i])return i},getSplitData:function(e,t,i,n){t=t||[],i=i||"|",n=n||",";var o=e.split(i),a=[];return o.forEach(function(e){if(""!=e){var i={};e.split(n).forEach(function(e,n){var o=t[n]||n;i[o]=e}),a.push(i)}}),a},getCutStringByCount:function(e,t,i){void 0===t&&(t=7);var n=e.replace(/[^\x00-\xff]/g,"AA"),o=e;return n.length>2*t&&(o=void 0!==i?e.substring(0,t)+i:e.substring(0,t)+"..."),o},getArrEqual:function(e,t){for(var i=[],n=0;n<t.length;n++)for(var o=0;o<e.length;o++)e[o]===t[n]&&i.push(e[o]);return i},duplicates:function(e){var t=[];return e.forEach(function(i){e.indexOf(i)!==e.lastIndexOf(i)&&-1==t.indexOf(i)&&t.push(i)}),t},diffArr:function(e,t){for(var i=[],n=[],o=0;o<e.length;o++)-1===t.indexOf(e[o])&&n.push(e[o]);for(var a=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&a.push(t[r]);i=n.concat(a);var s=this.getArrEqual(e,t),c=this.duplicates(s),l=[],u=[],h=[];e.length>t.length?(u=t,h=e):(u=e,h=t);for(var d=[],f=0;f<u.length;f++){var p=u[f];if(!(d.indexOf(p)>=0)&&c.indexOf(p)>=0){d.push(p);for(var g=0,m=0,_=0;_<u.length;_++)u[_]==p&&m++;for(var y=0;y<h.length;y++)h[y]==p&&g++;for(var v=0;v<Math.abs(g-m);v++)l.push(p)}}return i.concat(l)},copyTextFun:function(e){var t=e+"",i=document.createElement("textarea");i.value=t,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var n=getSelection(),o=!1;n.rangeCount>0&&(o=n.getRangeAt(0)),document.body.appendChild(i),i.select(),i.selectionStart=0,i.selectionEnd=t.length;var a=!1;try{a=document.execCommand("copy")}catch(r){}return document.body.removeChild(i),o&&(n.removeAllRanges(),n.addRange(o)),a},isInArray:function(e,t){for(var i=!1,n=0;n<t.length;n++)if(t[n]==e){i=!0;break}return i},getJiuGongGeItemPosSize:function(e,t){var i=[];switch(e){case 1:i=[0,-40,80,80];break;case 2:i=[40*t-20,-40,40,40];break;case 3:i=t<2?[40*t-20,-20,40,40]:[0,-60,40,40];break;case 4:i=t<2?[40*t-20,-20,40,40]:[40*t-100,-60,40,40];break;case 5:i=t<3?[25.2*t-25.2,-25.2,25.2,25.2]:[25.2*t-88.2,-51.4,25.2,25.2];break;case 6:i=t<3?[25.2*t-25.2,-25.2,25.2,25.2]:[25.2*t-100.8,-51.4,25.2,25.2];break;case 7:i=t<3?[25.2*t-25.2,-12.6,25.2,25.2]:t>2&&t<6?[25.2*t-100.8,-38.8,25.2,25.2]:[0,-65,25.2,25.2];break;case 8:i=t<3?[25.2*t-25.2,-12.6,25.2,25.2]:t>2&&t<6?[25.2*t-100.8,-38.8,25.2,25.2]:[25.2*t-163.8,-65,25.2,25.2];break;case 9:i=t<3?[25.2*t-25.2,-12.6,25.2,25.2]:t>2&&t<6?[25.2*t-100.8,-38.8,25.2,25.2]:[25.2*t-176.4,-65,25.2,25.2]}return i},formatNumberEx:function(e,t){var i="";if(e<0&&(i="-",e=-e),void 0===t&&(t=2),e>=1e12)return""+i+Math.floor(e/1e12)+"\u4e07\u4ebf";if(e>=1e8){var n=(e/1e8).toString(),o=n.indexOf(".");return-1!==o&&(n=n.substring(0,t+o+1)),""+i+n+"\u4ebf"}if(e>=1e4){var a=(e/1e4).toString(),r=a.indexOf(".");return-1!==r&&(a=a.substring(0,t+r+1)),""+i+a+"\u4e07"}return""+i+e},toThousands:function(e){e=(e||0).toString();for(var t="";e.length>3;)t=","+e.slice(-3)+t,e=e.slice(0,e.length-3);return e&&(t=e+t),t},toAtlasValue:function(e){var t=(e/=G_MULTI_NUM).toFixed(2);return t=(t+"").substring(t.indexOf(".")),this.toThousands(parseInt(e))+t},getRandomStr:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i="",n=String((new Date).valueOf()),o=n.length,a=o-=1;a>=0;a--)n.charAt(a);var r=n.slice(-7);r=Number(r.split("").reverse().join("")),this.rand(r);for(var s=0;s<e;s++)i+=t[parseInt(Math.random()*t.length)];return i},rnd:function(e){return(9301*e+49297)%233280/233280},rand:function(e){var t=(new Date).getTime();return Math.ceil(this.rnd(t)*e)},recoverNetmsg:function(e,t,i){var n=this;i=i||0;var o={},a=function(t,i){return"LONGLONG"==t.t?e.popLONGLONG():"BYTE"==t.t?e.popBYTE():"INT"==t.t?e.popINT():"FLOAT"==t.t?e.popFLOAT():"BOOL"==t.t?e.popBOOL():"CHAR"==t.t?e.readString(t.charLen):n.recoverNetmsg(e,t.t,i)},r=function(e,t,i){for(var n={},o=0+i;o<=t-(1-i);o++)n[o]=a(e);return n};for(var s in t){var c=t[s],l=c.row||0,u=c.col||0,h=c.thr||0;if(c.row&&"string"==typeof c.row&&(l=0!=(l=Number(o[c.row]||-1))&&l||-1),l>0)if(u>0){o[c.k]={};for(var d=0+i;d<=l-(1-i);d++)if(h>0){o[c.k][d]={};for(var f=0+i;f<=u-(1-i);f++)o[c.k][d][f]=r(c,h,c.ti||i)}else o[c.k][d]=r(c,u,c.ci||i)}else o[c.k]=r(c,l,c.ri||i);else 0==l&&(o[c.k]=a(c,i))}return o},nodeCallback:function(e,t){return t?function(){t||e&&e()}:e},sizeofStruct:function(e,t){var i=this;t=t||0;var n=0,o=function(e){var t;return"BOOL"==e.t?t=1:"SHORT"==e.t?t=2:"USHORT"==e.t?t=2:"INT"==e.t?t=4:"UINT"==e.t?t=4:"CHAR"==e.t?t=1*(e.charLen||1):"BYTE"==e.t?t=1:"LONG"==e.t?t=4:"LONGLONG"==e.t?t=8:"FLOAT"==e.t?t=4:"DOUBLE"==e.t?t=8:i.sizeofStruct(e.t),t},a=function(e,i){for(var n=0,a=0+t;a<=i-(1-t);a++)n+=o(e);return n};for(var r in e){var s=e[r],c=s.row||0,l=s.col||0;if(c>0)if(l>0)for(var u=0+t;u<=c-(1-t);u++)n+=a(s,l);else n+=a(s,c);else n+=o(s)}return n},packNetmsg:function(e,t,i,n){var o=this;n=n||0;var a=function(t){"BOOL"==t.t?e.pushBOOL(i[t.k]):"INT"==t.t?e.pushINT(i[t.k]):"CHAR"==t.t?e.writeString(i[t.k],t.charLen):"BYTE"==t.t?e.pushBYTE(i[t.k]):"LONGLONG"==t.t?e.pushLONGLONG(i[t.k]):"FLOAT"==t.t?e.writeInt64(i[t.k]):o.packNetmsg(e,t.t,i[t.k],n)},r=function(e,t){for(var i=0+n;i<=t-(1-n);i++)a(e)};for(var s in t){var c=t[s],l=c.row||0,u=c.col||0;if(l>0)if(u>0)for(var h=0+n;h<=l-(1-n);h++)r(c,u);else r(c,l);else a(c)}},JSONObjectsToArr:function(e){var t=[];for(var i in e)t.push(e[i]);return t},tableContainValue:function(e,t){if(Array.isArray(t)||"object"==typeof t)for(var i in e){var n=e[i];if(Array.isArray(n)||"object"==typeof e){var o=!0;for(var a in n)n[a]!=t[a]&&(o=!1);if(o)return o}}else for(var r in e)if(t==e[r])return!0;return!1},tableGetKeyByValue:function(e,t){for(var i in e)if(t==e[i])return i},MathMin:function(e){for(var t=e[0],i=e.length,n=1;n<i;n++)t>e[n]&&(t=e[n]);return t},getDistance:function(e,t,i,n){e=Number(e),t=Number(t),i=Number(i),n=Number(n);var o=Math.PI/180*e,a=Math.PI/180*i,r=Math.PI/180*t,s=Math.PI/180*n,c=6370.856*Math.acos(Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(s-r));return console.log("_lat1="+e+",_lon1="+t+",_lat2="+i+",_lon2="+n+",d="+c),this.getPreciseDecimal(c,2)},getPreciseDecimal:function(e,t){return"number"!=typeof e?e:(t=t||0,t=Math.floor(t),Number(e.toFixed(t)))},checkLongitudeOrLatitude:function(e){return!!e&&""!=e&&e!=G_longitude&&e!=G_latitude},getQueryString:function(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return!1}};t.exports=i,cc._RF.pop()},{}],TuoGuanLayer:[function(e,t){"use strict";cc._RF.push(t,"51b2alZFq1EVrgk2EtgJmlO","TuoGuanLayer");var i=["Button_Cancel"],n={};for(var o in i)n[i[o]]=o+100;cc.Class({extends:e("BaseLayer"),init:function(e){this.cancelCallback=e,this.studio={Layer:null,Image_Bg_Main:null,Button_Cancel:null},this.initUI()},initUI:function(){this.initStudioUI(),this.initUIVisible(),this.initUIData(),this.initUIEventListener()},initStudioUI:function(){this.studio.Image_Bg_Main=this.node.getChildByName("Image_Bg_Main"),this.studio.Button_Cancel=this.studio.Image_Bg_Main.getChildByName("Button_Cancel")},initUIVisible:function(){},initUIData:function(){},initUIEventListener:function(){this.studio.Button_Cancel.on(cc.Node.EventType.TOUCH_END,this.doButtonCancelClick.bind(this))},doButtonCancelClick:function(){this.cancelCallback?this.cancelCallback():this.removeLayer()},removeLayer:function(){this.node.removeFromParent()}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],UiShowWords:[function(e,t){"use strict";cc._RF.push(t,"60f1ayo4k9C0pW87ZiFQfrI","UiShowWords");var i=cc.Enum({UP:1,DOWN:-1}),n=cc.Enum({RIGHT_TOP:1,LEFT_TOP:2,LEFT_BOTTOM:3,RIGHT_BOTTOM:4});cc.Class({extends:cc.Component,properties:{imgChatBackRight:cc.SpriteFrame,imgChatBackLeft:cc.SpriteFrame,font:cc.Font},start:function(){var e=new cc.Node;this.chatWordsNode=e;var t=new cc.Node;this.emotionNode=t,t.addComponent(cc.Sprite),e.scale=.9,e.addComponent(cc.Sprite).setName="chatWordsNodeSprite",this.emotionNode.position=this.chatWordsNode.position,this.node.addChild(this.chatWordsNode),this.chatWordsNode.active=!1,this.node.addChild(this.emotionNode),this.emotionNode.active=!1},setWordsPos:function(){if(this.chatWordsNode){this.chatWordsNode.scale=.9;var e=this.chatWordsNode,t=this.chatWordsNode.addComponent(cc.Sprite);t.setName="chatWordsNodeSprite";var o=cc.view.getVisibleSize(),a=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),r=this.node.getChildByName("Image_LayerBg"),s=0;a.x<=o.width/2&&a.y<=o.height/2?s=n.RIGHT_TOP:a.x>o.width/2&&a.y<=o.height/2?s=n.LEFT_TOP:a.x>o.width/2&&a.y>o.height/2?s=n.LEFT_BOTTOM:a.x<=o.width/2&&a.y>o.height/2&&(s=n.RIGHT_BOTTOM),this.direction=s,cc.log("this.direction = ",this.direction),s==n.LEFT_TOP||s==n.LEFT_BOTTOM?(t.spriteFrame=this.imgChatBackRight,this.chatWordsNode.x=-(r.width/2-30),this.chatWordsNode.anchorX=1,this.chatWordsNode.anchorY=0,this.chatHorizontalDir=1):(t.spriteFrame=this.imgChatBackLeft,this.chatWordsNode.x=r.width/2-30,this.chatWordsNode.anchorX=0,this.chatWordsNode.anchorY=0,this.chatHorizontalDir=-1);var c=r.height/2-10;s==n.LEFT_BOTTOM||s==n.RIGHT_BOTTOM?(e.y=-c,this.chatVerticalDir=i.DOWN,e.is3DNode=!0,e.eulerAngles=new cc.Quat(0,180,180,0)):(e.y=c,this.chatVerticalDir=i.UP)}},showWords:function(e,t){var n=this;if(console.log("UiShowWords showWords",e),this.clearWords(),this.setWordsPos(),"im"==e.substring(0,2))this.emotionNode.active=!0,cc.loader.loadRes("Emoticons/"+e,cc.SpriteFrame,function(e,t){e?cc.error(e.message||e):this.emotionNode&&cc.isValid(this.emotionNode)&&(this.emotionNode.getComponent(cc.Sprite).spriteFrame=t)}.bind(this));else{if(!this.chatWordsNode)return;this.chatWordsNode.active=!0;var o=new cc.Node;o.anchorX=.5,o.anchorY=.5,this.chatVerticalDir==i.DOWN?(o.is3DNode=!0,o.eulerAngles=new cc.Quat(0,180,180,0),o.y=.8*this.chatWordsNode.height):o.y=.6*this.chatWordsNode.height;var a=o.addComponent(cc.Label);a.string=e;for(var r=0;r<G_CHAT_COMMON_TEXT_TAB.length;r++)e==G_CHAT_COMMON_TEXT_TAB[r]&&(t?MYAudioEngine.playEffect(tools.stringFormat("sound/common/{0}/boy/{1}",1,r)):MYAudioEngine.playEffect(tools.stringFormat("sound/common/{0}/girl/{1}",1,r)));setTimeout(function(){n.chatWordsNode.width=o.width+60,n.chatWordsNode.width<=200&&(n.chatWordsNode.width=300),-1==n.chatHorizontalDir?o.x=n.chatWordsNode.width/2:o.x=-n.chatWordsNode.width/2},16),a.fontSize=28,o.color=new cc.Color(32,27,23),this.chatWordsNode.addChild(o)}},clearWords:function(){this.chatWordsNode&&(this.chatWordsNode.removeAllChildren(),this.chatWordsNode.active=!1,this.emotionNode.active=!1)},delayClearWords:function(e){this.clearTime=e},update:function(e){var t=this.clearTime;t&&8888!=t&&(t<=0&&(this.clearWords(),this.clearTime=8888),this.clearTime-=e)}}),cc._RF.pop()},{}],UpdateApkNode:[function(e,t){"use strict";cc._RF.push(t,"a1079GMmoxBXJgDNBGXo4Hf","UpdateApkNode"),cc.Class({extends:cc.Component,properties:{progressNode:cc.Node,progressBar:cc.ProgressBar,loadingTip:cc.Label,updateDesLab:cc.Label,versionLab:cc.Label,text_percent:cc.Label,btnToInstall:cc.Node,btnToRestartDownload:cc.Node,_curChangeProgressTime:-1},onLoad:function(){this.progressBar.progress=0,this.progressBar.totalLength=this.progressBar.node.width},showDownloadTip:function(e){return"\u5b89\u88c5\u5931\u8d25"==e?(this.loadingTip.string="\u5b89\u88c5\u5931\u8d25,\u8bf7\u70b9\u51fb\u91cd\u8bd5",void this.tipRestartDownload()):"\u4e0b\u8f7d\u5931\u8d25"==e?(cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jsToNativeUpdateApkCancle","()V"),this.loadingTip.string="\u4e0b\u8f7d\u5931\u8d25,\u8bf7\u70b9\u51fb\u91cd\u8bd5",void this.tipRestartDownload()):("\u6b63\u5728\u4e0b\u8f7d\u4e2d...\u8bf7\u7a0d\u5019"==e&&(this._curChangeProgressTime=Math.floor(Date.now()/1e3)),void("\u4e0b\u8f7d\u6210\u529f"==e?(this.loadingTip.string="\u4e0b\u8f7d\u6210\u529f,\u70b9\u51fb\u786e\u5b9a\u5373\u53ef\u5b89\u88c5",this.btnToInstall.active=!0,this.text_percent.string="100%",this.progressBar.progress=1):this.loadingTip.string=e))},setUpdateDesc:function(e,t){this.updateDesLab.string=e,this.versionLab.string=t},showDownloadPercent:function(e,t){var i=e/t;this.progressBar.progress=i,this.text_percent.string=(100*i).toFixed(2)+"%",this._curChangeProgressTime=Math.floor(Date.now()/1e3)},clickToInstallLocalApk:function(){cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","clickToInstallWSLocalApk","()V")},tipRestartDownload:function(){this.btnToRestartDownload.active=!0,this.progressBar.progress=0,this.text_percent.string="0%"},update:function(){this.btnToRestartDownload.active||this.btnToInstall.active||-1!=this._curChangeProgressTime&&Math.floor(Date.now()/1e3)-this._curChangeProgressTime>=6&&(cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","jsToNativeUpdateApkCancle","()V"),this.loadingTip.string="\u4e0b\u8f7d\u5931\u8d25,\u7f51\u7edc\u6ce2\u52a8,\u70b9\u51fb\u91cd\u8bd5\u4e0b\u8f7d",this.tipRestartDownload())}}),cc._RF.pop()},{}],UserInfoManager:[function(e,t){"use strict";cc._RF.push(t,"b6b3bsDA0JDLJbdlJUA4bQA","UserInfoManager");var i="user",n=cc.Class({ctor:function(){this._avataLocalAdrss=[],this._userAvataList=[],this.userInfoList=new Map,this.myInfo=null},push:function(e,t){this.userInfoList.set(e,t)},setMyInfo:function(e){this.myInfo=e},setRealNameInfo:function(e,t){this.myInfo.realName=e,this.myInfo.idCard=t},getMyInfo:function(){return this.myInfo||cc.log("\u6211\u7684\u4fe1\u606f\u4e3a\u7a7a!"),this.myInfo},notifyWXUserLogin:function(e,t){var n={};n.url=NetConfig.getPHPUrl(),n.params={api:i,action:"WXUserLogin",userID:e,unionID:t},n.sCallback=function(e){0==e.status?cc.log("WX\u73a9\u5bb6\u767b\u5f55\u4fe1\u606f\u53d1\u9001\u5230\u540e\u53f0\u6210\u529f"):createTips(e.msg)},n.fCallback=function(){cc.log("WX\u73a9\u5bb6\u767b\u5f55\u4fe1\u606f\u53d1\u9001\u5230\u540e\u53f0\u5931\u8d25 userID= {0}",e)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},setMyZhanJi:function(e){this.myInfo.totalGameDeskCount=e.totalGameDeskCount,this.myInfo.totalGameDeskWinCount=e.totalGameDeskWinCount,this.myInfo.point=e.point,this.myInfo.winrate=e.winrate},requestUserInfoByUserID:function(e,t){this.requestUserInfo(e,t)},requestUserInfo:function(e,t){var n=this;if(!e||e<=0)t&&t({});else{var o=this.getUserInfoByUserID(e);if(o)t&&t(o);else{var a={};a.params={api:i,action:"getUserInfo",userID:e},a.fCallback=function(){console.log("\u8bf7\u6c42getUserInfo\u8d85\u65f6")},a.sCallback=function(i){0==i.status?t&&(i.data.userID=e,n.push(i.data.userID,i.data),t(i.data)):createTips(i.msg)},MyHttpRequest.doRequest(a)}}},requestChangeUserName:function(e,t){var n={};n.params={api:i,action:"editUserName",userID:this.getMyInfo().userID,name:e},n.fCallback=function(){console.log("\u8bf7\u6c42editUserName\u8d85\u65f6")},n.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(n)},requestChangeUserInfor:function(e,t,i,n,o,a){var r={};r.params={api:"Phone",action:"bindPhoneNew",userID:this.getMyInfo().userID,phone:i,code:n,goodsAddress:o,sex:e,name:t},r.fCallback=function(){console.log("\u8bf7\u6c42bindPhoneNew\u8d85\u65f6")},r.sCallback=function(e){0==e.status?a&&a():createTips(e.msg)},r.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(r)},requestChangeRealName:function(e,t,i){var n={};n.params={api:"user",action:"toCertification",userID:this.getMyInfo().userID,idcard:t,name:e},n.fCallback=function(){console.log("\u8bf7\u6c42toCertification\u8d85\u65f6")},n.sCallback=function(e){0==e.status?i&&i():createTips(e.msg)},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,MyHttpRequest.doRequest(n)},requestChangeIphone:function(e,t){var i={};i.params={api:"mall",action:"valiPhone",userID:this.getMyInfo().userID,goodsPhone:e},i.fCallback=function(){console.log("\u8bf7\u6c42valiPhone\u8d85\u65f6")},i.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(i)},requestChangeAddress:function(e,t){var i={};i.params={api:"mall",action:"valiAddress",userID:this.getMyInfo().userID,goodsAddress:e},i.fCallback=function(){console.log("\u8bf7\u6c42valiAddress\u8d85\u65f6")},i.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(i)},requestSaveSignature:function(e,t){LobbySocket.requestSaveSignature(e,t)},requestChangeUserSex:function(e,t){var i={};i.url="http://"+G_PHP_IP+"/api/v1/user/editUserSex",i.params={userID:this.getMyInfo().userID,num:e},i.fCallback=function(){console.log("\u8bf7\u6c42editUserSex\u8d85\u65f6")},i.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(i)},requestRealName:function(e,t,i){var n={};n.params={userID:this.getMyInfo().userID,idcard:t,name:e},n.url="http://"+G_PHP_IP+"/api/v1/user/toCertification",n.fCallback=function(){i(jsonData.msg)},n.sCallback=function(e){i&&i(e)},n.requestDesc="\u63d0\u4ea4\u9a8c\u8bc1\u4e2d\uff0c\u8bf7\u7a0d\u540e...",MyHttpRequest.doRequest(n)},setAvataList:function(e){this._userAvataList=e},getAvataList:function(){return this._userAvataList},setAvataLocalAdrss:function(e,t){this._avataLocalAdrss[e]=t},getAvataLocalAdrss:function(){return this._avataLocalAdrss},getUserAvataList:function(e){var t=this,n={};n.params={api:i,action:"getHeadUrlList"},n.fCallback=function(){console.log("\u8bf7\u6c42getHeadUrlList\u8d85\u65f6")},n.sCallback=function(i){if(0==i.status){if(t.setAvataList(i.data),i.data)for(var n in t.AvataList=[],i.data){var o=i.data[n];t.setAvataLocalAdrss(n,o.url)}}else e&&e()},n.responseType=E_REQUEST_TYPE.GET,cc.log(n),MyHttpRequest.doRequest(n)},fixUserinfoByUserID:function(e,t,i){this.userInfoList&&this.userInfoList[e]&&(this.userInfoList[e][t]=i,"money"!=t&&"bankMoney"!=t||(this.userInfoList[e][t]=i/G_MULTI_NUM))},getUserInfoByUserID:function(e){return this.userInfoList[e]},setMyInfoAttr:function(e,t){this.myInfo&&(this.myInfo[e]=t,"money"!=e&&"bankMoney"!=e||(this.myInfo[e]=t/G_MULTI_NUM))},requestChangeUserAvata:function(e,t){var n={};n.params={api:i,action:"editUserHeadURL",userID:this.getMyInfo().userID,headURL:e},n.fCallback=function(){console.log("\u8bf7\u6c42editUserHeadURL\u8d85\u65f6")},n.sCallback=function(e){0==e.status?t&&t():createTips(e.msg)},MyHttpRequest.doRequest(n)}});t.exports=n,cc._RF.pop()},{}],VideoManager:[function(e,t){"use strict";cc._RF.push(t,"f3e2deyj8JGhLq0tjniWssB","VideoManager");var i=cc.Class({statics:{instance:null},ctor:function(){this.dataList={},this.bLoadVedio=!1},requestVideoList:function(e){var t={};t.params={userID:UserInfoManager.getMyInfo().userID,typeSort:0},t.url="https://"+G_PHP_IP+"/txysdk/index/getTxyVedio",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){console.log(t),0==t.code?e&&e(t.data):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestVideoState:function(e,t){var i={};i.params={userID:UserInfoManager.getMyInfo().userID,type:e},i.url="https://"+G_PHP_IP+"/api/v1/User/isVideo",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){console.log(e),0==e.code?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestUserVideoList:function(e,t){var i={};i.params={userID:e},i.url="https://"+G_PHP_IP+"/txysdk/index/getUserVideo",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){console.log(e),0==e.code?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestUserVideoVip:function(e){var t={};t.params={userID:UserInfoManager.getMyInfo().userID},t.url="https://"+G_PHP_IP+"/api/v1/User/isUploadVideoVip",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){console.log(t),0==t.code?e&&e(t.data):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestUserVideoOpenVip:function(e){var t={};t.params={userID:UserInfoManager.getMyInfo().userID},t.url="https://"+G_PHP_IP+"/api/v1/User/uploadVideoVip",t.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},t.sCallback=function(t){console.log(t),0==t.code?e&&e(t.data):createTips(t.msg)},MyHttpRequest.doRequest(t)},requestVideoStarList:function(e,t,i){var n={};n.params={staffUserID:UserInfoManager.getMyInfo().userID,upLoadID:t,FileId:e},n.url="https://"+G_PHP_IP+"/txysdk/index/videoLikeNum",n.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},n.sCallback=function(e){console.log(e),0==e.code?i&&i(e.data):createTips(e.msg)},MyHttpRequest.doRequest(n)},refreshVideo:function(e){var t=this;this.bLoadVedio||(window.vedioFileId&&0!=window.vedioFileId&&this.requestVedioByFileId(window.vedioFileId,function(t){window.tempVedioList=t,e&&e(t)}),this.requestVideoList(function(i){t.bLoadVedio=!0,t.dataList=i,e&&e(i)}))},getVideoList:function(){return this.dataList},requestUserVideoTotal:function(e,t){var i={};i.params={userID:e},i.url="https://"+G_PHP_IP+"/txysdk/index/getUserVideoTotal",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){console.log(e),0==e.code?t&&t(e.data):createTips(e.msg)},MyHttpRequest.doRequest(i)},requestVedioByFileId:function(e,t){var i={};i.params={fileID:e},i.url="https://"+G_PHP_IP+"/txysdk/index/getShareVideo",i.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},i.sCallback=function(e){0==e.code&&t&&t(e.data)},MyHttpRequest.doRequest(i)}});i.instance=new i,t.exports=i,cc._RF.pop()},{}],VoiceLayerChat:[function(e,t){"use strict";cc._RF.push(t,"26b8btIjLBNE6dMVDTHBCov","VoiceLayerChat"),cc.Class({extends:e("BaseLayer"),properties:{Text_Tips:cc.Label},onLoad:function(){cc.log("*********************\u5f55\u97f3*********************"),this.private_recordCallback=null,this.private_recordTime=10,this.startvoice(),this.startScheduleRecordTime()},startScheduleRecordTime:function(){this.stopScheduleRecordTime();var e=function(){this.private_recordTime=this.private_recordTime-1,this.private_recordTime<=0&&(this.stopvoice(),this.stopScheduleRecordTime(),this.doButton_Close()),this.Text_Tips.getComponent(cc.Label).string="\u5f55\u97f3\u4e2d "+this.private_recordTime};this.schedule(e,1),this.private_recordCallback=e},stopScheduleRecordTime:function(){this.private_recordCallback&&(this.unschedule(this.private_recordCallback),this.private_recordCallback=null)},startvoice:function(){wx.ready(function(){wx.startRecord({success:function(){},cancel:function(){alert("\u7528\u6237\u62d2\u7edd\u5f55\u97f3\u6388\u6743")}})})},stopvoice:function(){cc.log("stopvoice 1");var e=function(e){cc.log("stopvoice 11"),this.uploadVoice(e)}.bind(this);wx.stopRecord({success:function(t){cc.log("stopvoice 2");var i=t.localId;e&&(cc.log("stopvoice 22"),e(i))}})},doButton_Send:function(){this.stopvoice(),this.stopScheduleRecordTime(),this.doButton_Close()},uploadVoice:function(e){cc.log("uploadVoice1"),G_SHOW_GAME_VOICE=!0,wx.uploadVoice({localId:e,isShowProgressTips:0,success:function(e){var t=e.serverId;cc.log("uploadVoice2 serverId=",t),LobbySocket.sendChat(0,t,2,0)}})},doButton_Close:function(){var e=this;G_SHOW_GAME_VOICE=!1,this.stopScheduleRecordTime(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],VoiceLayer:[function(e,t){"use strict";cc._RF.push(t,"fdef0rd4FJHra09f2KQksJE","VoiceLayer"),cc.Class({extends:e("BaseLayer"),properties:{Text_Tips:cc.Label},onLoad:function(){cc.log("*********************\u5f55\u97f3*********************"),this.private_recordCallback=null,this.private_recordTime=10,this.startvoice(),this.startScheduleRecordTime()},startScheduleRecordTime:function(){this.stopScheduleRecordTime();var e=function(){this.private_recordTime=this.private_recordTime-1,this.private_recordTime<=0&&(this.stopvoice(),this.stopScheduleRecordTime(),this.doButton_Close()),this.Text_Tips.getComponent(cc.Label).string="\u5f55\u97f3\u4e2d "+this.private_recordTime};this.schedule(e,1),this.private_recordCallback=e},stopScheduleRecordTime:function(){this.private_recordCallback&&(this.unschedule(this.private_recordCallback),this.private_recordCallback=null)},startvoice:function(){wx.ready(function(){wx.startRecord({success:function(){},cancel:function(){alert("\u7528\u6237\u62d2\u7edd\u5f55\u97f3\u6388\u6743")}})})},stopvoice:function(){cc.log("stopvoice 1");var e=function(e){cc.log("stopvoice 11"),this.uploadVoice(e)}.bind(this);wx.stopRecord({success:function(t){cc.log("stopvoice 2");var i=t.localId;e&&(cc.log("stopvoice 22"),e(i))}})},doButton_Send:function(){this.stopvoice(),this.stopScheduleRecordTime(),this.doButton_Close()},uploadVoice:function(e){cc.log("uploadVoice1"),G_SHOW_GAME_VOICE=!0,wx.uploadVoice({localId:e,isShowProgressTips:0,success:function(e){var t=e.serverId;cc.log("uploadVoice2 serverId=",t),GameSocket.requestVoive(t)}})},doButton_Close:function(){var e=this;G_SHOW_GAME_VOICE=!1,this.stopScheduleRecordTime(),this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],WaitTipLayer:[function(e,t){"use strict";cc._RF.push(t,"52b4692wp1GAYut9vo45yX0","WaitTipLayer"),cc.Class({extends:cc.Component,properties:{runTime:!1,time:{default:15},timeLabel:cc.Label},start:function(){},updateLabel:function(){var e=Math.trunc(this.time);this.timeLabel.string=e+""},startTime:function(e,t){this.time=e||this.time,this.node.active=!0,this.runTime=!0,this.stopCallBack=t},stop:function(){this.stopCallBack&&this.stopCallBack(),this.runTime=!1,this.node.active=!1},onEnable:function(){},onDisable:function(){this.runTime=!1},onDestroy:function(){this.runTime=!1},update:function(e){this.runTime&&(this.time=this.time-e,this.updateLabel(),this.time<=0&&this.stop())}}),cc._RF.pop()},{}],WarRecordSetLayer:[function(e,t){"use strict";cc._RF.push(t,"03422LeLlJN2qFMGnjiZ+6i","WarRecordSetLayer"),cc.Class({extends:e("BaseLayer"),properties:{Button_Retreat:cc.Node,Button_Pause:cc.Node,Button_Resume:cc.Node,Button_Speed:cc.Node,Button_Back:cc.Node},onLoad:function(){},init:function(){this._TimeScale=1,this.Button_Resume.active=!1},doButton_Callback:function(e,t){switch(t){case"Button_Retreat":this._TimeScale>.5&&(this._TimeScale=this._TimeScale-.5),console.log("\u56de\u653e \u51cf\u901f"+this._TimeScale),cc.director.getScheduler().setTimeScale(this._TimeScale);break;case"Button_Pause":console.log("\u56de\u653e \u6682\u505c"),this.Button_Pause.active=!1,this.Button_Resume.active=!0,cc.director.pause();break;case"Button_Resume":console.log("\u56de\u653e \u6062\u590d"),this.Button_Pause.active=!0,this.Button_Resume.active=!1,cc.director.resume();break;case"Button_Speed":this._TimeScale<=5&&(this._TimeScale=this._TimeScale+.5),console.log("\u56de\u653e \u52a0\u901f"+this._TimeScale);var i=cc.director.getScheduler();i.getTimeScale(),i.setTimeScale(this._TimeScale);break;case"Button_Back":cc.director.getScheduler().setTimeScale(1),LOOBBY_STATIC=!1,cc.director.loadScene("lobby")}},onDisable:function(){cc.director.getScheduler().setTimeScale(1)}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ZJH_ZhanJi_Item:[function(e,t){"use strict";cc._RF.push(t,"4f994B1Fs5DeoAxk4biXEzC","ZJH_ZhanJi_Item"),cc.Class({extends:cc.Component,properties:{nickName:cc.Label,ruleLabel:cc.Label,scoreLabel:cc.Label,headerImg:cc.Sprite,cards:cc.Node,cardItem:cc.Node,bankerView:cc.Node,pokeSpriteFrame:cc.SpriteAtlas,tipResSprite:[cc.SpriteFrame],cardTips:cc.Sprite},initData:function(e){var t=this;this.nickName.string=e.name,e.avatar&&AvatarManager.requestHeadRes(e.avatar,e.uid,function(e){t.headerImg&&(t.headerImg.spriteFrame=e)});var i=RoomListManager.getRoomInfo();i||((i={}).type=e.roomInfoType),i.type==E_ROOM_TYPE.PRIVATE||i.type==E_ROOM_TYPE.TABLE||i.type==E_ROOM_TYPE.GOLD?this.scoreLabel.string=F_GetMoneyDisplay(e.score,2)>0?"+"+F_GetMoneyDisplay(e.score,2):F_GetMoneyDisplay(e.score,2):this.scoreLabel.string=e.score>0?"+"+e.score:e.score,e.score<0?this.scoreLabel.node.color=new cc.Color(123,203,47):this.scoreLabel.node.color=new cc.Color(208,65,45),this.bankerView.active=e.isBanker;for(var n=0;n<e.handCards.length;n++)if(255!=e.handCards[n]){var o=this.cards.children[n];o.setContentSize(cc.size(75,90)),o.active=!0,o.getComponent(cc.Sprite).spriteFrame=this.pokeSpriteFrame.getSpriteFrame(e.handCards[n])}else this.cards.children[n].active=!1;this.cardTips.spriteFrame=this.tipResSprite[e.cardShape-1]}}),cc._RF.pop()},{}],ZhanJiDetailView:[function(e,t){"use strict";cc._RF.push(t,"1fc75Ps+l1Ae78+Ls6MC+Lo","ZhanJiDetailView");var i={HZMJ:20161004};cc.Class({extends:e("BaseLayer"),properties:{result_MJ:cc.Node,result_TTZ:cc.Node,result_21D:cc.Node,result_PDK:cc.Node,result_DDZ:cc.Node,result_NJJ:cc.Node,result_ZJH:cc.Node},init:function(e,t,n){switch(this.gameID=e,this.resultInfo=t,this.zhanjiLayer=n,this.node.children.forEach(function(e){return e.active=!1}),this.gameID){case i.TDHMJ:this.compressTDHMJ(t);break;case i.XZMJ:this.compressXZMJ(t);break;case i.TDHMJSX:this.compressTDHMJSX(t);break;case i.HZMJ:this.compressHZMJ(t);break;case i.TTZ:this.compressTTZ(t);break;case i["21D"]:this.compress21D(t);break;case i.PDK:this.compressPDK(t);break;case i.CSDDZ:this.compressCSDDZ(t);break;case i.NJJ:this.compressNJJ(t);break;case i.LTZJH:this.compressLTZJH(t)}},compress21D:function(e){var t=this;this.result_21D.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[],cardShape:null};a.name=o.userName,a.isBanker=o.userID==e.banker,a.score=o.changeMoney,a.cardShape=o.cardShape,a.roomInfoType=e.type;for(var r=0;r<o.handData.length;r++)a.handCards.push(o.handData[r]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_21D.children[0]);i.active=!0,i.getComponent("21D_ZhanJi_Item").initData(e),t.result_21D.children[1].children[0].children[0].addChild(i)})},compressPDK:function(e){var t=this;this.result_PDK.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[]};if(a.name=o.userName,a.score=o.changeMoney,a.roomInfoType=e.type,o.handData)for(var r=0;r<o.handData.length;r++)a.handCards.push(o.handData[r]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_PDK.children[0]);i.active=!0,i.getComponent("PDK_ZhanJi_Item").initData(e),t.result_PDK.children[1].children[0].children[0].addChild(i)})},compressCSDDZ:function(e){var t=this;this.result_DDZ.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[]};if(a.name=o.userName,a.isBanker=o.userID==e.banker,a.score=o.iUserScore,a.roomInfoType=e.type,o.SendCard)for(var r=0;r<o.SendCard.length;r++)a.handCards.push(o.SendCard[r]);i.push(a)}if(e.backCard){var s=this.result_DDZ.getChildByName("backCards");s.active=!0;for(var c=0;c<e.backCard.length;c++)setTexture(s.children[0].children[c].getComponent(cc.Sprite),tools.stringFormat("CSDDZ/card/{0}",e.backCard[c]))}else this.result_DDZ.getChildByName("backCards").active=!1;i.forEach(function(e){var i=cc.instantiate(t.result_DDZ.children[0]);i.active=!0,i.getComponent("DDZ_ZhanJi_Item").initData(e),t.result_DDZ.children[1].children[0].children[0].addChild(i)})},compressNJJ:function(e){var t=this;this.result_NJJ.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[],cardShape:null};if(a.name=o.userName,a.isBanker=o.userID==e.banker,a.score=o.changeMoney,a.cardShape=o.cardShape,a.roomInfoType=e.type,o.handData)for(var r=0;r<o.handData.length;r++)a.handCards.push(o.handData[r]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_NJJ.children[0]);i.active=!0,i.getComponent("NJJ_ZhanJi_Item").initData(e),t.result_NJJ.children[1].children[0].children[0].addChild(i)})},compressLTZJH:function(e){var t=this;this.result_ZJH.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[],cardShape:null};if(a.name=o.userName,a.isBanker=o.userID==e.banker,a.score=o.changeMoney,a.cardShape=o.cardShape,a.roomInfoType=e.type,o.handData)for(var r=0;r<o.handData.length;r++)a.handCards.push(o.handData[r]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_ZJH.children[0]);i.active=!0,i.getComponent("ZJH_ZhanJi_Item").initData(e),t.result_ZJH.children[1].children[0].children[0].addChild(i)})},compressTTZ:function(e){var t=this;this.result_TTZ.active=!0;for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={handCards:[],cardShape:null};a.name=o.userName,a.score=o.changeMoney,a.cardShape=o.cardShape,a.roomInfoType=e.type;for(var r=0;r<o.handData.length;r++)a.handCards.push(o.handData[r]);i.push(a)}e.GuoDi?this.result_TTZ.getChildByName("guoDi").getComponent(cc.Label).string="\u9505\u5e95:"+e.GuoDi:this.result_TTZ.getChildByName("guoDi").getComponent(cc.Label).string="",i.forEach(function(e){var i=cc.instantiate(t.result_TTZ.children[0]);i.active=!0,i.getComponent("TTZ_ZhanJi_Item").initData(e),t.result_TTZ.children[1].children[0].children[0].addChild(i)})},compressTDHMJSX:function(e){var t=this;this.result_MJ.active=!0,cc.mj={},cc.mj.Data={},cc.mj.Data.ghostCard=[],e.laizi&&cc.mj.Data.ghostCard.push(e.laizi);for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={name:"",avatar:"",score:0,scoreGang:0,isBanker:!1,win:!1,ghostCards:[],anGangCards:[],gangCards:[],pengCards:[],handCards:[],isHuCard:!1,gangCount:0,buGangCount:0,rule:"",bIsHu:!1,bTing:!1,byHuType:null};a.byHuType=e.HuTypeEx,a.byDianPao=e.byDianPao,a.bZimo=e.bZimo,a.byBeDianPao=e.byBeDianPao,a.bIsHu=o.IsHu,a.roomInfoType=e.type;var r=o.userName;a.name=r,a.score=o.changeMoney,a.scoreGang=o.gang,a.ghostCards=[],a.anGangCards=[],a.gangCards=[],a.pengCards=[],a.handCards=[],a.gangCount=0,a.buGangCount=0;var s="";if(s=a.byBeDianPao==o.userID?"\u70b9\u70ae":"",a.bZimo?a.bIsHu&&(s="\u81ea\u6478"):a.bIsHu?s="\u5403\u80e1":o.userID==a.byBeDianPao&&(s="\u70b9\u70ae"),a.isBanker=o.userID==e.banker,a.win=o.IsHu,a.rule=s,o.userGCPData)for(var c=0;c<=4&&void 0!==o.userGCPData[c];c++){for(var l=void 0,u=0,h=0;h<=3;h++)void 0!==o.userGCPData[c][h]&&(0==h&&(l=o.userGCPData[c][h]),u++);3==u?a.pengCards.push(l):4==u&&a.gangCards.push(l)}for(var d=0;d<o.handData.length;d++)a.handCards.push(o.handData[d]),o.byBaoCard==o.handData[d]&&a.ghostCards.push(o.handData[d]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_MJ.children[0]);i.active=!0,i.getComponent("MJ_ZhanJi_Item").initData(e),t.result_MJ.children[1].children[0].children[0].addChild(i)})},compressHZMJ:function(e){var t=this;this.result_MJ.active=!0,cc.mj={},cc.mj.Data={},cc.mj.Data.ghostCard=[],e.laizi&&cc.mj.Data.ghostCard.push(e.laizi);for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={name:"",avatar:"",score:0,scoreGang:0,isBanker:!1,win:!1,ghostCards:[],anGangCards:[],gangCards:[],pengCards:[],handCards:[],isHuCard:!1,gangCount:0,buGangCount:0,rule:"",bycountGangFen:0};a.roomInfoType=e.type,a.bycountGangFen=o.gang;var r=o.userName;a.name=r,a.score=o.changeMoney,a.scoreGang=o.gang,a.ghostCards=[],a.anGangCards=[],a.gangCards=[],a.pengCards=[],a.handCards=[],a.gangCount=0,a.buGangCount=0;var s="";e.byDianPao==o.userID&&(e.type!=E_ROOM_TYPE.PRIVATE&&e.type!=E_ROOM_TYPE.TABLE&&e.type!=E_ROOM_TYPE.GOLD||(e.HuTypeEx[0]=F_GetMoneyDisplay(e.HuTypeEx[0],2),e.HuTypeEx[1]=F_GetMoneyDisplay(e.HuTypeEx[0],2)),s=(s="\u80e1\u5206+"+e.HuTypeEx[0])+" \u9a6c\u5206+"+e.HuTypeEx[1]),a.isBanker=o.userID==e.banker;var c="";if(e.byDianPao==o.userID&&(c="\u4e2d\u7801\u6570: "+e.HorsePai.length),a.win=""!=s,s+=" "+c,a.rule=s,o.userGCPData)for(var l=0;l<=4&&void 0!==o.userGCPData[l];l++){for(var u=void 0,h=0,d=0;d<=3;d++)void 0!==o.userGCPData[l][d]&&(0==d&&(u=o.userGCPData[l][d]),h++);3==h?a.pengCards.push(u):4==h&&a.gangCards.push(u)}for(var f=0;f<o.handData.length;f++)a.handCards.push(o.handData[f]),o.byBaoCard==o.handData[f]&&a.ghostCards.push(o.handData[f]);i.push(a)}i.forEach(function(e,i){var n=cc.instantiate(t.result_MJ.children[0]);n.active=!0,n.getComponent("MJ_ZhanJi_Item").initData(e,i),t.result_MJ.children[1].children[0].children[0].addChild(n)})},compressXZMJ:function(e){var t=this;this.result_MJ.active=!0,cc.mj={},cc.mj.Data={},cc.mj.Data.ghostCard=[],e.laizi&&cc.mj.Data.ghostCard.push(e.laizi);for(var i=[],n={},o=0;o<=e.user.length-1;o++)n[e.user[o].userID+""]=e.user[o].userName;for(var a=0;a<=e.user.length-1;a++){var r=e.user[a],s={name:"",avatar:"",score:0,scoreGang:0,isBanker:!1,win:!1,ghostCards:[],anGangCards:[],gangCards:[],pengCards:[],handCards:[],isHuCard:!1,gangCount:0,buGangCount:0,rule:""};s.roomInfoType=e.type;var c=r.userName;s.name=c,s.score=r.changeMoney,s.scoreGang=r.gang,s.ghostCards=[],s.anGangCards=[],s.gangCards=[],s.pengCards=[],s.handCards=[],s.gangCount=0,s.buGangCount=0;var l="";r.IsHu&&(r.bZimo&&(l+=tools.stringFormat("\u81ea\u6478({0}\u756a)",r.fan)),r.byDianPao==r.userID&&(l+="\u70b9\u70ae\u80e1\u3010"+n[r.byBeDianPao+""]+"\u653e\u70ae\u3011")),s.isBanker=r.userID==e.banker;var u="";if(e.byDianPao==r.userID&&(u="\u4e2d\u7801\u6570: "+e.HorsePai.length),s.win=r.IsHu,l+=" "+u,s.rule=l,r.userGCPData)for(var h=0;h<=4&&void 0!==r.userGCPData[h];h++){for(var d=void 0,f=0,p=0;p<=3;p++)void 0!==r.userGCPData[h][p]&&(0==p&&(d=r.userGCPData[h][p]),f++);3==f?s.pengCards.push(d):4==f&&s.gangCards.push(d)}for(var g=0;g<r.handData.length;g++)s.handCards.push(r.handData[g]),r.byBaoCard==r.handData[g]&&s.ghostCards.push(r.handData[g]);i.push(s)}i.forEach(function(e){var i=cc.instantiate(t.result_MJ.children[0]);i.active=!0,i.getComponent("MJ_ZhanJi_Item").initData(e),t.result_MJ.children[1].children[0].children[0].addChild(i)})},compressTDHMJ:function(e){var t=this;this.result_MJ.active=!0,cc.mj={},cc.mj.Data={},cc.mj.Data.ghostCard=[],e.laizi&&cc.mj.Data.ghostCard.push(e.laizi);for(var i=[],n=0;n<=e.user.length-1;n++){var o=e.user[n],a={name:"",avatar:"",score:0,scoreGang:0,isBanker:!1,win:!1,ghostCards:[],anGangCards:[],gangCards:[],pengCards:[],handCards:[],isHuCard:!1,gangCount:0,buGangCount:0,rule:""};a.roomInfoType=e.type;var r=o.userName;a.name=r,a.score=o.changeMoney,a.scoreGang=o.gang,a.ghostCards=[],a.anGangCards=[],a.gangCards=[],a.pengCards=[],a.handCards=[],a.gangCount=0,a.buGangCount=0;var s="";if(e.byDianPao==o.userID)for(var c=0;c<=12;c++)e.HuTypeEx[c]>0&&(0==c?s=TDHMJ_HUTYPE_NAME_DEF[c]+e.HuTypeEx[c]:s+=" "+TDHMJ_HUTYPE_NAME_DEF[c]+e.HuTypeEx[c]);a.isBanker=o.userID==e.banker;var l="";if(e.byDianPao==o.userID&&(l="\u4e2d\u7801\u6570: "+e.HorsePai.length),a.win=""!=s,s+=" "+l,a.rule=s,o.userGCPData)for(var u=0;u<=4&&void 0!==o.userGCPData[u];u++){for(var h=void 0,d=0,f=0;f<=3;f++)void 0!==o.userGCPData[u][f]&&(0==f&&(h=o.userGCPData[u][f]),d++);3==d?a.pengCards.push(h):4==d&&a.gangCards.push(h)}for(var p=0;p<o.handData.length;p++)a.handCards.push(o.handData[p]),o.byBaoCard==o.handData[p]&&a.ghostCards.push(o.handData[p]);i.push(a)}i.forEach(function(e){var i=cc.instantiate(t.result_MJ.children[0]);i.active=!0,i.getComponent("MJ_ZhanJi_Item").initData(e),t.result_MJ.children[1].children[0].children[0].addChild(i)})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ZhanJiItem:[function(e,t){"use strict";cc._RF.push(t,"2ce1cLyj+RH0ImX0jEWm92N","ZhanJiItem"),cc.Class({extends:e("BaseLayer"),properties:{text_roomnum:cc.Label,text_play:cc.Label,text_count:cc.Label,text_time:cc.Label,text_score:cc.Node,img_baseBg:cc.Node,layout_playerInfo:cc.Node,item_playerInfo:cc.Prefab,img_roomType:cc.Sprite,sp_vip:cc.SpriteFrame,sp_gold:cc.SpriteFrame,sp_score:cc.SpriteFrame,xiangqingBtn:cc.Button,xialaBtn:cc.Button,detailBtn:cc.Button,jushuText:cc.Label},init:function(t,i,n,o,a){this.data=t,this.gameID=i,this.zhanjiLayer=n,this.GameRecordLogic=new(e("GameRecordLogic")),this.idx=o,n.xiangqingScroll.node.active?(this.xiangqingBtn.node.active=!1,this.xialaBtn.node.active=!1,this.detailBtn.node.active=!0,this.initxiangqing(a)):(this.xiangqingBtn.node.active=!0,this.xialaBtn.node.active=!0,this.detailBtn.node.active=!1,this.initUI())},initUI:function(){var e=this.data,t=(GameManager.getGameTypeByJsonRule(this.gameID,e.gameRules),GameManager.getRoomTypeByJsonRule(this.gameID,e.gameRules));this.text_time.string=F_GetDateStringByTime(e.time),this.text_roomnum.string=e.deskPasswd,this.text_count.string=e.gameCount+"/"+e.maxGameCount+"\u5c40";var i="";if(0==e.deskPasswd){var n=function(t){if(t)for(var n=0;n<t.length;n++)if(t[n].roomID==e.roomID){i=t[n].name.indexOf("\u6392\u4f4d\u8d5b")>=0?"\u6392\u4f4d\u8d5b":t[n].name.indexOf("\u95ef\u5173\u8d5b")>=0?"\u95ef\u5173\u8d5b":"\u6bd4\u8d5b\u573a",this.data.roomType=i,this.text_roomnum.string="   "+i,this.text_count.string="\u95ef\u5173\u8d5b"==i?e.gameCount+"/"+e.maxGameCount+"\u5173":e.gameCount+"/"+e.maxGameCount+"\u5c40";break}}.bind(this);RoomListManager.requestAllRoomList(n)}t!=E_ROOM_TYPE.PRIVATE&&t!=E_ROOM_TYPE.TABLE&&t!=E_ROOM_TYPE.GOLD&&"\u6392\u4f4d\u8d5b"!=i&&"\u95ef\u5173\u8d5b"!=i&&"\u6bd4\u8d5b\u573a"!=i||(e.score=F_GetMoneyDisplay(e.score)),e.score<0?(this.text_score.getComponent(cc.Label).string=e.score,this.text_score.color=cc.color(0,101,178)):e.score>0?(this.text_score.getComponent(cc.Label).string="+"+e.score,this.text_score.color=cc.color(255,0,0)):0==e.score&&(this.text_score.getComponent(cc.Label).string=e.score,this.text_score.color=cc.color(255,0,0)),t==E_ROOM_TYPE.MATCH?this.img_roomType.spriteFrame=this.sp_vip:t==E_ROOM_TYPE.CARD?this.img_roomType.spriteFrame=this.sp_score:t==E_ROOM_TYPE.PRIVATE&&(this.img_roomType.spriteFrame=this.sp_gold)},initxiangqing:function(e){for(var t=this.gameID,i=this.data[this.idx],n=0;n<G_REGIST_GAME_LIST.length;++n)if(t==G_REGIST_GAME_LIST[n].id){this.text_count.string=G_REGIST_GAME_LIST[n].name,cc.log(this.text_count.string);break}var o=F_GetMoneyDisplay(i.score);this.text_time.string=F_GetDateStringByTime(i.time),this.text_roomnum.string=""+i.videoCode,this.text_play.string="\u7ecf\u5178\u73a9\u6cd5",this.jushuText.string="\u7b2c "+(this.idx+1)+("\u95ef\u5173\u8d5b"==e?" \u5173":" \u5c40"),o<0?(this.text_score.getComponent(cc.Label).string=o,this.text_score.color=cc.color(0,101,178)):o>0?(this.text_score.getComponent(cc.Label).string="+"+o,this.text_score.color=cc.color(255,0,0)):0==o&&(this.text_score.getComponent(cc.Label).string=o,this.text_score.color=cc.color(255,0,0)),this.img_roomType.node.active=!1,this.jushuText.node.active=!0},chakanxiangqing:function(){this.zhanjiLayer.chakanxiangqing(this.gameID,this.data.id,this.data.roomType)},onClickDetail:function(){var e=this,t=cc.loader.getXMLHttpRequest();t.open("GET","http://"+NetConfig.getAgentServer()+"/"+this.data[this.idx].videoCode+".json",!0),t.timeout=5e3,t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207&&t.responseText){var i=JSON.parse(t.responseText);e.zhanjiLayer.showDetailView(e.gameID,i)}},t.ontimeout=function(){},t.onerror=function(){},t.send()},onBtnXiaLa:function(e){var t=this;if(!this.isClicked){this.isClicked=!0,this.scheduleOnce(function(){t.isClicked=!1},.15);var i=e.target.getComponent("CommonCheckRadioBoxCtrlUI");i.setCheckBoxValue(e,null),i.getCheckBoxValue(e,null)?(this.data.gameRules&&GameManager.getRoomTypeByJsonRule(this.gameID,this.data.gameRules),0==this.layout_playerInfo.children.length?this.GameRecordLogic.requestSimpleGradeInfo(this.gameID,this.data.id,function(e){e.forEach(function(i,n){var o=cc.instantiate(t.item_playerInfo);o.getComponent("BaseLayer").init(i,n,t.data.roomType),t.layout_playerInfo.addChild(o),n==e.length-1&&(t.node.height=t.img_baseBg.height+t.layout_playerInfo.height)})}):this.node.height=this.img_baseBg.height+this.layout_playerInfo.height):this.node.height=this.img_baseBg.height}}}),cc._RF.pop()},{BaseLayer:"BaseLayer",GameRecordLogic:"GameRecordLogic"}],ZhanJiJifenLayer:[function(e,t){"use strict";cc._RF.push(t,"85c29v0bKJOhYZ9JxuFp9Xx","ZhanJiJifenLayer"),cc.Class({extends:e("BaseLayer"),properties:{listview:cc.ScrollView,listItem:cc.Prefab},start:function(){this.friendsGroup=FriendsGroupManager.getSelectFriendsGroup()},refreshListView:function(){this.selectedFuncID==FUNC_GOLD||this.selectedFuncID==FUNC_SCORE||(this.selectedFuncID,FUNC_VIP),this.friendsGroup.friendsGroupID}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ZhanJiLayer:[function(e,t){"use strict";cc._RF.push(t,"8ffe0pJRUtE3qTG+7c1lkMv","ZhanJiLayer"),cc.Class({extends:e("LobbyBaseLayer"),properties:{selectGamePrefab:cc.Prefab,selecGameScroll:cc.ScrollView,prefab_zhanjiItem:cc.Prefab,infoScroll:cc.ScrollView,xiangqingScroll:cc.ScrollView,detailScroll:cc.Node,prefab_DetailItem:cc.Prefab,mjSpriteAlt:cc.SpriteAtlas,roomText:cc.Label},init:function(t,i){var n=this;this.selectedGameList=t,this.selectedGameID=i||t[0],cc.mjSpriteAlt=this.mjSpriteAlt,this.GameRecordLogic=new(e("GameRecordLogic")),t.forEach(function(e,t){e==n.selectedGameID&&(n.selectedGameIndex=t)}),this.selectedGameIndex=this.selectedGameIndex||0},start:function(){this.PAGE_COUNT=6,this.initGameListView()},onEnable:function(){this.pageId=1,this.pageCount=0},initGameListView:function(){var e=this,t=function(t,i){e.onGameSelect(t,i)};this.selectedGameList.forEach(function(i,n){var o=cc.instantiate(e.selectGamePrefab),a=o.getComponent("BaseLayer");a.updateContent(i,n,t),i==e.selectedGameID&&(a.checkMark.active=!0,e.doGetGameRecord()),e.selecGameScroll.content.addChild(o)})},scrollEvent:function(e,t){switch(t){case 6:var i=this.pageId+1;i<=this.pageCount&&(this.pageId=i,this.setRecordPageItems(i))}},onGameSelect:function(e,t){this.selectedGameIndex!=t&&(this.selectedGameID=e,this.selectedGameIndex=t,this.doGetGameRecord(),this.detailScroll.removeAllChildren(),this.detailScroll.active=!1)},doGetGameRecord:function(){var e=this;this.setRecordListView(!1),this.GameRecordLogic.requestSimpleGradeList(this.selectedGameID,function(t){e.pageId=1,e.pageCount=0,e.initRecordListView(e.infoScroll,t)})},chakanxiangqing:function(e,t,i){var n=this;this.setRecordListView(!0),window.detailRecordID=t,this.GameRecordLogic.requestGradeList(e,t,function(e){n.initRecordListView(n.xiangqingScroll,e,!0,i)})},showDetailView:function(e,t){if(e&&t){this.detailScroll.active=!0,this.xiangqingScroll.node.active=!1,this.detailScroll.removeAllChildren();var i=cc.instantiate(this.prefab_DetailItem);i.getComponent("BaseLayer").init(e,t,this),this.detailScroll.addChild(i)}},setRecordListView:function(e){this.xiangqingScroll.node.active=e,this.infoScroll.node.active=!e},setRecordItems:function(e,t,i){var n=this;t.forEach(function(o,a){var r=cc.instantiate(n.prefab_zhanjiItem);r.getComponent("BaseLayer").init(e==n.xiangqingScroll?t:o,n.selectedGameID,n,a,i),e.content.addChild(r)})},setRecordPageItems:function(e){this.pageId=e;for(var t=1;t<=this.simpleGradeList.length;t++)if(t>(this.pageId-1)*this.PAGE_COUNT&&t<=this.pageId*this.PAGE_COUNT){var i=cc.instantiate(this.prefab_zhanjiItem);i.getComponent("BaseLayer").init(this.simpleGradeList[t-1],this.selectedGameID,this,t-1),this.simpleGradeNode.content.addChild(i)}},initRecordListView:function(e,t,i,n){i?(this.roomText.string="\u56de\u653e\u7801",e.content.removeAllChildren(),this.setRecordItems(e,t,n)):(this.roomText.string="\u623f\u95f4\u53f7",e.content.removeAllChildren(),this.pageCount=Math.ceil(t.length/this.PAGE_COUNT),this.pageId=1,this.simpleGradeList=t,this.simpleGradeNode=e,this.setRecordPageItems(this.pageId))},onCloseBtn:function(){this.xiangqingScroll.node.active?(this.setRecordListView(!1),this.xiangqingScroll.content.removeAllChildren()):this.detailScroll.active?(this.detailScroll.removeAllChildren(),this.detailScroll.active=!1,this.xiangqingScroll.node.active=!0):this.node.removeFromParent()},onChosePlay:function(e,t){switch(t){case"jifen":this.jifenRoom.active=!0}}}),cc._RF.pop()},{GameRecordLogic:"GameRecordLogic",LobbyBaseLayer:"LobbyBaseLayer"}],ZhanJiPlayerItem:[function(e,t){"use strict";cc._RF.push(t,"97f9aNGLR5AqZJwmeDcf1YX","ZhanJiPlayerItem"),cc.Class({extends:e("BaseLayer"),properties:{img_avatar:cc.Sprite,text_nickname:cc.Label,text_id:cc.Label,text_score:cc.Node},init:function(e,t,i){this.data=e,this.idx=t,this.roomType=i},onLoad:function(){var e=this;cc.winSize.width/1280<1&&this.node.setScale(cc.winSize.width/1280);var t=this.data,i=F_GetMoneyDisplay(t.score)+"";t.score<0?(this.text_score._components[0].string=i,this.text_score.color=cc.color(0,101,178)):t.score>0?(this.text_score._components[0].string="+"+i,this.text_score.color=cc.color(255,0,0)):0==t.score&&(this.text_score._components[0].string=i,this.text_score.color=cc.color(255,0,0)),UserInfoManager.requestUserInfoByUserID(t.userID,function(t){cc.log("haah"),cc.log(t),e.text_nickname&&(e.text_nickname.string=t.name),e.text_id&&(e.text_id.string=t.userID),AvatarManager.requestHeadRes(t.headURL,t.userID,function(t){e.img_avatar&&cc.isValid(e.img_avatar)&&(e.img_avatar.spriteFrame=t)})})}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],ZhuanzengLayer:[function(e,t){"use strict";cc._RF.push(t,"491e710AT1DPaMzjhOWfRKU","ZhuanzengLayer"),cc.Class({extends:e("BaseLayer"),properties:{friendIDEditbox:cc.EditBox,giveNumEditbox:cc.EditBox},onLoad:function(){this.zhuanzengLogic=new(e("ZhuanzengLogic"))},doEditBoxCountChanged:function(){var e=this.giveNumEditbox.string,t=ConfigDataManager.getConfigDataByKey("sendGiftMinJewels",10);if(""!=e){var i=0;(i=this.zhuanzengLogic.getRoomCard()-ConfigDataManager.getConfigDataByKey("sendGiftMyLimitJewels",50))<0&&(i=0),t=(t=(t=parseInt(e))>i&&i||t)<self.countMin&&self.countMin||t}t.toString()!=e&&(this.giveNumEditbox.string=t)},onTouchGive:function(){var e=this,t=this.friendIDEditbox.string,i=this.giveNumEditbox.string;if(E_ResourceType.CARD,t&&""!=t)if(i&&""!=i){t=parseInt(t),i=parseInt(i),LobbySocket.getMyInfo().userID==t&&createTips("\u4e0d\u53ef\u4ee5\u8d60\u9001\u7ed9\u81ea\u5df1");var n,o=ConfigDataManager.getConfigDataByKey("sendGiftMyLimitJewels",50);if(ConfigDataManager.getConfigDataByKey("sendGiftMinJewels",10),n=LobbySocket.getMyInfo().jewels-o,/(^[1-9]\d*$)/.test(i))if(0!=i)if(LobbySocket.getMyInfo().jewels<o)createTips("\u60a8\u7684\u94bb\u77f3\u4f4e\u4e8e129\u5f20\uff0c\u65e0\u6cd5\u8f6c\u8d60\u7ed9\u4ed6\u4eba");else if(i>n)createTips("\u60a8\u8f6c\u8d60\u7684\u94bb\u77f3\u5927\u4e8e"+n+"\u5f20\uff0c\u65e0\u6cd5\u8f6c\u8d60\u7ed9\u4ed6\u4eba");else{var a=ConfigDataManager.getConfigDataByKey("sendGiftRate",.05),r=i-Math.ceil(a*i),s={};s.msg="\n\u8f6c\u8d60\u9700\u6536\u53d6"+100*a+"%\u7684\u624b\u7eed\u8d39\n\u60a8\u8f6c\u8d60\u7684"+i+"\u5f20\u94bb\u77f3\uff0c\u5bf9\u65b9\u5c06\u6536\u5230"+r+"\u5f20\u94bb\u77f3",s.btn1="\u786e  \u5b9a",s.callbackFun=function(n){"\u786e  \u5b9a"==n&&e.zhuanzengLogic.requestSendGift(t,E_ResourceType.CARD,i,function(){createTips("\u8d60\u9001\u94bb\u77f3\u6210\u529f"),e.doEditBoxCountChanged()})},createMsgBox(s)}else createTips("\u8f6c\u8d60\u6570\u76ee\u6700\u5c0f\u4e3a1");else createTips("\u8bf7\u8f93\u5165\u6b63\u6574\u6570,\u6700\u5c0f\u4e3a1")}else createTips("\u8bf7\u8f93\u5165\u8d60\u9001\u6570\u91cf");else createTips("\u8bf7\u8f93\u5165\u597d\u53cbID")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",ZhuanzengLogic:"ZhuanzengLogic"}],ZhuanzengLogic:[function(e,t){"use strict";cc._RF.push(t,"310e0id/bJBSatrSgGdW4Zu","ZhuanzengLogic"),cc.Class({extends:e("LogicBasis"),onLoad:function(){},requestSendGift:function(e,t,i,n){var o={};o.params={api:"give",action:"giveResourcestt",userID:this.getUserID(),targetUserID:e,resourcesType:t,num:i},o.fCallback=function(){createTips("\u8bf7\u6c42giveResourcestt\u8d85\u65f6")},o.sCallback=function(e){0==e.status?n&&n():createTips(e.msg)},o.requestDesc="\u8f6c\u8d60\u4e2d...",MyHttpRequest.doRequest(o)}}),cc._RF.pop()},{LogicBasis:"LogicBasis"}],base64:[function(require,module,exports){(function(global){"use strict";cc._RF.push(module,"c4ef0tHAlpNtb4mSS57xZJ7","base64"),function(e,t){"object"==typeof exports&&void 0!==module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:void 0,function(global){global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e.charAt(i)]=i;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(i>>>18),b64chars.charAt(i>>>12&63),t>=2?"=":b64chars.charAt(i>>>6&63),t>=1?"=":b64chars.charAt(63&i)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,i=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][i],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],bytebuffer:[function(e,t){"use strict";var n;cc._RF.push(t,"eee97e9QpBJl5sl66XdbmS6","bytebuffer"),n=function(e){var t=function e(t,i,n){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===i&&(i=e.DEFAULT_ENDIAN),void 0===n&&(n=e.DEFAULT_NOASSERT),!n){if((t|=0)<0)throw RangeError("Illegal capacity");i=!!i,n=!!n}this.buffer=0===t?o:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=i,this.noAssert=n};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.LITTLE_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var o=new ArrayBuffer(0),a=String.fromCharCode;function r(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function c(e,t,i,n,o){var a,r,s=8*o-n-1,c=(1<<s)-1,l=c>>1,u=-7,h=i?o-1:0,d=i?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(r=a&(1<<-u)-1,a>>=-u,u+=n;u>0;r=256*r+e[t+h],h+=d,u-=8);if(0===a)a=1-l;else{if(a===c)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,n),a-=l}return(f?-1:1)*r*Math.pow(2,a-n)}function l(e,t,i,n,o,a){var r,s,c,l=8*a-o-1,u=(1<<l)-1,h=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-r))<1&&(r--,c*=2),(t+=r+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(r++,c/=2),r+h>=u?(s=0,r=u):r+h>=1?(s=(t*c-1)*Math.pow(2,o),r+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),r=0));o>=8;e[i+f]=255&s,f+=p,s/=256,o-=8);for(r=r<<o|s,l+=o;l>0;e[i+f]=255&r,f+=p,r/=256,l-=8);e[i+f-p]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,i,n){return new t(e,i,n)},t.concat=function(e,n,o,a){"boolean"!=typeof n&&"string"==typeof n||(a=o,o=n,n=void 0);for(var r,s=0,c=0,l=e.length;c<l;++c)t.isByteBuffer(e[c])||(e[c]=t.wrap(e[c],n)),(r=e[c].limit-e[c].offset)>0&&(s+=r);if(0===s)return new t(0,o,a);var u,h=new t(s,o,a);for(i=0;i<k;)u=e[i++],length=u.limit-u.offset,length<=0||(h.view.set(u.view.subarray(u.offset,u.limit),h.offset),h.offset+=length);return h.limit=h.offset,h.offset=0,h},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,i,o,a){if("string"!=typeof i&&(a=o,o=i,i=void 0),"string"==typeof e)switch(void 0===i&&(i="utf8"),i){case"base64":return t.fromBase64(e,o);case"hex":return t.fromHex(e,o);case"binary":return t.fromBinary(e,o);case"utf8":return t.fromUTF8(e,o);case"debug":return t.fromDebug(e,o);default:throw Error("Unsupported encoding: "+i)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var r;if(t.isByteBuffer(e))return(r=n.clone.call(e)).markedOffset=-1,r;if(e instanceof Uint8Array)r=new t(0,o,a),e.length>0&&(r.buffer=e.buffer,r.offset=e.byteOffset,r.limit=e.byteOffset+e.byteLength,r.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)r=new t(0,o,a),e.byteLength>0&&(r.buffer=e,r.offset=0,r.limit=e.byteLength,r.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(r=new t(e.length,o,a)).limit=e.length;for(var s=0;s<e.length;++s)r.view[s]=e[s]}return r},n.writeBitSet=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n,o=t,a=e.length,r=a>>3,s=0;for(t+=this.writeVarint32(a,t);r--;)n=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(n,t++);if(s<a){var c=0;for(n=0;s<a;)n|=(1&!!e[s++])<<c++;this.writeByte(n,t++)}return i?(this.offset=t,this):t-o},n.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var i,n=this.readVarint32(e),o=n.value,a=o>>3,r=0,s=[];for(e+=n.length;a--;)i=this.readByte(e++),s[r++]=!!(1&i),s[r++]=!!(2&i),s[r++]=!!(4&i),s[r++]=!!(8&i),s[r++]=!!(16&i),s[r++]=!!(32&i),s[r++]=!!(64&i),s[r++]=!!(128&i);if(r<o){var c=0;for(i=this.readByte(e++);r<o;)s[r++]=!!(i>>c++&1)}return t&&(this.offset=e),s},n.readBytes=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw cc.log(t,"offsetoffsetoffset"),cc.log(e,"lengthlengthlengthlengthlength"),cc.log(this.buffer.byteLength,"this.buffer.byteLengththis.buffer.byteLength"),RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var n=this.slice(t,t+e);return i&&(this.offset+=e),n},n.writeBytes=n.append,n.writeInt8=function(e,t){e||(e=0);var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,i&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=this.view[e];return 128==(128&i)&&(i=-(255-i+1)),t&&(this.offset+=1),i},n.readByte=n.readInt8,n.writeUint8=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,i&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=this.view[e];return t&&(this.offset+=1),i},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),i&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e],i|=this.view[e+1]<<8):(i=this.view[e]<<8,i|=this.view[e+1]),32768==(32768&i)&&(i=-(65535-i+1)),t&&(this.offset+=2),i},n.readShort=n.readInt16,n.writeUint16=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),i&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e],i|=this.view[e+1]<<8):(i=this.view[e]<<8,i|=this.view[e+1]),t&&(this.offset+=2),i},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),i&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0),i|=0,t&&(this.offset+=4),i},n.readInt=n.readInt32,n.writeUint32=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),i&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0),t&&(this.offset+=4),i},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),i+=8;var o=this.buffer.byteLength;i>o&&this.resize((o*=2)>i?o:i),i-=8;var a=t.low,r=t.high;return this.littleEndian?(this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a,i+=4,this.view[i+3]=r>>>24&255,this.view[i+2]=r>>>16&255,this.view[i+1]=r>>>8&255,this.view[i]=255&r):(this.view[i]=r>>>24&255,this.view[i+1]=r>>>16&255,this.view[i+2]=r>>>8&255,this.view[i+3]=255&r,i+=4,this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a),n&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var n=0,o=0;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,o=this.view[t+2]<<16,o|=this.view[t+1]<<8,o|=this.view[t],o+=this.view[t+3]<<24>>>0):(o=this.view[t+1]<<16,o|=this.view[t+2]<<8,o|=this.view[t+3],o+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0);var a=new e(n,o,!1);return i&&(this.offset+=8),a},n.readLong=n.readInt64,n.writeUint64=function(t,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),i+=8;var o=this.buffer.byteLength;i>o&&this.resize((o*=2)>i?o:i),i-=8;var a=t.low,r=t.high;return this.littleEndian?(this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a,i+=4,this.view[i+3]=r>>>24&255,this.view[i+2]=r>>>16&255,this.view[i+1]=r>>>8&255,this.view[i]=255&r):(this.view[i]=r>>>24&255,this.view[i+1]=r>>>16&255,this.view[i+2]=r>>>8&255,this.view[i+3]=255&r,i+=4,this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a),n&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var n=0,o=0;this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,o=this.view[t+2]<<16,o|=this.view[t+1]<<8,o|=this.view[t],o+=this.view[t+3]<<24>>>0):(o=this.view[t+1]<<16,o|=this.view[t+2]<<8,o|=this.view[t+3],o+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0);var a=new e(n,o,!0);return i&&(this.offset+=8),a},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=4,l(this.view,e,t,this.littleEndian,23,4),i&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=c(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),i},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var n=this.buffer.byteLength;return t>n&&this.resize((n*=2)>t?n:t),t-=8,l(this.view,e,t,this.littleEndian,52,8),i&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=c(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),i},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=t.calculateVarint32(e);i+=a;var r=this.buffer.byteLength;for(i>r&&this.resize((r*=2)>i?r:i),i-=a,e>>>=0;e>=128;)o=127&e|128,this.view[i++]=o,e>>>=7;return this.view[i++]=e,n?(this.offset=i,this):a},n.writeVarint32ZigZag=function(e,i){return this.writeVarint32(t.zigZagEncode32(e),i)},n.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=0,o=0;do{if(!this.noAssert&&e>this.limit){var a=Error("Truncated");throw a.truncated=!0,a}i=this.view[e++],n<5&&(o|=(127&i)<<7*n),++n}while(0!=(128&i));return o|=0,t?(this.offset=e,o):{value:o,length:n}},n.readVarint32ZigZag=function(e){var i=this.readVarint32(e);return"object"==typeof i?i.value=t.zigZagDecode32(i.value):i=t.zigZagDecode32(i),i},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var i=t.toInt()>>>0,n=t.shiftRightUnsigned(28).toInt()>>>0,o=t.shiftRightUnsigned(56).toInt()>>>0;return 0==o?0==n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:o<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(i,n){var o=void 0===n;if(o&&(n=this.offset),!this.noAssert){if("number"==typeof i)i=e.fromNumber(i);else if("string"==typeof i)i=e.fromString(i);else if(!(i&&i instanceof e))throw TypeError("Illegal value: "+i+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof i?i=e.fromNumber(i,!1):"string"==typeof i?i=e.fromString(i,!1):!1!==i.unsigned&&(i=i.toSigned());var a=t.calculateVarint64(i),r=i.toInt()>>>0,s=i.shiftRightUnsigned(28).toInt()>>>0,c=i.shiftRightUnsigned(56).toInt()>>>0;n+=a;var l=this.buffer.byteLength;switch(n>l&&this.resize((l*=2)>n?l:n),n-=a,a){case 10:this.view[n+9]=c>>>7&1;case 9:this.view[n+8]=9!==a?128|c:127&c;case 8:this.view[n+7]=8!==a?s>>>21|128:s>>>21&127;case 7:this.view[n+6]=7!==a?s>>>14|128:s>>>14&127;case 6:this.view[n+5]=6!==a?s>>>7|128:s>>>7&127;case 5:this.view[n+4]=5!==a?128|s:127&s;case 4:this.view[n+3]=4!==a?r>>>21|128:r>>>21&127;case 3:this.view[n+2]=3!==a?r>>>14|128:r>>>14&127;case 2:this.view[n+1]=2!==a?r>>>7|128:r>>>7&127;case 1:this.view[n]=1!==a?128|r:127&r}return o?(this.offset+=a,this):a},n.writeVarint64ZigZag=function(e,i){return this.writeVarint64(t.zigZagEncode64(e),i)},n.readVarint64=function(t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=t,o=0,a=0,r=0,s=0;if(o=127&(s=this.view[t++]),128&s&&(o|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(a=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(r=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var c=e.fromBits(o|a<<28,a>>>4|r<<24,!1);return i?(this.offset=t,c):{value:c,length:t-n}},n.readVarint64ZigZag=function(i){var n=this.readVarint64(i);return n&&n.value instanceof e?n.value=t.zigZagDecode64(n.value):n=t.zigZagDecode64(n),n}),n.writeCString=function(e,t){var i=void 0===t;i&&(t=this.offset);var n,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<o;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}o=h.calculateUTF16asUTF8(r(e))[1],t+=o+1;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=o+1,h.encodeUTF16toUTF8(r(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,i?(this.offset=t,this):o},n.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,o=-1;return h.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(o=this.view[e++])?null:o}.bind(this),i=s(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},n.writeIString=function(e,t){var i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n,o=t;n=h.calculateUTF16asUTF8(r(e),this.noAssert)[1],t+=4+n;var a=this.buffer.byteLength;if(t>a&&this.resize((a*=2)>t?a:t),t-=4+n,this.littleEndian?(this.view[t+3]=n>>>24&255,this.view[t+2]=n>>>16&255,this.view[t+1]=n>>>8&255,this.view[t]=255&n):(this.view[t]=n>>>24&255,this.view[t+1]=n>>>16&255,this.view[t+2]=n>>>8&255,this.view[t+3]=255&n),t+=4,h.encodeUTF16toUTF8(r(e),function(e){this.view[t++]=e}.bind(this)),t!==o+4+n)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+n));return i?(this.offset=t,this):t-o},n.readIString=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=e,o=this.readUint32(e),a=this.readUTF8String(o,t.METRICS_BYTES,e+=4);return e+=a.length,i?(this.offset=e,a.string):{string:a.string,length:e-n}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var i,n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var o=t;i=h.calculateUTF16asUTF8(r(e))[1],t+=i;var a=this.buffer.byteLength;t>a&&this.resize((a*=2)>t?a:t),t-=i,h.encodeUTF16toUTF8(r(e),function(e){this.view[t++]=e}.bind(this));var s=new TextEncoder("gbk",{NONSTANDARD_allowLegacyEncoding:!1}).encode(e);return new Blob([s],{type:"text/plain"}),n?(this.offset=t,this):t-o},n.writeGBKString=function(e,t){var i,n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var o=t;t+=i=h.calculateUTF16asUTF8(r(e))[1];var a=this.buffer.byteLength;t>a&&this.resize((a*=2)>t?a:t),t-=i;var s=new TextEncoder("gbk",{NONSTANDARD_allowLegacyEncoding:!0}).encode(e);return this.view.set(s,t),t+=s.byteLength,n?(this.offset=t,this):t-o},n.writeString=n.writeGBKString,t.calculateUTF8Chars=function(e){return h.calculateUTF16asUTF8(r(e))[0]},t.calculateString=t.calculateUTF8Bytes=function(e){return h.calculateUTF16asUTF8(r(e))[1]},n.readUTF8String=function(e,i,n){"number"==typeof i&&(n=i,i=void 0);var o=void 0===n;if(o&&(n=this.offset),void 0===i&&(i=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var a,r=0,c=n;if(i===t.METRICS_CHARS){if(a=s(),h.decodeUTF8(function(){return r<e&&n<this.limit?this.view[n++]:null}.bind(this),function(e){++r,h.UTF8toUTF16(e,a)}),r!==e)throw RangeError("Illegal range: Truncated data, "+r+" == "+e);return o?(this.offset=n,a()):{string:a(),length:n-c}}if(i===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+e+") <= "+this.buffer.byteLength)}var l=n+e;if(h.decodeUTF8toUTF16(function(){return n<l?this.view[n++]:null}.bind(this),a=s(),this.noAssert),n!==l)throw RangeError("Illegal range: Truncated data, "+n+" == "+l);return o?(this.offset=n,a()):{string:a(),length:n-c}}throw TypeError("Unsupported metrics: "+i)},n.readString=n.readUTF8String,n.writeVString=function(e,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a,s=i;o=h.calculateUTF16asUTF8(r(e),this.noAssert)[1],a=t.calculateVarint32(o),i+=a+o;var c=this.buffer.byteLength;if(i>c&&this.resize((c*=2)>i?c:i),i-=a+o,i+=this.writeVarint32(o,i),h.encodeUTF16toUTF8(r(e),function(e){this.view[i++]=e}.bind(this)),i!==s+o+a)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+o+a));return n?(this.offset=i,this):i-s},n.readVString=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,o=this.readVarint32(e),a=this.readUTF8String(o.value,t.METRICS_BYTES,e+=o.length);return e+=a.length,i?(this.offset=e,a.string):{string:a.string,length:e-n}},n.append=function(e,i,n){"number"!=typeof i&&"string"==typeof i||(n=i,i=void 0);var o=void 0===n;if(o&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,i));var a=e.limit-e.offset;if(a<=0)return this;n+=a;var r=this.buffer.byteLength;return n>r&&this.resize((r*=2)>n?r:n),n-=a,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=a,o&&(this.offset+=a),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var i=new t(0,this.littleEndian,this.noAssert);return e?(i.buffer=new ArrayBuffer(this.buffer.byteLength),i.view=new Uint8Array(i.buffer)):(i.buffer=this.buffer,i.view=this.view),i.offset=this.offset,i.markedOffset=this.markedOffset,i.limit=this.limit,i},n.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var i=t-e;if(0===i)return this.buffer=o,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(i),a=new Uint8Array(n);return a.set(this.view.subarray(e,t)),this.buffer=n,this.view=a,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=i,this},n.copy=function(e,i){if(void 0===e&&(e=this.offset),void 0===i&&(i=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(e===i)return new t(0,this.littleEndian,this.noAssert);var n=i-e,o=new t(n,this.littleEndian,this.noAssert);return o.offset=0,o.limit=n,o.markedOffset>=0&&(o.markedOffset-=e),this.copyTo(o,0,e,i),o},n.copyTo=function(e,i,n,o){var a,r;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(i=(r=void 0===i)?e.offset:0|i,n=(a=void 0===n)?this.offset:0|n,o=void 0===o?this.limit:0|o,i<0||i>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+i+" <= "+e.buffer.byteLength);if(n<0||o>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var s=o-n;return 0===s?e:(e.ensureCapacity(i+s),e.view.set(this.view.subarray(n,o),i),a&&(this.offset+=s),r&&(e.offset+=s),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,i){var n=void 0===t;if(n&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===i&&(i=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(t>=i)return this;for(;t<i;)this.view[t++]=e;return n&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian=void 0===e||!!e,this},n.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},n.prepend=function(e,i,n){"number"!=typeof i&&"string"==typeof i||(n=i,i=void 0);var o=void 0===n;if(o&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,i));var a=e.limit-e.offset;if(a<=0)return this;var r=a-n;if(r>0){var s=new ArrayBuffer(this.buffer.byteLength+r),c=new Uint8Array(s);c.set(this.view.subarray(n,this.buffer.byteLength),a),this.buffer=s,this.view=c,this.offset+=r,this.markedOffset>=0&&(this.markedOffset+=r),this.limit+=r,n+=r}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),n-a),e.offset=e.limit,o&&(this.offset-=a),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),i=new Uint8Array(t);i.set(this.view),this.buffer=t,this.view=i}return this},n.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},n.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=e,i.limit=t,i},n.toBuffer=function(e){var t=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(!e&&0===t&&i===this.buffer.byteLength)return this.buffer;if(t===i)return o;var n=new ArrayBuffer(i-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,i),0),n},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,i){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(i=t=e="utf8"),e){case"utf8":return this.toUTF8(t,i);case"base64":return this.toBase64(t,i);case"hex":return this.toHex(t,i);case"binary":return this.toBinary(t,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var u=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],n=0,o=t.length;n<o;++n)i[t[n]]=n;return e.encode=function(e,i){for(var n,o;null!==(n=e());)i(t[n>>2&63]),o=(3&n)<<4,null!==(n=e())?(i(t[63&((o|=n>>4&15)|n>>4&15)]),o=(15&n)<<2,null!==(n=e())?(i(t[63&(o|n>>6&3)]),i(t[63&n])):(i(t[63&o]),i(61))):(i(t[63&o]),i(61),i(61))},e.decode=function(e,t){var n,o,a;function r(e){throw Error("Illegal character code: "+e)}for(;null!==(n=e());)if(void 0===(o=i[n])&&r(n),null!==(n=e())&&(void 0===(a=i[n])&&r(n),t(o<<2>>>0|(48&a)>>4),null!==(n=e()))){if(void 0===(o=i[n])){if(61===n)break;r(n)}if(t((15&a)<<4>>>0|(60&o)>>2),null!==(n=e())){if(void 0===(a=i[n])){if(61===n)break;r(n)}t((3&o)<<6>>>0|a)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var i;return u.encode(function(){return e<t?this.view[e++]:null}.bind(this),i=s()),i()},t.fromBase64=function(e,i){if("string"!=typeof e)throw TypeError("str");var n=new t(e.length/4*3,i),o=0;return u.decode(r(e),function(e){n.view[o++]=e}),n.limit=o,n},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var i=[],n=[];e<t;)i.push(this.view[e++]),i.length>=1024&&(n.push(String.fromCharCode.apply(String,i)),i=[]);return n.join("")+String.fromCharCode.apply(String,i)},t.fromBinary=function(e,i){if("string"!=typeof e)throw TypeError("str");for(var n,o=0,a=e.length,r=new t(a,i);o<a;){if((n=e.charCodeAt(o))>255)throw RangeError("illegal char code: "+n);r.view[o++]=n}return r.limit=a,r},n.toDebug=function(e){for(var t,i=-1,n=this.buffer.byteLength,o="",a="",r="";i<n;){if(-1!==i&&(o+=(t=this.view[i])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(a+=t>32&&t<127?String.fromCharCode(t):".")),++i,e&&i>0&&i%16==0&&i!==n){for(;o.length<51;)o+=" ";r+=o+a+"\n",o=a=""}i===this.offset&&i===this.limit?o+=i===this.markedOffset?"!":"|":i===this.offset?o+=i===this.markedOffset?"[":"<":i===this.limit?o+=i===this.markedOffset?"]":">":o+=i===this.markedOffset?"'":e||0!==i&&i!==n?" ":""}if(e&&" "!==o){for(;o.length<51;)o+=" ";r+=o+a+"\n"}return e?r:o},t.fromDebug=function(e,i,n){for(var o,a,r=e.length,s=new t((r+1)/3|0,i,n),c=0,l=0,u=!1,h=!1,d=!1,f=!1,p=!1;c<r;){switch(o=e.charAt(c++)){case"!":if(!n){if(h||d||f){p=!0;break}h=d=f=!0}s.offset=s.markedOffset=s.limit=l,u=!1;break;case"|":if(!n){if(h||f){p=!0;break}h=f=!0}s.offset=s.limit=l,u=!1;break;case"[":if(!n){if(h||d){p=!0;break}h=d=!0}s.offset=s.markedOffset=l,u=!1;break;case"<":if(!n){if(h){p=!0;break}h=!0}s.offset=l,u=!1;break;case"]":if(!n){if(f||d){p=!0;break}f=d=!0}s.limit=s.markedOffset=l,u=!1;break;case">":if(!n){if(f){p=!0;break}f=!0}s.limit=l,u=!1;break;case"'":if(!n){if(d){p=!0;break}d=!0}s.markedOffset=l,u=!1;break;case" ":u=!1;break;default:if(!n&&u){p=!0;break}if(a=parseInt(o+e.charAt(c++),16),!n&&(isNaN(a)||a<0||a>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[l++]=a,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+c)}if(!n){if(!h||!f)throw TypeError("Illegal str: Missing offset or limit");if(l<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+l+" < "+r)}return s},n.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var i,n=new Array(t-e);e<t;)(i=this.view[e++])<16?n.push("0",i.toString(16)):n.push(i.toString(16));return n.join("")},t.fromHex=function(e,i,n){if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var o,a=e.length,r=new t(a/2|0,i),s=0,c=0;s<a;s+=2){if(o=parseInt(e.substring(s,s+2),16),!n&&(!isFinite(o)||o<0||o>255))throw TypeError("Illegal str: Contains non-hex characters");r.view[c++]=o}return r.limit=j,r};var h=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<128?t(127&i):i<2048?(t(i>>6&31|192),t(63&i|128)):i<65536?(t(i>>12&15|224),t(i>>6&63|128),t(63&i|128)):(t(i>>18&7|240),t(i>>12&63|128),t(i>>6&63|128),t(63&i|128)),i=null},decodeUTF8:function(e,t){for(var i,n,o,a,r=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(i=e());)if(0==(128&i))t(i);else if(192==(224&i))null===(n=e())&&r([i,n]),t((31&i)<<6|63&n);else if(224==(240&i))(null===(n=e())||null===(o=e()))&&r([i,n,o]),t((15&i)<<12|(63&n)<<6|63&o);else{if(240!=(248&i))throw RangeError("Illegal starting byte: "+i);(null===(n=e())||null===(o=e())||null===(a=e()))&&r([i,n,o,a]),t((7&i)<<18|(63&n)<<12|(63&o)<<6|63&a)}},UTF16toUTF8:function(e,t){for(var i,n=null;null!==(i=null!==n?n:e());)i>=55296&&i<=57343&&null!==(n=e())&&n>=56320&&n<=57343?(t(1024*(i-55296)+n-56320+65536),n=null):t(i);null!==n&&t(n)},UTF8toUTF16:function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<=65535?t(i):(t(55296+((i-=65536)>>10)),t(i%1024+56320)),i=null},encodeUTF16toUTF8:function(t,i){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,i)})},decodeUTF8toUTF16:function(t,i){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,i)})},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,i=0;null!==(t=e());)i+=t<128?1:t<2048?2:t<65536?3:4;return i},calculateUTF16asUTF8:function(t){var i=0,n=0;return e.UTF16toUTF8(t,function(e){++i,n+=e<128?1:e<2048?2:e<65536?3:4}),[i,n]}};return e}();return n.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{h.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),i=s())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},t.fromUTF8=function(e,i,n){if(!n&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var o=new t(h.calculateUTF16asUTF8(r(e),!0)[1],i,n),a=0;return h.encodeUTF16toUTF8(r(e),function(e){o.view[a++]=e}),o.limit=a,o},t},"function"==typeof define&&define.amd?define(["long"],n):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=e("long")}catch(i){}return n(t)}():((void 0).dcodeIO=(void 0).dcodeIO||{}).ByteBuffer=n((void 0).dcodeIO.Long),cc._RF.pop()},{long:"long"}],item_deal_ting:[function(e,t){"use strict";cc._RF.push(t,"4a9b5FWnRxEr5SKF3vDsgmD","item_deal_ting"),cc.Class({extends:cc.Component,properties:{headerNode:cc.Sprite,moneyLabel:cc.Label,nickNameLabel:cc.Label,rankingLabel:cc.Label},setData:function(e){var t=this;cc.log(e,"zhuangitemdata"),""!=e.name?(this.nickNameLabel.string=e.name,e.userID&&e.headURL&&AvatarManager.requestHeadRes(e.headURL,e.userID,function(e){t.headerNode&&cc.isValid(t.headerNode)&&(t.headerNode.spriteFrame=e)})):(cc.log(e,"\u51c6\u5907\u8bf7\u6c42\u73a9\u5bb6\u6570\u636e"+e.shangzhuangMoney),UserInfoManager.requestUserInfoByUserID(e.userID,function(i){t.nickNameLabel&&(t.nickNameLabel.string=i.name,e.userID&&i.headURL)&&AvatarManager.requestHeadRes(i.headURL,e.userID,function(e){t.headerNode&&cc.isValid(t.headerNode)&&(t.headerNode.spriteFrame=e)})})),void 0!==e.shangzhuangMoney&&this.moneyLabel.getComponent("mlabel").setString(e.shangzhuangMoney,!0),e.ranking&&(this.rankingLabel.string=e.ranking)}}),cc._RF.pop()},{}],loading_node:[function(e,t){"use strict";cc._RF.push(t,"8a2f34yGCFNzZMLmfOGDNd0","loading_node"),cc.Class({extends:cc.Component,properties:{skeleton:sp.SkeletonData},onLoad:function(){cc.game.addPersistRootNode(this.node)},start:function(){this.node.active=!1;var e=new cc.Node,t=e.addComponent(sp.Skeleton);t.skeletonData=this.skeleton,t.isLoop=!0,t.animation="animation",t.premultipliedAlpha=!1,this.node.addChild(e),cc.game.isPersistRootNode(this.node)}}),cc._RF.pop()},{}],loadmyfile:[function(e,t){"use strict";cc._RF.push(t,"a0f96XImUVMyY5LWEGvhl7D","loadmyfile"),e("GlobalConfig"),window.GameSocket=new(e("GameSocket")),window.CityListManager=new(e("CityListManager")),window.GameManager=new(e("GameManager")),window.GameBuyConfigManager=new(e("GameBuyConfigManager")),window.MailManager=new(e("MailManager")),window.NoticeManager=new(e("NoticeManager")),window.AvatarManager=new(e("AvatarManager")),window.LoginManager=new(e("LoginManager")),window.InviteCodeManager=new(e("InviteCodeManager")),window.ConfigDataManager=new(e("ConfigDataManager")),window.FriendsGroupManager=new(e("FriendsGroupManager")),window.GameRecordManager=new(e("GameRecordManager")),window.RoomRecordManager=new(e("RoomRecordManager")),window.RankManager=new(e("RankManager")),window.ChatMessageManager=new(e("ChatMessageManager")),window.NetConfig=e("NetConfig"),window.LobbySocket=new(e("LobbySocket")),window.ItemListManager=new(e("ItemListManager")),window.ConfigManager=new(e("ConfigManager")),window.FeedbackManager=new(e("FeedbackManager")),window.DataNotify=new(e("DataNotify")),window.MYAudioEngine=new(e("MYAudioEngine")),window.MatchManager=new(e("MatchManager")),cc._RF.pop()},{AvatarManager:"AvatarManager",ChatMessageManager:"ChatMessageManager",CityListManager:"CityListManager",ConfigDataManager:"ConfigDataManager",ConfigManager:"ConfigManager",DataNotify:"DataNotify",FeedbackManager:"FeedbackManager",FriendsGroupManager:"FriendsGroupManager",GameBuyConfigManager:"GameBuyConfigManager",GameManager:"GameManager",GameRecordManager:"GameRecordManager",GameSocket:"GameSocket",GlobalConfig:"GlobalConfig",InviteCodeManager:"InviteCodeManager",ItemListManager:"ItemListManager",LobbySocket:"LobbySocket",LoginManager:"LoginManager",MYAudioEngine:"MYAudioEngine",MailManager:"MailManager",MatchManager:"MatchManager",NetConfig:"NetConfig",NoticeManager:"NoticeManager",RankManager:"RankManager",RoomRecordManager:"RoomRecordManager"}],long:[function(e,t){"use strict";var i;cc._RF.push(t,"1e43bIyfSdNk5198LLpp8IS","long"),i=function(){function e(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var i={},n={};function o(e,t){var o,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=n[e])?a:(o=r(e,(0|e)<0?-1:0,!0),s&&(n[e]=o),o):(s=-128<=(e|=0)&&e<128)&&(a=i[e])?a:(o=r(e,e<0?-1:0,!1),s&&(i[e]=o),o)}function a(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=h)return C}else{if(e<=-d)return b;if(e+1>=d)return v}return e<0?a(-e,t).neg():r(e%u|0,e/u|0,t)}function r(t,i,n){return new e(t,i,n)}e.fromInt=o,e.fromNumber=a,e.fromBits=r;var s=Math.pow;function c(e,t,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(i=t,t=!1):t=!!t,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return c(e.substring(1),t,i).neg();for(var o=a(s(i,8)),r=p,l=0;l<e.length;l+=8){var u=Math.min(8,e.length-l),h=parseInt(e.substring(l,l+u),i);if(u<8){var d=a(s(i,u));r=r.mul(d).add(a(h))}else r=(r=r.mul(o)).add(a(h))}return r.unsigned=t,r}function l(t){return t instanceof e?t:"number"==typeof t?a(t):"string"==typeof t?c(t):r(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=l;var u=4294967296,h=u*u,d=h/2,f=o(1<<24),p=o(0);e.ZERO=p;var g=o(0,!0);e.UZERO=g;var m=o(1);e.ONE=m;var _=o(1,!0);e.UONE=_;var y=o(-1);e.NEG_ONE=y;var v=r(-1,2147483647,!1);e.MAX_VALUE=v;var C=r(-1,-1,!0);e.MAX_UNSIGNED_VALUE=C;var b=r(0,-2147483648,!1);e.MIN_VALUE=b;var S=e.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(b)){var t=a(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=a(s(e,6),this.unsigned),r=this,c="";;){var l=r.div(o),u=(r.sub(l.mul(o)).toInt()>>>0).toString(e);if((r=l).isZero())return u+c;for(;u.length<6;)u="0"+u;c=""+u+c}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(b)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?bit+33:bit+1},S.isZero=function(){return 0===this.high&&0===this.low},S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return t(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.compare=function(e){if(t(e)||(e=l(e)),this.eq(e))return 0;var i=this.isNegative(),n=e.isNegative();return i&&!n?-1:!i&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(b)?b:this.not().add(m)},S.neg=S.negate,S.add=function(e){t(e)||(e=l(e));var i=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,u=e.low>>>16,h=0,d=0,f=0,p=0;return f+=(p+=a+(65535&e.low))>>>16,d+=(f+=o+u)>>>16,h+=(d+=n+c)>>>16,h+=i+s,r((f&=65535)<<16|(p&=65535),(h&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return t(e)||(e=l(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=l(e)),e.isZero())return p;if(this.eq(b))return e.isOdd()?b:p;if(e.eq(b))return this.isOdd()?b:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return a(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,n=65535&this.high,o=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,d=65535&e.low,g=0,m=0,_=0,y=0;return _+=(y+=s*d)>>>16,m+=(_+=o*d)>>>16,_&=65535,m+=(_+=s*h)>>>16,g+=(m+=n*d)>>>16,m&=65535,g+=(m+=o*h)>>>16,m&=65535,g+=(m+=s*u)>>>16,g+=i*d+n*h+o*u+s*c,r((_&=65535)<<16|(y&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(t(e)||(e=l(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var i,n,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return _;o=g}else{if(this.eq(b))return e.eq(m)||e.eq(y)?b:e.eq(b)?m:(i=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:y:(n=this.sub(e.mul(i)),o=i.add(n.div(e)));if(e.eq(b))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}for(n=this;n.gte(e);){i=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var r=Math.ceil(Math.log(i)/Math.LN2),c=r<=48?1:s(2,r-48),u=a(i),h=u.mul(e);h.isNegative()||h.gt(n);)h=(u=a(i-=c,this.unsigned)).mul(e);u.isZero()&&(u=m),o=o.add(u),n=n.sub(h)}return o},S.div=S.divide,S.modulo=function(e){return t(e)||(e=l(e)),this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.not=function(){return r(~this.low,~this.high,this.unsigned)},S.and=function(e){return t(e)||(e=l(e)),r(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return t(e)||(e=l(e)),r(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return t(e)||(e=l(e)),r(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):r(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):r(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var i=this.high;return e<32?r(this.low>>>e|i<<32-e,i>>>e,this.unsigned):r(32===e?i:i>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},e},"function"==typeof define&&define.amd?define([],i):"function"==typeof e&&"object"==typeof t&&t&&t.exports?t.exports=i():((void 0).dcodeIO=(void 0).dcodeIO||{}).Long=i(),cc._RF.pop()},{}],mlabel:[function(e,t){"use strict";cc._RF.push(t,"77fb4rXBSFEn5WnHaeWqwWR","mlabel"),cc.Class({extends:cc.Component,properties:{label:cc.Label,editBox:cc.EditBox},setString:function(e,t,i){void 0!==e?1==i?(this.label&&(this.label.string=e),this.editBox&&(this.editBox.string=e)):1==t?(this.label&&(this.label.string=tools.toAtlasValue(e)),this.editBox&&(this.editBox.string=tools.toAtlasValue(e))):0==t?(this.label&&(this.label.string=e/G_MULTI_NUM),this.editBox&&(this.editBox.string=e/G_MULTI_NUM)):(this.label&&(this.label.string=e),this.editBox&&(this.editBox.string=e)):cc.error("\u6570\u5b57\u4e32\u4e3a\u7a7a")},start:function(){}}),cc._RF.pop()},{}],personMsgDialog:[function(e,t){"use strict";cc._RF.push(t,"c72c3xNVUxIt66t1l34ldq1","personMsgDialog");var i=e("EventEmiter").GlobalEvent,n={toggle1:1,toggle2:0};cc.Class({extends:e("BaseLayer"),properties:{PersonNode_Y:cc.Node,PersonNode_N:cc.Node,PersonLayout_Y:cc.Node,PersonLayout_N:cc.Node,nickEdit:cc.EditBox,toggleboy:cc.Toggle,togglegirt:cc.Toggle,labelID:cc.Label,imgHead:cc.Sprite,imgHead2:cc.Sprite,IphoneEdit:cc.EditBox,CodeEdit:cc.EditBox,adressEdit:cc.EditBox},onLoad:function(){this.PersonNode_Y.active=!1,this.PersonNode_N.active=!1},onEnable:function(){cc.game.canvas.focus(),i.instance.on("PLAYER_NICK_CHANGE",this.onNameChange,this),this.initUI(0)},onDisable:function(){i.instance.off("PLAYER_NICK_CHANGE",this.onNameChange,this)},onNameChange:function(){},initUI:function(t){this.LobbyLogic=new(e("LobbyLogic"));var i=this.LobbyLogic.getAvataUrl(),n=this.LobbyLogic.getNickName(),o=this.LobbyLogic.getUserID(),a=this.LobbyLogic.getPhone(),r=this.LobbyLogic.getGoodsAddress(),s=this.LobbyLogic.getMyInfo();this.myInfo=s;var c=!1;if(this.sex=s.sex,""==a&&""==r&&(c=!0),1==t&&(c=!0),c){0==t&&(this.PersonNode_N.active=!0);var l=function(e){this.imgHead2&&cc.isValid(this.imgHead2)&&(this.imgHead2.spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(i,o,l,null),1==s.sex?this.toggleboy.getComponent(cc.Toggle).check():this.togglegirt.getComponent(cc.Toggle).check(),this.nickEdit.string=unescape(n),this.labelID.string=""+o,this.IphoneEdit.string=a+"",this.CodeEdit.string="",this.adressEdit.string=r+""}else{0==t&&(this.PersonNode_Y.active=!0);var u=function(e){this.imgHead&&cc.isValid(this.imgHead)&&(this.imgHead.spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(i,o,u,null),this.PersonLayout_Y.getChildByName("img_sex").getChildByName("lab_Sex").getComponent(cc.Label).string=1==s.sex?"\u7537":"\u5973",this.PersonLayout_Y.getChildByName("img_Name").getChildByName("lab_Name").getComponent(cc.Label).string=n+"",this.PersonLayout_Y.getChildByName("img_ID").getChildByName("lab_ID").getComponent(cc.Label).string=o+"",this.PersonLayout_Y.getChildByName("img_iphone").getChildByName("lab_iphone").getComponent(cc.Label).string=a+"",this.PersonLayout_Y.getChildByName("img_address").getChildByName("lab_address").getComponent(cc.Label).string=r+""}},doButton_ChangeClick:function(){this.PersonNode_Y.active=!1,this.PersonNode_N.active=!0,this.initUI(1)},onBtnCopyID:function(){if(this.labelID){var e=this.LobbyLogic.getUserID();e&&tools.copyTextFun(e)?createTips("\u590d\u5236\u6210\u529f:"+e):createTips("\u590d\u5236\u5931\u8d25\uff01")}},onSexXiuGai:function(e){this.sex=n[e.node.name]},doButton_Code:function(){this.requestbCode(this.IphoneEdit)},requestbCode:function(e){cc.log(e.string);var t=e.string;if(11==t.length&&""!=t){var i=function(e){0==e.status?createTips("\u53d1\u9001\u6210\u529f"):createTips(e.msg)}.bind(this),n={};n.url=NetConfig.getPHPUrl(),n.url="https://"+NetConfig.getPHP_IP()+"/api/v1/Phone/sendCode",n.params={phone:t,type:0},n.sCallback=i,n.fCallback=function(){cc.log("\u8bf7\u6c42bindPhoneCode\u8d85\u65f6")},n.responseType=cc.XMLHTTPREQUEST_RESPONSE_JSON,n.requestDesc="\u53d1\u9001\u9a8c\u8bc1\u7801...",MyHttpRequest.doRequest(n)}else createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},doButton_PRIVE:function(){createTips("\u656c\u8bf7\u671f\u5f85")},doButton_OK:function(){var t=this;this.LobbyLogic=new(e("LobbyLogic"));var n=this.IphoneEdit.string,o=this.adressEdit.string,a=this.CodeEdit.string,r=this.nickEdit.string;""!=r?""!=n?""!=a?6==a.length?""!=o?UserInfoManager.requestChangeUserInfor(this.sex,r,n,a,o,function(){createTips("\u4fdd\u5b58\u6210\u529f"),LobbySocket.getMyInfo().sex=t.sex,LobbySocket.getMyInfo().name=r,LobbySocket.getMyInfo().goodsPhone=n,LobbySocket.getMyInfo().goodsAddress=o,i.instance.emit("PLAYER_NICK_CHANGE",r),t.PersonNode_Y.active=!1,t.PersonNode_N.active=!1,t.initUI(0)}):createTips("\u8bf7\u8f93\u5165\u8be6\u7ec6\u6536\u8d27\u5730\u5740"):createTips("\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"):createTips("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"):createTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7\u7801"):createTips("\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0")},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer",EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic"}],personRealName:[function(e,t){"use strict";cc._RF.push(t,"01ca5raM01NaY617iWp5uuT","personRealName"),e("EventEmiter").GlobalEvent,cc.Class({extends:e("BaseLayer"),properties:{PersonNode_Y:cc.Node,PersonNode_N:cc.Node,realNamelab:cc.Label,idCardlab:cc.Label,RealNameEdit:cc.EditBox,IDCardEdit:cc.EditBox,toggleyx:cc.Toggle},onLoad:function(){this.PersonNode_Y.active=!1,this.PersonNode_N.active=!1},onEnable:function(){cc.game.canvas.focus(),this.initUI()},onDisable:function(){},initUI:function(){this.LobbyLogic=new(e("LobbyLogic"));var t=this.LobbyLogic.getRealName(),i=this.LobbyLogic.getIDCard();if(""==t&&""==i)this.PersonNode_N.active=!0,this.RealNameEdit.string=t+"",this.IDCardEdit.string=i+"";else{this.PersonNode_Y.active=!0;var n="";2==t.length?n+=t.substring(0,1)+"*":n+=t.substring(0,1)+"**",this.realNamelab.string=""+n;var o="    "+i.substring(0,12)+"******";this.idCardlab.string=""+o}},doButton_ChangeClick:function(){this.PersonNode_Y.active=!1,this.PersonNode_N.active=!0,this.initUI(1)},doButton_PRIVE:function(){createTips("\u656c\u8bf7\u671f\u5f85")},doButton_OK:function(){var t=this;this.LobbyLogic=new(e("LobbyLogic"));var i=this.RealNameEdit.string,n=this.IDCardEdit.string;""!=i?""!=n&&18==n.length?0!=this.toggleyx.isChecked?UserInfoManager.requestChangeRealName(i,n,function(){createTips("\u8ba4\u8bc1\u6210\u529f"),LobbySocket.getMyInfo().realName=i,LobbySocket.getMyInfo().idCard=n,t.PersonNode_Y.active=!1,t.PersonNode_N.active=!1,t.initUI()}):createTips("\u9700\u52fe\u9009\u9605\u8bfb\u5e76\u540c\u610f\u65b9\u53ef\u63d0\u4ea4"):createTips("\u8bf7\u8f93\u516518\u4f4d\u6709\u6548\u7684\u8eab\u4efd\u8bc1\u53f7"):createTips("\u8bf7\u8f93\u5165\u60a8\u7684\u59d3\u540d")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic"}],personVideoDialog:[function(e,t){"use strict";cc._RF.push(t,"a778eBs+/FMQoibhDTtPNWd","personVideoDialog");var i=e("../../LiveBroadcast/GlobelContext"),n=e("VideoManager"),o=e("EventEmiter").GlobalEvent;cc.Class({extends:e("BaseLayer"),properties:{labNickname:cc.Label,imgHead:cc.Sprite,uploadPrefab:cc.Prefab,tipsPrefab:cc.Prefab,uploadNode:cc.Node,videoNode:cc.Node,videoContent:cc.Node,videoItem:cc.Prefab,timeLabel:cc.Label,sp1:cc.SpriteFrame,sp2:cc.SpriteFrame,labWait:cc.Label},onLoad:function(){o.instance.on("upload_sucess",this.onEvent_Upload,this),o.instance.on("play_video_dialog",this.onEvent_VideoPlay,this)},onDestroy:function(){o.instance.off("upload_sucess",this.onEvent_Upload,this),o.instance.off("play_video_dialog",this.onEvent_VideoPlay,this)},start:function(){this.initUI(),this.loadVideoVip()},onEvent_Upload:function(){var e=this;console.log("\u5237\u65b0\u89c6\u9891\u5217\u8868"),this.labWait.node.active=!0,window.setTimeout(function(){e.showVideoList()},6e3),window.setTimeout(function(){e.labWait.node.active=!1,e.showVideoList()},1e4)},onEvent_VideoPlay:function(e){window.personVedio={startIdx:e,list:this.m_data},window.backBtnTag=1,window.personVedioBak=this.m_data,o.instance.emit("switch_page_msg","livebroadcast")},showVideoList:function(){var e=this,t=function(t){e.m_data=t,console.log("\u4e2a\u4eba\u89c6\u9891\u6570\u91cf\uff1a",e.m_data.length),e.videoContent.removeAllChildren();for(var i=0;i<e.m_data.length;i++){var n=e.m_data[i],o=cc.instantiate(e.videoItem);e.videoContent.addChild(o),o.getComponent("personVideoItem").init(i,n,!0)}};window.personVedioBak?(t(window.personVedioBak),window.personVedioBak=null):(this.m_data=[],n.instance.requestUserVideoList(UserInfoManager.getMyInfo().userID,function(e){console.log("===>",e),t(e)}))},loadVideoVip:function(){var e=this;this.timeLabel.node.active=!1,this.videoNode.active=!1,n.instance.requestUserVideoVip(function(t){console.log(t),e.initVideoUI(t)})},secTimeToStrCN:function(e){var t,i,n;if(e>=0)return t=Math.floor(e/60/60/24),i=Math.floor(e/60/60%24),n=Math.floor(e/60%60),Math.floor(e%60),(0==t?"":t+"\u5929")+(0==i?"":i+"\u65f6")+(0==n?"":n+"\u5206")},initVideoUI:function(e){this.videoData=e,1==e.isVip?(this.uploadNode.getComponent(cc.Sprite).spriteFrame=this.sp1,this.timeLabel.node.active=!0,this.timeLabel.string="\u5269\u4f59\u65f6\u95f4\uff1a"+this.secTimeToStrCN(e.time),this.videoNode.active=!0,this.showVideoList()):this.uploadNode.getComponent(cc.Sprite).spriteFrame=this.sp2},initUI:function(){this.LobbyLogic=new(e("LobbyLogic"));var t=this.LobbyLogic.getAvataUrl(),i=this.LobbyLogic.getNickName(),n=this.LobbyLogic.getUserID(),o=function(e){this.imgHead&&cc.isValid(this.imgHead)&&(this.imgHead.spriteFrame=e)}.bind(this);AvatarManager.requestHeadRes(t,n,o,null),this.labNickname.string=i},doButton_OpenUpload:function(){var e=this;if(1==this.videoData.isVip&&this.videoData.time>0){var t=cc.instantiate(this.uploadPrefab);t.zIndex=100,this.node.addChild(t)}else{var i=cc.instantiate(this.tipsPrefab);i.zIndex=100,this.node.addChild(i);var n=i.getComponent("personVideoTips");n.init(this.videoData.cost),n.setCallBack(function(t){e.initVideoUI(t)})}},doButton_Event:function(){LobbyCanvas.showLiveView({identity:i.IdentityType.ANCHOR})}}),cc._RF.pop()},{"../../LiveBroadcast/GlobelContext":"GlobelContext",BaseLayer:"BaseLayer",EventEmiter:"EventEmiter",LobbyLogic:"LobbyLogic",VideoManager:"VideoManager"}],personVideoItem:[function(e,t){"use strict";cc._RF.push(t,"99a23h1rG1P4J59Tu4Y7Gj0","personVideoItem");var i=e("EventEmiter").GlobalEvent;cc.Class({extends:e("BaseLayer"),properties:{labStar:cc.Label,imgPic:cc.Sprite},onLoad:function(){},init:function(e,t,i){var n=this;this.index=e,this.m_data=t,this.bDialog=i,console.log("\u89c6\u9891\uff1a",t),this.loadRemoteAvatar(t.CoverUrl,function(e,t){t&&(n.imgPic.spriteFrame=t)}),this.labStar.string=""+t.star},loadRemoteAvatar:function(e,t){cc.assetManager.loadRemote(e,function(i,n){if(i)return console.error("load remote spriteframe res failed url:"+e,i.message||i),void(t&&t(i,null));var o=new cc.SpriteFrame(n);t&&t(null,o)})},doButton_OpenVideo:function(){this.bDialog?i.instance.emit("play_video_dialog",this.index):i.instance.emit("play_video",this.index)}}),cc._RF.pop()},{BaseLayer:"BaseLayer",EventEmiter:"EventEmiter"}],personVideoTips:[function(e,t){"use strict";cc._RF.push(t,"b414cSXhthKPLz6CLI8Tb5j","personVideoTips");var i=e("VideoManager");cc.Class({extends:e("BaseLayer"),properties:{labCost:cc.Label},start:function(){},init:function(e){this.labCost.string="\u5f00\u901a\u201c\u4e0a\u4f20\u89c6\u9891\u201d\u529f\u80fd\u6bcf\u6708\u9700\u8981\u82b1\u8d39"+e+"\u793c\u5238\uff0c\u662f\u5426\u7ee7\u7eed\u5f00\u901a\uff1f"},setCallBack:function(e){this.callback=e},doButton_OpenVip:function(){var e=this;i.instance.requestUserVideoOpenVip(function(t){console.log(t),e.callback&&(t.isVip=1,t.time=t.also_time,e.callback(t)),e.callback=null,e.node.destroy()})},doButton_Event:function(){this.node.destroy()}}),cc._RF.pop()},{BaseLayer:"BaseLayer",VideoManager:"VideoManager"}],personVideoView:[function(e,t){"use strict";cc._RF.push(t,"6389aI9wWJPI4MijjqBU4tg","personVideoView");var i=e("VideoManager"),n=e("EventEmiter").GlobalEvent;cc.Class({extends:e("BaseLayer"),properties:{labNickname:cc.Label,imgHead:cc.Sprite,labLoveText:cc.Label,videoContent:cc.Node,videoItem:cc.Prefab},onLoad:function(){n.instance.on("play_video",this.onEvent_VideoPlay,this)},onDestroy:function(){n.instance.off("play_video",this.onEvent_VideoPlay,this)},init:function(e,t){this.vedioData=e,e.upLoadID&&(this.userID=e.upLoadID),this.delegate=t,this.initUI(),this.showVideoList()},onEvent_VideoPlay:function(e){console.log("play video index =",e),this.delegate&&this.delegate.showPersonVedios&&(this.node.active=!1,this.delegate.showPersonVedios(e,this.m_data))},showVideoList:function(){var e=this;this.m_data=[];var t=function(t,i){console.log("===>",t),e.m_data=t,console.log("\u4e2a\u4eba\u89c6\u9891\u6570\u91cf\uff1a",e.m_data.length),e.videoContent.removeAllChildren();for(var n=0;n<e.m_data.length;n++){var o=e.m_data[n],a=!0;if(99999==i&&99999!=o.upLoadID&&(a=!1),a){var r=cc.instantiate(e.videoItem);e.videoContent.addChild(r),r.getComponent("personVideoItem").init(n,o,!1)}}};if(99999==this.userID){var n=i.instance.getVideoList();t(n,99999)}else i.instance.requestUserVideoList(this.userID,function(e){t(e,0)})},initUI:function(){var e=this,t=function(t){var i=function(t){e.imgHead&&cc.isValid(e.imgHead)&&(e.imgHead.spriteFrame=t)}.bind(e);AvatarManager.requestHeadRes(t.upLoadPic||t.headerURL,e.userID,i,null),e.labNickname.string=t.upLoadName,e.labLoveText.string=t.star};99999==this.userID?t(this.vedioData):i.instance.requestUserVideoTotal(this.userID,function(e){t(e)})},doButton_Event:function(){createTips("\u656c\u8bf7\u671f\u5f85")},doButton_close:function(){this.node.removeFromParent()}}),cc._RF.pop()},{BaseLayer:"BaseLayer",EventEmiter:"EventEmiter",VideoManager:"VideoManager"}],playRealMsgDialog:[function(e,t){"use strict";cc._RF.push(t,"92ee9mrhYJCKKES7Glu60ir","playRealMsgDialog"),cc.Class({extends:e("BaseLayer"),properties:{editboxRealName:cc.EditBox,editboxNumber:cc.EditBox,Text_tips:cc.Label,btn_Submit:cc.Button},onLoad:function(){},init:function(e){this.m_callback=e},doButton_SubmitClick:function(){var e=this,t=this.editboxRealName.string,i=this.editboxNumber.string;0!==t.length?0!==i.length?UserInfoManager.requestRealName(t,i,function(n){1==n.status?e.Text_tips.string=n.msg:0==n.status&&(UserInfoManager.setRealNameInfo(t,i),e.m_callback&&e.m_callback(n.msg),e.node&&e.node.removeFromParent())}):this.Text_tips.string="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u8eab\u4efd\u8bc1\u53f7\u7801":this.Text_tips.string="\u8bf7\u8f93\u5165\u6709\u6548\u7684\u771f\u5b9e\u59d3\u540d"},doButton_Close:function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))}}),cc._RF.pop()},{BaseLayer:"BaseLayer"}],protobuf:[function(require,module,exports){"use strict";cc._RF.push(module,"b3792Zx+GxLuL3NbKNC4V8q","protobuf"),function(global,undefined){(function(e,t){var i=global.protobuf=function i(n){var o=t[n];return o||e[n][0].call(o=t[n]={exports:{}},i,o,o.exports),o.exports}(19);"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(i.util.Long=e,i.configure()),i}),"object"==typeof module&&module&&module.exports&&(module.exports=i)})({1:[function(e,t){t.exports=function(e,t){for(var i=new Array(arguments.length-1),n=0,o=2,a=!0;o<arguments.length;)i[n++]=arguments[o++];return new Promise(function(o,r){i[n]=function(e){if(a)if(a=!1,e)r(e);else{for(var t=new Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];o.apply(null,t)}};try{e.apply(t||null,i)}catch(s){a&&(a=!1,r(s))}})}},{}],2:[function(e,t,i){var n=i;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var o=new Array(64),a=new Array(123),r=0;r<64;)a[o[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;n.encode=function(e,t,i){for(var n,a=null,r=[],s=0,c=0;t<i;){var l=e[t++];switch(c){case 0:r[s++]=o[l>>2],n=(3&l)<<4,c=1;break;case 1:r[s++]=o[n|l>>4],n=(15&l)<<2,c=2;break;case 2:r[s++]=o[n|l>>6],r[s++]=o[63&l],c=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,r)),s=0)}return c&&(r[s++]=o[n],r[s++]=61,1===c&&(r[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,r.slice(0,s))),a.join("")):String.fromCharCode.apply(String,r.slice(0,s))},n.decode=function(e,t,i){for(var n,o=i,r=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&r>1)break;if((c=a[c])===undefined)throw Error("invalid encoding");switch(r){case 0:n=c,r=1;break;case 1:t[i++]=n<<2|(48&c)>>4,n=c,r=2;break;case 2:t[i++]=(15&n)<<4|(60&c)>>2,n=c,r=3;break;case 3:t[i++]=(3&n)<<6|c,r=0}}if(1===r)throw Error("invalid encoding");return i-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t){function i(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function o(e){if("string"!=typeof e){var t=a();if(i.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var r=Object.keys(e),s=new Array(r.length+1),c=new Array(r.length),l=0;l<r.length;)s[l]=r[l],c[l]=e[r[l++]];return s[l]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,function(e,t){var i=u[h++];switch(t){case"d":case"f":return String(Number(i));case"i":return String(Math.floor(i));case"j":return JSON.stringify(i);case"s":return String(i)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return n.push(e),o}function a(i){return"function "+(i||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=a,o}t.exports=i,i.verbose=!1},{}],4:[function(e,t){function i(){this._listeners={}}t.exports=i,i.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},i.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},{}],5:[function(e,t){t.exports=o;var i=e(1),n=e(7)("fs");function o(e,t,a){return"function"==typeof t?(a=t,t={}):t||(t={}),a?!t.xhr&&n&&n.readFile?n.readFile(e,function(i,n){return i&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,a):i?a(i):a(null,t.binary?n:n.toString("utf8"))}):o.xhr(e,t,a):i(o,this,e,t)}o.xhr=function(e,t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return i(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return i(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return i(null,n.responseText)},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},{1:1,7:7}],6:[function(e,t){function i(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function o(e,n,o){t[0]=e,n[o]=i[0],n[o+1]=i[1],n[o+2]=i[2],n[o+3]=i[3]}function a(e,n,o){t[0]=e,n[o]=i[3],n[o+1]=i[2],n[o+2]=i[1],n[o+3]=i[0]}function r(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function s(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?o:a,e.writeFloatBE=n?a:o,e.readFloatLE=n?r:s,e.readFloatBE=n?s:r}():function(){function t(e,t,i,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,i,n);else if(isNaN(t))e(2143289344,i,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,i,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,i,n);else{var a=Math.floor(Math.log(t)/Math.LN2);e((o<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,i,n)}}function i(e,t,i){var n=e(t,i),o=2*(n>>31)+1,a=n>>>23&255,r=8388607&n;return 255===a?r?NaN:o*(1/0):0===a?1401298464324817e-60*o*r:o*Math.pow(2,a-150)*(r+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,o),e.readFloatLE=i.bind(null,a),e.readFloatBE=i.bind(null,r)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function o(e,n,o){t[0]=e,n[o]=i[0],n[o+1]=i[1],n[o+2]=i[2],n[o+3]=i[3],n[o+4]=i[4],n[o+5]=i[5],n[o+6]=i[6],n[o+7]=i[7]}function a(e,n,o){t[0]=e,n[o]=i[7],n[o+1]=i[6],n[o+2]=i[5],n[o+3]=i[4],n[o+4]=i[3],n[o+5]=i[2],n[o+6]=i[1],n[o+7]=i[0]}function r(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function s(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:a,e.writeDoubleBE=n?a:o,e.readDoubleLE=n?r:s,e.readDoubleBE=n?s:r}():function(){function t(e,t,i,n,o,a){var r=n<0?1:0;if(r&&(n=-n),0===n)e(0,o,a+t),e(1/n>0?0:2147483648,o,a+i);else if(isNaN(n))e(0,o,a+t),e(2146959360,o,a+i);else if(n>17976931348623157e292)e(0,o,a+t),e((r<<31|2146435072)>>>0,o,a+i);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,a+t),e((r<<31|s/4294967296)>>>0,o,a+i);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,o,a+t),e((r<<31|c+1023<<20|1048576*s&1048575)>>>0,o,a+i)}}}function i(e,t,i,n,o){var a=e(n,o+t),r=e(n,o+i),s=2*(r>>31)+1,c=r>>>20&2047,l=4294967296*(1048575&r)+a;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=i.bind(null,a,0,4),e.readDoubleBE=i.bind(null,r,4,0)}(),e}function n(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function o(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function r(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=i(i)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,i){var n=i,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=o(e),n="";i&&(n=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):i?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return n+t.join("/")};n.resolve=function(e,t,i){return i||(t=a(t)),o(t)?t:(i||(e=a(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a(e+"/"+t):t)}},{}],9:[function(e,t){t.exports=function(e,t,i){var n=i||8192,o=n>>>1,a=null,r=n;return function(i){if(i<1||i>o)return e(i);r+i>n&&(a=e(n),r=0);var s=t.call(a,r,r+=i);return 7&r&&(r=1+(7|r)),s}}},{}],10:[function(e,t,i){var n=i;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,o=null,a=[],r=0;t<i;)(n=e[t++])<128?a[r++]=n:n>191&&n<224?a[r++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[r++]=55296+(n>>10),a[r++]=56320+(1023&n)):a[r++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],r>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),r=0);return o?(r&&o.push(String.fromCharCode.apply(String,a.slice(0,r))),o.join("")):String.fromCharCode.apply(String,a.slice(0,r))},n.write=function(e,t,i){for(var n,o,a=i,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(r+1)))?(n=65536+((1023&n)<<10)+(1023&o),++r,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-a}},{}],11:[function(e,t){t.exports=o;var i,n=/\/|\./;function o(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:i={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:i}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o.get=function(e){return o[e]||null}},{}],12:[function(e,t,i){var n=i,o=e(15),a=e(37);function r(e,t,i,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var a=t.resolvedType.values,r=Object.keys(a),s=0;s<r.length;++s)t.repeated&&a[r[s]]===t.typeDefault&&e("default:"),e("case%j:",r[s])("case %i:",a[r[s]])("m%s=%j",n,a[r[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,i,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,i,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,i,n,n):e("d%s=types[%i].toObject(m%s,o)",n,i,n);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,a?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,i=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return i("return new this.ctor");i("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),c=a.safeProp(s.name);s.map?(i("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),r(i,s,n,c+"[ks[i]]")("}")("}")):s.repeated?(i("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),r(i,s,n,c+"[i]")("}")("}")):(s.resolvedType instanceof o||i("if(d%s!=null){",c),r(i,s,n,c),s.resolvedType instanceof o||i("}"))}return i("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var i=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],r=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?r:c).push(t[l]);if(n.length){for(i("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)i("d%s=[]",a.safeProp(n[l].name));i("}")}if(r.length){for(i("if(o.objects||o.defaults){"),l=0;l<r.length;++l)i("d%s={}",a.safeProp(r[l].name));i("}")}if(c.length){for(i("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],h=a.safeProp(u.name);u.resolvedType instanceof o?i("d%s=o.enums===String?%j:%j",h,u.resolvedType.valuesById[u.typeDefault],u.typeDefault):u.long?i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,u.typeDefault.toString(),u.typeDefault.toNumber()):u.bytes?i("d%s=o.bytes===String?%j:%s",h,String.fromCharCode.apply(String,u.typeDefault),"["+Array.prototype.slice.call(u.typeDefault).join(",")+"]"):i("d%s=%j",h,u.typeDefault)}i("}")}var d=!1;for(l=0;l<t.length;++l){u=t[l];var f=e._fieldsArray.indexOf(u);h=a.safeProp(u.name),u.map?(d||(d=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),s(i,u,f,h+"[ks2[j]]")("}")):u.repeated?(i("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),s(i,u,f,h+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",h,u.name),s(i,u,f,h),u.partOf&&i("if(o.oneofs)")("d%s=%j",a.safeProp(u.partOf.name),u.name)),i("}")}return i("return d")}},{15:15,37:37}],13:[function(e,t){t.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),c=s.resolvedType instanceof i?"int32":s.type,l="m"+o.safeProp(s.name);t("case %i:",s.id),s.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",s.keyType)("r.pos++"),n.long[s.keyType]!==undefined?n.basic[c]===undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,r):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):n.basic[c]===undefined?t("%s[k]=types[%i].decode(r,r.uint32())",l,r):t("%s[k]=r.%s()",l,c)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),n.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),n.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,c)):n.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var i=e(15),n=e(36),o=e(37);function a(e){return"missing required '"+e.name+"'"}},{15:15,36:36,37:37}],14:[function(e,t){t.exports=function(e){for(var t,r=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),h=l.resolvedType instanceof i?"int32":l.type,d=n.basic[h];t="m"+o.safeProp(l.name),l.map?(r("if(%s!=null&&m.hasOwnProperty(%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|n.mapKey[l.keyType],l.keyType),d===undefined?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,h,t),r("}")("}")):l.repeated?(r("if(%s!=null&&%s.length){",t,t),l.packed&&n.packed[h]!==undefined?r("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",h,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),d===undefined?a(r,l,u,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(l.id<<3|d)>>>0,h,t)),r("}")):(l.optional&&r("if(%s!=null&&m.hasOwnProperty(%j))",t,l.name),d===undefined?a(r,l,u,t):r("w.uint32(%i).%s(%s)",(l.id<<3|d)>>>0,h,t))}return r("return w")};var i=e(15),n=e(36),o=e(37);function a(e,t,i,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",i,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",i,n,(t.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(e,t){t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var n=e(37);function o(e,t,n){if(i.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comments={},t)for(var o=Object.keys(t),a=0;a<o.length;++a)"number"==typeof t[o[a]]&&(this.valuesById[this.values[o[a]]=t[o[a]]]=o[a])}o.fromJSON=function(e,t){return new o(e,t.values,t.options)},o.prototype.toJSON=function(){return n.toObject(["options",this.options,"values",this.values])},o.prototype.add=function(e,t,i){if(!n.isString(e))throw TypeError("name must be a string");if(!n.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name");if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id");this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=i||null,this},o.prototype.remove=function(e){if(!n.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t===undefined)throw Error("name does not exist");return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this}},{24:24,37:37}],16:[function(e,t){t.exports=c;var i=e(24);((c.prototype=Object.create(i.prototype)).constructor=c).className="Field";var n,o=e(15),a=e(36),r=e(37),s=/^required|optional|repeated$/;function c(e,t,n,o,c,l){if(r.isObject(o)?(l=o,o=c=undefined):r.isObject(c)&&(l=c,c=undefined),i.call(this,e,l),!r.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!r.isString(n))throw TypeError("type must be a string");if(o!==undefined&&!s.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(c!==undefined&&!r.isString(c))throw TypeError("extend must be a string");this.rule=o&&"optional"!==o?o:undefined,this.type=n,this.id=t,this.extend=c||undefined,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!r.Long&&a.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,n)},c.prototype.toJSON=function(){return r.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])},c.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=a.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=r.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;r.base64.test(this.typeDefault)?r.base64.decode(this.typeDefault,e=r.newBuffer(r.base64.length(this.typeDefault)),0):r.utf8.write(this.typeDefault,e=r.newBuffer(r.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=r.emptyObject:this.repeated?this.defaultValue=r.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},c.d=function(e,t,i,n){return"function"==typeof t?t=r.decorateType(t).name:t&&"object"==typeof t&&(t=r.decorateEnum(t).name),function(o,a){r.decorateType(o.constructor).add(new c(a,e,t,i,{default:n}))}},c._configure=function(e){n=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t){var i=t.exports=e(18);i.build="light",i.load=function(e,t,n){return"function"==typeof t?(n=t,t=new i.Root):t||(t=new i.Root),t.load(e,n)},i.loadSync=function(e,t){return t||(t=new i.Root),t.loadSync(e)},i.encoder=e(14),i.decoder=e(13),i.verifier=e(40),i.converter=e(12),i.ReflectionObject=e(24),i.Namespace=e(23),i.Root=e(29),i.Enum=e(15),i.Type=e(35),i.Field=e(16),i.OneOf=e(25),i.MapField=e(20),i.Service=e(33),i.Method=e(22),i.Message=e(21),i.wrappers=e(41),i.types=e(36),i.util=e(37),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service),i.Root._configure(i.Type),i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,i){var n=i;function o(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=e(42),n.BufferWriter=e(43),n.Reader=e(27),n.BufferReader=e(28),n.util=e(39),n.rpc=e(31),n.roots=e(30),n.configure=o,n.Writer._configure(n.BufferWriter),o()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t){var i=t.exports=e(17);i.build="full",i.tokenize=e(34),i.parse=e(26),i.common=e(11),i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t){t.exports=a;var i=e(16);((a.prototype=Object.create(i.prototype)).constructor=a).className="MapField";var n=e(36),o=e(37);function a(e,t,n,a,r){if(i.call(this,e,t,a,r),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options)},a.prototype.toJSON=function(){return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])},a.prototype.resolve=function(){if(this.resolved)return this;if(n.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},a.d=function(e,t,i){return"function"==typeof i?i=o.decorateType(i).name:i&&"object"==typeof i&&(i=o.decorateEnum(i).name),function(n,r){o.decorateType(n.constructor).add(new a(r,e,t,i))}}},{16:16,36:36,37:37}],21:[function(e,t){t.exports=n;var i=e(39);function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)this[t[i]]=e[t[i]]}n.create=function(e){return this.$type.create(e)},n.encode=function(e,t){return this.$type.encode(e,t)},n.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},n.decode=function(e){return this.$type.decode(e)},n.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},n.verify=function(e){return this.$type.verify(e)},n.fromObject=function(e){return this.$type.fromObject(e)},n.toObject=function(e,t){return this.$type.toObject(e,t)},n.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(e,t){t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="Method";var n=e(37);function o(e,t,o,a,r,s,c){if(n.isObject(r)?(c=r,r=s=undefined):n.isObject(s)&&(c=s,s=undefined),t!==undefined&&!n.isString(t))throw TypeError("type must be a string");if(!n.isString(o))throw TypeError("requestType must be a string");if(!n.isString(a))throw TypeError("responseType must be a string");i.call(this,e,c),this.type=t||"rpc",this.requestType=o,this.requestStream=!!r||undefined,this.responseType=a,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options)},o.prototype.toJSON=function(){return n.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(e,t){t.exports=l;var i=e(24);((l.prototype=Object.create(i.prototype)).constructor=l).className="Namespace";var n,o,a=e(15),r=e(16),s=e(37);function c(e){if(!e||!e.length)return undefined;for(var t={},i=0;i<e.length;++i)t[e[i].name]=e[i].toJSON();return t}function l(e,t){i.call(this,e,t),this.nested=undefined,this._nestedArray=null}function u(e){return e._nestedArray=null,e}l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=c,Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=s.toArray(this.nested))}}),l.prototype.toJSON=function(){return s.toObject(["options",this.options,"nested",c(this.nestedArray)])},l.prototype.addJSON=function(e){if(e)for(var t,i=Object.keys(e),s=0;s<i.length;++s)t=e[i[s]],this.add((t.fields!==undefined?n.fromJSON:t.values!==undefined?a.fromJSON:t.methods!==undefined?o.fromJSON:t.id!==undefined?r.fromJSON:l.fromJSON)(i[s],t));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum")},l.prototype.add=function(e){if(!(e instanceof r&&e.extend!==undefined||e instanceof n||e instanceof a||e instanceof o||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof n||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var i=t.nestedArray,s=0;s<i.length;++s)e.add(i[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),u(this)},l.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),u(this)},l.prototype.define=function(e,t){if(s.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var i=this;e.length>0;){var n=e.shift();if(i.nested&&i.nested[n]){if(!((i=i.nested[n])instanceof l))throw Error("path conflicts with non-namespace objects")}else i.add(i=new l(n))}return t&&i.addJSON(t),i},l.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(e,t,i){if("boolean"==typeof t?(i=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),s.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof l&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||i?null:this.parent.lookup(e,t)},l.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type");return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l._configure=function(e,t){n=e,o=t}},{15:15,16:16,24:24,37:37}],24:[function(e,t){t.exports=o,o.className="ReflectionObject";var i,n=e(37);function o(e,t){if(!n.isString(e))throw TypeError("name must be a string");if(t&&!n.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},o.prototype.getOption=function(e){return this.options?this.options[e]:undefined},o.prototype.setOption=function(e,t,i){return i&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var i=Object.keys(e),n=0;n<i.length;++n)this.setOption(i[n],e[i[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){i=e}},{37:37}],25:[function(e,t){t.exports=a;var i=e(24);((a.prototype=Object.create(i.prototype)).constructor=a).className="OneOf";var n=e(16),o=e(37);function a(e,t,n){if(Array.isArray(t)||(n=t,t=undefined),i.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[]}function r(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options)},a.prototype.toJSON=function(){return o.toObject(["options",this.options,"oneof",this.oneof])},a.prototype.add=function(e){if(!(e instanceof n))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,r(this),this},a.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){i.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}r(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,i){o.decorateType(t.constructor).add(new a(i,e)),Object.defineProperty(t,i,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},{16:16,24:24,37:37}],26:[function(e,t){t.exports=L,L.filename=null,L.defaults={keepCase:!1};var i=e(34),n=e(29),o=e(35),a=e(16),r=e(20),s=e(25),c=e(15),l=e(33),u=e(22),h=e(36),d=e(37),f=/^[1-9][0-9]*$/,p=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,_=/^0[0-7]+$/,y=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,C=/^[a-zA-Z_][a-zA-Z_0-9]*$/,b=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,S=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function L(e,t,I){t instanceof n||(I=t,t=new n),I||(I=L.defaults);var R,N,T,E,M,D=i(e),A=D.next,w=D.push,O=D.peek,G=D.skip,B=D.cmnt,k=!0,P=!1,F=t,U=I.keepCase?function(e){return e}:d.camelCase;function x(e,t,i){var n=L.filename;return i||(L.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+D.line+")")}function H(){var e,t=[];do{if('"'!==(e=A())&&"'"!==e)throw x(e);t.push(A()),G(e),e=O()}while('"'===e||"'"===e);return t.join("")}function V(e){var t=A();switch(t){case"'":case'"':return w(t),H();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return J(t,!0)}catch(i){if(e&&b.test(t))return t;throw x(t,"value")}}function j(e,t){var i,n;do{!t||'"'!==(i=O())&&"'"!==i?e.push([n=Y(A()),G("to",!0)?Y(A()):n]):e.push(H())}while(G(",",!0));G(";")}function J(e,t){var i=1;switch("-"===e.charAt(0)&&(i=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return i*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return i*parseInt(e,10);if(g.test(e))return i*parseInt(e,16);if(_.test(e))return i*parseInt(e,8);if(v.test(e))return i*parseFloat(e);throw x(e,"number",t)}function Y(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw x(e,"id");if(p.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(y.test(e))return parseInt(e,8);throw x(e,"id")}function q(){if(R!==undefined)throw x("package");if(R=A(),!b.test(R))throw x(R,"name");F=F.define(R),G(";")}function W(){var e,t=O();switch(t){case"weak":e=T||(T=[]),A();break;case"public":A();default:e=N||(N=[])}t=H(),G(";"),e.push(t)}function K(){if(G("="),E=H(),!(P="proto3"===E)&&"proto2"!==E)throw x(E,"syntax");G(";")}function z(e,t){switch(t){case"option":return oe(e,t),G(";"),!0;case"message":return X(e,t),!0;case"enum":return ie(e,t),!0;case"service":return ce(e,t),!0;case"extend":return ue(e,t),!0}return!1}function Z(e,t,i){var n=D.line;if(e&&(e.comment=B(),e.filename=L.filename),G("{",!0)){for(var o;"}"!==(o=A());)t(o);G(";",!0)}else i&&i(),G(";"),e&&"string"!=typeof e.comment&&(e.comment=B(n))}function X(e,t){if(!C.test(t=A()))throw x(t,"type name");var i=new o(t);Z(i,function(e){if(!z(i,e))switch(e){case"map":ee(i);break;case"required":case"optional":case"repeated":Q(i,e);break;case"oneof":te(i,e);break;case"extensions":j(i.extensions||(i.extensions=[]));break;case"reserved":j(i.reserved||(i.reserved=[]),!0);break;default:if(!P||!b.test(e))throw x(e);w(e),Q(i,"optional")}}),e.add(i)}function Q(e,t,i){var n=A();if("group"!==n){if(!b.test(n))throw x(n,"type");var o=A();if(!C.test(o))throw x(o,"name");o=U(o),G("=");var r=new a(o,Y(A()),n,t,i);Z(r,function(e){if("option"!==e)throw x(e);oe(r,e),G(";")},function(){se(r)}),e.add(r),P||!r.repeated||h.packed[n]===undefined&&h.basic[n]!==undefined||r.setOption("packed",!1,!0)}else $(e,t)}function $(e,t){var i=A();if(!C.test(i))throw x(i,"name");var n=d.lcFirst(i);i===n&&(i=d.ucFirst(i)),G("=");var r=Y(A()),s=new o(i);s.group=!0;var c=new a(n,r,i,t);c.filename=L.filename,Z(s,function(e){switch(e){case"option":oe(s,e),G(";");break;case"required":case"optional":case"repeated":Q(s,e);break;default:throw x(e)}}),e.add(s).add(c)}function ee(e){G("<");var t=A();if(h.mapKey[t]===undefined)throw x(t,"type");G(",");var i=A();if(!b.test(i))throw x(i,"type");G(">");var n=A();if(!C.test(n))throw x(n,"name");G("=");var o=new r(U(n),Y(A()),t,i);Z(o,function(e){if("option"!==e)throw x(e);oe(o,e),G(";")},function(){se(o)}),e.add(o)}function te(e,t){if(!C.test(t=A()))throw x(t,"name");var i=new s(U(t));Z(i,function(e){"option"===e?(oe(i,e),G(";")):(w(e),Q(i,"optional"))}),e.add(i)}function ie(e,t){if(!C.test(t=A()))throw x(t,"name");var i=new c(t);Z(i,function(e){"option"===e?(oe(i,e),G(";")):ne(i,e)}),e.add(i)}function ne(e,t){if(!C.test(t))throw x(t,"name");G("=");var i=Y(A(),!0),n={};Z(n,function(e){if("option"!==e)throw x(e);oe(n,e),G(";")},function(){se(n)}),e.add(t,i,n.comment)}function oe(e,t){var i=G("(",!0);if(!b.test(t=A()))throw x(t,"name");var n=t;i&&(G(")"),n="("+n+")",t=O(),S.test(t)&&(n+=t,A())),G("="),ae(e,n)}function ae(e,t){if(G("{",!0))do{if(!C.test(M=A()))throw x(M,"name");"{"===O()?ae(e,t+"."+M):(G(":"),re(e,t+"."+M,V(!0)))}while(!G("}",!0));else re(e,t,V(!0))}function re(e,t,i){e.setOption&&e.setOption(t,i)}function se(e){if(G("[",!0)){do{oe(e,"option")}while(G(",",!0));G("]")}return e}function ce(e,t){if(!C.test(t=A()))throw x(t,"service name");var i=new l(t);Z(i,function(e){if(!z(i,e)){if("rpc"!==e)throw x(e);le(i,e)}}),e.add(i)}function le(e,t){var i=t;if(!C.test(t=A()))throw x(t,"name");var n,o,a,r,s=t;if(G("("),G("stream",!0)&&(o=!0),!b.test(t=A()))throw x(t);if(n=t,G(")"),G("returns"),G("("),G("stream",!0)&&(r=!0),!b.test(t=A()))throw x(t);a=t,G(")");var c=new u(s,i,n,a,o,r);Z(c,function(e){if("option"!==e)throw x(e);oe(c,e),G(";")}),e.add(c)}function ue(e,t){if(!b.test(t=A()))throw x(t,"reference");var i=t;Z(null,function(t){switch(t){case"required":case"repeated":case"optional":Q(e,t,i);break;default:if(!P||!b.test(t))throw x(t);w(t),Q(e,"optional",i)}})}for(;null!==(M=A());)switch(M){case"package":if(!k)throw x(M);q();break;case"import":if(!k)throw x(M);W();break;case"syntax":if(!k)throw x(M);K();break;case"option":if(!k)throw x(M);oe(F,M),G(";");break;default:if(z(F,M)){k=!1;continue}throw x(M)}return L.filename=null,{package:R,imports:N,weakImports:T,syntax:E,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t){t.exports=s;var i,n=e(39),o=n.LongBits,a=n.utf8;function r(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")};function u(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw r(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw r(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw r(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}s.create=n.Buffer?function(e){return(s.create=function(e){return n.Buffer.isBuffer(e)?new i(e):l(e)})(e)}:l,s.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,s.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return c}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return h(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|h(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)},s.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw r(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw r(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(e){i=e;var t=n.Long?"toLong":"toNumber";n.merge(s.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},{39:39}],28:[function(e,t){t.exports=o;var i=e(27);(o.prototype=Object.create(i.prototype)).constructor=o;var n=e(39);function o(e){i.call(this,e)}n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{27:27,39:39}],29:[function(e,t){t.exports=u;var i=e(23);((u.prototype=Object.create(i.prototype)).constructor=u).className="Root";var n,o,a,r=e(16),s=e(15),c=e(25),l=e(37);function u(e){i.call(this,"",e),this.deferred=[],this.files=[]}function h(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=l.path.resolve,u.prototype.load=function e(t,i,n){"function"==typeof i&&(n=i,i=undefined);var r=this;if(!n)return l.asPromise(e,r,t,i);var s=n===h;function c(e,t){if(n){var i=n;if(n=null,s)throw e;i(e,t)}}function u(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){o.filename=e;var n,a=o(t,r,i),u=0;if(a.imports)for(;u<a.imports.length;++u)(n=r.resolvePath(e,a.imports[u]))&&d(n);if(a.weakImports)for(u=0;u<a.weakImports.length;++u)(n=r.resolvePath(e,a.weakImports[u]))&&d(n,!0)}else r.setOptions(t.options).addJSON(t.nested)}catch(h){c(h)}s||f||c(null,r)}function d(e,t){var i=e.lastIndexOf("google/protobuf/");if(i>-1){var o=e.substring(i);o in a&&(e=o)}if(!(r.files.indexOf(e)>-1))if(r.files.push(e),e in a)s?u(e,a[e]):(++f,setTimeout(function(){--f,u(e,a[e])}));else if(s){var h;try{h=l.fs.readFileSync(e).toString("utf8")}catch(d){return void(t||c(d))}u(e,h)}else++f,l.fetch(e,function(i,o){--f,n&&(i?t?f||c(null,r):c(i):u(e,o))})}var f=0;l.isString(t)&&(t=[t]);for(var p,g=0;g<t.length;++g)(p=r.resolvePath("",t[g]))&&d(p);return s?r:(f||c(null,r),undefined)},u.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,h)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function f(e,t){var i=t.parent.lookup(t.extend);if(i){var n=new r(t.fullName,t.id,t.type,t.rule,undefined,t.options);return n.declaringField=t,t.extensionField=n,i.add(n),!0}return!1}u.prototype._handleAdd=function(e){if(e instanceof r)e.extend===undefined||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof s)d.test(e.name)&&(e.parent[e.name]=objectGetArr);else if(!(e instanceof c)){if(e instanceof n)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var i=0;i<e.nestedArray.length;++i)this._handleAdd(e._nestedArray[i]);d.test(e.name)&&(e.parent[e.name]=e)}},u.prototype._handleRemove=function(e){if(e instanceof r){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof s)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof i){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);d.test(e.name)&&delete e.parent[e.name]}},u._configure=function(e,t,i){n=e,o=t,a=i}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t){t.exports={}},{}],31:[function(e,t,i){i.Service=e(32)},{32:32}],32:[function(e,t){t.exports=n;var i=e(39);function n(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,n,o,a,r){if(!a)throw TypeError("request must be specified");var s=this;if(!r)return i.asPromise(e,s,t,n,o,a);if(!s.rpcImpl)return setTimeout(function(){r(Error("already ended"))},0),undefined;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(e,i){if(e)return s.emit("error",e,t),r(e);if(null===i)return s.end(!0),undefined;if(!(i instanceof o))try{i=o[s.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return s.emit("error",e,t),r(e)}return s.emit("data",i,t),r(null,i)})}catch(c){return s.emit("error",c,t),setTimeout(function(){r(c)},0),undefined}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t){t.exports=r;var i=e(23);((r.prototype=Object.create(i.prototype)).constructor=r).className="Service";var n=e(22),o=e(37),a=e(31);function r(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function s(e){return e._methodsArray=null,e}r.fromJSON=function(e,t){var i=new r(e,t.options);if(t.methods)for(var o=Object.keys(t.methods),a=0;a<o.length;++a)i.add(n.fromJSON(o[a],t.methods[o[a]]));return t.nested&&i.addJSON(t.nested),i},r.prototype.toJSON=function(){var e=i.prototype.toJSON.call(this);return o.toObject(["options",e&&e.options||undefined,"methods",i.arrayToJSON(this.methodsArray)||{},"nested",e&&e.nested||undefined])},Object.defineProperty(r.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),r.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},r.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},r.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof n?(this.methods[e.name]=e,e.parent=this,s(this)):i.prototype.add.call(this,e)},r.prototype.remove=function(e){if(e instanceof n){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,s(this)}return i.prototype.remove.call(this,e)},r.prototype.create=function(e,t,i){for(var n,r=new a.Service(e,t,i),s=0;s<this.methodsArray.length;++s)r[o.lcFirst((n=this._methodsArray[s]).resolve().name)]=o.codegen(["r","c"],o.lcFirst(n.name))("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor});return r}},{22:22,23:23,31:31,37:37}],34:[function(e,t){t.exports=h;var i=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,r=/\n/g,s=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}function h(e){e=e.toString();var t=0,c=e.length,l=1,h=null,d=null,f=0,p=!1,g=[],m=null;function _(e){return Error("illegal "+e+" (line "+l+")")}function y(){var i="'"===m?o:n;i.lastIndex=t-1;var a=i.exec(e);if(!a)throw _("string");return t=i.lastIndex,S(m),m=null,u(a[1])}function v(t){return e.charAt(t)}function C(t,i){h=e.charAt(t++),f=l,p=!1;var n,o=t-3;do{if(--o<0||"\n"===(n=e.charAt(o))){p=!0;break}}while(" "===n||"\t"===n);for(var s=e.substring(t,i).split(r),c=0;c<s.length;++c)s[c]=s[c].replace(a,"").trim();d=s.join("\n").trim()}function b(){if(g.length>0)return g.shift();if(m)return y();var n,o,a,r,u;do{if(t===c)return null;for(n=!1;s.test(a=v(t));)if("\n"===a&&++l,++t===c)return null;if("/"===v(t)){if(++t===c)throw _("comment");if("/"===v(t)){for(u="/"===v(r=t+1);"\n"!==v(++t);)if(t===c)return null;++t,u&&C(r,t-1),++l,n=!0}else{if("*"!==(a=v(t)))return"/";u="*"===v(r=t+1);do{if("\n"===a&&++l,++t===c)throw _("comment");o=a,a=v(t)}while("*"!==o||"/"!==a);++t,u&&C(r,t-2),n=!0}}}while(n);var h=t;if(i.lastIndex=0,!i.test(v(h++)))for(;h<c&&!i.test(v(h));)++h;var d=e.substring(t,t=h);return'"'!==d&&"'"!==d||(m=d),d}function S(e){g.push(e)}function L(){if(!g.length){var e=b();if(null===e)return null;S(e)}return g[0]}return Object.defineProperty({next:b,peek:L,push:S,skip:function(e,t){var i=L();if(i===e)return b(),!0;if(!t)throw _("token '"+i+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return e===undefined?f!==l-1||"*"!==h&&!p||(t=d):(f<e&&L(),f!==e||p||"/"!==h||(t=d)),t}},"line",{get:function(){return l}})}h.unescape=u},{}],35:[function(e,t){t.exports=_;var i=e(23);((_.prototype=Object.create(i.prototype)).constructor=_).className="Type";var n=e(15),o=e(25),a=e(16),r=e(20),s=e(33),c=e(21),l=e(27),u=e(42),h=e(37),d=e(14),f=e(13),p=e(40),g=e(12),m=e(41);function _(e,t){i.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function y(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var i=this.fields[e[t]],n=i.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=i}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=_.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,c,!0),this._ctor=e;for(var i=0;i<this.fieldsArray.length;++i)this._fieldsArray[i].resolve();var n={};for(i=0;i<this.oneofsArray.length;++i)n[this._oneofsArray[i].resolve().name]={get:h.oneOfGetter(this._oneofsArray[i].oneof),set:h.oneOfSetter(this._oneofsArray[i].oneof)};i&&Object.defineProperties(e.prototype,n)}}}),_.generateConstructor=function(e){for(var t,i=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?i("this%s={}",h.safeProp(t.name)):t.repeated&&i("this%s=[]",h.safeProp(t.name));return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},_.fromJSON=function(e,t){var c=new _(e,t.options);c.extensions=t.extensions,c.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)c.add((void 0!==t.fields[l[u]].keyType?r.fromJSON:a.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)c.add(o.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var h=t.nested[l[u]];c.add((h.id!==undefined?a.fromJSON:h.fields!==undefined?_.fromJSON:h.values!==undefined?n.fromJSON:h.methods!==undefined?s.fromJSON:i.fromJSON)(l[u],h))}return t.extensions&&t.extensions.length&&(c.extensions=t.extensions),t.reserved&&t.reserved.length&&(c.reserved=t.reserved),t.group&&(c.group=!0),c},_.prototype.toJSON=function(){var e=i.prototype.toJSON.call(this);return h.toObject(["options",e&&e.options||undefined,"oneofs",i.arrayToJSON(this.oneofsArray),"fields",i.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}))||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",e&&e.nested||undefined])},_.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return i.prototype.resolveAll.call(this)},_.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},_.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),y(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),y(this)):i.prototype.add.call(this,e)},_.prototype.remove=function(e){if(e instanceof a&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),y(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),y(this)}return i.prototype.remove.call(this,e)},_.prototype.isReservedId=function(e){if(this.reserved)for(var t=0;t<this.reserved.length;++t)if("string"!=typeof this.reserved[t]&&this.reserved[t][0]<=e&&this.reserved[t][1]>=e)return!0;return!1},_.prototype.isReservedName=function(e){if(this.reserved)for(var t=0;t<this.reserved.length;++t)if(this.reserved[t]===e)return!0;return!1},_.prototype.create=function(e){return new this.ctor(e)},_.prototype.setup=function(){for(var e=this.fullName,t=[],i=0;i<this.fieldsArray.length;++i)t.push(this._fieldsArray[i].resolve().resolvedType);this.encode=d(this)({Writer:u,types:t,util:h}),this.decode=f(this)({Reader:l,types:t,util:h}),this.verify=p(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var n=m[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},_.prototype.encode=function(e,t){return this.setup().encode(e,t)},_.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},_.prototype.decode=function(e,t){return this.setup().decode(e,t)},_.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},_.prototype.verify=function(e){return this.setup().verify(e)},_.prototype.fromObject=function(e){return this.setup().fromObject(e)},_.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},_.d=function(e){return function(t){h.decorateType(t,e)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,i){var n=i,o=e(37),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function r(e,t){var i=0,n={};for(t|=0;i<e.length;)n[a[i+t]]=e[i++];return n}n.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=r([0,0,0,1,1],7),n.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(e,t){var i,n,o=t.exports=e(39),a=e(30);o.codegen=e(3),o.fetch=e(5),o.path=e(8),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),i=new Array(t.length),n=0;n<t.length;)i[n]=e[t[n++]];return i}return[]},o.toObject=function(e){for(var t={},i=0;i<e.length;){var n=e[i++],o=e[i++];o!==undefined&&(t[n]=o)}return t};var r=/\\/g,s=/"/g;o.safeProp=function(e){return'["'+e.replace(r,"\\\\").replace(s,'\\"')+'"]'},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,function(e,t){return t.toUpperCase()})},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(o.decorateRoot.remove(t.$type),t.$type.name=n,o.decorateRoot.add(t.$type)),t.$type;i||(i=e(35));var a=new i(n||t.name);return o.decorateRoot.add(a),a.ctor=t,Object.defineProperty(t,"$type",{value:a,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:a,enumerable:!1}),a};var l=0;o.decorateEnum=function(t){if(t.$type)return t.$type;n||(n=e(15));var i=new n("Enum"+l++,t);return o.decorateRoot.add(i),Object.defineProperty(t,"$type",{value:i,enumerable:!1}),i},Object.defineProperty(o,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t){t.exports=n;var i=e(39);function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var i=e>>>0,a=(e-i)/4294967296>>>0;return t&&(a=~a>>>0,i=~i>>>0,++i>4294967295&&(i=0,++a>4294967295&&(a=0))),new n(i,a)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(i.isString(e)){if(!i.Long)return n.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):o},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var r=String.prototype.charCodeAt;n.fromHash=function(e){return e===a?o:new n((r.call(e,0)|r.call(e,1)<<8|r.call(e,2)<<16|r.call(e,3)<<24)>>>0,(r.call(e,4)|r.call(e,5)<<8|r.call(e,6)<<16|r.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},{39:39}],39:[function(e,t,i){var n=i;function o(e,t,i){for(var n=Object.keys(t),o=0;o<n.length;++o)e[n[o]]!==undefined&&i||(e[n[o]]=t[n[o]]);return e}function a(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&o(this,i)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=e(1),n.base64=e(2),n.EventEmitter=e(4),n.float=e(6),n.inquire=e(7),n.utf8=e(10),n.pool=e(9),n.LongBits=e(38),n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(global.process&&global.process.versions&&global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!(null==i||!e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=global.dcodeIO&&global.dcodeIO.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=a,n.ProtocolError=a("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&this[e[i]]!==undefined&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t){t.exports=function(e){var t=n.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),i={};e.oneofsArray.length&&t("var p={}");for(var s=0;s<e.fieldsArray.length;++s){var c=e._fieldsArray[s].resolve(),l="m"+n.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",o(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),r(t,c,"k[i]"),a(t,c,s,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",o(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,s,l+"[i]")("}");else{if(c.partOf){var u=n.safeProp(c.partOf.name);1===i[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),i[c.partOf.name]=1,t("p%s=1",u)}a(t,c,s,l)}c.optional&&t("}")}return t("return null")};var i=e(15),n=e(37);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,a){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(%s){",a)("default:")("return%j",o(t,"enum value"));for(var r=Object.keys(t.resolvedType.values),s=0;s<r.length;++s)e("case %i:",t.resolvedType.values[r[s]]);e("break")("}")}else e((e.hasErrorVar?"":"var ")+"e=types[%i].verify(%s);",n,a)("if(e)")("return%j+e",t.name+"."),e.hasErrorVar=!0;else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",a)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",a,a,a,a)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',a)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',a)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",a)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',a,a,a)("return%j",o(t,"buffer"))}return e}function r(e,t,i){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",i)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",i)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",i)("return%j",o(t,"boolean key"))}return e}},{15:15,37:37}],41:[function(e,t,i){var n=i,o=e(21);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t)return this.create({type_url:e["@type"],value:t.encode(e).finish()})}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var i=this.lookup(e.type_url);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var n=e.$type.toObject(e,t);return n["@type"]=e.$type.fullName,n}return this.toObject(e,t)}}},{21:21}],42:[function(e,t){t.exports=u;var i,n=e(39),o=n.LongBits,a=n.base64,r=n.utf8;function s(e,t,i){this.fn=e,this.len=t,this.next=undefined,this.val=i}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new s(c,0,0),this.tail=this.head,this.states=null}function h(e,t,i){t[i]=255&e}function d(e,t){this.len=e,this.next=undefined,this.val=t}function f(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function p(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}u.create=n.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u},u.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(e,t,i){return this.tail=this.tail.next=new s(e,t,i),this.len+=t,this},d.prototype=Object.create(s.prototype),d.prototype.fn=function(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(f,10,o.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=o.from(e);return this._push(f,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(f,t.length(),t)},u.prototype.bool=function(e){return this._push(h,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(p,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=o.from(e);return this._push(p,4,t.lo)._push(p,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var g=n.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(n.isString(e)){var i=u.alloc(t=a.length(e));a.decode(e,i,0),e=i}return this.uint32(t)._push(g,t,e)},u.prototype.string=function(e){var t=r.length(e);return t?this.uint32(t)._push(r.write,t,e):this._push(h,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new s(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},u._configure=function(e){i=e}},{39:39}],43:[function(e,t){t.exports=a;var i=e(42);(a.prototype=Object.create(i.prototype)).constructor=a;var n=e(39),o=n.Buffer;function a(){i.call(this)}a.alloc=function(e){return(a.alloc=n._Buffer_allocUnsafe)(e)};var r=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]};function s(e,t,i){e.length<40?n.utf8.write(e,t,i):t.utf8Write(e,i)}a.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(r,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this}},{39:39,42:42}]},{})}("object"==typeof window&&window||"object"==typeof self&&self||void 0),cc._RF.pop()},{1:void 0,10:void 0,11:void 0,12:void 0,13:void 0,14:void 0,15:void 0,16:void 0,17:void 0,18:void 0,2:void 0,20:void 0,21:void 0,22:void 0,23:void 0,24:void 0,25:void 0,26:void 0,27:void 0,28:void 0,29:void 0,3:void 0,30:void 0,31:void 0,32:void 0,33:void 0,34:void 0,35:void 0,36:void 0,37:void 0,38:void 0,39:void 0,4:void 0,40:void 0,41:void 0,42:void 0,43:void 0,5:void 0,6:void 0,7:void 0,8:void 0,9:void 0}],rankLayer:[function(e,t){"use strict";cc._RF.push(t,"d3177pxuMROiJVBusY4MOVC","rankLayer"),cc.Class({extends:e("BaseLayer"),properties:{winScrol:cc.ScrollView,richScrol:cc.ScrollView,roomScrol:cc.ScrollView,rankItem:cc.Prefab,roomItem:cc.Prefab,no1:cc.SpriteFrame,no2:cc.SpriteFrame,no3:cc.SpriteFrame},onLoad:function(){},init:function(){this.LobbyLogic=new(e("LobbyLogic")),this.winScrol.node.active=!0,this.richScrol.node.active=!1,this.roomScrol.node.active=!1,cc.log(this.rankItem),this.LobbyLogic.requestWinRankList(this.initWinScrol.bind(this),E_RankType.WIN)},touchButton:function(e,t){switch(this.winScrol.node.active=!1,this.richScrol.node.active=!1,this.roomScrol.node.active=!1,t){case"win":this.winScrol.node.active=!0,this.LobbyLogic.requestWinRankList(this.initWinScrol.bind(this),E_RankType.WIN);break;case"rich":this.richScrol.node.active=!0,this.LobbyLogic.requestRichRankList(E_RichType.GOLD,this.initRichScrol.bind(this),E_RankType.RICH);break;case"room":this.roomScrol.node.active=!0,this.LobbyLogic.requestRoomRecord(this.initRoomScrol.bind(this))}},initWinScrol:function(e){var t=this;this.winScrol.content.removeAllChildren(),e.forEach(function(e,i){var n,o=cc.instantiate(t.rankItem);o.getChildByName("labNum").active=!1,1==i?n=t.no2:2==i?n=t.no3:0==i?n=t.no1:(o.getChildByName("1").active=!1,o.getChildByName("labNum").active=!0,o.getChildByName("labNum").getComponent(cc.Label).string=i+1),o.getChildByName("1").getComponent(cc.Sprite).spriteFrame=n;var a=o.getChildByName("img_head");AvatarManager.requestHeadRes(e.headURL,e.userID,function(e){a&&(a.getComponent(cc.Sprite).spriteFrame=e)},a),o.getChildByName("labName").getComponent(cc.Label).string=e.name,o.getChildByName("labPoint").getComponent(cc.Label).string=e.wincount,o.getChildByName("ShengJvLabel").active=!0,o.getChildByName("GoldSprite").active=!1,""==e.motto?o.getChildByName("motto").getComponent(cc.Label).string="\u8fd9\u5bb6\u4f19\u5f88\u61d2,\u4ec0\u4e48\u90fd\u6ca1\u7559\u4e0b":o.getChildByName("motto").getComponent(cc.Label).string=e.motto,t.winScrol.content.addChild(o)})},initRichScrol:function(e){var t=this;this.richScrol.content.removeAllChildren(),e.forEach(function(e,i){var n,o=cc.instantiate(t.rankItem);o.getChildByName("labNum").active=!1,1==i?n=t.no2:2==i?n=t.no3:0==i?n=t.no1:(o.getChildByName("1").active=!1,o.getChildByName("labNum").active=!0,o.getChildByName("labNum").getComponent(cc.Label).string=i+1),o.getChildByName("1").getComponent(cc.Sprite).spriteFrame=n;var a=o.getChildByName("img_head");AvatarManager.requestHeadRes(e.headURL,e.userID,function(e){var t=o.getChildByName("img_head");t&&(t.getComponent(cc.Sprite).spriteFrame=e)},a),o.getChildByName("labName").getComponent(cc.Label).string=e.name,o.getChildByName("labPoint").getComponent(cc.Label).string=e.money/G_MULTI_NUM,o.getChildByName("ShengJvLabel").active=!1,o.getChildByName("GoldSprite").active=!0,""==e.motto?o.getChildByName("motto").getComponent(cc.Label).string="\u8fd9\u5bb6\u4f19\u5f88\u61d2,\u4ec0\u4e48\u90fd\u6ca1\u7559\u4e0b":o.getChildByName("motto").getComponent(cc.Label).string=e.motto,t.richScrol.content.addChild(o)})},initRoomScrol:function(e){var t=this;this.roomScrol.content.removeAllChildren();for(var i=[],n=[],o=0;o<e.length;o++)i.push(e[o].buyDeskTime);i.sort(),i.reverse();for(var a=0;a<i.length;a++)for(var r=0;r<e.length;r++)i[a]==e[r].buyDeskTime&&n.push(e[r]);n.forEach(function(e){var i=cc.instantiate(t.roomItem);i.getComponent(cc.Component).init(e,t),t.roomScrol.content.addChild(i)})},showWXTip:function(){this.simpleAddLayer("prefab/LayerLeadShare0")},isXXXX:function(){this.node.destroy()}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],roomItem:[function(e,t){"use strict";cc._RF.push(t,"e32b2b55fNH+Kg9xfnfGV8n","roomItem"),cc.Class({extends:e("BaseLayer"),properties:{roomNum:cc.Label,gameName:cc.Label,gameCount:cc.Label,gameUser:cc.Label,score:cc.Node,gold:cc.Node,huobi:cc.Node},onLoad:function(){this.LobbyLogic=new(e("LobbyLogic"))},init:function(e,t){var i=RoomListManager.getRoomByRoomID(e.roomID);if(this.data=e,this.info=i,this.pwd=e.passwd,this.gameUser.string=e.userCount,this.gameCount.string=e.gameCount,this.roomNum.string=this.pwd,5==i.name.length){var n=i.name.split("");1==i.type?this.score.active=!0:2==i.type?this.gold.active=!0:this.huobi.active=!0,n.splice(2,3);var o=n.join("");this.gameName.string=o}else if(6==i.name.length){var a=i.name.split("");1==i.type?this.score.active=!0:2==i.type?this.gold.active=!0:this.huobi.active=!0,a.splice(3,3);var r=a.join("");this.gameName.string=r}this.target=t},disMissButton:function(){this.LobbyLogic.requestDissmissDesk(this.pwd),this.onCloseBtn()},shareInviteButton:function(){var e=this.info.name+"  \u623f\u95f4\u53f7"+this.roomNum.string,t="\u5171"+this.gameCount.string+"\u5c40,\u4e00\u8d77\u6765\u73a9\u5427!";wx.onMenuShareAppMessage({title:e||"\u718a\u718a\u5a31\u4e50",desc:t||"\u718a\u718a\u5a31\u4e50\uff0c\u597d\u73a9\u5f97\u505c\u4e0d\u4e0b\u6765\uff01 \u65e0\u9700\u4e0b\u8f7d\u70b9\u51fb\u5c31\u73a9 \u8fd8\u4e0d\u5feb\u6765\u73a9\uff01",link:"http://bycs.91bc8.cn/h5",imgUrl:"http://bycs.91bc8.cn/h5/share/iconpic.png",trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),wx.onMenuShareTimeline({title:e||"\u718a\u718a\u5a31\u4e50",desc:t||"\u718a\u718a\u5a31\u4e50\uff0c\u597d\u73a9\u5f97\u505c\u4e0d\u4e0b\u6765\uff01 \u65e0\u9700\u4e0b\u8f7d\u70b9\u51fb\u5c31\u73a9 \u8fd8\u4e0d\u5feb\u6765\u73a9\uff01",link:"http://bycs.91bc8.cn/h5",imgUrl:"http://bycs.91bc8.cn/h5/share/iconpic.png",trigger:function(){},success:function(){},cancel:function(){},fail:function(){}}),this.target&&this.target.showWXTip()},joinButton:function(){this.LobbyLogic.joinRoom(this.roomNum.string+"")}}),cc._RF.pop()},{BaseLayer:"BaseLayer",LobbyLogic:"LobbyLogic"}],slider:[function(e,t){"use strict";cc._RF.push(t,"8e181bQo99MspIE9kV1Qj+Y","slider"),cc.Class({extends:cc.Component,properties:{progress:{default:null,type:cc.Sprite},_width:1},onLoad:function(){var e=this.getComponent(cc.Slider);if(null!=e&&null!=this.progress){var t=cc.sys.localStorage.getItem(G_SOUND_SIZE)||1;e.progress=Number(t),this._width=this.progress.node.width,this.progress.node.width=this._width*e.progress;var i=this;e.node.on("slide",function(){i.progress.node.width=e.progress*i._width,MYAudioEngine.setEffectsVolume(e.progress),cc.sys.localStorage.setItem(G_SOUND_SIZE,e.progress)},this)}},start:function(){}}),cc._RF.pop()},{}],test:[function(e,t){"use strict";cc._RF.push(t,"da39crHRcVKebQ6T+Vv8HpT","test");var i=[{acc:"qwerqwer",psw:"12341234"},{acc:"asdfasdf",psw:"12341234"},{acc:"zxcvzxcv",psw:"12341234"},{acc:"wertwert",psw:"12341234"},{acc:"sdfgsdfg",psw:"12341234"},{acc:"xcvbxcvb",psw:"12341234"},{acc:"dfghdfgh",psw:"12341234"},{acc:"cvbncvbn",psw:"12341234"},{acc:"fghjfghj",psw:"12341234"},{acc:"vbnmvbnm",psw:"12341234"}];t.exports={ctor:function(){},beginTest:function(){setTimeout(function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyboardTouchUp,this)}.bind(this),100)},onKeyboardTouchUp:function(e){switch(e.keyCode){case cc.macro.KEY.a:cc.log("press a");break;case cc.macro.KEY.b:cc.log("press b");break;case cc.macro.KEY.c:cc.log("press c"),this.testJoinRoom()}},testNN:function(){},autoLogin:function(e){if(this._loginDel=e,!cc.sys.isNative){var t=cc.sys.localStorage.getItem("curPlayerAccIdx");(t=(t=Number(t))||0)>i.length-1&&(t=0),e.editboxAccount.string=i[t].acc,e.editboxPassword.string=i[t].psw,t>i.length-1?t=0:t+=1,cc.sys.localStorage.setItem("curPlayerAccIdx",t),e.scheduleOnce(function(){e.doButtonLoginClick()},.01)}},testJoinRoom:function(){var e=cc.director.getScene().getChildByName("Canvas").getComponent("LobbyScene"),t=cc.sys.localStorage.getItem("roomNo");t&&e.addLayer(null,"JoinRoomDialog",function(e){e.getComponent(cc.Component).LobbyRoomLogic.joinRoom(t)})}},cc._RF.pop()},{}],txySdk:[function(e,t,i){"use strict";cc._RF.push(t,"89808JMGt9O5bpGwBRgJMhI","txySdk");var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function r(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var i,n,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var a=e("./GlobelContext"),r=e("./ReqHttp"),s=["A","B","C","D","E","F"],c=function(){function e(){this._TXLivePusher=null,this._TCPlayer=null,this._DeviceManager=null,this._content="local_video",this._player_container_id="player-container-id",this._livePusher=null,this._player=null}return e.getInst=function(){return this._inst||(this._inst=new e),this._inst},Object.defineProperty(e,"inst",{get:function(){return this.getInst()},enumerable:!1,configurable:!0}),e.prototype.initSdk=function(){this._TXLivePusher=window.TXLivePusher,this._TCPlayer=window.TCPlayer,this.createLiveDiv(),this.createPlayVideo(),this._TXLivePusher&&(this._livePusher=new this._TXLivePusher,this._DeviceManager=this._livePusher.getDeviceManager(),this._livePusher.setRenderView(this._content),this._livePusher.videoView.muted=!0,this._livePusher.observer.onPushStatusUpdate=function(e,t){console.log("onPushStatusUpdate"),console.log(e),console.log(t)},this._livePusher.observer.onCaptureFirstVideoFrame=function(){console.log("\u97f3\u50cf\u91c7\u96c6\u5b8c\u6210")},this._livePusher.observer.onError=function(e,t){console.log("onError"),console.log(e),console.log(t)},this._livePusher.observer.onWarning=function(e,t){console.log("onWarning"),console.log(e),console.log(t)})},e.prototype.supportTest=function(){this._TXLivePusher.checkSupport().then(function(e){console.log("checkSupport"),console.log(e)})},e.prototype.updateVideoQuality=function(e){this._livePusher.setVideoQuality(e)},e.prototype.updateAudioQuality=function(e){this._livePusher.setAudioQuality(e)},e.prototype.customProperty=function(e,t){this._livePusher.setProperty(e,t)},e.prototype.livePush=function(e,t){var i=this;window.UserInfoManager.getMyInfo(),r.default.getPushStreamUrl({userID:"215102"},function(n){var o=JSON.parse(n);0==o.code?i._livePusher.startCamera().then(function(){var t=o.data.url;i._livePusher.startPush(t),e&&e()}).catch(function(e){console.log("\u6253\u5f00\u6444\u50cf\u5934\u5931\u8d25: "+e.toString()),t&&t()}):t&&t()})},e.prototype.openLiveBroadcast=function(e,t,i,n,o){var a=this;window.UserInfoManager.getMyInfo(),r.default.getPushStreamUrl({userID:"215102"},function(r){0==JSON.parse(r).code?(e||a._livePusher.startCamera().catch(function(e){console.log("\u5f00\u542f\u6444\u50cf\u5934\u5931\u8d25\uff1a",e)}),t||a._livePusher.startMicrophone().catch(function(e){console.log("\u5f00\u542f\u9ea6\u514b\u98ce\u5931\u8d25\uff1a",e)}),a._livePusher.setVideoQuality(i),a._livePusher.startPush().then(function(){n&&n()}).catch(function(e){console.log("\u63a8\u6d41\u5931\u8d25\uff1a",e),o&&o()})):o&&o()})},e.prototype.stoplive=function(){this._livePusher.stopCamera(),this._livePusher.stopMicrophone(),this._livePusher.stopPush()},e.prototype.SwitchCamera=function(e){e&&this._livePusher.startCamera(),!e&&this._livePusher.stopCamera()},e.prototype.SwitchMicrophone=function(e){e&&this._livePusher.startMicrophone(),!e&&this._livePusher.stopMicrophone()},e.prototype.quit=function(){this.stoplive(),this._livePusher.destroy()},e.prototype.pullLive=function(e,t){var i=this,n=(window.UserInfoManager.getMyInfo(),function(e){i._player=i._TCPlayer(i._player_container_id,{sources:[{src:e}],licenseUrl:a.default.TXYLicenseURL,controls:!1,posterImage:!1,bigPlayButton:!1,controlBar:{playToggle:!1,progressControl:!1,volumePanel:!1,currentTimeDisplay:!1,durationDisplay:!1,timeDivider:!1,playbackRateMenuButton:!1,fullscreenToggle:!1,QualitySwitcherMenuButton:!1},plugins:{ContinuePlay:!1,VttThumbnail:!1,ProgressMarker:!1,DynamicWatermark:!1,ContextMenu:!1}}),i.SwitchPlayLive(!0)});r.default.checkUserIsLive({userID:"215102"},function(o){var a=JSON.parse(o);0==a.code&&a.data.isLive?r.default.getPullStreamUrl({userID:"215102"},function(o){var a=JSON.parse(o);if(0==a.code){var r=a.data.webrtc;i._TCPlayer&&n(r),e&&e()}else t&&t()}):t&&t()})},e.prototype.SwitchPlayLive=function(e){e&&this._player.play(),!e&&this._player.pause()},e.prototype.DecimalConversion=function(e){for(var t="";e>0;){var i=e%16;t=(i>9?s[i-10]:i)+t,e=~~(e/16)}return t},e.prototype.createLiveDiv=function(){var e=document.createElement("div");e.setAttribute("id",this._content),e.setAttribute("style","position: absolute; bottom: 0px; left: 0px; z-index: 0; visibility: visible; width: 0%; height: 0%; transform: matrix(0.5, 0, 0, 0.5, 12.5, -8.5); transform-origin: 0px 100% 0px;"),document.body.appendChild(e)},e.prototype.createPlayVideo=function(){var e=document.createElement("video");e.setAttribute("id",this._player_container_id),e.setAttribute("preload","auto"),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""),e.setAttribute("playsinline",""),e.setAttribute("hidden","hidden"),e.setAttribute("style","width: 0px; height: 0px;"),document.body.appendChild(e)},e.prototype.getDevicesList=function(e,t){this._DeviceManager.getDevicesList(e).then(function(e){console.log("\u83b7\u53d6\u8bbe\u5907\u6210\u529f"),e.forEach(function(e){console.log(e)}),t&&t(e)}).catch(function(e){console.log("\u83b7\u53d6\u8bbe\u5907\u5931\u8d25"),console.log(e)})},e.prototype.getMicrophoneAsync=function(){return this._DeviceManager.getCurrentDevice(a.DeviceType.AUDIO)},e.prototype.getMicrophoneSync=function(){return n(this,void 0,Promise,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._DeviceManager.getCurrentDevice(a.DeviceType.AUDIO)];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"microphone",{set:function(e){this._DeviceManager.setCurrentDevice(a.DeviceType.AUDIO,e)},enumerable:!1,configurable:!0}),e.prototype.switchMicrophone=function(e){this._DeviceManager.switchMicrophone(e)},e.prototype.getCameraAsync=function(){return this._DeviceManager.getCurrentDevice(a.DeviceType.VIDEO)},e.prototype.getCameraSync=function(){return n(this,void 0,Promise,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._DeviceManager.getCurrentDevice(a.DeviceType.VIDEO)];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"camera",{set:function(e){this._DeviceManager.setCurrentDevice(a.DeviceType.VIDEO,e)},enumerable:!1,configurable:!0}),e.prototype.switchCamera=function(e){this._DeviceManager.switchCamera(e)},e._inst=null,e}();i.default=c,c.inst,cc._RF.pop()},{"./GlobelContext":"GlobelContext","./ReqHttp":"ReqHttp"}],uploadVideo:[function(e,t,i){"use strict";cc._RF.push(t,"c49e4znkVFOJoDxa/bmmFan","uploadVideo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=e("vod-js-sdk-v6"),s=e("axios"),c=e("EventEmiter").GlobalEvent,l=cc._decorator,u=l.ccclass,h=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputDesc=null,t.inputPhone=null,t.videoName=null,t.annimetions=null,t.btnCommit=null,t.mediaFile=null,t.tcVod=null,t}return o(t,e),t.prototype.onLoad=function(){this.videoName.node.active=!1},t.prototype.start=function(){var e=this;console.log("\u521d\u59cb\u5316\u89c6\u9891\u4e0a\u4f20\u5bf9\u8c61..."),this.tcVod=new r.default({getSignature:function(){var e="https://"+globalThis.G_PHP_IP+"/txysdk/index/getUploadToken?userID="+globalThis.UserInfoManager.getMyInfo().userID;return console.log("url:",e),s.default.post(e).then(function(e){return console.warn("\u7b7e\u540d\uff1a",e),e.data.data.token})},appId:1311608929}),this.mediaFile=null,setTimeout(function(){e.annimetions&&cc.isValid(e.annimetions)&&(e.annimetions.active=!0)},2500)},t.prototype.openLocalFile=function(e,t){var i=document.getElementById("file_input");i||((i=document.createElement("input")).id="file_input",i.setAttribute("id","file_input"),i.setAttribute("type","file"),i.setAttribute("class","fileToUpload"),i.style.opacity="0",i.style.position="absolute",i.setAttribute("left","-999px"),document.body.appendChild(i)),e=e||".*",i.setAttribute("accept",e),i.onchange=function(e){console.log("xxx onchange2",e,i.files);var n=i.files;if(n&&n.length>0){var o=n[0];t&&t(o)}},i.click()},t.prototype.doButton_commit=function(){if(this.mediaFile)if(this.inputDesc.string.length<=0)globalThis.createTips("\u8bf7\u8f93\u5165\u89c6\u9891\u63cf\u8ff0\u4fe1\u606f\uff01");else{var e=this.tcVod.upload({mediaFile:this.mediaFile});e.on("media_progress",function(e){t.progress=e.percent,console.log("uploader progress ...",e.percent)}),e.on("media_upload",function(){t.isVideoUploadSuccess=!0,console.log("uploader isVideoUploadSuccess ...")}),console.log(e,"uploader"),this.btnCommit.active=!1;var t={videoInfo:e.videoInfo,isVideoUploadSuccess:!1,isVideoUploadCancel:!1,progress:0,fileId:"",videoUrl:"",cancel:function(){t.isVideoUploadCancel=!0,e.cancel(),console.log("uploader cancel ..."),i.btnCommit.active=!0}},i=this;e.done().then(function(e){console.log("doneResult",e),t.fileId=e.fileId,i.requestVideoUpload(e.fileId,i.inputDesc.string,function(e){c.instance.emit("upload_sucess",e),globalThis.createTips("\u4e0a\u4f20\u6210\u529f\uff01"),i.node.destroy(),i.btnCommit.active=!0})}).then(function(e){t.videoUrl=e})}else globalThis.createTips("\u8bf7\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u89c6\u9891\u6587\u4ef6\uff01")},t.prototype.requestVideoUpload=function(e,t,i){var n={};n.params={userID:globalThis.UserInfoManager.getMyInfo().userID,fileID:e,videoDesc:t},n.url="https://"+globalThis.G_PHP_IP+"/txysdk/index/addVideoTags",n.fCallback=function(){console.log("\u8bf7\u6c42\u8d85\u65f6")},n.sCallback=function(e){console.log(e),0==e.code?i&&i(e.data):globalThis.createTips(e.msg)},globalThis.MyHttpRequest.doRequest(n)},t.prototype.doButton_upload=function(){var e=this;this.openLocalFile("*.mp4",function(t){console.log(t),e.mediaFile=t,e.mediaFile&&(e.videoName.node.active=!0,e.videoName.string="\u89c6\u9891\u540d\u79f0\uff1a"+t.name+"  \u5927\u5c0f\uff1a"+(t.size/1048576).toFixed(2)+"M")})},t.prototype.doButton_Close=function(){var e=this;this.node&&(this.node.active=!1,this.scheduleOnce(function(){e.node.destroy()},.85))},a([h(cc.EditBox)],t.prototype,"inputDesc",void 0),a([h(cc.EditBox)],t.prototype,"inputPhone",void 0),a([h(cc.Label)],t.prototype,"videoName",void 0),a([h(cc.Node)],t.prototype,"annimetions",void 0),a([h(cc.Node)],t.prototype,"btnCommit",void 0),a([u],t)}(cc.Component);i.default=d,cc._RF.pop()},{EventEmiter:"EventEmiter",axios:21,"vod-js-sdk-v6":73}]},{},["DemoTest","HZMJ_Common","HZMJ_EditTool","HZMJ_GameTableLogic","HZMJ_GameTableUI","HZMJ_CtrlBtns","HZMJ_Data","HZMJ_GameOver","HZMJ_OverLayout","HZMJ_RoomOver","HZMJ_TingTipsCard","HZMJ_User","HZMJ_gameOverItem","HZMJ_roomOverItem","MJCommon_Card","CanvasVideo","DropDownBox","EventManager","GlobelContext","ReqHttp","txySdk","Config","LobbyCanvas","AvatarManager","CityListManager","DataManager","FriendManager","FriendsGroupManager","GameBuyConfigManager","GameListManager","InviteCodeManager","LoginManager","MailManager","NetResManager","NoticeManager","RankManager","RoomListManager","UserInfoManager","VideoManager","GameLogicBase","GameManager","GameViewBase","LoginRoomLogic","MatchManager","RoomRecordManager","GlobalConfig","GlobalData","GlobalEnum","GlobalError","loadmyfile","ArenaLayer","CgAwardRecord","ChuangguanAward","DayAwardRecord","DayPanel","Item_ChuangGuan_Award","LayoutNotice","MatchCheckPointInfo","MatchCheckPointIntroLayer","MatchCheckPointResultLayer","MatchDeskInfo","MatchExpUserLevelInfo","MatchGameRank","MatchLevelUp","MatchNotify","MatchRank","MatchRankResult","MatchResult","MatchReward","MatchWait","ChaYanZhuShouLayer","ChatMessageManager","LayoutChat","VoiceLayerChat","CiveVideoLayer","Notice","ShoppingMall","ConfigDataManager","ConfigManager","CreateCardGameBase","CreateRoomMsgDialog","EmailFujian","EmailItem","EmailLayer","EmailMsgLayer","MailLogic","RewardNode","FeedKeFuNode","FeedLayer","FeedLayer_width","FeedbackLogic","FeedbackManager","KeFuItem","KeFuNode","ArrangePackNode","BankerLayer","DealTingLayer","GameCommonBet","GameScenceRulesLayer","GameYanCode","PlayerListLayer","WaitTipLayer","item_deal_ting","loading_node","mlabel","GiveGiftCard","GongGaoItem","GongGaoLayer","KefuLayer","LayoutActivity","LayoutExchange","LayoutGoldArena","LayoutHallVideo","LayoutMyHome","LayoutShop","LayoutUserVideo","LayoutVideo","LobbyCreaterImage","LobbyScene","LobbyURLShart","MobileLoginScene","NoticeLayer","PersonalInformation","PhoneLayer","PriveLayout","QieHuanBi","SettingLayer","ShowRedPoint","ItemListManager","StoreDragonLayer","StoreLayer","StoreLogic","TiBiDragonLayer","WarRecordSetLayer","GameRecordLogic","GameRecordManager","21D_ZhanJi_Item","DDZ_ZhanJi_Item","MJ_ZhanJi_Item","NJJ_ZhanJi_Item","PDK_ZhanJi_Item","TTZ_ZhanJi_Item","ZJH_ZhanJi_Item","ZhanJiDetailView","ZhanJiItem","ZhanJiJifenLayer","ZhanJiLayer","ZhanJiPlayerItem","ZhuanzengLayer","ZhuanzengLogic","InviteLayer","InviteLogic","GameCreaterImage","GameInfor","GameLocationLayer","GameRuletLayer","GameSettingLayer","GameSettingTab","GameZhanjiCreaterImage","InviteFriendDialog","LayerGameRules","Roomrules","VoiceLayer","CGMatchPanel","MatchItem","MatchPanel","personMsgDialog","personRealName","personVideoDialog","personVideoItem","personVideoTips","personVideoView","playRealMsgDialog","DuanWeiAward","DuanWeiRank","DuanWeiRewardLayer","HisRecord","Item_DuanWei_Award","Item_DuanWei_Rank","Item_DuanWei_Record","MatchRankGame","QualifyingLayer","uploadVideo","LobbyLogic","LobbyRoomLogic","LogicBasis","LoginLogic","SystemNoticeLogic","GameSocket","LobbySocket","NetConfig","Package","TcpClient","HttpHelper","bytebuffer","long","protobuf","MyAwardInfo","PlayerInfo","PromotionLayer","PromotionLogic","PromotionMyPlayer","ShuoMingInfo","GameProtocolId","LobbyProtocolId","PublicProtocolId","rankLayer","roomItem","ButtonSafe","ButtonScale","CommonCheckRadioBoxCtrlUI","CommonSlider","GlobalFunction","JsbMgr","MYAudioEngine","MyHttpRequest","PageViews","StringTable","Tools","CommonEvent","CreatGameTypePrefab","CreatPlayTypePrefab","CreateRoomCheckBox","CreateRoomDaikai","CreateRoomInput","CreateRoomLayer","CreateRoomSelectData","JoinRoomDialog","PanelSelect","LayoutLobby","LobbyBottomPanel","LobbyMoneyFieldItem","LobbyMoneyFieldList","LobbyPlayTypeItem","LobbyPlayTypeList","LobbyRankItem","LobbyRankList","LobbyTopPanel","NoticeButLayer","NoticeSystem","Panel_Notice","CommandConst","HttpConst","test","MathUtils","Point2DUtils","base64","AllResultLayer","BaseLayer","ChatLayer","ClockObj","DataNotify","DismissRoomLayer","GameSetLayer","LayerMask","LoadingLayer","LoadingPrefab","LobbyBaseLayer","MsgBox","MsgBoxLayer","NewScript","NewhandReward","PersonRealNameMsgBoxLayout","PlayerUI","PolygonMask","RepeatConnectLayer","RoomListItem","RoomListLayer","RoundRectMask","RuningNotice","SpriteArray","SpriteButton","TimeLabel","TimeNode","TipLayer","ToggleButton","TuoGuanLayer","UiShowWords","slider","OfficialHotUpdate","UpdateApkNode","EventEmiter","PoolMgr","ResMgr","StorageMgr"]);